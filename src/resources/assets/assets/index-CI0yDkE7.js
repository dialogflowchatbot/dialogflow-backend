var aN=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Ude=aN((Rr,$r)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xv(r,e){const n=new Set(r.split(","));return e?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Xt={},Fa=[],un=()=>{},cN=()=>!1,yp=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),Ev=r=>r.startsWith("onUpdate:"),hn=Object.assign,Tv=(r,e)=>{const n=r.indexOf(e);n>-1&&r.splice(n,1)},uN=Object.prototype.hasOwnProperty,wt=(r,e)=>uN.call(r,e),Re=Array.isArray,Ba=r=>$d(r)==="[object Map]",wp=r=>$d(r)==="[object Set]",D0=r=>$d(r)==="[object Date]",qe=r=>typeof r=="function",ft=r=>typeof r=="string",Vo=r=>typeof r=="symbol",pt=r=>r!==null&&typeof r=="object",SE=r=>(pt(r)||qe(r))&&qe(r.then)&&qe(r.catch),xE=Object.prototype.toString,$d=r=>xE.call(r),eh=r=>$d(r).slice(8,-1),EE=r=>$d(r)==="[object Object]",_v=r=>ft(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Su=xv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cp=r=>{const e=Object.create(null);return n=>e[n]||(e[n]=r(n))},dN=/-(\w)/g,Ls=Cp(r=>r.replace(dN,(e,n)=>n?n.toUpperCase():"")),fN=/\B([A-Z])/g,Zi=Cp(r=>r.replace(fN,"-$1").toLowerCase()),Dd=Cp(r=>r.charAt(0).toUpperCase()+r.slice(1)),Ng=Cp(r=>r?`on${Dd(r)}`:""),Bi=(r,e)=>!Object.is(r,e),th=(r,e)=>{for(let n=0;n<r.length;n++)r[n](e)},TE=(r,e,n,s=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:s,value:n})},zm=r=>{const e=parseFloat(r);return isNaN(e)?r:e},hN=r=>{const e=ft(r)?Number(r):NaN;return isNaN(e)?r:e};let V0;const _E=()=>V0||(V0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vt(r){if(Re(r)){const e={};for(let n=0;n<r.length;n++){const s=r[n],o=ft(s)?bN(s):vt(s);if(o)for(const i in o)e[i]=o[i]}return e}else if(ft(r)||pt(r))return r}const pN=/;(?![^(]*\))/g,gN=/:([^]+)/,mN=/\/\*[^]*?\*\//g;function bN(r){const e={};return r.replace(mN,"").split(pN).forEach(n=>{if(n){const s=n.split(gN);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Y(r){let e="";if(ft(r))e=r;else if(Re(r))for(let n=0;n<r.length;n++){const s=Y(r[n]);s&&(e+=s+" ")}else if(pt(r))for(const n in r)r[n]&&(e+=n+" ");return e.trim()}const vN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yN=xv(vN);function OE(r){return!!r||r===""}function wN(r,e){if(r.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<r.length;s++)n=Ja(r[s],e[s]);return n}function Ja(r,e){if(r===e)return!0;let n=D0(r),s=D0(e);if(n||s)return n&&s?r.getTime()===e.getTime():!1;if(n=Vo(r),s=Vo(e),n||s)return r===e;if(n=Re(r),s=Re(e),n||s)return n&&s?wN(r,e):!1;if(n=pt(r),s=pt(e),n||s){if(!n||!s)return!1;const o=Object.keys(r).length,i=Object.keys(e).length;if(o!==i)return!1;for(const l in r){const a=r.hasOwnProperty(l),c=e.hasOwnProperty(l);if(a&&!c||!a&&c||!Ja(r[l],e[l]))return!1}}return String(r)===String(e)}function AE(r,e){return r.findIndex(n=>Ja(n,e))}const oe=r=>ft(r)?r:r==null?"":Re(r)||pt(r)&&(r.toString===xE||!qe(r.toString))?JSON.stringify(r,ME,2):String(r),ME=(r,e)=>e&&e.__v_isRef?ME(r,e.value):Ba(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,o],i)=>(n[Ig(s,i)+" =>"]=o,n),{})}:wp(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Ig(n))}:Vo(e)?Ig(e):pt(e)&&!Re(e)&&!EE(e)?String(e):e,Ig=(r,e="")=>{var n;return Vo(r)?`Symbol(${(n=r.description)!=null?n:e})`:r};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pr;class kE{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pr,!e&&Pr&&(this.index=(Pr.scopes||(Pr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Pr;try{return Pr=this,e()}finally{Pr=n}}}on(){Pr=this}off(){Pr=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function PE(r){return new kE(r)}function CN(r,e=Pr){e&&e.active&&e.effects.push(r)}function NE(){return Pr}function IE(r){Pr&&Pr.cleanups.push(r)}let zl;class Ov{constructor(e,n,s,o){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,CN(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Qi();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(SN(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),el()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Ri,n=zl;try{return Ri=!0,zl=this,this._runnings++,F0(this),this.fn()}finally{B0(this),this._runnings--,zl=n,Ri=e}}stop(){this.active&&(F0(this),B0(this),this.onStop&&this.onStop(),this.active=!1)}}function SN(r){return r.value}function F0(r){r._trackId++,r._depsLength=0}function B0(r){if(r.deps.length>r._depsLength){for(let e=r._depsLength;e<r.deps.length;e++)LE(r.deps[e],r);r.deps.length=r._depsLength}}function LE(r,e){const n=r.get(e);n!==void 0&&e._trackId!==n&&(r.delete(e),r.size===0&&r.cleanup())}let Ri=!0,jm=0;const RE=[];function Qi(){RE.push(Ri),Ri=!1}function el(){const r=RE.pop();Ri=r===void 0?!0:r}function Av(){jm++}function Mv(){for(jm--;!jm&&Hm.length;)Hm.shift()()}function $E(r,e,n){if(e.get(r)!==r._trackId){e.set(r,r._trackId);const s=r.deps[r._depsLength];s!==e?(s&&LE(s,r),r.deps[r._depsLength++]=e):r._depsLength++}}const Hm=[];function DE(r,e,n){Av();for(const s of r.keys()){let o;s._dirtyLevel<e&&(o??(o=r.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=e),s._shouldSchedule&&(o??(o=r.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&Hm.push(s.scheduler)))}Mv()}const VE=(r,e)=>{const n=new Map;return n.cleanup=r,n.computed=e,n},wh=new WeakMap,jl=Symbol(""),Um=Symbol("");function _r(r,e,n){if(Ri&&zl){let s=wh.get(r);s||wh.set(r,s=new Map);let o=s.get(n);o||s.set(n,o=VE(()=>s.delete(n))),$E(zl,o)}}function Lo(r,e,n,s,o,i){const l=wh.get(r);if(!l)return;let a=[];if(e==="clear")a=[...l.values()];else if(n==="length"&&Re(r)){const c=Number(s);l.forEach((u,d)=>{(d==="length"||!Vo(d)&&d>=c)&&a.push(u)})}else switch(n!==void 0&&a.push(l.get(n)),e){case"add":Re(r)?_v(n)&&a.push(l.get("length")):(a.push(l.get(jl)),Ba(r)&&a.push(l.get(Um)));break;case"delete":Re(r)||(a.push(l.get(jl)),Ba(r)&&a.push(l.get(Um)));break;case"set":Ba(r)&&a.push(l.get(jl));break}Av();for(const c of a)c&&DE(c,4);Mv()}function xN(r,e){const n=wh.get(r);return n&&n.get(e)}const EN=xv("__proto__,__v_isRef,__isVue"),FE=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Vo)),z0=TN();function TN(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...n){const s=Mt(this);for(let i=0,l=this.length;i<l;i++)_r(s,"get",i+"");const o=s[e](...n);return o===-1||o===!1?s[e](...n.map(Mt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...n){Qi(),Av();const s=Mt(this)[e].apply(this,n);return Mv(),el(),s}}),r}function _N(r){Vo(r)||(r=String(r));const e=Mt(this);return _r(e,"has",r),e.hasOwnProperty(r)}class BE{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(o?i?FN:UE:i?HE:jE).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const l=Re(e);if(!o){if(l&&wt(z0,n))return Reflect.get(z0,n,s);if(n==="hasOwnProperty")return _N}const a=Reflect.get(e,n,s);return(Vo(n)?FE.has(n):EN(n))||(o||_r(e,"get",n),i)?a:qt(a)?l&&_v(n)?a:a.value:pt(a)?o?Vd(a):St(a):a}}class zE extends BE{constructor(e=!1){super(!1,e)}set(e,n,s,o){let i=e[n];if(!this._isShallow){const c=Xu(i);if(!Ch(s)&&!Xu(s)&&(i=Mt(i),s=Mt(s)),!Re(e)&&qt(i)&&!qt(s))return c?!1:(i.value=s,!0)}const l=Re(e)&&_v(n)?Number(n)<e.length:wt(e,n),a=Reflect.set(e,n,s,o);return e===Mt(o)&&(l?Bi(s,i)&&Lo(e,"set",n,s):Lo(e,"add",n,s)),a}deleteProperty(e,n){const s=wt(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&s&&Lo(e,"delete",n,void 0),o}has(e,n){const s=Reflect.has(e,n);return(!Vo(n)||!FE.has(n))&&_r(e,"has",n),s}ownKeys(e){return _r(e,"iterate",Re(e)?"length":jl),Reflect.ownKeys(e)}}class ON extends BE{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const AN=new zE,MN=new ON,kN=new zE(!0),kv=r=>r,Sp=r=>Reflect.getPrototypeOf(r);function vf(r,e,n=!1,s=!1){r=r.__v_raw;const o=Mt(r),i=Mt(e);n||(Bi(e,i)&&_r(o,"get",e),_r(o,"get",i));const{has:l}=Sp(o),a=s?kv:n?Lv:Qu;if(l.call(o,e))return a(r.get(e));if(l.call(o,i))return a(r.get(i));r!==o&&r.get(e)}function yf(r,e=!1){const n=this.__v_raw,s=Mt(n),o=Mt(r);return e||(Bi(r,o)&&_r(s,"has",r),_r(s,"has",o)),r===o?n.has(r):n.has(r)||n.has(o)}function wf(r,e=!1){return r=r.__v_raw,!e&&_r(Mt(r),"iterate",jl),Reflect.get(r,"size",r)}function j0(r){r=Mt(r);const e=Mt(this);return Sp(e).has.call(e,r)||(e.add(r),Lo(e,"add",r,r)),this}function H0(r,e){e=Mt(e);const n=Mt(this),{has:s,get:o}=Sp(n);let i=s.call(n,r);i||(r=Mt(r),i=s.call(n,r));const l=o.call(n,r);return n.set(r,e),i?Bi(e,l)&&Lo(n,"set",r,e):Lo(n,"add",r,e),this}function U0(r){const e=Mt(this),{has:n,get:s}=Sp(e);let o=n.call(e,r);o||(r=Mt(r),o=n.call(e,r)),s&&s.call(e,r);const i=e.delete(r);return o&&Lo(e,"delete",r,void 0),i}function W0(){const r=Mt(this),e=r.size!==0,n=r.clear();return e&&Lo(r,"clear",void 0,void 0),n}function Cf(r,e){return function(s,o){const i=this,l=i.__v_raw,a=Mt(l),c=e?kv:r?Lv:Qu;return!r&&_r(a,"iterate",jl),l.forEach((u,d)=>s.call(o,c(u),c(d),i))}}function Sf(r,e,n){return function(...s){const o=this.__v_raw,i=Mt(o),l=Ba(i),a=r==="entries"||r===Symbol.iterator&&l,c=r==="keys"&&l,u=o[r](...s),d=n?kv:e?Lv:Qu;return!e&&_r(i,"iterate",c?Um:jl),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function oi(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function PN(){const r={get(i){return vf(this,i)},get size(){return wf(this)},has:yf,add:j0,set:H0,delete:U0,clear:W0,forEach:Cf(!1,!1)},e={get(i){return vf(this,i,!1,!0)},get size(){return wf(this)},has:yf,add:j0,set:H0,delete:U0,clear:W0,forEach:Cf(!1,!0)},n={get(i){return vf(this,i,!0)},get size(){return wf(this,!0)},has(i){return yf.call(this,i,!0)},add:oi("add"),set:oi("set"),delete:oi("delete"),clear:oi("clear"),forEach:Cf(!0,!1)},s={get(i){return vf(this,i,!0,!0)},get size(){return wf(this,!0)},has(i){return yf.call(this,i,!0)},add:oi("add"),set:oi("set"),delete:oi("delete"),clear:oi("clear"),forEach:Cf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Sf(i,!1,!1),n[i]=Sf(i,!0,!1),e[i]=Sf(i,!1,!0),s[i]=Sf(i,!0,!0)}),[r,n,e,s]}const[NN,IN,LN,RN]=PN();function Pv(r,e){const n=e?r?RN:LN:r?IN:NN;return(s,o,i)=>o==="__v_isReactive"?!r:o==="__v_isReadonly"?r:o==="__v_raw"?s:Reflect.get(wt(n,o)&&o in s?n:s,o,i)}const $N={get:Pv(!1,!1)},DN={get:Pv(!1,!0)},VN={get:Pv(!0,!1)},jE=new WeakMap,HE=new WeakMap,UE=new WeakMap,FN=new WeakMap;function BN(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zN(r){return r.__v_skip||!Object.isExtensible(r)?0:BN(eh(r))}function St(r){return Xu(r)?r:Iv(r,!1,AN,$N,jE)}function Nv(r){return Iv(r,!1,kN,DN,HE)}function Vd(r){return Iv(r,!0,MN,VN,UE)}function Iv(r,e,n,s,o){if(!pt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const i=o.get(r);if(i)return i;const l=zN(r);if(l===0)return r;const a=new Proxy(r,l===2?s:n);return o.set(r,a),a}function xu(r){return Xu(r)?xu(r.__v_raw):!!(r&&r.__v_isReactive)}function Xu(r){return!!(r&&r.__v_isReadonly)}function Ch(r){return!!(r&&r.__v_isShallow)}function WE(r){return r?!!r.__v_raw:!1}function Mt(r){const e=r&&r.__v_raw;return e?Mt(e):r}function Zu(r){return Object.isExtensible(r)&&TE(r,"__v_skip",!0),r}const Qu=r=>pt(r)?St(r):r,Lv=r=>pt(r)?Vd(r):r;class qE{constructor(e,n,s,o){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ov(()=>e(this._value),()=>Eu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const e=Mt(this);return(!e._cacheable||e.effect.dirty)&&Bi(e._value,e._value=e.effect.run())&&Eu(e,4),Rv(e),e.effect._dirtyLevel>=2&&Eu(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function jN(r,e,n=!1){let s,o;const i=qe(r);return i?(s=r,o=un):(s=r.get,o=r.set),new qE(s,o,i||!o,n)}function Rv(r){var e;Ri&&zl&&(r=Mt(r),$E(zl,(e=r.dep)!=null?e:r.dep=VE(()=>r.dep=void 0,r instanceof qE?r:void 0)))}function Eu(r,e=4,n){r=Mt(r);const s=r.dep;s&&DE(s,e)}function qt(r){return!!(r&&r.__v_isRef===!0)}function j(r){return GE(r,!1)}function Ms(r){return GE(r,!0)}function GE(r,e){return qt(r)?r:new HN(r,e)}class HN{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Mt(e),this._value=n?e:Qu(e)}get value(){return Rv(this),this._value}set value(e){const n=this.__v_isShallow||Ch(e)||Xu(e);e=n?e:Mt(e),Bi(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Qu(e),Eu(this,4))}}function S(r){return qt(r)?r.value:r}const UN={get:(r,e,n)=>S(Reflect.get(r,e,n)),set:(r,e,n,s)=>{const o=r[e];return qt(o)&&!qt(n)?(o.value=n,!0):Reflect.set(r,e,n,s)}};function KE(r){return xu(r)?r:new Proxy(r,UN)}class WN{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=e(()=>Rv(this),()=>Eu(this));this._get=n,this._set=s}get value(){return this._get()}set value(e){this._set(e)}}function qN(r){return new WN(r)}function Uo(r){const e=Re(r)?new Array(r.length):{};for(const n in r)e[n]=YE(r,n);return e}class GN{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return xN(Mt(this._object),this._key)}}class KN{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Es(r,e,n){return qt(r)?r:qe(r)?new KN(r):pt(r)&&arguments.length>1?YE(r,e,n):j(r)}function YE(r,e,n){const s=r[e];return qt(s)?s:new GN(r,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $i(r,e,n,s){try{return s?r(...s):r()}catch(o){xp(o,e,n)}}function ts(r,e,n,s){if(qe(r)){const o=$i(r,e,n,s);return o&&SE(o)&&o.catch(i=>{xp(i,e,n)}),o}if(Re(r)){const o=[];for(let i=0;i<r.length;i++)o.push(ts(r[i],e,n,s));return o}}function xp(r,e,n,s=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const l=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](r,l,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Qi(),$i(c,null,10,[r,l,a]),el();return}}}let ed=!1,Wm=!1;const er=[];let Js=0;const za=[];let mi=null,Tl=0;const JE=Promise.resolve();let $v=null;function tt(r){const e=$v||JE;return r?e.then(this?r.bind(this):r):e}function YN(r){let e=Js+1,n=er.length;for(;e<n;){const s=e+n>>>1,o=er[s],i=td(o);i<r||i===r&&o.pre?e=s+1:n=s}return e}function Dv(r){(!er.length||!er.includes(r,ed&&r.allowRecurse?Js+1:Js))&&(r.id==null?er.push(r):er.splice(YN(r.id),0,r),XE())}function XE(){!ed&&!Wm&&(Wm=!0,$v=JE.then(QE))}function JN(r){const e=er.indexOf(r);e>Js&&er.splice(e,1)}function XN(r){Re(r)?za.push(...r):(!mi||!mi.includes(r,r.allowRecurse?Tl+1:Tl))&&za.push(r),XE()}function q0(r,e,n=ed?Js+1:0){for(;n<er.length;n++){const s=er[n];if(s&&s.pre){if(r&&s.id!==r.uid)continue;er.splice(n,1),n--,s()}}}function ZE(r){if(za.length){const e=[...new Set(za)].sort((n,s)=>td(n)-td(s));if(za.length=0,mi){mi.push(...e);return}for(mi=e,Tl=0;Tl<mi.length;Tl++)mi[Tl]();mi=null,Tl=0}}const td=r=>r.id==null?1/0:r.id,ZN=(r,e)=>{const n=td(r)-td(e);if(n===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return n};function QE(r){Wm=!1,ed=!0,er.sort(ZN);try{for(Js=0;Js<er.length;Js++){const e=er[Js];e&&e.active!==!1&&$i(e,null,14)}}finally{Js=0,er.length=0,ZE(),ed=!1,$v=null,(er.length||za.length)&&QE()}}function QN(r,e,...n){if(r.isUnmounted)return;const s=r.vnode.props||Xt;let o=n;const i=e.startsWith("update:"),l=i&&e.slice(7);if(l&&l in s){const d=`${l==="modelValue"?"model":l}Modifiers`,{number:f,trim:h}=s[d]||Xt;h&&(o=n.map(p=>ft(p)?p.trim():p)),f&&(o=n.map(zm))}let a,c=s[a=Ng(e)]||s[a=Ng(Ls(e))];!c&&i&&(c=s[a=Ng(Zi(e))]),c&&ts(c,r,6,o);const u=s[a+"Once"];if(u){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,ts(u,r,6,o)}}function eT(r,e,n=!1){const s=e.emitsCache,o=s.get(r);if(o!==void 0)return o;const i=r.emits;let l={},a=!1;if(!qe(r)){const c=u=>{const d=eT(u,e,!0);d&&(a=!0,hn(l,d))};!n&&e.mixins.length&&e.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}return!i&&!a?(pt(r)&&s.set(r,null),null):(Re(i)?i.forEach(c=>l[c]=null):hn(l,i),pt(r)&&s.set(r,l),l)}function Ep(r,e){return!r||!yp(e)?!1:(e=e.slice(2).replace(/Once$/,""),wt(r,e[0].toLowerCase()+e.slice(1))||wt(r,Zi(e))||wt(r,e))}let On=null,Tp=null;function Sh(r){const e=On;return On=r,Tp=r&&r.type.__scopeId||null,e}function Fd(r){Tp=r}function Bd(){Tp=null}function O(r,e=On,n){if(!e||r._n)return r;const s=(...o)=>{s._d&&i1(-1);const i=Sh(e);let l;try{l=r(...o)}finally{Sh(i),s._d&&i1(1)}return l};return s._n=!0,s._c=!0,s._d=!0,s}function Lg(r){const{type:e,vnode:n,proxy:s,withProxy:o,propsOptions:[i],slots:l,attrs:a,emit:c,render:u,renderCache:d,props:f,data:h,setupState:p,ctx:g,inheritAttrs:m}=r,v=Sh(r);let b,C;try{if(n.shapeFlag&4){const w=o||s,x=w;b=Ks(u.call(x,w,d,f,p,h,g)),C=a}else{const w=e;b=Ks(w.length>1?w(f,{attrs:a,slots:l,emit:c}):w(f,null)),C=e.props?a:eI(a)}}catch(w){Mu.length=0,xp(w,r,1),b=T(rr)}let y=b;if(C&&m!==!1){const w=Object.keys(C),{shapeFlag:x}=y;w.length&&x&7&&(i&&w.some(Ev)&&(C=tI(C,i)),y=Fo(y,C,!1,!0))}return n.dirs&&(y=Fo(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),b=y,Sh(v),b}const eI=r=>{let e;for(const n in r)(n==="class"||n==="style"||yp(n))&&((e||(e={}))[n]=r[n]);return e},tI=(r,e)=>{const n={};for(const s in r)(!Ev(s)||!(s.slice(9)in e))&&(n[s]=r[s]);return n};function nI(r,e,n){const{props:s,children:o,component:i}=r,{props:l,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?G0(s,l,u):!!l;if(c&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(l[h]!==s[h]&&!Ep(u,h))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:s===l?!1:s?l?G0(s,l,u):!0:!!l;return!1}function G0(r,e,n){const s=Object.keys(e);if(s.length!==Object.keys(r).length)return!0;for(let o=0;o<s.length;o++){const i=s[o];if(e[i]!==r[i]&&!Ep(n,i))return!0}return!1}function rI({vnode:r,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===r&&(s.el=r.el),s===r)(r=e.vnode).el=n,e=e.parent;else break}}const Vv="components",sI="directives";function Pt(r,e){return Bv(Vv,r,!0,e)||r}const tT=Symbol.for("v-ndc");function Ft(r){return ft(r)?Bv(Vv,r,!1)||r:r||tT}function Fv(r){return Bv(sI,r)}function Bv(r,e,n=!0,s=!1){const o=On||Gn;if(o){const i=o.type;if(r===Vv){const a=YI(i,!1);if(a&&(a===e||a===Ls(e)||a===Dd(Ls(e))))return i}const l=K0(o[r]||i[r],e)||K0(o.appContext[r],e);return!l&&s?i:l}}function K0(r,e){return r&&(r[e]||r[Ls(e)]||r[Dd(Ls(e))])}const oI=r=>r.__isSuspense;function iI(r,e){e&&e.pendingBranch?Re(r)?e.effects.push(...r):e.effects.push(r):XN(r)}const lI=Symbol.for("v-scx"),aI=()=>Ve(lI);function to(r,e){return zv(r,null,e)}const xf={};function $e(r,e,n){return zv(r,e,n)}function zv(r,e,{immediate:n,deep:s,flush:o,once:i,onTrack:l,onTrigger:a}=Xt){if(e&&i){const E=e;e=(..._)=>{E(..._),x()}}const c=Gn,u=E=>s===!0?E:Nl(E,s===!1?1:void 0);let d,f=!1,h=!1;if(qt(r)?(d=()=>r.value,f=Ch(r)):xu(r)?(d=()=>u(r),f=!0):Re(r)?(h=!0,f=r.some(E=>xu(E)||Ch(E)),d=()=>r.map(E=>{if(qt(E))return E.value;if(xu(E))return u(E);if(qe(E))return $i(E,c,2)})):qe(r)?e?d=()=>$i(r,c,2):d=()=>(p&&p(),ts(r,c,3,[g])):d=un,e&&s){const E=d;d=()=>Nl(E())}let p,g=E=>{p=y.onStop=()=>{$i(E,c,4),p=y.onStop=void 0}},m;if(Ap)if(g=un,e?n&&ts(e,c,3,[d(),h?[]:void 0,g]):d(),o==="sync"){const E=aI();m=E.__watcherHandles||(E.__watcherHandles=[])}else return un;let v=h?new Array(r.length).fill(xf):xf;const b=()=>{if(!(!y.active||!y.dirty))if(e){const E=y.run();(s||f||(h?E.some((_,M)=>Bi(_,v[M])):Bi(E,v)))&&(p&&p(),ts(e,c,3,[E,v===xf?void 0:h&&v[0]===xf?[]:v,g]),v=E)}else y.run()};b.allowRecurse=!!e;let C;o==="sync"?C=b:o==="post"?C=()=>yr(b,c&&c.suspense):(b.pre=!0,c&&(b.id=c.uid),C=()=>Dv(b));const y=new Ov(d,un,C),w=NE(),x=()=>{y.stop(),w&&Tv(w.effects,y)};return e?n?b():v=y.run():o==="post"?yr(y.run.bind(y),c&&c.suspense):y.run(),m&&m.push(x),x}function cI(r,e,n){const s=this.proxy,o=ft(r)?r.includes(".")?nT(s,r):()=>s[r]:r.bind(s,s);let i;qe(e)?i=e:(i=e.handler,n=e);const l=jd(this),a=zv(o,i.bind(s),n);return l(),a}function nT(r,e){const n=e.split(".");return()=>{let s=r;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function Nl(r,e=1/0,n){if(e<=0||!pt(r)||r.__v_skip||(n=n||new Set,n.has(r)))return r;if(n.add(r),e--,qt(r))Nl(r.value,e,n);else if(Re(r))for(let s=0;s<r.length;s++)Nl(r[s],e,n);else if(wp(r)||Ba(r))r.forEach(s=>{Nl(s,e,n)});else if(EE(r))for(const s in r)Nl(r[s],e,n);return r}function Ue(r,e){if(On===null)return r;const n=Mp(On)||On.proxy,s=r.dirs||(r.dirs=[]);for(let o=0;o<e.length;o++){let[i,l,a,c=Xt]=e[o];i&&(qe(i)&&(i={mounted:i,updated:i}),i.deep&&Nl(l),s.push({dir:i,instance:n,value:l,oldValue:void 0,arg:a,modifiers:c}))}return r}function gl(r,e,n,s){const o=r.dirs,i=e&&e.dirs;for(let l=0;l<o.length;l++){const a=o[l];i&&(a.oldValue=i[l].value);let c=a.dir[s];c&&(Qi(),ts(c,n,8,[r.el,a,r,e]),el())}}const bi=Symbol("_leaveCb"),Ef=Symbol("_enterCb");function rT(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nt(()=>{r.isMounted=!0}),Cn(()=>{r.isUnmounting=!0}),r}const Hr=[Function,Array],sT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hr,onEnter:Hr,onAfterEnter:Hr,onEnterCancelled:Hr,onBeforeLeave:Hr,onLeave:Hr,onAfterLeave:Hr,onLeaveCancelled:Hr,onBeforeAppear:Hr,onAppear:Hr,onAfterAppear:Hr,onAppearCancelled:Hr},uI={name:"BaseTransition",props:sT,setup(r,{slots:e}){const n=bt(),s=rT();return()=>{const o=e.default&&jv(e.default(),!0);if(!o||!o.length)return;let i=o[0];if(o.length>1){for(const h of o)if(h.type!==rr){i=h;break}}const l=Mt(r),{mode:a}=l;if(s.isLeaving)return Rg(i);const c=Y0(i);if(!c)return Rg(i);const u=nd(c,l,s,n);rd(c,u);const d=n.subTree,f=d&&Y0(d);if(f&&f.type!==rr&&!_l(c,f)){const h=nd(f,l,s,n);if(rd(f,h),a==="out-in"&&c.type!==rr)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Rg(i);a==="in-out"&&c.type!==rr&&(h.delayLeave=(p,g,m)=>{const v=oT(s,f);v[String(f.key)]=f,p[bi]=()=>{g(),p[bi]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return i}}},dI=uI;function oT(r,e){const{leavingVNodes:n}=r;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function nd(r,e,n,s){const{appear:o,mode:i,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:v,onAfterAppear:b,onAppearCancelled:C}=e,y=String(r.key),w=oT(n,r),x=(M,A)=>{M&&ts(M,s,9,A)},E=(M,A)=>{const k=A[1];x(M,A),Re(M)?M.every(P=>P.length<=1)&&k():M.length<=1&&k()},_={mode:i,persisted:l,beforeEnter(M){let A=a;if(!n.isMounted)if(o)A=m||a;else return;M[bi]&&M[bi](!0);const k=w[y];k&&_l(r,k)&&k.el[bi]&&k.el[bi](),x(A,[M])},enter(M){let A=c,k=u,P=d;if(!n.isMounted)if(o)A=v||c,k=b||u,P=C||d;else return;let $=!1;const B=M[Ef]=W=>{$||($=!0,W?x(P,[M]):x(k,[M]),_.delayedLeave&&_.delayedLeave(),M[Ef]=void 0)};A?E(A,[M,B]):B()},leave(M,A){const k=String(r.key);if(M[Ef]&&M[Ef](!0),n.isUnmounting)return A();x(f,[M]);let P=!1;const $=M[bi]=B=>{P||(P=!0,A(),B?x(g,[M]):x(p,[M]),M[bi]=void 0,w[k]===r&&delete w[k])};w[k]=r,h?E(h,[M,$]):$()},clone(M){return nd(M,e,n,s)}};return _}function Rg(r){if(_p(r))return r=Fo(r),r.children=null,r}function Y0(r){if(!_p(r))return r;const{shapeFlag:e,children:n}=r;if(n){if(e&16)return n[0];if(e&32&&qe(n.default))return n.default()}}function rd(r,e){r.shapeFlag&6&&r.component?rd(r.component.subTree,e):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function jv(r,e=!1,n){let s=[],o=0;for(let i=0;i<r.length;i++){let l=r[i];const a=n==null?l.key:String(n)+String(l.key!=null?l.key:i);l.type===De?(l.patchFlag&128&&o++,s=s.concat(jv(l.children,e,a))):(e||l.type!==rr)&&s.push(a!=null?Fo(l,{key:a}):l)}if(o>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function pe(r,e){return qe(r)?hn({name:r.name},e,{setup:r}):r}const Tu=r=>!!r.type.__asyncLoader,_p=r=>r.type.__isKeepAlive;function fI(r,e){lT(r,"a",e)}function iT(r,e){lT(r,"da",e)}function lT(r,e,n=Gn){const s=r.__wdc||(r.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return r()});if(Op(e,s,n),n){let o=n.parent;for(;o&&o.parent;)_p(o.parent.vnode)&&hI(s,e,n,o),o=o.parent}}function hI(r,e,n,s){const o=Op(e,r,s,!0);qo(()=>{Tv(s[e],o)},n)}function Op(r,e,n=Gn,s=!1){if(n){const o=n[r]||(n[r]=[]),i=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;Qi();const a=jd(n),c=ts(e,n,r,l);return a(),el(),c});return s?o.unshift(i):o.push(i),i}}const Wo=r=>(e,n=Gn)=>(!Ap||r==="sp")&&Op(r,(...s)=>e(...s),n),zd=Wo("bm"),nt=Wo("m"),pI=Wo("bu"),ua=Wo("u"),Cn=Wo("bum"),qo=Wo("um"),gI=Wo("sp"),mI=Wo("rtg"),bI=Wo("rtc");function vI(r,e=Gn){Op("ec",r,e)}function Ot(r,e,n,s){let o;const i=n&&n[s];if(Re(r)||ft(r)){o=new Array(r.length);for(let l=0,a=r.length;l<a;l++)o[l]=e(r[l],l,void 0,i&&i[l])}else if(typeof r=="number"){o=new Array(r);for(let l=0;l<r;l++)o[l]=e(l+1,l,void 0,i&&i[l])}else if(pt(r))if(r[Symbol.iterator])o=Array.from(r,(l,a)=>e(l,a,void 0,i&&i[a]));else{const l=Object.keys(r);o=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];o[a]=e(r[u],u,a,i&&i[a])}}else o=[];return n&&(n[s]=o),o}function yI(r,e){for(let n=0;n<e.length;n++){const s=e[n];if(Re(s))for(let o=0;o<s.length;o++)r[s[o].name]=s[o].fn;else s&&(r[s.name]=s.key?(...o)=>{const i=s.fn(...o);return i&&(i.key=s.key),i}:s.fn)}return r}function _e(r,e,n={},s,o){if(On.isCE||On.parent&&Tu(On.parent)&&On.parent.isCE)return e!=="default"&&(n.name=e),T("slot",n,s&&s());let i=r[e];i&&i._c&&(i._d=!1),N();const l=i&&aT(i(n)),a=ye(De,{key:n.key||l&&l.key||`_${e}`},l||(s?s():[]),l&&r._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function aT(r){return r.some(e=>Mn(e)?!(e.type===rr||e.type===De&&!aT(e.children)):!0)?r:null}const qm=r=>r?TT(r)?Mp(r)||r.proxy:qm(r.parent):null,_u=hn(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>qm(r.parent),$root:r=>qm(r.root),$emit:r=>r.emit,$options:r=>Hv(r),$forceUpdate:r=>r.f||(r.f=()=>{r.effect.dirty=!0,Dv(r.update)}),$nextTick:r=>r.n||(r.n=tt.bind(r.proxy)),$watch:r=>cI.bind(r)}),$g=(r,e)=>r!==Xt&&!r.__isScriptSetup&&wt(r,e),wI={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:i,accessCache:l,type:a,appContext:c}=r;let u;if(e[0]!=="$"){const p=l[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return o[e];case 4:return n[e];case 3:return i[e]}else{if($g(s,e))return l[e]=1,s[e];if(o!==Xt&&wt(o,e))return l[e]=2,o[e];if((u=r.propsOptions[0])&&wt(u,e))return l[e]=3,i[e];if(n!==Xt&&wt(n,e))return l[e]=4,n[e];Gm&&(l[e]=0)}}const d=_u[e];let f,h;if(d)return e==="$attrs"&&_r(r.attrs,"get",""),d(r);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Xt&&wt(n,e))return l[e]=4,n[e];if(h=c.config.globalProperties,wt(h,e))return h[e]},set({_:r},e,n){const{data:s,setupState:o,ctx:i}=r;return $g(o,e)?(o[e]=n,!0):s!==Xt&&wt(s,e)?(s[e]=n,!0):wt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(i[e]=n,!0)},has({_:{data:r,setupState:e,accessCache:n,ctx:s,appContext:o,propsOptions:i}},l){let a;return!!n[l]||r!==Xt&&wt(r,l)||$g(e,l)||(a=i[0])&&wt(a,l)||wt(s,l)||wt(_u,l)||wt(o.config.globalProperties,l)},defineProperty(r,e,n){return n.get!=null?r._.accessCache[e]=0:wt(n,"value")&&this.set(r,e,n.value,null),Reflect.defineProperty(r,e,n)}};function Bs(){return uT().slots}function cT(){return uT().attrs}function uT(){const r=bt();return r.setupContext||(r.setupContext=OT(r))}function J0(r){return Re(r)?r.reduce((e,n)=>(e[n]=null,e),{}):r}let Gm=!0;function CI(r){const e=Hv(r),n=r.proxy,s=r.ctx;Gm=!1,e.beforeCreate&&X0(e.beforeCreate,r,"bc");const{data:o,computed:i,methods:l,watch:a,provide:c,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:g,activated:m,deactivated:v,beforeDestroy:b,beforeUnmount:C,destroyed:y,unmounted:w,render:x,renderTracked:E,renderTriggered:_,errorCaptured:M,serverPrefetch:A,expose:k,inheritAttrs:P,components:$,directives:B,filters:W}=e;if(u&&SI(u,s,null),l)for(const U in l){const Q=l[U];qe(Q)&&(s[U]=Q.bind(n))}if(o){const U=o.call(n,n);pt(U)&&(r.data=St(U))}if(Gm=!0,i)for(const U in i){const Q=i[U],q=qe(Q)?Q.bind(n,n):qe(Q.get)?Q.get.bind(n,n):un,ee=!qe(Q)&&qe(Q.set)?Q.set.bind(n):un,de=z({get:q,set:ee});Object.defineProperty(s,U,{enumerable:!0,configurable:!0,get:()=>de.value,set:ce=>de.value=ce})}if(a)for(const U in a)dT(a[U],s,n,U);if(c){const U=qe(c)?c.call(n):c;Reflect.ownKeys(U).forEach(Q=>{Wt(Q,U[Q])})}d&&X0(d,r,"c");function R(U,Q){Re(Q)?Q.forEach(q=>U(q.bind(n))):Q&&U(Q.bind(n))}if(R(zd,f),R(nt,h),R(pI,p),R(ua,g),R(fI,m),R(iT,v),R(vI,M),R(bI,E),R(mI,_),R(Cn,C),R(qo,w),R(gI,A),Re(k))if(k.length){const U=r.exposed||(r.exposed={});k.forEach(Q=>{Object.defineProperty(U,Q,{get:()=>n[Q],set:q=>n[Q]=q})})}else r.exposed||(r.exposed={});x&&r.render===un&&(r.render=x),P!=null&&(r.inheritAttrs=P),$&&(r.components=$),B&&(r.directives=B)}function SI(r,e,n=un){Re(r)&&(r=Km(r));for(const s in r){const o=r[s];let i;pt(o)?"default"in o?i=Ve(o.from||s,o.default,!0):i=Ve(o.from||s):i=Ve(o),qt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):e[s]=i}}function X0(r,e,n){ts(Re(r)?r.map(s=>s.bind(e.proxy)):r.bind(e.proxy),e,n)}function dT(r,e,n,s){const o=s.includes(".")?nT(n,s):()=>n[s];if(ft(r)){const i=e[r];qe(i)&&$e(o,i)}else if(qe(r))$e(o,r.bind(n));else if(pt(r))if(Re(r))r.forEach(i=>dT(i,e,n,s));else{const i=qe(r.handler)?r.handler.bind(n):e[r.handler];qe(i)&&$e(o,i,r)}}function Hv(r){const e=r.type,{mixins:n,extends:s}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:l}}=r.appContext,a=i.get(e);let c;return a?c=a:!o.length&&!n&&!s?c=e:(c={},o.length&&o.forEach(u=>xh(c,u,l,!0)),xh(c,e,l)),pt(e)&&i.set(e,c),c}function xh(r,e,n,s=!1){const{mixins:o,extends:i}=e;i&&xh(r,i,n,!0),o&&o.forEach(l=>xh(r,l,n,!0));for(const l in e)if(!(s&&l==="expose")){const a=xI[l]||n&&n[l];r[l]=a?a(r[l],e[l]):e[l]}return r}const xI={data:Z0,props:Q0,emits:Q0,methods:gu,computed:gu,beforeCreate:cr,created:cr,beforeMount:cr,mounted:cr,beforeUpdate:cr,updated:cr,beforeDestroy:cr,beforeUnmount:cr,destroyed:cr,unmounted:cr,activated:cr,deactivated:cr,errorCaptured:cr,serverPrefetch:cr,components:gu,directives:gu,watch:TI,provide:Z0,inject:EI};function Z0(r,e){return e?r?function(){return hn(qe(r)?r.call(this,this):r,qe(e)?e.call(this,this):e)}:e:r}function EI(r,e){return gu(Km(r),Km(e))}function Km(r){if(Re(r)){const e={};for(let n=0;n<r.length;n++)e[r[n]]=r[n];return e}return r}function cr(r,e){return r?[...new Set([].concat(r,e))]:e}function gu(r,e){return r?hn(Object.create(null),r,e):e}function Q0(r,e){return r?Re(r)&&Re(e)?[...new Set([...r,...e])]:hn(Object.create(null),J0(r),J0(e??{})):e}function TI(r,e){if(!r)return e;if(!e)return r;const n=hn(Object.create(null),r);for(const s in e)n[s]=cr(r[s],e[s]);return n}function fT(){return{app:null,config:{isNativeTag:cN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _I=0;function OI(r,e){return function(s,o=null){qe(s)||(s=hn({},s)),o!=null&&!pt(o)&&(o=null);const i=fT(),l=new WeakSet;let a=!1;const c=i.app={_uid:_I++,_component:s,_props:o,_container:null,_context:i,_instance:null,version:XI,get config(){return i.config},set config(u){},use(u,...d){return l.has(u)||(u&&qe(u.install)?(l.add(u),u.install(c,...d)):qe(u)&&(l.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!a){const h=T(s,o);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),d&&e?e(h,u):r(h,u,f),a=!0,c._container=u,u.__vue_app__=c,Mp(h.component)||h.component.proxy}},unmount(){a&&(r(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Ou;Ou=c;try{return u()}finally{Ou=d}}};return c}}let Ou=null;function Wt(r,e){if(Gn){let n=Gn.provides;const s=Gn.parent&&Gn.parent.provides;s===n&&(n=Gn.provides=Object.create(s)),n[r]=e}}function Ve(r,e,n=!1){const s=Gn||On;if(s||Ou){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Ou._context.provides;if(o&&r in o)return o[r];if(arguments.length>1)return n&&qe(e)?e.call(s&&s.proxy):e}}const hT={},pT=()=>Object.create(hT),gT=r=>Object.getPrototypeOf(r)===hT;function AI(r,e,n,s=!1){const o={},i=pT();r.propsDefaults=Object.create(null),mT(r,e,o,i);for(const l in r.propsOptions[0])l in o||(o[l]=void 0);n?r.props=s?o:Nv(o):r.type.props?r.props=o:r.props=i,r.attrs=i}function MI(r,e,n,s){const{props:o,attrs:i,vnode:{patchFlag:l}}=r,a=Mt(o),[c]=r.propsOptions;let u=!1;if((s||l>0)&&!(l&16)){if(l&8){const d=r.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(Ep(r.emitsOptions,h))continue;const p=e[h];if(c)if(wt(i,h))p!==i[h]&&(i[h]=p,u=!0);else{const g=Ls(h);o[g]=Ym(c,a,g,p,r,!1)}else p!==i[h]&&(i[h]=p,u=!0)}}}else{mT(r,e,o,i)&&(u=!0);let d;for(const f in a)(!e||!wt(e,f)&&((d=Zi(f))===f||!wt(e,d)))&&(c?n&&(n[f]!==void 0||n[d]!==void 0)&&(o[f]=Ym(c,a,f,void 0,r,!0)):delete o[f]);if(i!==a)for(const f in i)(!e||!wt(e,f))&&(delete i[f],u=!0)}u&&Lo(r.attrs,"set","")}function mT(r,e,n,s){const[o,i]=r.propsOptions;let l=!1,a;if(e)for(let c in e){if(Su(c))continue;const u=e[c];let d;o&&wt(o,d=Ls(c))?!i||!i.includes(d)?n[d]=u:(a||(a={}))[d]=u:Ep(r.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,l=!0)}if(i){const c=Mt(n),u=a||Xt;for(let d=0;d<i.length;d++){const f=i[d];n[f]=Ym(o,c,f,u[f],r,!wt(u,f))}}return l}function Ym(r,e,n,s,o,i){const l=r[n];if(l!=null){const a=wt(l,"default");if(a&&s===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&qe(c)){const{propsDefaults:u}=o;if(n in u)s=u[n];else{const d=jd(o);s=u[n]=c.call(null,e),d()}}else s=c}l[0]&&(i&&!a?s=!1:l[1]&&(s===""||s===Zi(n))&&(s=!0))}return s}function bT(r,e,n=!1){const s=e.propsCache,o=s.get(r);if(o)return o;const i=r.props,l={},a=[];let c=!1;if(!qe(r)){const d=f=>{c=!0;const[h,p]=bT(f,e,!0);hn(l,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(d),r.extends&&d(r.extends),r.mixins&&r.mixins.forEach(d)}if(!i&&!c)return pt(r)&&s.set(r,Fa),Fa;if(Re(i))for(let d=0;d<i.length;d++){const f=Ls(i[d]);e1(f)&&(l[f]=Xt)}else if(i)for(const d in i){const f=Ls(d);if(e1(f)){const h=i[d],p=l[f]=Re(h)||qe(h)?{type:h}:hn({},h);if(p){const g=r1(Boolean,p.type),m=r1(String,p.type);p[0]=g>-1,p[1]=m<0||g<m,(g>-1||wt(p,"default"))&&a.push(f)}}}const u=[l,a];return pt(r)&&s.set(r,u),u}function e1(r){return r[0]!=="$"&&!Su(r)}function t1(r){return r===null?"null":typeof r=="function"?r.name||"":typeof r=="object"&&r.constructor&&r.constructor.name||""}function n1(r,e){return t1(r)===t1(e)}function r1(r,e){return Re(e)?e.findIndex(n=>n1(n,r)):qe(e)&&n1(e,r)?0:-1}const vT=r=>r[0]==="_"||r==="$stable",Uv=r=>Re(r)?r.map(Ks):[Ks(r)],kI=(r,e,n)=>{if(e._n)return e;const s=O((...o)=>Uv(e(...o)),n);return s._c=!1,s},yT=(r,e,n)=>{const s=r._ctx;for(const o in r){if(vT(o))continue;const i=r[o];if(qe(i))e[o]=kI(o,i,s);else if(i!=null){const l=Uv(i);e[o]=()=>l}}},wT=(r,e)=>{const n=Uv(e);r.slots.default=()=>n},PI=(r,e)=>{const n=r.slots=pT();if(r.vnode.shapeFlag&32){const s=e._;s?(hn(n,e),TE(n,"_",s,!0)):yT(e,n)}else e&&wT(r,e)},NI=(r,e,n)=>{const{vnode:s,slots:o}=r;let i=!0,l=Xt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(hn(o,e),!n&&a===1&&delete o._):(i=!e.$stable,yT(e,o)),l=e}else e&&(wT(r,e),l={default:1});if(i)for(const a in o)!vT(a)&&l[a]==null&&delete o[a]};function Jm(r,e,n,s,o=!1){if(Re(r)){r.forEach((h,p)=>Jm(h,e&&(Re(e)?e[p]:e),n,s,o));return}if(Tu(s)&&!o)return;const i=s.shapeFlag&4?Mp(s.component)||s.component.proxy:s.el,l=o?null:i,{i:a,r:c}=r,u=e&&e.r,d=a.refs===Xt?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==c&&(ft(u)?(d[u]=null,wt(f,u)&&(f[u]=null)):qt(u)&&(u.value=null)),qe(c))$i(c,a,12,[l,d]);else{const h=ft(c),p=qt(c);if(h||p){const g=()=>{if(r.f){const m=h?wt(f,c)?f[c]:d[c]:c.value;o?Re(m)&&Tv(m,i):Re(m)?m.includes(i)||m.push(i):h?(d[c]=[i],wt(f,c)&&(f[c]=d[c])):(c.value=[i],r.k&&(d[r.k]=c.value))}else h?(d[c]=l,wt(f,c)&&(f[c]=l)):p&&(c.value=l,r.k&&(d[r.k]=l))};l?(g.id=-1,yr(g,n)):g()}}}const yr=iI;function II(r){return LI(r)}function LI(r,e){const n=_E();n.__VUE__=!0;const{insert:s,remove:o,patchProp:i,createElement:l,createText:a,createComment:c,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=un,insertStaticContent:g}=r,m=(D,L,te,he=null,ge=null,Ce=null,xe=void 0,V=null,F=!!L.dynamicChildren)=>{if(D===L)return;D&&!_l(D,L)&&(he=G(D),ce(D,ge,Ce,!0),D=null),L.patchFlag===-2&&(F=!1,L.dynamicChildren=null);const{type:J,ref:ie,shapeFlag:Ae}=L;switch(J){case da:v(D,L,te,he);break;case rr:b(D,L,te,he);break;case Vg:D==null&&C(L,te,he,xe);break;case De:$(D,L,te,he,ge,Ce,xe,V,F);break;default:Ae&1?x(D,L,te,he,ge,Ce,xe,V,F):Ae&6?B(D,L,te,he,ge,Ce,xe,V,F):(Ae&64||Ae&128)&&J.process(D,L,te,he,ge,Ce,xe,V,F,me)}ie!=null&&ge&&Jm(ie,D&&D.ref,Ce,L||D,!L)},v=(D,L,te,he)=>{if(D==null)s(L.el=a(L.children),te,he);else{const ge=L.el=D.el;L.children!==D.children&&u(ge,L.children)}},b=(D,L,te,he)=>{D==null?s(L.el=c(L.children||""),te,he):L.el=D.el},C=(D,L,te,he)=>{[D.el,D.anchor]=g(D.children,L,te,he,D.el,D.anchor)},y=({el:D,anchor:L},te,he)=>{let ge;for(;D&&D!==L;)ge=h(D),s(D,te,he),D=ge;s(L,te,he)},w=({el:D,anchor:L})=>{let te;for(;D&&D!==L;)te=h(D),o(D),D=te;o(L)},x=(D,L,te,he,ge,Ce,xe,V,F)=>{L.type==="svg"?xe="svg":L.type==="math"&&(xe="mathml"),D==null?E(L,te,he,ge,Ce,xe,V,F):A(D,L,ge,Ce,xe,V,F)},E=(D,L,te,he,ge,Ce,xe,V)=>{let F,J;const{props:ie,shapeFlag:Ae,transition:re,dirs:Z}=D;if(F=D.el=l(D.type,Ce,ie&&ie.is,ie),Ae&8?d(F,D.children):Ae&16&&M(D.children,F,null,he,ge,Dg(D,Ce),xe,V),Z&&gl(D,null,he,"created"),_(F,D,D.scopeId,xe,he),ie){for(const je in ie)je!=="value"&&!Su(je)&&i(F,je,null,ie[je],Ce,D.children,he,ge,Ee);"value"in ie&&i(F,"value",null,ie.value,Ce),(J=ie.onVnodeBeforeMount)&&qs(J,he,D)}Z&&gl(D,null,he,"beforeMount");const ae=RI(ge,re);ae&&re.beforeEnter(F),s(F,L,te),((J=ie&&ie.onVnodeMounted)||ae||Z)&&yr(()=>{J&&qs(J,he,D),ae&&re.enter(F),Z&&gl(D,null,he,"mounted")},ge)},_=(D,L,te,he,ge)=>{if(te&&p(D,te),he)for(let Ce=0;Ce<he.length;Ce++)p(D,he[Ce]);if(ge){let Ce=ge.subTree;if(L===Ce){const xe=ge.vnode;_(D,xe,xe.scopeId,xe.slotScopeIds,ge.parent)}}},M=(D,L,te,he,ge,Ce,xe,V,F=0)=>{for(let J=F;J<D.length;J++){const ie=D[J]=V?vi(D[J]):Ks(D[J]);m(null,ie,L,te,he,ge,Ce,xe,V)}},A=(D,L,te,he,ge,Ce,xe)=>{const V=L.el=D.el;let{patchFlag:F,dynamicChildren:J,dirs:ie}=L;F|=D.patchFlag&16;const Ae=D.props||Xt,re=L.props||Xt;let Z;if(te&&ml(te,!1),(Z=re.onVnodeBeforeUpdate)&&qs(Z,te,L,D),ie&&gl(L,D,te,"beforeUpdate"),te&&ml(te,!0),J?k(D.dynamicChildren,J,V,te,he,Dg(L,ge),Ce):xe||Q(D,L,V,null,te,he,Dg(L,ge),Ce,!1),F>0){if(F&16)P(V,L,Ae,re,te,he,ge);else if(F&2&&Ae.class!==re.class&&i(V,"class",null,re.class,ge),F&4&&i(V,"style",Ae.style,re.style,ge),F&8){const ae=L.dynamicProps;for(let je=0;je<ae.length;je++){const Qe=ae[je],Me=Ae[Qe],ke=re[Qe];(ke!==Me||Qe==="value")&&i(V,Qe,Me,ke,ge,D.children,te,he,Ee)}}F&1&&D.children!==L.children&&d(V,L.children)}else!xe&&J==null&&P(V,L,Ae,re,te,he,ge);((Z=re.onVnodeUpdated)||ie)&&yr(()=>{Z&&qs(Z,te,L,D),ie&&gl(L,D,te,"updated")},he)},k=(D,L,te,he,ge,Ce,xe)=>{for(let V=0;V<L.length;V++){const F=D[V],J=L[V],ie=F.el&&(F.type===De||!_l(F,J)||F.shapeFlag&70)?f(F.el):te;m(F,J,ie,null,he,ge,Ce,xe,!0)}},P=(D,L,te,he,ge,Ce,xe)=>{if(te!==he){if(te!==Xt)for(const V in te)!Su(V)&&!(V in he)&&i(D,V,te[V],null,xe,L.children,ge,Ce,Ee);for(const V in he){if(Su(V))continue;const F=he[V],J=te[V];F!==J&&V!=="value"&&i(D,V,J,F,xe,L.children,ge,Ce,Ee)}"value"in he&&i(D,"value",te.value,he.value,xe)}},$=(D,L,te,he,ge,Ce,xe,V,F)=>{const J=L.el=D?D.el:a(""),ie=L.anchor=D?D.anchor:a("");let{patchFlag:Ae,dynamicChildren:re,slotScopeIds:Z}=L;Z&&(V=V?V.concat(Z):Z),D==null?(s(J,te,he),s(ie,te,he),M(L.children||[],te,ie,ge,Ce,xe,V,F)):Ae>0&&Ae&64&&re&&D.dynamicChildren?(k(D.dynamicChildren,re,te,ge,Ce,xe,V),(L.key!=null||ge&&L===ge.subTree)&&Wv(D,L,!0)):Q(D,L,te,ie,ge,Ce,xe,V,F)},B=(D,L,te,he,ge,Ce,xe,V,F)=>{L.slotScopeIds=V,D==null?L.shapeFlag&512?ge.ctx.activate(L,te,he,xe,F):W(L,te,he,ge,Ce,xe,F):I(D,L,F)},W=(D,L,te,he,ge,Ce,xe)=>{const V=D.component=WI(D,he,ge);if(_p(D)&&(V.ctx.renderer=me),qI(V),V.asyncDep){if(ge&&ge.registerDep(V,R),!D.el){const F=V.subTree=T(rr);b(null,F,L,te)}}else R(V,D,L,te,ge,Ce,xe)},I=(D,L,te)=>{const he=L.component=D.component;if(nI(D,L,te))if(he.asyncDep&&!he.asyncResolved){U(he,L,te);return}else he.next=L,JN(he.update),he.effect.dirty=!0,he.update();else L.el=D.el,he.vnode=L},R=(D,L,te,he,ge,Ce,xe)=>{const V=()=>{if(D.isMounted){let{next:ie,bu:Ae,u:re,parent:Z,vnode:ae}=D;{const Je=CT(D);if(Je){ie&&(ie.el=ae.el,U(D,ie,xe)),Je.asyncDep.then(()=>{D.isUnmounted||V()});return}}let je=ie,Qe;ml(D,!1),ie?(ie.el=ae.el,U(D,ie,xe)):ie=ae,Ae&&th(Ae),(Qe=ie.props&&ie.props.onVnodeBeforeUpdate)&&qs(Qe,Z,ie,ae),ml(D,!0);const Me=Lg(D),ke=D.subTree;D.subTree=Me,m(ke,Me,f(ke.el),G(ke),D,ge,Ce),ie.el=Me.el,je===null&&rI(D,Me.el),re&&yr(re,ge),(Qe=ie.props&&ie.props.onVnodeUpdated)&&yr(()=>qs(Qe,Z,ie,ae),ge)}else{let ie;const{el:Ae,props:re}=L,{bm:Z,m:ae,parent:je}=D,Qe=Tu(L);if(ml(D,!1),Z&&th(Z),!Qe&&(ie=re&&re.onVnodeBeforeMount)&&qs(ie,je,L),ml(D,!0),Ae&&Se){const Me=()=>{D.subTree=Lg(D),Se(Ae,D.subTree,D,ge,null)};Qe?L.type.__asyncLoader().then(()=>!D.isUnmounted&&Me()):Me()}else{const Me=D.subTree=Lg(D);m(null,Me,te,he,D,ge,Ce),L.el=Me.el}if(ae&&yr(ae,ge),!Qe&&(ie=re&&re.onVnodeMounted)){const Me=L;yr(()=>qs(ie,je,Me),ge)}(L.shapeFlag&256||je&&Tu(je.vnode)&&je.vnode.shapeFlag&256)&&D.a&&yr(D.a,ge),D.isMounted=!0,L=te=he=null}},F=D.effect=new Ov(V,un,()=>Dv(J),D.scope),J=D.update=()=>{F.dirty&&F.run()};J.id=D.uid,ml(D,!0),J()},U=(D,L,te)=>{L.component=D;const he=D.vnode.props;D.vnode=L,D.next=null,MI(D,L.props,he,te),NI(D,L.children,te),Qi(),q0(D),el()},Q=(D,L,te,he,ge,Ce,xe,V,F=!1)=>{const J=D&&D.children,ie=D?D.shapeFlag:0,Ae=L.children,{patchFlag:re,shapeFlag:Z}=L;if(re>0){if(re&128){ee(J,Ae,te,he,ge,Ce,xe,V,F);return}else if(re&256){q(J,Ae,te,he,ge,Ce,xe,V,F);return}}Z&8?(ie&16&&Ee(J,ge,Ce),Ae!==J&&d(te,Ae)):ie&16?Z&16?ee(J,Ae,te,he,ge,Ce,xe,V,F):Ee(J,ge,Ce,!0):(ie&8&&d(te,""),Z&16&&M(Ae,te,he,ge,Ce,xe,V,F))},q=(D,L,te,he,ge,Ce,xe,V,F)=>{D=D||Fa,L=L||Fa;const J=D.length,ie=L.length,Ae=Math.min(J,ie);let re;for(re=0;re<Ae;re++){const Z=L[re]=F?vi(L[re]):Ks(L[re]);m(D[re],Z,te,null,ge,Ce,xe,V,F)}J>ie?Ee(D,ge,Ce,!0,!1,Ae):M(L,te,he,ge,Ce,xe,V,F,Ae)},ee=(D,L,te,he,ge,Ce,xe,V,F)=>{let J=0;const ie=L.length;let Ae=D.length-1,re=ie-1;for(;J<=Ae&&J<=re;){const Z=D[J],ae=L[J]=F?vi(L[J]):Ks(L[J]);if(_l(Z,ae))m(Z,ae,te,null,ge,Ce,xe,V,F);else break;J++}for(;J<=Ae&&J<=re;){const Z=D[Ae],ae=L[re]=F?vi(L[re]):Ks(L[re]);if(_l(Z,ae))m(Z,ae,te,null,ge,Ce,xe,V,F);else break;Ae--,re--}if(J>Ae){if(J<=re){const Z=re+1,ae=Z<ie?L[Z].el:he;for(;J<=re;)m(null,L[J]=F?vi(L[J]):Ks(L[J]),te,ae,ge,Ce,xe,V,F),J++}}else if(J>re)for(;J<=Ae;)ce(D[J],ge,Ce,!0),J++;else{const Z=J,ae=J,je=new Map;for(J=ae;J<=re;J++){const Fe=L[J]=F?vi(L[J]):Ks(L[J]);Fe.key!=null&&je.set(Fe.key,J)}let Qe,Me=0;const ke=re-ae+1;let Je=!1,it=0;const ue=new Array(ke);for(J=0;J<ke;J++)ue[J]=0;for(J=Z;J<=Ae;J++){const Fe=D[J];if(Me>=ke){ce(Fe,ge,Ce,!0);continue}let lt;if(Fe.key!=null)lt=je.get(Fe.key);else for(Qe=ae;Qe<=re;Qe++)if(ue[Qe-ae]===0&&_l(Fe,L[Qe])){lt=Qe;break}lt===void 0?ce(Fe,ge,Ce,!0):(ue[lt-ae]=J+1,lt>=it?it=lt:Je=!0,m(Fe,L[lt],te,null,ge,Ce,xe,V,F),Me++)}const Ie=Je?$I(ue):Fa;for(Qe=Ie.length-1,J=ke-1;J>=0;J--){const Fe=ae+J,lt=L[Fe],ct=Fe+1<ie?L[Fe+1].el:he;ue[J]===0?m(null,lt,te,ct,ge,Ce,xe,V,F):Je&&(Qe<0||J!==Ie[Qe]?de(lt,te,ct,2):Qe--)}}},de=(D,L,te,he,ge=null)=>{const{el:Ce,type:xe,transition:V,children:F,shapeFlag:J}=D;if(J&6){de(D.component.subTree,L,te,he);return}if(J&128){D.suspense.move(L,te,he);return}if(J&64){xe.move(D,L,te,me);return}if(xe===De){s(Ce,L,te);for(let Ae=0;Ae<F.length;Ae++)de(F[Ae],L,te,he);s(D.anchor,L,te);return}if(xe===Vg){y(D,L,te);return}if(he!==2&&J&1&&V)if(he===0)V.beforeEnter(Ce),s(Ce,L,te),yr(()=>V.enter(Ce),ge);else{const{leave:Ae,delayLeave:re,afterLeave:Z}=V,ae=()=>s(Ce,L,te),je=()=>{Ae(Ce,()=>{ae(),Z&&Z()})};re?re(Ce,ae,je):je()}else s(Ce,L,te)},ce=(D,L,te,he=!1,ge=!1)=>{const{type:Ce,props:xe,ref:V,children:F,dynamicChildren:J,shapeFlag:ie,patchFlag:Ae,dirs:re}=D;if(V!=null&&Jm(V,null,te,D,!0),ie&256){L.ctx.deactivate(D);return}const Z=ie&1&&re,ae=!Tu(D);let je;if(ae&&(je=xe&&xe.onVnodeBeforeUnmount)&&qs(je,L,D),ie&6)we(D.component,te,he);else{if(ie&128){D.suspense.unmount(te,he);return}Z&&gl(D,null,L,"beforeUnmount"),ie&64?D.type.remove(D,L,te,ge,me,he):J&&(Ce!==De||Ae>0&&Ae&64)?Ee(J,L,te,!1,!0):(Ce===De&&Ae&384||!ge&&ie&16)&&Ee(F,L,te),he&&Te(D)}(ae&&(je=xe&&xe.onVnodeUnmounted)||Z)&&yr(()=>{je&&qs(je,L,D),Z&&gl(D,null,L,"unmounted")},te)},Te=D=>{const{type:L,el:te,anchor:he,transition:ge}=D;if(L===De){fe(te,he);return}if(L===Vg){w(D);return}const Ce=()=>{o(te),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(D.shapeFlag&1&&ge&&!ge.persisted){const{leave:xe,delayLeave:V}=ge,F=()=>xe(te,Ce);V?V(D.el,Ce,F):F()}else Ce()},fe=(D,L)=>{let te;for(;D!==L;)te=h(D),o(D),D=te;o(L)},we=(D,L,te)=>{const{bum:he,scope:ge,update:Ce,subTree:xe,um:V}=D;he&&th(he),ge.stop(),Ce&&(Ce.active=!1,ce(xe,D,L,te)),V&&yr(V,L),yr(()=>{D.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},Ee=(D,L,te,he=!1,ge=!1,Ce=0)=>{for(let xe=Ce;xe<D.length;xe++)ce(D[xe],L,te,he,ge)},G=D=>D.shapeFlag&6?G(D.component.subTree):D.shapeFlag&128?D.suspense.next():h(D.anchor||D.el);let ne=!1;const se=(D,L,te)=>{D==null?L._vnode&&ce(L._vnode,null,null,!0):m(L._vnode||null,D,L,null,null,null,te),ne||(ne=!0,q0(),ZE(),ne=!1),L._vnode=D},me={p:m,um:ce,m:de,r:Te,mt:W,mc:M,pc:Q,pbc:k,n:G,o:r};let Pe,Se;return e&&([Pe,Se]=e(me)),{render:se,hydrate:Pe,createApp:OI(se,Pe)}}function Dg({type:r,props:e},n){return n==="svg"&&r==="foreignObject"||n==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ml({effect:r,update:e},n){r.allowRecurse=e.allowRecurse=n}function RI(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Wv(r,e,n=!1){const s=r.children,o=e.children;if(Re(s)&&Re(o))for(let i=0;i<s.length;i++){const l=s[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=vi(o[i]),a.el=l.el),n||Wv(l,a)),a.type===da&&(a.el=l.el)}}function $I(r){const e=r.slice(),n=[0];let s,o,i,l,a;const c=r.length;for(s=0;s<c;s++){const u=r[s];if(u!==0){if(o=n[n.length-1],r[o]<u){e[s]=o,n.push(s);continue}for(i=0,l=n.length-1;i<l;)a=i+l>>1,r[n[a]]<u?i=a+1:l=a;u<r[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,l=n[i-1];i-- >0;)n[i]=l,l=e[l];return n}function CT(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:CT(e)}const DI=r=>r.__isTeleport,Au=r=>r&&(r.disabled||r.disabled===""),s1=r=>typeof SVGElement<"u"&&r instanceof SVGElement,o1=r=>typeof MathMLElement=="function"&&r instanceof MathMLElement,Xm=(r,e)=>{const n=r&&r.to;return ft(n)?e?e(n):null:n},VI={name:"Teleport",__isTeleport:!0,process(r,e,n,s,o,i,l,a,c,u){const{mc:d,pc:f,pbc:h,o:{insert:p,querySelector:g,createText:m,createComment:v}}=u,b=Au(e.props);let{shapeFlag:C,children:y,dynamicChildren:w}=e;if(r==null){const x=e.el=m(""),E=e.anchor=m("");p(x,n,s),p(E,n,s);const _=e.target=Xm(e.props,g),M=e.targetAnchor=m("");_&&(p(M,_),l==="svg"||s1(_)?l="svg":(l==="mathml"||o1(_))&&(l="mathml"));const A=(k,P)=>{C&16&&d(y,k,P,o,i,l,a,c)};b?A(n,E):_&&A(_,M)}else{e.el=r.el;const x=e.anchor=r.anchor,E=e.target=r.target,_=e.targetAnchor=r.targetAnchor,M=Au(r.props),A=M?n:E,k=M?x:_;if(l==="svg"||s1(E)?l="svg":(l==="mathml"||o1(E))&&(l="mathml"),w?(h(r.dynamicChildren,w,A,o,i,l,a),Wv(r,e,!0)):c||f(r,e,A,k,o,i,l,a,!1),b)M?e.props&&r.props&&e.props.to!==r.props.to&&(e.props.to=r.props.to):Tf(e,n,x,u,1);else if((e.props&&e.props.to)!==(r.props&&r.props.to)){const P=e.target=Xm(e.props,g);P&&Tf(e,P,null,u,0)}else M&&Tf(e,E,_,u,1)}ST(e)},remove(r,e,n,s,{um:o,o:{remove:i}},l){const{shapeFlag:a,children:c,anchor:u,targetAnchor:d,target:f,props:h}=r;if(f&&i(d),l&&i(u),a&16){const p=l||!Au(h);for(let g=0;g<c.length;g++){const m=c[g];o(m,e,n,p,!!m.dynamicChildren)}}},move:Tf,hydrate:FI};function Tf(r,e,n,{o:{insert:s},m:o},i=2){i===0&&s(r.targetAnchor,e,n);const{el:l,anchor:a,shapeFlag:c,children:u,props:d}=r,f=i===2;if(f&&s(l,e,n),(!f||Au(d))&&c&16)for(let h=0;h<u.length;h++)o(u[h],e,n,2);f&&s(a,e,n)}function FI(r,e,n,s,o,i,{o:{nextSibling:l,parentNode:a,querySelector:c}},u){const d=e.target=Xm(e.props,c);if(d){const f=d._lpa||d.firstChild;if(e.shapeFlag&16)if(Au(e.props))e.anchor=u(l(r),e,a(r),n,s,o,i),e.targetAnchor=f;else{e.anchor=l(r);let h=f;for(;h;)if(h=l(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,d._lpa=e.targetAnchor&&l(e.targetAnchor);break}u(f,e,d,n,s,o,i)}ST(e)}return e.anchor&&l(e.anchor)}const Uc=VI;function ST(r){const e=r.ctx;if(e&&e.ut){let n=r.children[0].el;for(;n&&n!==r.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const De=Symbol.for("v-fgt"),da=Symbol.for("v-txt"),rr=Symbol.for("v-cmt"),Vg=Symbol.for("v-stc"),Mu=[];let Ts=null;function N(r=!1){Mu.push(Ts=r?null:[])}function BI(){Mu.pop(),Ts=Mu[Mu.length-1]||null}let sd=1;function i1(r){sd+=r}function xT(r){return r.dynamicChildren=sd>0?Ts||Fa:null,BI(),sd>0&&Ts&&Ts.push(r),r}function X(r,e,n,s,o,i){return xT(H(r,e,n,s,o,i,!0))}function ye(r,e,n,s,o){return xT(T(r,e,n,s,o,!0))}function Mn(r){return r?r.__v_isVNode===!0:!1}function _l(r,e){return r.type===e.type&&r.key===e.key}const ET=({key:r})=>r??null,nh=({ref:r,ref_key:e,ref_for:n})=>(typeof r=="number"&&(r=""+r),r!=null?ft(r)||qt(r)||qe(r)?{i:On,r,k:e,f:!!n}:r:null);function H(r,e=null,n=null,s=0,o=null,i=r===De?0:1,l=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&ET(e),ref:e&&nh(e),scopeId:Tp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:On};return a?(qv(c,n),i&128&&r.normalize(c)):n&&(c.shapeFlag|=ft(n)?8:16),sd>0&&!l&&Ts&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ts.push(c),c}const T=zI;function zI(r,e=null,n=null,s=0,o=null,i=!1){if((!r||r===tT)&&(r=rr),Mn(r)){const a=Fo(r,e,!0);return n&&qv(a,n),sd>0&&!i&&Ts&&(a.shapeFlag&6?Ts[Ts.indexOf(r)]=a:Ts.push(a)),a.patchFlag|=-2,a}if(JI(r)&&(r=r.__vccOpts),e){e=jI(e);let{class:a,style:c}=e;a&&!ft(a)&&(e.class=Y(a)),pt(c)&&(WE(c)&&!Re(c)&&(c=hn({},c)),e.style=vt(c))}const l=ft(r)?1:oI(r)?128:DI(r)?64:pt(r)?4:qe(r)?2:0;return H(r,e,n,s,o,l,i,!0)}function jI(r){return r?WE(r)||gT(r)?hn({},r):r:null}function Fo(r,e,n=!1,s=!1){const{props:o,ref:i,patchFlag:l,children:a,transition:c}=r,u=e?Dr(o||{},e):o,d={__v_isVNode:!0,__v_skip:!0,type:r.type,props:u,key:u&&ET(u),ref:e&&e.ref?n&&i?Re(i)?i.concat(nh(e)):[i,nh(e)]:nh(e):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:a,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==De?l===-1?16:l|16:l,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:c,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Fo(r.ssContent),ssFallback:r.ssFallback&&Fo(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return c&&s&&(d.transition=c.clone(d)),d}function le(r=" ",e=0){return T(da,null,r,e)}function ve(r="",e=!1){return e?(N(),ye(rr,null,r)):T(rr,null,r)}function Ks(r){return r==null||typeof r=="boolean"?T(rr):Re(r)?T(De,null,r.slice()):typeof r=="object"?vi(r):T(da,null,String(r))}function vi(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Fo(r)}function qv(r,e){let n=0;const{shapeFlag:s}=r;if(e==null)e=null;else if(Re(e))n=16;else if(typeof e=="object")if(s&65){const o=e.default;o&&(o._c&&(o._d=!1),qv(r,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!gT(e)?e._ctx=On:o===3&&On&&(On.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else qe(e)?(e={default:e,_ctx:On},n=32):(e=String(e),s&64?(n=16,e=[le(e)]):n=8);r.children=e,r.shapeFlag|=n}function Dr(...r){const e={};for(let n=0;n<r.length;n++){const s=r[n];for(const o in s)if(o==="class")e.class!==s.class&&(e.class=Y([e.class,s.class]));else if(o==="style")e.style=vt([e.style,s.style]);else if(yp(o)){const i=e[o],l=s[o];l&&i!==l&&!(Re(i)&&i.includes(l))&&(e[o]=i?[].concat(i,l):l)}else o!==""&&(e[o]=s[o])}return e}function qs(r,e,n,s=null){ts(r,e,7,[n,s])}const HI=fT();let UI=0;function WI(r,e,n){const s=r.type,o=(e?e.appContext:r.appContext)||HI,i={uid:UI++,vnode:r,type:s,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new kE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bT(s,o),emitsOptions:eT(s,o),emit:null,emitted:null,propsDefaults:Xt,inheritAttrs:s.inheritAttrs,ctx:Xt,data:Xt,props:Xt,attrs:Xt,slots:Xt,refs:Xt,setupState:Xt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=QN.bind(null,i),r.ce&&r.ce(i),i}let Gn=null;const bt=()=>Gn||On;let Eh,Zm;{const r=_E(),e=(n,s)=>{let o;return(o=r[n])||(o=r[n]=[]),o.push(s),i=>{o.length>1?o.forEach(l=>l(i)):o[0](i)}};Eh=e("__VUE_INSTANCE_SETTERS__",n=>Gn=n),Zm=e("__VUE_SSR_SETTERS__",n=>Ap=n)}const jd=r=>{const e=Gn;return Eh(r),r.scope.on(),()=>{r.scope.off(),Eh(e)}},l1=()=>{Gn&&Gn.scope.off(),Eh(null)};function TT(r){return r.vnode.shapeFlag&4}let Ap=!1;function qI(r,e=!1){e&&Zm(e);const{props:n,children:s}=r.vnode,o=TT(r);AI(r,n,o,e),PI(r,s);const i=o?GI(r,e):void 0;return e&&Zm(!1),i}function GI(r,e){const n=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,wI);const{setup:s}=n;if(s){const o=r.setupContext=s.length>1?OT(r):null,i=jd(r);Qi();const l=$i(s,r,0,[r.props,o]);if(el(),i(),SE(l)){if(l.then(l1,l1),e)return l.then(a=>{a1(r,a,e)}).catch(a=>{xp(a,r,0)});r.asyncDep=l}else a1(r,l,e)}else _T(r,e)}function a1(r,e,n){qe(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:pt(e)&&(r.setupState=KE(e)),_T(r,n)}let c1;function _T(r,e,n){const s=r.type;if(!r.render){if(!e&&c1&&!s.render){const o=s.template||Hv(r).template;if(o){const{isCustomElement:i,compilerOptions:l}=r.appContext.config,{delimiters:a,compilerOptions:c}=s,u=hn(hn({isCustomElement:i,delimiters:a},l),c);s.render=c1(o,u)}}r.render=s.render||un}{const o=jd(r);Qi();try{CI(r)}finally{el(),o()}}}const KI={get(r,e){return _r(r,"get",""),r[e]}};function OT(r){const e=n=>{r.exposed=n||{}};return{attrs:new Proxy(r.attrs,KI),slots:r.slots,emit:r.emit,expose:e}}function Mp(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(KE(Zu(r.exposed)),{get(e,n){if(n in e)return e[n];if(n in _u)return _u[n](r)},has(e,n){return n in e||n in _u}}))}function YI(r,e=!0){return qe(r)?r.displayName||r.name:r.name||e&&r.__name}function JI(r){return qe(r)&&"__vccOpts"in r}const z=(r,e)=>jN(r,e,Ap);function Ye(r,e,n){const s=arguments.length;return s===2?pt(e)&&!Re(e)?Mn(e)?T(r,null,[e]):T(r,e):T(r,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Mn(n)&&(n=[n]),T(r,e,n))}const XI="3.4.27",ZI=un;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const QI="http://www.w3.org/2000/svg",eL="http://www.w3.org/1998/Math/MathML",yi=typeof document<"u"?document:null,u1=yi&&yi.createElement("template"),tL={insert:(r,e,n)=>{e.insertBefore(r,n||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,n,s)=>{const o=e==="svg"?yi.createElementNS(QI,r):e==="mathml"?yi.createElementNS(eL,r):yi.createElement(r,n?{is:n}:void 0);return r==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:r=>yi.createTextNode(r),createComment:r=>yi.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>yi.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,n,s,o,i){const l=n?n.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{u1.innerHTML=s==="svg"?`<svg>${r}</svg>`:s==="mathml"?`<math>${r}</math>`:r;const a=u1.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ii="transition",iu="animation",Xa=Symbol("_vtc"),Or=(r,{slots:e})=>Ye(dI,MT(r),e);Or.displayName="Transition";const AT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nL=Or.props=hn({},sT,AT),bl=(r,e=[])=>{Re(r)?r.forEach(n=>n(...e)):r&&r(...e)},d1=r=>r?Re(r)?r.some(e=>e.length>1):r.length>1:!1;function MT(r){const e={};for(const $ in r)$ in AT||(e[$]=r[$]);if(r.css===!1)return e;const{name:n="v",type:s,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=l,appearToClass:d=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=r,g=rL(o),m=g&&g[0],v=g&&g[1],{onBeforeEnter:b,onEnter:C,onEnterCancelled:y,onLeave:w,onLeaveCancelled:x,onBeforeAppear:E=b,onAppear:_=C,onAppearCancelled:M=y}=e,A=($,B,W)=>{ui($,B?d:a),ui($,B?u:l),W&&W()},k=($,B)=>{$._isLeaving=!1,ui($,f),ui($,p),ui($,h),B&&B()},P=$=>(B,W)=>{const I=$?_:C,R=()=>A(B,$,W);bl(I,[B,R]),f1(()=>{ui(B,$?c:i),_o(B,$?d:a),d1(I)||h1(B,s,m,R)})};return hn(e,{onBeforeEnter($){bl(b,[$]),_o($,i),_o($,l)},onBeforeAppear($){bl(E,[$]),_o($,c),_o($,u)},onEnter:P(!1),onAppear:P(!0),onLeave($,B){$._isLeaving=!0;const W=()=>k($,B);_o($,f),_o($,h),PT(),f1(()=>{$._isLeaving&&(ui($,f),_o($,p),d1(w)||h1($,s,v,W))}),bl(w,[$,W])},onEnterCancelled($){A($,!1),bl(y,[$])},onAppearCancelled($){A($,!0),bl(M,[$])},onLeaveCancelled($){k($),bl(x,[$])}})}function rL(r){if(r==null)return null;if(pt(r))return[Fg(r.enter),Fg(r.leave)];{const e=Fg(r);return[e,e]}}function Fg(r){return hN(r)}function _o(r,e){e.split(/\s+/).forEach(n=>n&&r.classList.add(n)),(r[Xa]||(r[Xa]=new Set)).add(e)}function ui(r,e){e.split(/\s+/).forEach(s=>s&&r.classList.remove(s));const n=r[Xa];n&&(n.delete(e),n.size||(r[Xa]=void 0))}function f1(r){requestAnimationFrame(()=>{requestAnimationFrame(r)})}let sL=0;function h1(r,e,n,s){const o=r._endId=++sL,i=()=>{o===r._endId&&s()};if(n)return setTimeout(i,n);const{type:l,timeout:a,propCount:c}=kT(r,e);if(!l)return s();const u=l+"end";let d=0;const f=()=>{r.removeEventListener(u,h),i()},h=p=>{p.target===r&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},a+1),r.addEventListener(u,h)}function kT(r,e){const n=window.getComputedStyle(r),s=g=>(n[g]||"").split(", "),o=s(`${ii}Delay`),i=s(`${ii}Duration`),l=p1(o,i),a=s(`${iu}Delay`),c=s(`${iu}Duration`),u=p1(a,c);let d=null,f=0,h=0;e===ii?l>0&&(d=ii,f=l,h=i.length):e===iu?u>0&&(d=iu,f=u,h=c.length):(f=Math.max(l,u),d=f>0?l>u?ii:iu:null,h=d?d===ii?i.length:c.length:0);const p=d===ii&&/\b(transform|all)(,|$)/.test(s(`${ii}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:p}}function p1(r,e){for(;r.length<e.length;)r=r.concat(r);return Math.max(...e.map((n,s)=>g1(n)+g1(r[s])))}function g1(r){return r==="auto"?0:Number(r.slice(0,-1).replace(",","."))*1e3}function PT(){return document.body.offsetHeight}function oL(r,e,n){const s=r[Xa];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?r.removeAttribute("class"):n?r.setAttribute("class",e):r.className=e}const Th=Symbol("_vod"),NT=Symbol("_vsh"),st={beforeMount(r,{value:e},{transition:n}){r[Th]=r.style.display==="none"?"":r.style.display,n&&e?n.beforeEnter(r):lu(r,e)},mounted(r,{value:e},{transition:n}){n&&e&&n.enter(r)},updated(r,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(r),lu(r,!0),s.enter(r)):s.leave(r,()=>{lu(r,!1)}):lu(r,e))},beforeUnmount(r,{value:e}){lu(r,e)}};function lu(r,e){r.style.display=e?r[Th]:"none",r[NT]=!e}const iL=Symbol(""),lL=/(^|;)\s*display\s*:/;function aL(r,e,n){const s=r.style,o=ft(n);let i=!1;if(n&&!o){if(e)if(ft(e))for(const l of e.split(";")){const a=l.slice(0,l.indexOf(":")).trim();n[a]==null&&rh(s,a,"")}else for(const l in e)n[l]==null&&rh(s,l,"");for(const l in n)l==="display"&&(i=!0),rh(s,l,n[l])}else if(o){if(e!==n){const l=s[iL];l&&(n+=";"+l),s.cssText=n,i=lL.test(n)}}else e&&r.removeAttribute("style");Th in r&&(r[Th]=i?s.display:"",r[NT]&&(s.display="none"))}const m1=/\s*!important$/;function rh(r,e,n){if(Re(n))n.forEach(s=>rh(r,e,s));else if(n==null&&(n=""),e.startsWith("--"))r.setProperty(e,n);else{const s=cL(r,e);m1.test(n)?r.setProperty(Zi(s),n.replace(m1,""),"important"):r[s]=n}}const b1=["Webkit","Moz","ms"],Bg={};function cL(r,e){const n=Bg[e];if(n)return n;let s=Ls(e);if(s!=="filter"&&s in r)return Bg[e]=s;s=Dd(s);for(let o=0;o<b1.length;o++){const i=b1[o]+s;if(i in r)return Bg[e]=i}return e}const v1="http://www.w3.org/1999/xlink";function uL(r,e,n,s,o){if(s&&e.startsWith("xlink:"))n==null?r.removeAttributeNS(v1,e.slice(6,e.length)):r.setAttributeNS(v1,e,n);else{const i=yN(e);n==null||i&&!OE(n)?r.removeAttribute(e):r.setAttribute(e,i?"":n)}}function dL(r,e,n,s,o,i,l){if(e==="innerHTML"||e==="textContent"){s&&l(s,o,i),r[e]=n??"";return}const a=r.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?r.getAttribute("value")||"":r.value,d=n??"";(u!==d||!("_value"in r))&&(r.value=d),n==null&&r.removeAttribute(e),r._value=n;return}let c=!1;if(n===""||n==null){const u=typeof r[e];u==="boolean"?n=OE(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{r[e]=n}catch{}c&&r.removeAttribute(e)}function Ti(r,e,n,s){r.addEventListener(e,n,s)}function fL(r,e,n,s){r.removeEventListener(e,n,s)}const y1=Symbol("_vei");function hL(r,e,n,s,o=null){const i=r[y1]||(r[y1]={}),l=i[e];if(s&&l)l.value=s;else{const[a,c]=pL(e);if(s){const u=i[e]=bL(s,o);Ti(r,a,u,c)}else l&&(fL(r,a,l,c),i[e]=void 0)}}const w1=/(?:Once|Passive|Capture)$/;function pL(r){let e;if(w1.test(r)){e={};let s;for(;s=r.match(w1);)r=r.slice(0,r.length-s[0].length),e[s[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Zi(r.slice(2)),e]}let zg=0;const gL=Promise.resolve(),mL=()=>zg||(gL.then(()=>zg=0),zg=Date.now());function bL(r,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ts(vL(s,n.value),e,5,[s])};return n.value=r,n.attached=mL(),n}function vL(r,e){if(Re(e)){const n=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{n.call(r),r._stopped=!0},e.map(s=>o=>!o._stopped&&s&&s(o))}else return e}const C1=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,yL=(r,e,n,s,o,i,l,a,c)=>{const u=o==="svg";e==="class"?oL(r,s,u):e==="style"?aL(r,n,s):yp(e)?Ev(e)||hL(r,e,n,s,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wL(r,e,s,u))?dL(r,e,s,i,l,a,c):(e==="true-value"?r._trueValue=s:e==="false-value"&&(r._falseValue=s),uL(r,e,s,u))};function wL(r,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in r&&C1(e)&&qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=r.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return C1(e)&&ft(n)?!1:e in r}const IT=new WeakMap,LT=new WeakMap,_h=Symbol("_moveCb"),S1=Symbol("_enterCb"),RT={name:"TransitionGroup",props:hn({},nL,{tag:String,moveClass:String}),setup(r,{slots:e}){const n=bt(),s=rT();let o,i;return ua(()=>{if(!o.length)return;const l=r.moveClass||`${r.name||"v"}-move`;if(!_L(o[0].el,n.vnode.el,l))return;o.forEach(xL),o.forEach(EL);const a=o.filter(TL);PT(),a.forEach(c=>{const u=c.el,d=u.style;_o(u,l),d.transform=d.webkitTransform=d.transitionDuration="";const f=u[_h]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",f),u[_h]=null,ui(u,l))};u.addEventListener("transitionend",f)})}),()=>{const l=Mt(r),a=MT(l);let c=l.tag||De;if(o=[],i)for(let u=0;u<i.length;u++){const d=i[u];d.el&&d.el instanceof Element&&(o.push(d),rd(d,nd(d,a,s,n)),IT.set(d,d.el.getBoundingClientRect()))}i=e.default?jv(e.default()):[];for(let u=0;u<i.length;u++){const d=i[u];d.key!=null&&rd(d,nd(d,a,s,n))}return T(c,null,i)}}},CL=r=>delete r.mode;RT.props;const SL=RT;function xL(r){const e=r.el;e[_h]&&e[_h](),e[S1]&&e[S1]()}function EL(r){LT.set(r,r.el.getBoundingClientRect())}function TL(r){const e=IT.get(r),n=LT.get(r),s=e.left-n.left,o=e.top-n.top;if(s||o){const i=r.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${o}px)`,i.transitionDuration="0s",r}}function _L(r,e,n){const s=r.cloneNode(),o=r[Xa];o&&o.forEach(a=>{a.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:l}=kT(s);return i.removeChild(s),l}const Za=r=>{const e=r.props["onUpdate:modelValue"]||!1;return Re(e)?n=>th(e,n):e};function OL(r){r.target.composing=!0}function x1(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ro=Symbol("_assign"),AL={created(r,{modifiers:{lazy:e,trim:n,number:s}},o){r[Ro]=Za(o);const i=s||o.props&&o.props.type==="number";Ti(r,e?"change":"input",l=>{if(l.target.composing)return;let a=r.value;n&&(a=a.trim()),i&&(a=zm(a)),r[Ro](a)}),n&&Ti(r,"change",()=>{r.value=r.value.trim()}),e||(Ti(r,"compositionstart",OL),Ti(r,"compositionend",x1),Ti(r,"change",x1))},mounted(r,{value:e}){r.value=e??""},beforeUpdate(r,{value:e,modifiers:{lazy:n,trim:s,number:o}},i){if(r[Ro]=Za(i),r.composing)return;const l=(o||r.type==="number")&&!/^0\d/.test(r.value)?zm(r.value):r.value,a=e??"";l!==a&&(document.activeElement===r&&r.type!=="range"&&(n||s&&r.value.trim()===a)||(r.value=a))}},zi={deep:!0,created(r,e,n){r[Ro]=Za(n),Ti(r,"change",()=>{const s=r._modelValue,o=DT(r),i=r.checked,l=r[Ro];if(Re(s)){const a=AE(s,o),c=a!==-1;if(i&&!c)l(s.concat(o));else if(!i&&c){const u=[...s];u.splice(a,1),l(u)}}else if(wp(s)){const a=new Set(s);i?a.add(o):a.delete(o),l(a)}else l(VT(r,i))})},mounted:E1,beforeUpdate(r,e,n){r[Ro]=Za(n),E1(r,e,n)}};function E1(r,{value:e,oldValue:n},s){r._modelValue=e,Re(e)?r.checked=AE(e,s.props.value)>-1:wp(e)?r.checked=e.has(s.props.value):e!==n&&(r.checked=Ja(e,VT(r,!0)))}const $T={created(r,{value:e},n){r.checked=Ja(e,n.props.value),r[Ro]=Za(n),Ti(r,"change",()=>{r[Ro](DT(r))})},beforeUpdate(r,{value:e,oldValue:n},s){r[Ro]=Za(s),e!==n&&(r.checked=Ja(e,s.props.value))}};function DT(r){return"_value"in r?r._value:r.value}function VT(r,e){const n=e?"_trueValue":"_falseValue";return n in r?r[n]:e}const ML=["ctrl","shift","alt","meta"],kL={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>ML.some(n=>r[`${n}Key`]&&!e.includes(n))},It=(r,e)=>{const n=r._withMods||(r._withMods={}),s=e.join(".");return n[s]||(n[s]=(o,...i)=>{for(let l=0;l<e.length;l++){const a=kL[e[l]];if(a&&a(o,e))return}return r(o,...i)})},PL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tr=(r,e)=>{const n=r._withKeys||(r._withKeys={}),s=e.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const i=Zi(o.key);if(e.some(l=>l===i||PL[l]===i))return r(o)})},NL=hn({patchProp:yL},tL);let T1;function FT(){return T1||(T1=II(NL))}const ji=(...r)=>{FT().render(...r)},Gv=(...r)=>{const e=FT().createApp(...r),{mount:n}=e;return e.mount=s=>{const o=LL(s);if(!o)return;const i=e._component;!qe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const l=n(o,!1,IL(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},e};function IL(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function LL(r){return ft(r)?document.querySelector(r):r}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Aa=typeof document<"u";function RL(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const Dt=Object.assign;function jg(r,e){const n={};for(const s in e){const o=e[s];n[s]=Rs(o)?o.map(r):r(o)}return n}const ku=()=>{},Rs=Array.isArray,BT=/#/g,$L=/&/g,DL=/\//g,VL=/=/g,FL=/\?/g,zT=/\+/g,BL=/%5B/g,zL=/%5D/g,jT=/%5E/g,jL=/%60/g,HT=/%7B/g,HL=/%7C/g,UT=/%7D/g,UL=/%20/g;function Kv(r){return encodeURI(""+r).replace(HL,"|").replace(BL,"[").replace(zL,"]")}function WL(r){return Kv(r).replace(HT,"{").replace(UT,"}").replace(jT,"^")}function Qm(r){return Kv(r).replace(zT,"%2B").replace(UL,"+").replace(BT,"%23").replace($L,"%26").replace(jL,"`").replace(HT,"{").replace(UT,"}").replace(jT,"^")}function qL(r){return Qm(r).replace(VL,"%3D")}function GL(r){return Kv(r).replace(BT,"%23").replace(FL,"%3F")}function KL(r){return r==null?"":GL(r).replace(DL,"%2F")}function od(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const YL=/\/$/,JL=r=>r.replace(YL,"");function Hg(r,e,n="/"){let s,o={},i="",l="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),o=r(i)),a>-1&&(s=s||e.slice(0,a),l=e.slice(a,e.length)),s=eR(s??e,n),{fullPath:s+(i&&"?")+i+l,path:s,query:o,hash:od(l)}}function XL(r,e){const n=e.query?r(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function _1(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function ZL(r,e,n){const s=e.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Qa(e.matched[s],n.matched[o])&&WT(e.params,n.params)&&r(e.query)===r(n.query)&&e.hash===n.hash}function Qa(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function WT(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const n in r)if(!QL(r[n],e[n]))return!1;return!0}function QL(r,e){return Rs(r)?O1(r,e):Rs(e)?O1(e,r):r===e}function O1(r,e){return Rs(e)?r.length===e.length&&r.every((n,s)=>n===e[s]):r.length===1&&r[0]===e}function eR(r,e){if(r.startsWith("/"))return r;if(!r)return e;const n=e.split("/"),s=r.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let i=n.length-1,l,a;for(l=0;l<s.length;l++)if(a=s[l],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(l).join("/")}var id;(function(r){r.pop="pop",r.push="push"})(id||(id={}));var Pu;(function(r){r.back="back",r.forward="forward",r.unknown=""})(Pu||(Pu={}));function tR(r){if(!r)if(Aa){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),JL(r)}const nR=/^[^#]+#/;function rR(r,e){return r.replace(nR,"#")+e}function sR(r,e){const n=document.documentElement.getBoundingClientRect(),s=r.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const kp=()=>({left:window.scrollX,top:window.scrollY});function oR(r){let e;if("el"in r){const n=r.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=sR(o,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function A1(r,e){return(history.state?history.state.position-e:-1)+r}const eb=new Map;function iR(r,e){eb.set(r,e)}function lR(r){const e=eb.get(r);return eb.delete(r),e}let aR=()=>location.protocol+"//"+location.host;function qT(r,e){const{pathname:n,search:s,hash:o}=e,i=r.indexOf("#");if(i>-1){let a=o.includes(r.slice(i))?r.slice(i).length:1,c=o.slice(a);return c[0]!=="/"&&(c="/"+c),_1(c,"")}return _1(n,r)+s+o}function cR(r,e,n,s){let o=[],i=[],l=null;const a=({state:h})=>{const p=qT(r,location),g=n.value,m=e.value;let v=0;if(h){if(n.value=p,e.value=h,l&&l===g){l=null;return}v=m?h.position-m.position:0}else s(p);o.forEach(b=>{b(n.value,g,{delta:v,type:id.pop,direction:v?v>0?Pu.forward:Pu.back:Pu.unknown})})};function c(){l=n.value}function u(h){o.push(h);const p=()=>{const g=o.indexOf(h);g>-1&&o.splice(g,1)};return i.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(Dt({},h.state,{scroll:kp()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:u,destroy:f}}function M1(r,e,n,s=!1,o=!1){return{back:r,current:e,forward:n,replaced:s,position:window.history.length,scroll:o?kp():null}}function uR(r){const{history:e,location:n}=window,s={value:qT(r,n)},o={value:e.state};o.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,u,d){const f=r.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?r:r.slice(f))+c:aR()+r+c;try{e[d?"replaceState":"pushState"](u,"",h),o.value=u}catch{n[d?"replace":"assign"](h)}}function l(c,u){const d=Dt({},e.state,M1(o.value.back,c,o.value.forward,!0),u,{position:o.value.position});i(c,d,!0),s.value=c}function a(c,u){const d=Dt({},o.value,e.state,{forward:c,scroll:kp()});i(d.current,d,!0);const f=Dt({},M1(s.value,c,null),{position:d.position+1},u);i(c,f,!1),s.value=c}return{location:s,state:o,push:a,replace:l}}function dR(r){r=tR(r);const e=uR(r),n=cR(r,e.state,e.location,e.replace);function s(i,l=!0){l||n.pauseListeners(),history.go(i)}const o=Dt({location:"",base:r,go:s,createHref:rR.bind(null,r)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function fR(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),dR(r)}function hR(r){return typeof r=="string"||r&&typeof r=="object"}function GT(r){return typeof r=="string"||typeof r=="symbol"}const li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},KT=Symbol("");var k1;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(k1||(k1={}));function ec(r,e){return Dt(new Error,{type:r,[KT]:!0},e)}function wo(r,e){return r instanceof Error&&KT in r&&(e==null||!!(r.type&e))}const P1="[^/]+?",pR={sensitive:!1,strict:!1,start:!0,end:!0},gR=/[.+*?^${}()[\]/\\]/g;function mR(r,e){const n=Dt({},pR,e),s=[];let o=n.start?"^":"";const i=[];for(const u of r){const d=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let f=0;f<u.length;f++){const h=u[f];let p=40+(n.sensitive?.25:0);if(h.type===0)f||(o+="/"),o+=h.value.replace(gR,"\\$&"),p+=40;else if(h.type===1){const{value:g,repeatable:m,optional:v,regexp:b}=h;i.push({name:g,repeatable:m,optional:v});const C=b||P1;if(C!==P1){p+=10;try{new RegExp(`(${C})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${g}" (${C}): `+w.message)}}let y=m?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;f||(y=v&&u.length<2?`(?:/${y})`:"/"+y),v&&(y+="?"),o+=y,p+=20,v&&(p+=-8),m&&(p+=-20),C===".*"&&(p+=-50)}d.push(p)}s.push(d)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const l=new RegExp(o,n.sensitive?"":"i");function a(u){const d=u.match(l),f={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",g=i[h-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function c(u){let d="",f=!1;for(const h of r){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:v}=p,b=g in u?u[g]:"";if(Rs(b)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const C=Rs(b)?b.join("/"):b;if(!C)if(v)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);d+=C}}return d||"/"}return{re:l,score:s,keys:i,parse:a,stringify:c}}function bR(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=e[n]-r[n];if(s)return s;n++}return r.length<e.length?r.length===1&&r[0]===80?-1:1:r.length>e.length?e.length===1&&e[0]===80?1:-1:0}function vR(r,e){let n=0;const s=r.score,o=e.score;for(;n<s.length&&n<o.length;){const i=bR(s[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-s.length)===1){if(N1(s))return 1;if(N1(o))return-1}return o.length-s.length}function N1(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const yR={type:0,value:""},wR=/[a-zA-Z0-9_]/;function CR(r){if(!r)return[[]];if(r==="/")return[[yR]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,s=n;const o=[];let i;function l(){i&&o.push(i),i=[]}let a=0,c,u="",d="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;a<r.length;){if(c=r[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(u&&f(),l()):c===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:c==="("?n=2:wR.test(c)?h():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),l(),o}function SR(r,e,n){const s=mR(CR(r.path),n),o=Dt(s,{record:r,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function xR(r,e){const n=[],s=new Map;e=R1({strict:!1,end:!0,sensitive:!1},e);function o(d){return s.get(d)}function i(d,f,h){const p=!h,g=ER(d);g.aliasOf=h&&h.record;const m=R1(e,d),v=[g];if("alias"in d){const y=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of y)v.push(Dt({},g,{components:h?h.record.components:g.components,path:w,aliasOf:h?h.record:g}))}let b,C;for(const y of v){const{path:w}=y;if(f&&w[0]!=="/"){const x=f.record.path,E=x[x.length-1]==="/"?"":"/";y.path=f.record.path+(w&&E+w)}if(b=SR(y,f,m),h?h.alias.push(b):(C=C||b,C!==b&&C.alias.push(b),p&&d.name&&!L1(b)&&l(d.name)),g.children){const x=g.children;for(let E=0;E<x.length;E++)i(x[E],b,h&&h.children[E])}h=h||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&c(b)}return C?()=>{l(C)}:ku}function l(d){if(GT(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(l),f.alias.forEach(l))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(l),d.alias.forEach(l))}}function a(){return n}function c(d){let f=0;for(;f<n.length&&vR(d,n[f])>=0&&(d.record.path!==n[f].record.path||!YT(d,n[f]));)f++;n.splice(f,0,d),d.record.name&&!L1(d)&&s.set(d.record.name,d)}function u(d,f){let h,p={},g,m;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw ec(1,{location:d});m=h.record.name,p=Dt(I1(f.params,h.keys.filter(C=>!C.optional).concat(h.parent?h.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),d.params&&I1(d.params,h.keys.map(C=>C.name))),g=h.stringify(p)}else if(d.path!=null)g=d.path,h=n.find(C=>C.re.test(g)),h&&(p=h.parse(g),m=h.record.name);else{if(h=f.name?s.get(f.name):n.find(C=>C.re.test(f.path)),!h)throw ec(1,{location:d,currentLocation:f});m=h.record.name,p=Dt({},f.params,d.params),g=h.stringify(p)}const v=[];let b=h;for(;b;)v.unshift(b.record),b=b.parent;return{name:m,path:g,params:p,matched:v,meta:_R(v)}}return r.forEach(d=>i(d)),{addRoute:i,resolve:u,removeRoute:l,getRoutes:a,getRecordMatcher:o}}function I1(r,e){const n={};for(const s of e)s in r&&(n[s]=r[s]);return n}function ER(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:TR(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function TR(r){const e={},n=r.props||!1;if("component"in r)e.default=n;else for(const s in r.components)e[s]=typeof n=="object"?n[s]:n;return e}function L1(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function _R(r){return r.reduce((e,n)=>Dt(e,n.meta),{})}function R1(r,e){const n={};for(const s in r)n[s]=s in e?e[s]:r[s];return n}function YT(r,e){return e.children.some(n=>n===r||YT(r,n))}function OR(r){const e={};if(r===""||r==="?")return e;const s=(r[0]==="?"?r.slice(1):r).split("&");for(let o=0;o<s.length;++o){const i=s[o].replace(zT," "),l=i.indexOf("="),a=od(l<0?i:i.slice(0,l)),c=l<0?null:od(i.slice(l+1));if(a in e){let u=e[a];Rs(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function $1(r){let e="";for(let n in r){const s=r[n];if(n=qL(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Rs(s)?s.map(i=>i&&Qm(i)):[s&&Qm(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function AR(r){const e={};for(const n in r){const s=r[n];s!==void 0&&(e[n]=Rs(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return e}const MR=Symbol(""),D1=Symbol(""),Pp=Symbol(""),Yv=Symbol(""),tb=Symbol("");function au(){let r=[];function e(s){return r.push(s),()=>{const o=r.indexOf(s);o>-1&&r.splice(o,1)}}function n(){r=[]}return{add:e,list:()=>r.slice(),reset:n}}function wi(r,e,n,s,o,i=l=>l()){const l=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const u=h=>{h===!1?c(ec(4,{from:n,to:e})):h instanceof Error?c(h):hR(h)?c(ec(2,{from:e,to:h})):(l&&s.enterCallbacks[o]===l&&typeof h=="function"&&l.push(h),a())},d=i(()=>r.call(s&&s.instances[o],e,n,u));let f=Promise.resolve(d);r.length<3&&(f=f.then(u)),f.catch(h=>c(h))})}function Ug(r,e,n,s,o=i=>i()){const i=[];for(const l of r)for(const a in l.components){let c=l.components[a];if(!(e!=="beforeRouteEnter"&&!l.instances[a]))if(kR(c)){const d=(c.__vccOpts||c)[e];d&&i.push(wi(d,n,s,l,a,o))}else{let u=c();i.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${l.path}"`));const f=RL(d)?d.default:d;l.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&wi(p,n,s,l,a,o)()}))}}return i}function kR(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function V1(r){const e=Ve(Pp),n=Ve(Yv),s=z(()=>{const c=S(r.to);return e.resolve(c)}),o=z(()=>{const{matched:c}=s.value,{length:u}=c,d=c[u-1],f=n.matched;if(!d||!f.length)return-1;const h=f.findIndex(Qa.bind(null,d));if(h>-1)return h;const p=F1(c[u-2]);return u>1&&F1(d)===p&&f[f.length-1].path!==p?f.findIndex(Qa.bind(null,c[u-2])):h}),i=z(()=>o.value>-1&&LR(n.params,s.value.params)),l=z(()=>o.value>-1&&o.value===n.matched.length-1&&WT(n.params,s.value.params));function a(c={}){return IR(c)?e[S(r.replace)?"replace":"push"](S(r.to)).catch(ku):Promise.resolve()}return{route:s,href:z(()=>s.value.href),isActive:i,isExactActive:l,navigate:a}}const PR=pe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:V1,setup(r,{slots:e}){const n=St(V1(r)),{options:s}=Ve(Pp),o=z(()=>({[B1(r.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[B1(r.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return r.custom?i:Ye("a",{"aria-current":n.isExactActive?r.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),NR=PR;function IR(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function LR(r,e){for(const n in e){const s=e[n],o=r[n];if(typeof s=="string"){if(s!==o)return!1}else if(!Rs(o)||o.length!==s.length||s.some((i,l)=>i!==o[l]))return!1}return!0}function F1(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const B1=(r,e,n)=>r??e??n,RR=pe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:n}){const s=Ve(tb),o=z(()=>r.route||s.value),i=Ve(D1,0),l=z(()=>{let u=S(i);const{matched:d}=o.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=z(()=>o.value.matched[l.value]);Wt(D1,z(()=>l.value+1)),Wt(MR,a),Wt(tb,o);const c=j();return $e(()=>[c.value,a.value,r.name],([u,d,f],[h,p,g])=>{d&&(d.instances[f]=u,p&&p!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),u&&d&&(!p||!Qa(d,p)||!h)&&(d.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=o.value,d=r.name,f=a.value,h=f&&f.components[d];if(!h)return z1(n.default,{Component:h,route:u});const p=f.props[d],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,v=Ye(h,Dt({},g,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[d]=null)},ref:c}));return z1(n.default,{Component:v,route:u})||v}}});function z1(r,e){if(!r)return null;const n=r(e);return n.length===1?n[0]:n}const $R=RR;function DR(r){const e=xR(r.routes,r),n=r.parseQuery||OR,s=r.stringifyQuery||$1,o=r.history,i=au(),l=au(),a=au(),c=Ms(li);let u=li;Aa&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=jg.bind(null,G=>""+G),f=jg.bind(null,KL),h=jg.bind(null,od);function p(G,ne){let se,me;return GT(G)?(se=e.getRecordMatcher(G),me=ne):me=G,e.addRoute(me,se)}function g(G){const ne=e.getRecordMatcher(G);ne&&e.removeRoute(ne)}function m(){return e.getRoutes().map(G=>G.record)}function v(G){return!!e.getRecordMatcher(G)}function b(G,ne){if(ne=Dt({},ne||c.value),typeof G=="string"){const L=Hg(n,G,ne.path),te=e.resolve({path:L.path},ne),he=o.createHref(L.fullPath);return Dt(L,te,{params:h(te.params),hash:od(L.hash),redirectedFrom:void 0,href:he})}let se;if(G.path!=null)se=Dt({},G,{path:Hg(n,G.path,ne.path).path});else{const L=Dt({},G.params);for(const te in L)L[te]==null&&delete L[te];se=Dt({},G,{params:f(L)}),ne.params=f(ne.params)}const me=e.resolve(se,ne),Pe=G.hash||"";me.params=d(h(me.params));const Se=XL(s,Dt({},G,{hash:WL(Pe),path:me.path})),D=o.createHref(Se);return Dt({fullPath:Se,hash:Pe,query:s===$1?AR(G.query):G.query||{}},me,{redirectedFrom:void 0,href:D})}function C(G){return typeof G=="string"?Hg(n,G,c.value.path):Dt({},G)}function y(G,ne){if(u!==G)return ec(8,{from:ne,to:G})}function w(G){return _(G)}function x(G){return w(Dt(C(G),{replace:!0}))}function E(G){const ne=G.matched[G.matched.length-1];if(ne&&ne.redirect){const{redirect:se}=ne;let me=typeof se=="function"?se(G):se;return typeof me=="string"&&(me=me.includes("?")||me.includes("#")?me=C(me):{path:me},me.params={}),Dt({query:G.query,hash:G.hash,params:me.path!=null?{}:G.params},me)}}function _(G,ne){const se=u=b(G),me=c.value,Pe=G.state,Se=G.force,D=G.replace===!0,L=E(se);if(L)return _(Dt(C(L),{state:typeof L=="object"?Dt({},Pe,L.state):Pe,force:Se,replace:D}),ne||se);const te=se;te.redirectedFrom=ne;let he;return!Se&&ZL(s,me,se)&&(he=ec(16,{to:te,from:me}),de(me,me,!0,!1)),(he?Promise.resolve(he):k(te,me)).catch(ge=>wo(ge)?wo(ge,2)?ge:ee(ge):Q(ge,te,me)).then(ge=>{if(ge){if(wo(ge,2))return _(Dt({replace:D},C(ge.to),{state:typeof ge.to=="object"?Dt({},Pe,ge.to.state):Pe,force:Se}),ne||te)}else ge=$(te,me,!0,D,Pe);return P(te,me,ge),ge})}function M(G,ne){const se=y(G,ne);return se?Promise.reject(se):Promise.resolve()}function A(G){const ne=fe.values().next().value;return ne&&typeof ne.runWithContext=="function"?ne.runWithContext(G):G()}function k(G,ne){let se;const[me,Pe,Se]=VR(G,ne);se=Ug(me.reverse(),"beforeRouteLeave",G,ne);for(const L of me)L.leaveGuards.forEach(te=>{se.push(wi(te,G,ne))});const D=M.bind(null,G,ne);return se.push(D),Ee(se).then(()=>{se=[];for(const L of i.list())se.push(wi(L,G,ne));return se.push(D),Ee(se)}).then(()=>{se=Ug(Pe,"beforeRouteUpdate",G,ne);for(const L of Pe)L.updateGuards.forEach(te=>{se.push(wi(te,G,ne))});return se.push(D),Ee(se)}).then(()=>{se=[];for(const L of Se)if(L.beforeEnter)if(Rs(L.beforeEnter))for(const te of L.beforeEnter)se.push(wi(te,G,ne));else se.push(wi(L.beforeEnter,G,ne));return se.push(D),Ee(se)}).then(()=>(G.matched.forEach(L=>L.enterCallbacks={}),se=Ug(Se,"beforeRouteEnter",G,ne,A),se.push(D),Ee(se))).then(()=>{se=[];for(const L of l.list())se.push(wi(L,G,ne));return se.push(D),Ee(se)}).catch(L=>wo(L,8)?L:Promise.reject(L))}function P(G,ne,se){a.list().forEach(me=>A(()=>me(G,ne,se)))}function $(G,ne,se,me,Pe){const Se=y(G,ne);if(Se)return Se;const D=ne===li,L=Aa?history.state:{};se&&(me||D?o.replace(G.fullPath,Dt({scroll:D&&L&&L.scroll},Pe)):o.push(G.fullPath,Pe)),c.value=G,de(G,ne,se,D),ee()}let B;function W(){B||(B=o.listen((G,ne,se)=>{if(!we.listening)return;const me=b(G),Pe=E(me);if(Pe){_(Dt(Pe,{replace:!0}),me).catch(ku);return}u=me;const Se=c.value;Aa&&iR(A1(Se.fullPath,se.delta),kp()),k(me,Se).catch(D=>wo(D,12)?D:wo(D,2)?(_(D.to,me).then(L=>{wo(L,20)&&!se.delta&&se.type===id.pop&&o.go(-1,!1)}).catch(ku),Promise.reject()):(se.delta&&o.go(-se.delta,!1),Q(D,me,Se))).then(D=>{D=D||$(me,Se,!1),D&&(se.delta&&!wo(D,8)?o.go(-se.delta,!1):se.type===id.pop&&wo(D,20)&&o.go(-1,!1)),P(me,Se,D)}).catch(ku)}))}let I=au(),R=au(),U;function Q(G,ne,se){ee(G);const me=R.list();return me.length&&me.forEach(Pe=>Pe(G,ne,se)),Promise.reject(G)}function q(){return U&&c.value!==li?Promise.resolve():new Promise((G,ne)=>{I.add([G,ne])})}function ee(G){return U||(U=!G,W(),I.list().forEach(([ne,se])=>G?se(G):ne()),I.reset()),G}function de(G,ne,se,me){const{scrollBehavior:Pe}=r;if(!Aa||!Pe)return Promise.resolve();const Se=!se&&lR(A1(G.fullPath,0))||(me||!se)&&history.state&&history.state.scroll||null;return tt().then(()=>Pe(G,ne,Se)).then(D=>D&&oR(D)).catch(D=>Q(D,G,ne))}const ce=G=>o.go(G);let Te;const fe=new Set,we={currentRoute:c,listening:!0,addRoute:p,removeRoute:g,hasRoute:v,getRoutes:m,resolve:b,options:r,push:w,replace:x,go:ce,back:()=>ce(-1),forward:()=>ce(1),beforeEach:i.add,beforeResolve:l.add,afterEach:a.add,onError:R.add,isReady:q,install(G){const ne=this;G.component("RouterLink",NR),G.component("RouterView",$R),G.config.globalProperties.$router=ne,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>S(c)}),Aa&&!Te&&c.value===li&&(Te=!0,w(o.location).catch(Pe=>{}));const se={};for(const Pe in li)Object.defineProperty(se,Pe,{get:()=>c.value[Pe],enumerable:!0});G.provide(Pp,ne),G.provide(Yv,Nv(se)),G.provide(tb,c);const me=G.unmount;fe.add(G),G.unmount=function(){fe.delete(G),fe.size<1&&(u=li,B&&B(),B=null,c.value=li,Te=!1,U=!1),me()}}};function Ee(G){return G.reduce((ne,se)=>ne.then(()=>A(se)),Promise.resolve())}return we}function VR(r,e){const n=[],s=[],o=[],i=Math.max(e.matched.length,r.matched.length);for(let l=0;l<i;l++){const a=e.matched[l];a&&(r.matched.find(u=>Qa(u,a))?s.push(a):n.push(a));const c=r.matched[l];c&&(e.matched.find(u=>Qa(u,c))||o.push(c))}return[n,s,o]}function ps(){return Ve(Pp)}function Go(){return Ve(Yv)}/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Oh=typeof window<"u",tl=(r,e=!1)=>e?Symbol.for(r):Symbol(r),FR=(r,e,n)=>BR({l:r,k:e,s:n}),BR=r=>JSON.stringify(r).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),_n=r=>typeof r=="number"&&isFinite(r),zR=r=>XT(r)==="[object Date]",Hi=r=>XT(r)==="[object RegExp]",Np=r=>gt(r)&&Object.keys(r).length===0,Yn=Object.assign;let j1;const ko=()=>j1||(j1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function H1(r){return r.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const jR=Object.prototype.hasOwnProperty;function Ah(r,e){return jR.call(r,e)}const Zt=Array.isArray,Kt=r=>typeof r=="function",ze=r=>typeof r=="string",_t=r=>typeof r=="boolean",Lt=r=>r!==null&&typeof r=="object",HR=r=>Lt(r)&&Kt(r.then)&&Kt(r.catch),JT=Object.prototype.toString,XT=r=>JT.call(r),gt=r=>{if(!Lt(r))return!1;const e=Object.getPrototypeOf(r);return e===null||e.constructor===Object},UR=r=>r==null?"":Zt(r)||gt(r)&&r.toString===JT?JSON.stringify(r,null,2):String(r);function WR(r,e=""){return r.reduce((n,s,o)=>o===0?n+s:n+e+s,"")}function Ip(r){let e=r;return()=>++e}function qR(r,e){}const _f=r=>!Lt(r)||Zt(r);function sh(r,e){if(_f(r)||_f(e))throw new Error("Invalid value");const n=[{src:r,des:e}];for(;n.length;){const{src:s,des:o}=n.pop();Object.keys(s).forEach(i=>{_f(s[i])||_f(o[i])?o[i]=s[i]:n.push({src:s[i],des:o[i]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function GR(r,e,n){return{line:r,column:e,offset:n}}function Mh(r,e,n){const s={start:r,end:e};return n!=null&&(s.source=n),s}const KR=/\{([0-9a-zA-Z]+)\}/g;function ZT(r,...e){return e.length===1&&YR(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),r.replace(KR,(n,s)=>e.hasOwnProperty(s)?e[s]:"")}const QT=Object.assign,U1=r=>typeof r=="string",YR=r=>r!==null&&typeof r=="object";function e2(r,e=""){return r.reduce((n,s,o)=>o===0?n+s:n+e+s,"")}const Jv={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},JR={[Jv.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function XR(r,e,...n){const s=ZT(JR[r]||"",...n||[]),o={message:String(s),code:r};return e&&(o.location=e),o}const at={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},ZR={[at.EXPECTED_TOKEN]:"Expected token: '{0}'",[at.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[at.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[at.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[at.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[at.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[at.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[at.EMPTY_PLACEHOLDER]:"Empty placeholder",[at.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[at.INVALID_LINKED_FORMAT]:"Invalid linked format",[at.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[at.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[at.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[at.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[at.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[at.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Wc(r,e,n={}){const{domain:s,messages:o,args:i}=n,l=ZT((o||ZR)[r]||"",...i||[]),a=new SyntaxError(String(l));return a.code=r,e&&(a.location=e),a.domain=s,a}function QR(r){throw r}const Co=" ",e$="\r",ur=`
`,t$="\u2028",n$="\u2029";function r$(r){const e=r;let n=0,s=1,o=1,i=0;const l=_=>e[_]===e$&&e[_+1]===ur,a=_=>e[_]===ur,c=_=>e[_]===n$,u=_=>e[_]===t$,d=_=>l(_)||a(_)||c(_)||u(_),f=()=>n,h=()=>s,p=()=>o,g=()=>i,m=_=>l(_)||c(_)||u(_)?ur:e[_],v=()=>m(n),b=()=>m(n+i);function C(){return i=0,d(n)&&(s++,o=0),l(n)&&n++,n++,o++,e[n]}function y(){return l(n+i)&&i++,i++,e[n+i]}function w(){n=0,s=1,o=1,i=0}function x(_=0){i=_}function E(){const _=n+i;for(;_!==n;)C();i=0}return{index:f,line:h,column:p,peekOffset:g,charAt:m,currentChar:v,currentPeek:b,next:C,peek:y,reset:w,resetPeek:x,skipToPeek:E}}const ai=void 0,s$=".",W1="'",o$="tokenizer";function i$(r,e={}){const n=e.location!==!1,s=r$(r),o=()=>s.index(),i=()=>GR(s.line(),s.column(),s.index()),l=i(),a=o(),c={currentType:14,offset:a,startLoc:l,endLoc:l,lastType:14,lastOffset:a,lastStartLoc:l,lastEndLoc:l,braceNest:0,inLinked:!1,text:""},u=()=>c,{onError:d}=e;function f(V,F,J,...ie){const Ae=u();if(F.column+=J,F.offset+=J,d){const re=n?Mh(Ae.startLoc,F):null,Z=Wc(V,re,{domain:o$,args:ie});d(Z)}}function h(V,F,J){V.endLoc=i(),V.currentType=F;const ie={type:F};return n&&(ie.loc=Mh(V.startLoc,V.endLoc)),J!=null&&(ie.value=J),ie}const p=V=>h(V,14);function g(V,F){return V.currentChar()===F?(V.next(),F):(f(at.EXPECTED_TOKEN,i(),0,F),"")}function m(V){let F="";for(;V.currentPeek()===Co||V.currentPeek()===ur;)F+=V.currentPeek(),V.peek();return F}function v(V){const F=m(V);return V.skipToPeek(),F}function b(V){if(V===ai)return!1;const F=V.charCodeAt(0);return F>=97&&F<=122||F>=65&&F<=90||F===95}function C(V){if(V===ai)return!1;const F=V.charCodeAt(0);return F>=48&&F<=57}function y(V,F){const{currentType:J}=F;if(J!==2)return!1;m(V);const ie=b(V.currentPeek());return V.resetPeek(),ie}function w(V,F){const{currentType:J}=F;if(J!==2)return!1;m(V);const ie=V.currentPeek()==="-"?V.peek():V.currentPeek(),Ae=C(ie);return V.resetPeek(),Ae}function x(V,F){const{currentType:J}=F;if(J!==2)return!1;m(V);const ie=V.currentPeek()===W1;return V.resetPeek(),ie}function E(V,F){const{currentType:J}=F;if(J!==8)return!1;m(V);const ie=V.currentPeek()===".";return V.resetPeek(),ie}function _(V,F){const{currentType:J}=F;if(J!==9)return!1;m(V);const ie=b(V.currentPeek());return V.resetPeek(),ie}function M(V,F){const{currentType:J}=F;if(!(J===8||J===12))return!1;m(V);const ie=V.currentPeek()===":";return V.resetPeek(),ie}function A(V,F){const{currentType:J}=F;if(J!==10)return!1;const ie=()=>{const re=V.currentPeek();return re==="{"?b(V.peek()):re==="@"||re==="%"||re==="|"||re===":"||re==="."||re===Co||!re?!1:re===ur?(V.peek(),ie()):$(V,!1)},Ae=ie();return V.resetPeek(),Ae}function k(V){m(V);const F=V.currentPeek()==="|";return V.resetPeek(),F}function P(V){const F=m(V),J=V.currentPeek()==="%"&&V.peek()==="{";return V.resetPeek(),{isModulo:J,hasSpace:F.length>0}}function $(V,F=!0){const J=(Ae=!1,re="",Z=!1)=>{const ae=V.currentPeek();return ae==="{"?re==="%"?!1:Ae:ae==="@"||!ae?re==="%"?!0:Ae:ae==="%"?(V.peek(),J(Ae,"%",!0)):ae==="|"?re==="%"||Z?!0:!(re===Co||re===ur):ae===Co?(V.peek(),J(!0,Co,Z)):ae===ur?(V.peek(),J(!0,ur,Z)):!0},ie=J();return F&&V.resetPeek(),ie}function B(V,F){const J=V.currentChar();return J===ai?ai:F(J)?(V.next(),J):null}function W(V){const F=V.charCodeAt(0);return F>=97&&F<=122||F>=65&&F<=90||F>=48&&F<=57||F===95||F===36}function I(V){return B(V,W)}function R(V){const F=V.charCodeAt(0);return F>=97&&F<=122||F>=65&&F<=90||F>=48&&F<=57||F===95||F===36||F===45}function U(V){return B(V,R)}function Q(V){const F=V.charCodeAt(0);return F>=48&&F<=57}function q(V){return B(V,Q)}function ee(V){const F=V.charCodeAt(0);return F>=48&&F<=57||F>=65&&F<=70||F>=97&&F<=102}function de(V){return B(V,ee)}function ce(V){let F="",J="";for(;F=q(V);)J+=F;return J}function Te(V){v(V);const F=V.currentChar();return F!=="%"&&f(at.EXPECTED_TOKEN,i(),0,F),V.next(),"%"}function fe(V){let F="";for(;;){const J=V.currentChar();if(J==="{"||J==="}"||J==="@"||J==="|"||!J)break;if(J==="%")if($(V))F+=J,V.next();else break;else if(J===Co||J===ur)if($(V))F+=J,V.next();else{if(k(V))break;F+=J,V.next()}else F+=J,V.next()}return F}function we(V){v(V);let F="",J="";for(;F=U(V);)J+=F;return V.currentChar()===ai&&f(at.UNTERMINATED_CLOSING_BRACE,i(),0),J}function Ee(V){v(V);let F="";return V.currentChar()==="-"?(V.next(),F+=`-${ce(V)}`):F+=ce(V),V.currentChar()===ai&&f(at.UNTERMINATED_CLOSING_BRACE,i(),0),F}function G(V){return V!==W1&&V!==ur}function ne(V){v(V),g(V,"'");let F="",J="";for(;F=B(V,G);)F==="\\"?J+=se(V):J+=F;const ie=V.currentChar();return ie===ur||ie===ai?(f(at.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),ie===ur&&(V.next(),g(V,"'")),J):(g(V,"'"),J)}function se(V){const F=V.currentChar();switch(F){case"\\":case"'":return V.next(),`\\${F}`;case"u":return me(V,F,4);case"U":return me(V,F,6);default:return f(at.UNKNOWN_ESCAPE_SEQUENCE,i(),0,F),""}}function me(V,F,J){g(V,F);let ie="";for(let Ae=0;Ae<J;Ae++){const re=de(V);if(!re){f(at.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${F}${ie}${V.currentChar()}`);break}ie+=re}return`\\${F}${ie}`}function Pe(V){return V!=="{"&&V!=="}"&&V!==Co&&V!==ur}function Se(V){v(V);let F="",J="";for(;F=B(V,Pe);)J+=F;return J}function D(V){let F="",J="";for(;F=I(V);)J+=F;return J}function L(V){const F=J=>{const ie=V.currentChar();return ie==="{"||ie==="%"||ie==="@"||ie==="|"||ie==="("||ie===")"||!ie||ie===Co?J:(J+=ie,V.next(),F(J))};return F("")}function te(V){v(V);const F=g(V,"|");return v(V),F}function he(V,F){let J=null;switch(V.currentChar()){case"{":return F.braceNest>=1&&f(at.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),V.next(),J=h(F,2,"{"),v(V),F.braceNest++,J;case"}":return F.braceNest>0&&F.currentType===2&&f(at.EMPTY_PLACEHOLDER,i(),0),V.next(),J=h(F,3,"}"),F.braceNest--,F.braceNest>0&&v(V),F.inLinked&&F.braceNest===0&&(F.inLinked=!1),J;case"@":return F.braceNest>0&&f(at.UNTERMINATED_CLOSING_BRACE,i(),0),J=ge(V,F)||p(F),F.braceNest=0,J;default:{let Ae=!0,re=!0,Z=!0;if(k(V))return F.braceNest>0&&f(at.UNTERMINATED_CLOSING_BRACE,i(),0),J=h(F,1,te(V)),F.braceNest=0,F.inLinked=!1,J;if(F.braceNest>0&&(F.currentType===5||F.currentType===6||F.currentType===7))return f(at.UNTERMINATED_CLOSING_BRACE,i(),0),F.braceNest=0,Ce(V,F);if(Ae=y(V,F))return J=h(F,5,we(V)),v(V),J;if(re=w(V,F))return J=h(F,6,Ee(V)),v(V),J;if(Z=x(V,F))return J=h(F,7,ne(V)),v(V),J;if(!Ae&&!re&&!Z)return J=h(F,13,Se(V)),f(at.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,J.value),v(V),J;break}}return J}function ge(V,F){const{currentType:J}=F;let ie=null;const Ae=V.currentChar();switch((J===8||J===9||J===12||J===10)&&(Ae===ur||Ae===Co)&&f(at.INVALID_LINKED_FORMAT,i(),0),Ae){case"@":return V.next(),ie=h(F,8,"@"),F.inLinked=!0,ie;case".":return v(V),V.next(),h(F,9,".");case":":return v(V),V.next(),h(F,10,":");default:return k(V)?(ie=h(F,1,te(V)),F.braceNest=0,F.inLinked=!1,ie):E(V,F)||M(V,F)?(v(V),ge(V,F)):_(V,F)?(v(V),h(F,12,D(V))):A(V,F)?(v(V),Ae==="{"?he(V,F)||ie:h(F,11,L(V))):(J===8&&f(at.INVALID_LINKED_FORMAT,i(),0),F.braceNest=0,F.inLinked=!1,Ce(V,F))}}function Ce(V,F){let J={type:14};if(F.braceNest>0)return he(V,F)||p(F);if(F.inLinked)return ge(V,F)||p(F);switch(V.currentChar()){case"{":return he(V,F)||p(F);case"}":return f(at.UNBALANCED_CLOSING_BRACE,i(),0),V.next(),h(F,3,"}");case"@":return ge(V,F)||p(F);default:{if(k(V))return J=h(F,1,te(V)),F.braceNest=0,F.inLinked=!1,J;const{isModulo:Ae,hasSpace:re}=P(V);if(Ae)return re?h(F,0,fe(V)):h(F,4,Te(V));if($(V))return h(F,0,fe(V));break}}return J}function xe(){const{currentType:V,offset:F,startLoc:J,endLoc:ie}=c;return c.lastType=V,c.lastOffset=F,c.lastStartLoc=J,c.lastEndLoc=ie,c.offset=o(),c.startLoc=i(),s.currentChar()===ai?h(c,14):Ce(s,c)}return{nextToken:xe,currentOffset:o,currentPosition:i,context:u}}const l$="parser",a$=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function c$(r,e,n){switch(r){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(e||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):"�"}}}function u$(r={}){const e=r.location!==!1,{onError:n,onWarn:s}=r;function o(y,w,x,E,..._){const M=y.currentPosition();if(M.offset+=E,M.column+=E,n){const A=e?Mh(x,M):null,k=Wc(w,A,{domain:l$,args:_});n(k)}}function i(y,w,x,E,..._){const M=y.currentPosition();if(M.offset+=E,M.column+=E,s){const A=e?Mh(x,M):null;s(XR(w,A,_))}}function l(y,w,x){const E={type:y};return e&&(E.start=w,E.end=w,E.loc={start:x,end:x}),E}function a(y,w,x,E){E&&(y.type=E),e&&(y.end=w,y.loc&&(y.loc.end=x))}function c(y,w){const x=y.context(),E=l(3,x.offset,x.startLoc);return E.value=w,a(E,y.currentOffset(),y.currentPosition()),E}function u(y,w){const x=y.context(),{lastOffset:E,lastStartLoc:_}=x,M=l(5,E,_);return M.index=parseInt(w,10),y.nextToken(),a(M,y.currentOffset(),y.currentPosition()),M}function d(y,w,x){const E=y.context(),{lastOffset:_,lastStartLoc:M}=E,A=l(4,_,M);return A.key=w,x===!0&&(A.modulo=!0),y.nextToken(),a(A,y.currentOffset(),y.currentPosition()),A}function f(y,w){const x=y.context(),{lastOffset:E,lastStartLoc:_}=x,M=l(9,E,_);return M.value=w.replace(a$,c$),y.nextToken(),a(M,y.currentOffset(),y.currentPosition()),M}function h(y){const w=y.nextToken(),x=y.context(),{lastOffset:E,lastStartLoc:_}=x,M=l(8,E,_);return w.type!==12?(o(y,at.UNEXPECTED_EMPTY_LINKED_MODIFIER,x.lastStartLoc,0),M.value="",a(M,E,_),{nextConsumeToken:w,node:M}):(w.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,bs(w)),M.value=w.value||"",a(M,y.currentOffset(),y.currentPosition()),{node:M})}function p(y,w){const x=y.context(),E=l(7,x.offset,x.startLoc);return E.value=w,a(E,y.currentOffset(),y.currentPosition()),E}function g(y){const w=y.context(),x=l(6,w.offset,w.startLoc);let E=y.nextToken();if(E.type===9){const _=h(y);x.modifier=_.node,E=_.nextConsumeToken||y.nextToken()}switch(E.type!==10&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs(E)),E=y.nextToken(),E.type===2&&(E=y.nextToken()),E.type){case 11:E.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs(E)),x.key=p(y,E.value||"");break;case 5:E.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs(E)),x.key=d(y,E.value||"");break;case 6:E.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs(E)),x.key=u(y,E.value||"");break;case 7:E.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs(E)),x.key=f(y,E.value||"");break;default:{o(y,at.UNEXPECTED_EMPTY_LINKED_KEY,w.lastStartLoc,0);const _=y.context(),M=l(7,_.offset,_.startLoc);return M.value="",a(M,_.offset,_.startLoc),x.key=M,a(x,_.offset,_.startLoc),{nextConsumeToken:E,node:x}}}return a(x,y.currentOffset(),y.currentPosition()),{node:x}}function m(y){const w=y.context(),x=w.currentType===1?y.currentOffset():w.offset,E=w.currentType===1?w.endLoc:w.startLoc,_=l(2,x,E);_.items=[];let M=null,A=null;do{const $=M||y.nextToken();switch(M=null,$.type){case 0:$.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs($)),_.items.push(c(y,$.value||""));break;case 6:$.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs($)),_.items.push(u(y,$.value||""));break;case 4:A=!0;break;case 5:$.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs($)),_.items.push(d(y,$.value||"",!!A)),A&&(i(y,Jv.USE_MODULO_SYNTAX,w.lastStartLoc,0,bs($)),A=null);break;case 7:$.value==null&&o(y,at.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,bs($)),_.items.push(f(y,$.value||""));break;case 8:{const B=g(y);_.items.push(B.node),M=B.nextConsumeToken||null;break}}}while(w.currentType!==14&&w.currentType!==1);const k=w.currentType===1?w.lastOffset:y.currentOffset(),P=w.currentType===1?w.lastEndLoc:y.currentPosition();return a(_,k,P),_}function v(y,w,x,E){const _=y.context();let M=E.items.length===0;const A=l(1,w,x);A.cases=[],A.cases.push(E);do{const k=m(y);M||(M=k.items.length===0),A.cases.push(k)}while(_.currentType!==14);return M&&o(y,at.MUST_HAVE_MESSAGES_IN_PLURAL,x,0),a(A,y.currentOffset(),y.currentPosition()),A}function b(y){const w=y.context(),{offset:x,startLoc:E}=w,_=m(y);return w.currentType===14?_:v(y,x,E,_)}function C(y){const w=i$(y,QT({},r)),x=w.context(),E=l(0,x.offset,x.startLoc);return e&&E.loc&&(E.loc.source=y),E.body=b(w),r.onCacheKey&&(E.cacheKey=r.onCacheKey(y)),x.currentType!==14&&o(w,at.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,y[x.offset]||""),a(E,w.currentOffset(),w.currentPosition()),E}return{parse:C}}function bs(r){if(r.type===14)return"EOF";const e=(r.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function d$(r,e={}){const n={ast:r,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function q1(r,e){for(let n=0;n<r.length;n++)Xv(r[n],e)}function Xv(r,e){switch(r.type){case 1:q1(r.cases,e),e.helper("plural");break;case 2:q1(r.items,e);break;case 6:{Xv(r.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function f$(r,e={}){const n=d$(r);n.helper("normalize"),r.body&&Xv(r.body,n);const s=n.context();r.helpers=Array.from(s.helpers)}function h$(r){const e=r.body;return e.type===2?G1(e):e.cases.forEach(n=>G1(n)),r}function G1(r){if(r.items.length===1){const e=r.items[0];(e.type===3||e.type===9)&&(r.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<r.items.length;n++){const s=r.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;e.push(s.value)}if(e.length===r.items.length){r.static=e2(e);for(let n=0;n<r.items.length;n++){const s=r.items[n];(s.type===3||s.type===9)&&delete s.value}}}}const p$="minifier";function Ma(r){switch(r.t=r.type,r.type){case 0:{const e=r;Ma(e.body),e.b=e.body,delete e.body;break}case 1:{const e=r,n=e.cases;for(let s=0;s<n.length;s++)Ma(n[s]);e.c=n,delete e.cases;break}case 2:{const e=r,n=e.items;for(let s=0;s<n.length;s++)Ma(n[s]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=r;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=r;Ma(e.key),e.k=e.key,delete e.key,e.modifier&&(Ma(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=r;e.i=e.index,delete e.index;break}case 4:{const e=r;e.k=e.key,delete e.key;break}default:throw Wc(at.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:p$,args:[r.type]})}delete r.type}const g$="parser";function m$(r,e){const{sourceMap:n,filename:s,breakLineCode:o,needIndent:i}=e,l=e.location!==!1,a={filename:s,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:i,indentLevel:0};l&&r.loc&&(a.source=r.loc.source);const c=()=>a;function u(v,b){a.code+=v}function d(v,b=!0){const C=b?o:"";u(i?C+"  ".repeat(v):C)}function f(v=!0){const b=++a.indentLevel;v&&d(b)}function h(v=!0){const b=--a.indentLevel;v&&d(b)}function p(){d(a.indentLevel)}return{context:c,push:u,indent:f,deindent:h,newline:p,helper:v=>`_${v}`,needIndent:()=>a.needIndent}}function b$(r,e){const{helper:n}=r;r.push(`${n("linked")}(`),tc(r,e.key),e.modifier?(r.push(", "),tc(r,e.modifier),r.push(", _type")):r.push(", undefined, _type"),r.push(")")}function v$(r,e){const{helper:n,needIndent:s}=r;r.push(`${n("normalize")}([`),r.indent(s());const o=e.items.length;for(let i=0;i<o&&(tc(r,e.items[i]),i!==o-1);i++)r.push(", ");r.deindent(s()),r.push("])")}function y$(r,e){const{helper:n,needIndent:s}=r;if(e.cases.length>1){r.push(`${n("plural")}([`),r.indent(s());const o=e.cases.length;for(let i=0;i<o&&(tc(r,e.cases[i]),i!==o-1);i++)r.push(", ");r.deindent(s()),r.push("])")}}function w$(r,e){e.body?tc(r,e.body):r.push("null")}function tc(r,e){const{helper:n}=r;switch(e.type){case 0:w$(r,e);break;case 1:y$(r,e);break;case 2:v$(r,e);break;case 6:b$(r,e);break;case 8:r.push(JSON.stringify(e.value),e);break;case 7:r.push(JSON.stringify(e.value),e);break;case 5:r.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:r.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:r.push(JSON.stringify(e.value),e);break;case 3:r.push(JSON.stringify(e.value),e);break;default:throw Wc(at.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:g$,args:[e.type]})}}const C$=(r,e={})=>{const n=U1(e.mode)?e.mode:"normal",s=U1(e.filename)?e.filename:"message.intl",o=!!e.sourceMap,i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,l=e.needIndent?e.needIndent:n!=="arrow",a=r.helpers||[],c=m$(r,{mode:n,filename:s,sourceMap:o,breakLineCode:i,needIndent:l});c.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(l),a.length>0&&(c.push(`const { ${e2(a.map(f=>`${f}: _${f}`),", ")} } = ctx`),c.newline()),c.push("return "),tc(c,r),c.deindent(l),c.push("}"),delete r.helpers;const{code:u,map:d}=c.context();return{ast:r,code:u,map:d?d.toJSON():void 0}};function S$(r,e={}){const n=QT({},e),s=!!n.jit,o=!!n.minify,i=n.optimize==null?!0:n.optimize,a=u$(n).parse(r);return s?(i&&h$(a),o&&Ma(a),{ast:a,code:""}):(f$(a,n),C$(a,n))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function x$(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ko().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ko().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ko().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const nl=[];nl[0]={w:[0],i:[3,0],"[":[4],o:[7]};nl[1]={w:[1],".":[2],"[":[4],o:[7]};nl[2]={w:[2],i:[3,0],0:[3,0]};nl[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};nl[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};nl[5]={"'":[4,0],o:8,l:[5,0]};nl[6]={'"':[4,0],o:8,l:[6,0]};const E$=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function T$(r){return E$.test(r)}function _$(r){const e=r.charCodeAt(0),n=r.charCodeAt(r.length-1);return e===n&&(e===34||e===39)?r.slice(1,-1):r}function O$(r){if(r==null)return"o";switch(r.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return r;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function A$(r){const e=r.trim();return r.charAt(0)==="0"&&isNaN(parseInt(r))?!1:T$(e)?_$(e):"*"+e}function M$(r){const e=[];let n=-1,s=0,o=0,i,l,a,c,u,d,f;const h=[];h[0]=()=>{l===void 0?l=a:l+=a},h[1]=()=>{l!==void 0&&(e.push(l),l=void 0)},h[2]=()=>{h[0](),o++},h[3]=()=>{if(o>0)o--,s=4,h[0]();else{if(o=0,l===void 0||(l=A$(l),l===!1))return!1;h[1]()}};function p(){const g=r[n+1];if(s===5&&g==="'"||s===6&&g==='"')return n++,a="\\"+g,h[0](),!0}for(;s!==null;)if(n++,i=r[n],!(i==="\\"&&p())){if(c=O$(i),f=nl[s],u=f[c]||f.l||8,u===8||(s=u[0],u[1]!==void 0&&(d=h[u[1]],d&&(a=i,d()===!1))))return;if(s===7)return e}}const K1=new Map;function k$(r,e){return Lt(r)?r[e]:null}function P$(r,e){if(!Lt(r))return null;let n=K1.get(e);if(n||(n=M$(e),n&&K1.set(e,n)),!n)return null;const s=n.length;let o=r,i=0;for(;i<s;){const l=o[n[i]];if(l===void 0||Kt(o))return null;o=l,i++}return o}const N$=r=>r,I$=r=>"",L$="text",R$=r=>r.length===0?"":WR(r),$$=UR;function Y1(r,e){return r=Math.abs(r),e===2?r?r>1?1:0:1:r?Math.min(r,2):0}function D$(r){const e=_n(r.pluralIndex)?r.pluralIndex:-1;return r.named&&(_n(r.named.count)||_n(r.named.n))?_n(r.named.count)?r.named.count:_n(r.named.n)?r.named.n:e:e}function V$(r,e){e.count||(e.count=r),e.n||(e.n=r)}function F$(r={}){const e=r.locale,n=D$(r),s=Lt(r.pluralRules)&&ze(e)&&Kt(r.pluralRules[e])?r.pluralRules[e]:Y1,o=Lt(r.pluralRules)&&ze(e)&&Kt(r.pluralRules[e])?Y1:void 0,i=b=>b[s(n,b.length,o)],l=r.list||[],a=b=>l[b],c=r.named||{};_n(r.pluralIndex)&&V$(n,c);const u=b=>c[b];function d(b){const C=Kt(r.messages)?r.messages(b):Lt(r.messages)?r.messages[b]:!1;return C||(r.parent?r.parent.message(b):I$)}const f=b=>r.modifiers?r.modifiers[b]:N$,h=gt(r.processor)&&Kt(r.processor.normalize)?r.processor.normalize:R$,p=gt(r.processor)&&Kt(r.processor.interpolate)?r.processor.interpolate:$$,g=gt(r.processor)&&ze(r.processor.type)?r.processor.type:L$,v={list:a,named:u,plural:i,linked:(b,...C)=>{const[y,w]=C;let x="text",E="";C.length===1?Lt(y)?(E=y.modifier||E,x=y.type||x):ze(y)&&(E=y||E):C.length===2&&(ze(y)&&(E=y||E),ze(w)&&(x=w||x));const _=d(b)(v),M=x==="vnode"&&Zt(_)&&E?_[0]:_;return E?f(E)(M,x):M},message:d,type:g,interpolate:p,normalize:h,values:Yn({},l,c)};return v}let ld=null;function B$(r){ld=r}function z$(r,e,n){ld&&ld.emit("i18n:init",{timestamp:Date.now(),i18n:r,version:e,meta:n})}const j$=H$("function:translate");function H$(r){return e=>ld&&ld.emit(r,e)}const t2=Jv.__EXTEND_POINT__,vl=Ip(t2),U$={NOT_FOUND_KEY:t2,FALLBACK_TO_TRANSLATE:vl(),CANNOT_FORMAT_NUMBER:vl(),FALLBACK_TO_NUMBER_FORMAT:vl(),CANNOT_FORMAT_DATE:vl(),FALLBACK_TO_DATE_FORMAT:vl(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:vl(),__EXTEND_POINT__:vl()},n2=at.__EXTEND_POINT__,yl=Ip(n2),_s={INVALID_ARGUMENT:n2,INVALID_DATE_ARGUMENT:yl(),INVALID_ISO_DATE_ARGUMENT:yl(),NOT_SUPPORT_NON_STRING_MESSAGE:yl(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:yl(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:yl(),NOT_SUPPORT_LOCALE_TYPE:yl(),__EXTEND_POINT__:yl()};function Zs(r){return Wc(r,null,void 0)}function Zv(r,e){return e.locale!=null?J1(e.locale):J1(r.locale)}let Wg;function J1(r){if(ze(r))return r;if(Kt(r)){if(r.resolvedOnce&&Wg!=null)return Wg;if(r.constructor.name==="Function"){const e=r();if(HR(e))throw Zs(_s.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Wg=e}else throw Zs(_s.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Zs(_s.NOT_SUPPORT_LOCALE_TYPE)}function W$(r,e,n){return[...new Set([n,...Zt(e)?e:Lt(e)?Object.keys(e):ze(e)?[e]:[n]])]}function r2(r,e,n){const s=ze(n)?n:nc,o=r;o.__localeChainCache||(o.__localeChainCache=new Map);let i=o.__localeChainCache.get(s);if(!i){i=[];let l=[n];for(;Zt(l);)l=X1(i,l,e);const a=Zt(e)||!gt(e)?e:e.default?e.default:null;l=ze(a)?[a]:a,Zt(l)&&X1(i,l,!1),o.__localeChainCache.set(s,i)}return i}function X1(r,e,n){let s=!0;for(let o=0;o<e.length&&_t(s);o++){const i=e[o];ze(i)&&(s=q$(r,e[o],n))}return s}function q$(r,e,n){let s;const o=e.split("-");do{const i=o.join("-");s=G$(r,i,n),o.splice(-1,1)}while(o.length&&s===!0);return s}function G$(r,e,n){let s=!1;if(!r.includes(e)&&(s=!0,e)){s=e[e.length-1]!=="!";const o=e.replace(/!/g,"");r.push(o),(Zt(n)||gt(n))&&n[o]&&(s=n[o])}return s}const K$="9.13.1",Lp=-1,nc="en-US",Z1="",Q1=r=>`${r.charAt(0).toLocaleUpperCase()}${r.substr(1)}`;function Y$(){return{upper:(r,e)=>e==="text"&&ze(r)?r.toUpperCase():e==="vnode"&&Lt(r)&&"__v_isVNode"in r?r.children.toUpperCase():r,lower:(r,e)=>e==="text"&&ze(r)?r.toLowerCase():e==="vnode"&&Lt(r)&&"__v_isVNode"in r?r.children.toLowerCase():r,capitalize:(r,e)=>e==="text"&&ze(r)?Q1(r):e==="vnode"&&Lt(r)&&"__v_isVNode"in r?Q1(r.children):r}}let s2;function ew(r){s2=r}let o2;function J$(r){o2=r}let i2;function X$(r){i2=r}let l2=null;const Z$=r=>{l2=r},Q$=()=>l2;let a2=null;const tw=r=>{a2=r},e3=()=>a2;let nw=0;function t3(r={}){const e=Kt(r.onWarn)?r.onWarn:qR,n=ze(r.version)?r.version:K$,s=ze(r.locale)||Kt(r.locale)?r.locale:nc,o=Kt(s)?nc:s,i=Zt(r.fallbackLocale)||gt(r.fallbackLocale)||ze(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:o,l=gt(r.messages)?r.messages:{[o]:{}},a=gt(r.datetimeFormats)?r.datetimeFormats:{[o]:{}},c=gt(r.numberFormats)?r.numberFormats:{[o]:{}},u=Yn({},r.modifiers||{},Y$()),d=r.pluralRules||{},f=Kt(r.missing)?r.missing:null,h=_t(r.missingWarn)||Hi(r.missingWarn)?r.missingWarn:!0,p=_t(r.fallbackWarn)||Hi(r.fallbackWarn)?r.fallbackWarn:!0,g=!!r.fallbackFormat,m=!!r.unresolving,v=Kt(r.postTranslation)?r.postTranslation:null,b=gt(r.processor)?r.processor:null,C=_t(r.warnHtmlMessage)?r.warnHtmlMessage:!0,y=!!r.escapeParameter,w=Kt(r.messageCompiler)?r.messageCompiler:s2,x=Kt(r.messageResolver)?r.messageResolver:o2||k$,E=Kt(r.localeFallbacker)?r.localeFallbacker:i2||W$,_=Lt(r.fallbackContext)?r.fallbackContext:void 0,M=r,A=Lt(M.__datetimeFormatters)?M.__datetimeFormatters:new Map,k=Lt(M.__numberFormatters)?M.__numberFormatters:new Map,P=Lt(M.__meta)?M.__meta:{};nw++;const $={version:n,cid:nw,locale:s,fallbackLocale:i,messages:l,modifiers:u,pluralRules:d,missing:f,missingWarn:h,fallbackWarn:p,fallbackFormat:g,unresolving:m,postTranslation:v,processor:b,warnHtmlMessage:C,escapeParameter:y,messageCompiler:w,messageResolver:x,localeFallbacker:E,fallbackContext:_,onWarn:e,__meta:P};return $.datetimeFormats=a,$.numberFormats=c,$.__datetimeFormatters=A,$.__numberFormatters=k,__INTLIFY_PROD_DEVTOOLS__&&z$($,n,P),$}function Qv(r,e,n,s,o){const{missing:i,onWarn:l}=r;if(i!==null){const a=i(r,n,e,o);return ze(a)?a:e}else return e}function cu(r,e,n){const s=r;s.__localeChainCache=new Map,r.localeFallbacker(r,n,e)}function n3(r,e){return r===e?!1:r.split("-")[0]===e.split("-")[0]}function r3(r,e){const n=e.indexOf(r);if(n===-1)return!1;for(let s=n+1;s<e.length;s++)if(n3(r,e[s]))return!0;return!1}function qg(r){return n=>s3(n,r)}function s3(r,e){const n=e.b||e.body;if((n.t||n.type)===1){const s=n,o=s.c||s.cases;return r.plural(o.reduce((i,l)=>[...i,rw(r,l)],[]))}else return rw(r,n)}function rw(r,e){const n=e.s||e.static;if(n)return r.type==="text"?n:r.normalize([n]);{const s=(e.i||e.items).reduce((o,i)=>[...o,nb(r,i)],[]);return r.normalize(s)}}function nb(r,e){const n=e.t||e.type;switch(n){case 3:{const s=e;return s.v||s.value}case 9:{const s=e;return s.v||s.value}case 4:{const s=e;return r.interpolate(r.named(s.k||s.key))}case 5:{const s=e;return r.interpolate(r.list(s.i!=null?s.i:s.index))}case 6:{const s=e,o=s.m||s.modifier;return r.linked(nb(r,s.k||s.key),o?nb(r,o):void 0,r.type)}case 7:{const s=e;return s.v||s.value}case 8:{const s=e;return s.v||s.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const c2=r=>r;let Ra=Object.create(null);const rc=r=>Lt(r)&&(r.t===0||r.type===0)&&("b"in r||"body"in r);function u2(r,e={}){let n=!1;const s=e.onError||QR;return e.onError=o=>{n=!0,s(o)},{...S$(r,e),detectError:n}}const o3=(r,e)=>{if(!ze(r))throw Zs(_s.NOT_SUPPORT_NON_STRING_MESSAGE);{_t(e.warnHtmlMessage)&&e.warnHtmlMessage;const s=(e.onCacheKey||c2)(r),o=Ra[s];if(o)return o;const{code:i,detectError:l}=u2(r,e),a=new Function(`return ${i}`)();return l?a:Ra[s]=a}};function i3(r,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&ze(r)){_t(e.warnHtmlMessage)&&e.warnHtmlMessage;const s=(e.onCacheKey||c2)(r),o=Ra[s];if(o)return o;const{ast:i,detectError:l}=u2(r,{...e,location:!1,jit:!0}),a=qg(i);return l?a:Ra[s]=a}else{const n=r.cacheKey;if(n){const s=Ra[n];return s||(Ra[n]=qg(r))}else return qg(r)}}const sw=()=>"",Yr=r=>Kt(r);function ow(r,...e){const{fallbackFormat:n,postTranslation:s,unresolving:o,messageCompiler:i,fallbackLocale:l,messages:a}=r,[c,u]=rb(...e),d=_t(u.missingWarn)?u.missingWarn:r.missingWarn,f=_t(u.fallbackWarn)?u.fallbackWarn:r.fallbackWarn,h=_t(u.escapeParameter)?u.escapeParameter:r.escapeParameter,p=!!u.resolvedMessage,g=ze(u.default)||_t(u.default)?_t(u.default)?i?c:()=>c:u.default:n?i?c:()=>c:"",m=n||g!=="",v=Zv(r,u);h&&l3(u);let[b,C,y]=p?[c,v,a[v]||{}]:d2(r,c,v,l,f,d),w=b,x=c;if(!p&&!(ze(w)||rc(w)||Yr(w))&&m&&(w=g,x=w),!p&&(!(ze(w)||rc(w)||Yr(w))||!ze(C)))return o?Lp:c;let E=!1;const _=()=>{E=!0},M=Yr(w)?w:f2(r,c,C,w,x,_);if(E)return w;const A=u3(r,C,y,u),k=F$(A),P=a3(r,M,k),$=s?s(P,c):P;if(__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:ze(c)?c:Yr(w)?w.key:"",locale:C||(Yr(w)?w.locale:""),format:ze(w)?w:Yr(w)?w.source:"",message:$};B.meta=Yn({},r.__meta,Q$()||{}),j$(B)}return $}function l3(r){Zt(r.list)?r.list=r.list.map(e=>ze(e)?H1(e):e):Lt(r.named)&&Object.keys(r.named).forEach(e=>{ze(r.named[e])&&(r.named[e]=H1(r.named[e]))})}function d2(r,e,n,s,o,i){const{messages:l,onWarn:a,messageResolver:c,localeFallbacker:u}=r,d=u(r,s,n);let f={},h,p=null;const g="translate";for(let m=0;m<d.length&&(h=d[m],f=l[h]||{},(p=c(f,e))===null&&(p=f[e]),!(ze(p)||rc(p)||Yr(p)));m++)if(!r3(h,d)){const v=Qv(r,e,h,i,g);v!==e&&(p=v)}return[p,h,f]}function f2(r,e,n,s,o,i){const{messageCompiler:l,warnHtmlMessage:a}=r;if(Yr(s)){const u=s;return u.locale=u.locale||n,u.key=u.key||e,u}if(l==null){const u=()=>s;return u.locale=n,u.key=e,u}const c=l(s,c3(r,n,o,s,a,i));return c.locale=n,c.key=e,c.source=s,c}function a3(r,e,n){return e(n)}function rb(...r){const[e,n,s]=r,o={};if(!ze(e)&&!_n(e)&&!Yr(e)&&!rc(e))throw Zs(_s.INVALID_ARGUMENT);const i=_n(e)?String(e):(Yr(e),e);return _n(n)?o.plural=n:ze(n)?o.default=n:gt(n)&&!Np(n)?o.named=n:Zt(n)&&(o.list=n),_n(s)?o.plural=s:ze(s)?o.default=s:gt(s)&&Yn(o,s),[i,o]}function c3(r,e,n,s,o,i){return{locale:e,key:n,warnHtmlMessage:o,onError:l=>{throw i&&i(l),l},onCacheKey:l=>FR(e,n,l)}}function u3(r,e,n,s){const{modifiers:o,pluralRules:i,messageResolver:l,fallbackLocale:a,fallbackWarn:c,missingWarn:u,fallbackContext:d}=r,h={locale:e,modifiers:o,pluralRules:i,messages:p=>{let g=l(n,p);if(g==null&&d){const[,,m]=d2(d,p,e,a,c,u);g=l(m,p)}if(ze(g)||rc(g)){let m=!1;const b=f2(r,p,e,g,p,()=>{m=!0});return m?sw:b}else return Yr(g)?g:sw}};return r.processor&&(h.processor=r.processor),s.list&&(h.list=s.list),s.named&&(h.named=s.named),_n(s.plural)&&(h.pluralIndex=s.plural),h}function iw(r,...e){const{datetimeFormats:n,unresolving:s,fallbackLocale:o,onWarn:i,localeFallbacker:l}=r,{__datetimeFormatters:a}=r,[c,u,d,f]=sb(...e),h=_t(d.missingWarn)?d.missingWarn:r.missingWarn;_t(d.fallbackWarn)?d.fallbackWarn:r.fallbackWarn;const p=!!d.part,g=Zv(r,d),m=l(r,o,g);if(!ze(c)||c==="")return new Intl.DateTimeFormat(g,f).format(u);let v={},b,C=null;const y="datetime format";for(let E=0;E<m.length&&(b=m[E],v=n[b]||{},C=v[c],!gt(C));E++)Qv(r,c,b,h,y);if(!gt(C)||!ze(b))return s?Lp:c;let w=`${b}__${c}`;Np(f)||(w=`${w}__${JSON.stringify(f)}`);let x=a.get(w);return x||(x=new Intl.DateTimeFormat(b,Yn({},C,f)),a.set(w,x)),p?x.formatToParts(u):x.format(u)}const h2=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function sb(...r){const[e,n,s,o]=r,i={};let l={},a;if(ze(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Zs(_s.INVALID_ISO_DATE_ARGUMENT);const u=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(u);try{a.toISOString()}catch{throw Zs(_s.INVALID_ISO_DATE_ARGUMENT)}}else if(zR(e)){if(isNaN(e.getTime()))throw Zs(_s.INVALID_DATE_ARGUMENT);a=e}else if(_n(e))a=e;else throw Zs(_s.INVALID_ARGUMENT);return ze(n)?i.key=n:gt(n)&&Object.keys(n).forEach(c=>{h2.includes(c)?l[c]=n[c]:i[c]=n[c]}),ze(s)?i.locale=s:gt(s)&&(l=s),gt(o)&&(l=o),[i.key||"",a,i,l]}function lw(r,e,n){const s=r;for(const o in n){const i=`${e}__${o}`;s.__datetimeFormatters.has(i)&&s.__datetimeFormatters.delete(i)}}function aw(r,...e){const{numberFormats:n,unresolving:s,fallbackLocale:o,onWarn:i,localeFallbacker:l}=r,{__numberFormatters:a}=r,[c,u,d,f]=ob(...e),h=_t(d.missingWarn)?d.missingWarn:r.missingWarn;_t(d.fallbackWarn)?d.fallbackWarn:r.fallbackWarn;const p=!!d.part,g=Zv(r,d),m=l(r,o,g);if(!ze(c)||c==="")return new Intl.NumberFormat(g,f).format(u);let v={},b,C=null;const y="number format";for(let E=0;E<m.length&&(b=m[E],v=n[b]||{},C=v[c],!gt(C));E++)Qv(r,c,b,h,y);if(!gt(C)||!ze(b))return s?Lp:c;let w=`${b}__${c}`;Np(f)||(w=`${w}__${JSON.stringify(f)}`);let x=a.get(w);return x||(x=new Intl.NumberFormat(b,Yn({},C,f)),a.set(w,x)),p?x.formatToParts(u):x.format(u)}const p2=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ob(...r){const[e,n,s,o]=r,i={};let l={};if(!_n(e))throw Zs(_s.INVALID_ARGUMENT);const a=e;return ze(n)?i.key=n:gt(n)&&Object.keys(n).forEach(c=>{p2.includes(c)?l[c]=n[c]:i[c]=n[c]}),ze(s)?i.locale=s:gt(s)&&(l=s),gt(o)&&(l=o),[i.key||"",a,i,l]}function cw(r,e,n){const s=r;for(const o in n){const i=`${e}__${o}`;s.__numberFormatters.has(i)&&s.__numberFormatters.delete(i)}}x$();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const d3="9.13.1";function f3(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ko().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ko().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ko().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ko().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ko().__INTLIFY_PROD_DEVTOOLS__=!1)}const g2=U$.__EXTEND_POINT__,So=Ip(g2);So(),So(),So(),So(),So(),So(),So(),So(),So();const m2=_s.__EXTEND_POINT__,br=Ip(m2),An={UNEXPECTED_RETURN_TYPE:m2,INVALID_ARGUMENT:br(),MUST_BE_CALL_SETUP_TOP:br(),NOT_INSTALLED:br(),NOT_AVAILABLE_IN_LEGACY_MODE:br(),REQUIRED_VALUE:br(),INVALID_VALUE:br(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:br(),NOT_INSTALLED_WITH_PROVIDE:br(),UNEXPECTED_ERROR:br(),NOT_COMPATIBLE_LEGACY_VUE_I18N:br(),BRIDGE_SUPPORT_VUE_2_ONLY:br(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:br(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:br(),__EXTEND_POINT__:br()};function Rn(r,...e){return Wc(r,null,void 0)}const ib=tl("__translateVNode"),lb=tl("__datetimeParts"),ab=tl("__numberParts"),b2=tl("__setPluralRules"),v2=tl("__injectWithOption"),cb=tl("__dispose");function ad(r){if(!Lt(r))return r;for(const e in r)if(Ah(r,e))if(!e.includes("."))Lt(r[e])&&ad(r[e]);else{const n=e.split("."),s=n.length-1;let o=r,i=!1;for(let l=0;l<s;l++){if(n[l]in o||(o[n[l]]={}),!Lt(o[n[l]])){i=!0;break}o=o[n[l]]}i||(o[n[s]]=r[e],delete r[e]),Lt(o[n[s]])&&ad(o[n[s]])}return r}function Rp(r,e){const{messages:n,__i18n:s,messageResolver:o,flatJson:i}=e,l=gt(n)?n:Zt(s)?{}:{[r]:{}};if(Zt(s)&&s.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:u}=a;c?(l[c]=l[c]||{},sh(u,l[c])):sh(u,l)}else ze(a)&&sh(JSON.parse(a),l)}),o==null&&i)for(const a in l)Ah(l,a)&&ad(l[a]);return l}function y2(r){return r.type}function w2(r,e,n){let s=Lt(e.messages)?e.messages:{};"__i18nGlobal"in n&&(s=Rp(r.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const o=Object.keys(s);o.length&&o.forEach(i=>{r.mergeLocaleMessage(i,s[i])});{if(Lt(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(l=>{r.mergeDateTimeFormat(l,e.datetimeFormats[l])})}if(Lt(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(l=>{r.mergeNumberFormat(l,e.numberFormats[l])})}}}function uw(r){return T(da,null,r,0)}const dw="__INTLIFY_META__",fw=()=>[],h3=()=>!1;let hw=0;function pw(r){return(e,n,s,o)=>r(n,s,bt()||void 0,o)}const p3=()=>{const r=bt();let e=null;return r&&(e=y2(r)[dw])?{[dw]:e}:null};function ey(r={},e){const{__root:n,__injectWithOption:s}=r,o=n===void 0,i=r.flatJson,l=Oh?j:Ms,a=!!r.translateExistCompatible;let c=_t(r.inheritLocale)?r.inheritLocale:!0;const u=l(n&&c?n.locale.value:ze(r.locale)?r.locale:nc),d=l(n&&c?n.fallbackLocale.value:ze(r.fallbackLocale)||Zt(r.fallbackLocale)||gt(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:u.value),f=l(Rp(u.value,r)),h=l(gt(r.datetimeFormats)?r.datetimeFormats:{[u.value]:{}}),p=l(gt(r.numberFormats)?r.numberFormats:{[u.value]:{}});let g=n?n.missingWarn:_t(r.missingWarn)||Hi(r.missingWarn)?r.missingWarn:!0,m=n?n.fallbackWarn:_t(r.fallbackWarn)||Hi(r.fallbackWarn)?r.fallbackWarn:!0,v=n?n.fallbackRoot:_t(r.fallbackRoot)?r.fallbackRoot:!0,b=!!r.fallbackFormat,C=Kt(r.missing)?r.missing:null,y=Kt(r.missing)?pw(r.missing):null,w=Kt(r.postTranslation)?r.postTranslation:null,x=n?n.warnHtmlMessage:_t(r.warnHtmlMessage)?r.warnHtmlMessage:!0,E=!!r.escapeParameter;const _=n?n.modifiers:gt(r.modifiers)?r.modifiers:{};let M=r.pluralRules||n&&n.pluralRules,A;A=(()=>{o&&tw(null);const Z={version:d3,locale:u.value,fallbackLocale:d.value,messages:f.value,modifiers:_,pluralRules:M,missing:y===null?void 0:y,missingWarn:g,fallbackWarn:m,fallbackFormat:b,unresolving:!0,postTranslation:w===null?void 0:w,warnHtmlMessage:x,escapeParameter:E,messageResolver:r.messageResolver,messageCompiler:r.messageCompiler,__meta:{framework:"vue"}};Z.datetimeFormats=h.value,Z.numberFormats=p.value,Z.__datetimeFormatters=gt(A)?A.__datetimeFormatters:void 0,Z.__numberFormatters=gt(A)?A.__numberFormatters:void 0;const ae=t3(Z);return o&&tw(ae),ae})(),cu(A,u.value,d.value);function P(){return[u.value,d.value,f.value,h.value,p.value]}const $=z({get:()=>u.value,set:Z=>{u.value=Z,A.locale=u.value}}),B=z({get:()=>d.value,set:Z=>{d.value=Z,A.fallbackLocale=d.value,cu(A,u.value,Z)}}),W=z(()=>f.value),I=z(()=>h.value),R=z(()=>p.value);function U(){return Kt(w)?w:null}function Q(Z){w=Z,A.postTranslation=Z}function q(){return C}function ee(Z){Z!==null&&(y=pw(Z)),C=Z,A.missing=y}const de=(Z,ae,je,Qe,Me,ke)=>{P();let Je;try{__INTLIFY_PROD_DEVTOOLS__,o||(A.fallbackContext=n?e3():void 0),Je=Z(A)}finally{__INTLIFY_PROD_DEVTOOLS__,o||(A.fallbackContext=void 0)}if(je!=="translate exists"&&_n(Je)&&Je===Lp||je==="translate exists"&&!Je){const[it,ue]=ae();return n&&v?Qe(n):Me(it)}else{if(ke(Je))return Je;throw Rn(An.UNEXPECTED_RETURN_TYPE)}};function ce(...Z){return de(ae=>Reflect.apply(ow,null,[ae,...Z]),()=>rb(...Z),"translate",ae=>Reflect.apply(ae.t,ae,[...Z]),ae=>ae,ae=>ze(ae))}function Te(...Z){const[ae,je,Qe]=Z;if(Qe&&!Lt(Qe))throw Rn(An.INVALID_ARGUMENT);return ce(ae,je,Yn({resolvedMessage:!0},Qe||{}))}function fe(...Z){return de(ae=>Reflect.apply(iw,null,[ae,...Z]),()=>sb(...Z),"datetime format",ae=>Reflect.apply(ae.d,ae,[...Z]),()=>Z1,ae=>ze(ae))}function we(...Z){return de(ae=>Reflect.apply(aw,null,[ae,...Z]),()=>ob(...Z),"number format",ae=>Reflect.apply(ae.n,ae,[...Z]),()=>Z1,ae=>ze(ae))}function Ee(Z){return Z.map(ae=>ze(ae)||_n(ae)||_t(ae)?uw(String(ae)):ae)}const ne={normalize:Ee,interpolate:Z=>Z,type:"vnode"};function se(...Z){return de(ae=>{let je;const Qe=ae;try{Qe.processor=ne,je=Reflect.apply(ow,null,[Qe,...Z])}finally{Qe.processor=null}return je},()=>rb(...Z),"translate",ae=>ae[ib](...Z),ae=>[uw(ae)],ae=>Zt(ae))}function me(...Z){return de(ae=>Reflect.apply(aw,null,[ae,...Z]),()=>ob(...Z),"number format",ae=>ae[ab](...Z),fw,ae=>ze(ae)||Zt(ae))}function Pe(...Z){return de(ae=>Reflect.apply(iw,null,[ae,...Z]),()=>sb(...Z),"datetime format",ae=>ae[lb](...Z),fw,ae=>ze(ae)||Zt(ae))}function Se(Z){M=Z,A.pluralRules=M}function D(Z,ae){return de(()=>{if(!Z)return!1;const je=ze(ae)?ae:u.value,Qe=he(je),Me=A.messageResolver(Qe,Z);return a?Me!=null:rc(Me)||Yr(Me)||ze(Me)},()=>[Z],"translate exists",je=>Reflect.apply(je.te,je,[Z,ae]),h3,je=>_t(je))}function L(Z){let ae=null;const je=r2(A,d.value,u.value);for(let Qe=0;Qe<je.length;Qe++){const Me=f.value[je[Qe]]||{},ke=A.messageResolver(Me,Z);if(ke!=null){ae=ke;break}}return ae}function te(Z){const ae=L(Z);return ae??(n?n.tm(Z)||{}:{})}function he(Z){return f.value[Z]||{}}function ge(Z,ae){if(i){const je={[Z]:ae};for(const Qe in je)Ah(je,Qe)&&ad(je[Qe]);ae=je[Z]}f.value[Z]=ae,A.messages=f.value}function Ce(Z,ae){f.value[Z]=f.value[Z]||{};const je={[Z]:ae};if(i)for(const Qe in je)Ah(je,Qe)&&ad(je[Qe]);ae=je[Z],sh(ae,f.value[Z]),A.messages=f.value}function xe(Z){return h.value[Z]||{}}function V(Z,ae){h.value[Z]=ae,A.datetimeFormats=h.value,lw(A,Z,ae)}function F(Z,ae){h.value[Z]=Yn(h.value[Z]||{},ae),A.datetimeFormats=h.value,lw(A,Z,ae)}function J(Z){return p.value[Z]||{}}function ie(Z,ae){p.value[Z]=ae,A.numberFormats=p.value,cw(A,Z,ae)}function Ae(Z,ae){p.value[Z]=Yn(p.value[Z]||{},ae),A.numberFormats=p.value,cw(A,Z,ae)}hw++,n&&Oh&&($e(n.locale,Z=>{c&&(u.value=Z,A.locale=Z,cu(A,u.value,d.value))}),$e(n.fallbackLocale,Z=>{c&&(d.value=Z,A.fallbackLocale=Z,cu(A,u.value,d.value))}));const re={id:hw,locale:$,fallbackLocale:B,get inheritLocale(){return c},set inheritLocale(Z){c=Z,Z&&n&&(u.value=n.locale.value,d.value=n.fallbackLocale.value,cu(A,u.value,d.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:W,get modifiers(){return _},get pluralRules(){return M||{}},get isGlobal(){return o},get missingWarn(){return g},set missingWarn(Z){g=Z,A.missingWarn=g},get fallbackWarn(){return m},set fallbackWarn(Z){m=Z,A.fallbackWarn=m},get fallbackRoot(){return v},set fallbackRoot(Z){v=Z},get fallbackFormat(){return b},set fallbackFormat(Z){b=Z,A.fallbackFormat=b},get warnHtmlMessage(){return x},set warnHtmlMessage(Z){x=Z,A.warnHtmlMessage=Z},get escapeParameter(){return E},set escapeParameter(Z){E=Z,A.escapeParameter=Z},t:ce,getLocaleMessage:he,setLocaleMessage:ge,mergeLocaleMessage:Ce,getPostTranslationHandler:U,setPostTranslationHandler:Q,getMissingHandler:q,setMissingHandler:ee,[b2]:Se};return re.datetimeFormats=I,re.numberFormats=R,re.rt=Te,re.te=D,re.tm=te,re.d=fe,re.n=we,re.getDateTimeFormat=xe,re.setDateTimeFormat=V,re.mergeDateTimeFormat=F,re.getNumberFormat=J,re.setNumberFormat=ie,re.mergeNumberFormat=Ae,re[v2]=s,re[ib]=se,re[lb]=Pe,re[ab]=me,re}function g3(r){const e=ze(r.locale)?r.locale:nc,n=ze(r.fallbackLocale)||Zt(r.fallbackLocale)||gt(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:e,s=Kt(r.missing)?r.missing:void 0,o=_t(r.silentTranslationWarn)||Hi(r.silentTranslationWarn)?!r.silentTranslationWarn:!0,i=_t(r.silentFallbackWarn)||Hi(r.silentFallbackWarn)?!r.silentFallbackWarn:!0,l=_t(r.fallbackRoot)?r.fallbackRoot:!0,a=!!r.formatFallbackMessages,c=gt(r.modifiers)?r.modifiers:{},u=r.pluralizationRules,d=Kt(r.postTranslation)?r.postTranslation:void 0,f=ze(r.warnHtmlInMessage)?r.warnHtmlInMessage!=="off":!0,h=!!r.escapeParameterHtml,p=_t(r.sync)?r.sync:!0;let g=r.messages;if(gt(r.sharedMessages)){const E=r.sharedMessages;g=Object.keys(E).reduce((M,A)=>{const k=M[A]||(M[A]={});return Yn(k,E[A]),M},g||{})}const{__i18n:m,__root:v,__injectWithOption:b}=r,C=r.datetimeFormats,y=r.numberFormats,w=r.flatJson,x=r.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:g,flatJson:w,datetimeFormats:C,numberFormats:y,missing:s,missingWarn:o,fallbackWarn:i,fallbackRoot:l,fallbackFormat:a,modifiers:c,pluralRules:u,postTranslation:d,warnHtmlMessage:f,escapeParameter:h,messageResolver:r.messageResolver,inheritLocale:p,translateExistCompatible:x,__i18n:m,__root:v,__injectWithOption:b}}function ub(r={},e){{const n=ey(g3(r)),{__extender:s}=r,o={id:n.id,get locale(){return n.locale.value},set locale(i){n.locale.value=i},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(i){n.fallbackLocale.value=i},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return n.getMissingHandler()},set missing(i){n.setMissingHandler(i)},get silentTranslationWarn(){return _t(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(i){n.missingWarn=_t(i)?!i:i},get silentFallbackWarn(){return _t(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(i){n.fallbackWarn=_t(i)?!i:i},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(i){n.fallbackFormat=i},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(i){n.setPostTranslationHandler(i)},get sync(){return n.inheritLocale},set sync(i){n.inheritLocale=i},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){n.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(i){n.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...i){const[l,a,c]=i,u={};let d=null,f=null;if(!ze(l))throw Rn(An.INVALID_ARGUMENT);const h=l;return ze(a)?u.locale=a:Zt(a)?d=a:gt(a)&&(f=a),Zt(c)?d=c:gt(c)&&(f=c),Reflect.apply(n.t,n,[h,d||f||{},u])},rt(...i){return Reflect.apply(n.rt,n,[...i])},tc(...i){const[l,a,c]=i,u={plural:1};let d=null,f=null;if(!ze(l))throw Rn(An.INVALID_ARGUMENT);const h=l;return ze(a)?u.locale=a:_n(a)?u.plural=a:Zt(a)?d=a:gt(a)&&(f=a),ze(c)?u.locale=c:Zt(c)?d=c:gt(c)&&(f=c),Reflect.apply(n.t,n,[h,d||f||{},u])},te(i,l){return n.te(i,l)},tm(i){return n.tm(i)},getLocaleMessage(i){return n.getLocaleMessage(i)},setLocaleMessage(i,l){n.setLocaleMessage(i,l)},mergeLocaleMessage(i,l){n.mergeLocaleMessage(i,l)},d(...i){return Reflect.apply(n.d,n,[...i])},getDateTimeFormat(i){return n.getDateTimeFormat(i)},setDateTimeFormat(i,l){n.setDateTimeFormat(i,l)},mergeDateTimeFormat(i,l){n.mergeDateTimeFormat(i,l)},n(...i){return Reflect.apply(n.n,n,[...i])},getNumberFormat(i){return n.getNumberFormat(i)},setNumberFormat(i,l){n.setNumberFormat(i,l)},mergeNumberFormat(i,l){n.mergeNumberFormat(i,l)},getChoiceIndex(i,l){return-1}};return o.__extender=s,o}}const ty={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:r=>r==="parent"||r==="global",default:"parent"},i18n:{type:Object}};function m3({slots:r},e){return e.length===1&&e[0]==="default"?(r.default?r.default():[]).reduce((s,o)=>[...s,...o.type===De?o.children:[o]],[]):e.reduce((n,s)=>{const o=r[s];return o&&(n[s]=o()),n},{})}function C2(r){return De}const b3=pe({name:"i18n-t",props:Yn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:r=>_n(r)||!isNaN(r)}},ty),setup(r,e){const{slots:n,attrs:s}=e,o=r.i18n||cn({useScope:r.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(f=>f!=="_"),l={};r.locale&&(l.locale=r.locale),r.plural!==void 0&&(l.plural=ze(r.plural)?+r.plural:r.plural);const a=m3(e,i),c=o[ib](r.keypath,a,l),u=Yn({},s),d=ze(r.tag)||Lt(r.tag)?r.tag:C2();return Ye(d,u,c)}}}),gw=b3;function v3(r){return Zt(r)&&!ze(r[0])}function S2(r,e,n,s){const{slots:o,attrs:i}=e;return()=>{const l={part:!0};let a={};r.locale&&(l.locale=r.locale),ze(r.format)?l.key=r.format:Lt(r.format)&&(ze(r.format.key)&&(l.key=r.format.key),a=Object.keys(r.format).reduce((h,p)=>n.includes(p)?Yn({},h,{[p]:r.format[p]}):h,{}));const c=s(r.value,l,a);let u=[l.key];Zt(c)?u=c.map((h,p)=>{const g=o[h.type],m=g?g({[h.type]:h.value,index:p,parts:c}):[h.value];return v3(m)&&(m[0].key=`${h.type}-${p}`),m}):ze(c)&&(u=[c]);const d=Yn({},i),f=ze(r.tag)||Lt(r.tag)?r.tag:C2();return Ye(f,d,u)}}const y3=pe({name:"i18n-n",props:Yn({value:{type:Number,required:!0},format:{type:[String,Object]}},ty),setup(r,e){const n=r.i18n||cn({useScope:r.scope,__useComponent:!0});return S2(r,e,p2,(...s)=>n[ab](...s))}}),mw=y3,w3=pe({name:"i18n-d",props:Yn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ty),setup(r,e){const n=r.i18n||cn({useScope:r.scope,__useComponent:!0});return S2(r,e,h2,(...s)=>n[lb](...s))}}),bw=w3;function C3(r,e){const n=r;if(r.mode==="composition")return n.__getInstance(e)||r.global;{const s=n.__getInstance(e);return s!=null?s.__composer:r.global.__composer}}function S3(r){const e=l=>{const{instance:a,modifiers:c,value:u}=l;if(!a||!a.$)throw Rn(An.UNEXPECTED_ERROR);const d=C3(r,a.$),f=vw(u);return[Reflect.apply(d.t,d,[...yw(f)]),d]};return{created:(l,a)=>{const[c,u]=e(a);Oh&&r.global===u&&(l.__i18nWatcher=$e(u.locale,()=>{a.instance&&a.instance.$forceUpdate()})),l.__composer=u,l.textContent=c},unmounted:l=>{Oh&&l.__i18nWatcher&&(l.__i18nWatcher(),l.__i18nWatcher=void 0,delete l.__i18nWatcher),l.__composer&&(l.__composer=void 0,delete l.__composer)},beforeUpdate:(l,{value:a})=>{if(l.__composer){const c=l.__composer,u=vw(a);l.textContent=Reflect.apply(c.t,c,[...yw(u)])}},getSSRProps:l=>{const[a]=e(l);return{textContent:a}}}}function vw(r){if(ze(r))return{path:r};if(gt(r)){if(!("path"in r))throw Rn(An.REQUIRED_VALUE,"path");return r}else throw Rn(An.INVALID_VALUE)}function yw(r){const{path:e,locale:n,args:s,choice:o,plural:i}=r,l={},a=s||{};return ze(n)&&(l.locale=n),_n(o)&&(l.plural=o),_n(i)&&(l.plural=i),[e,a,l]}function x3(r,e,...n){const s=gt(n[0])?n[0]:{},o=!!s.useI18nComponentName;(_t(s.globalInstall)?s.globalInstall:!0)&&([o?"i18n":gw.name,"I18nT"].forEach(l=>r.component(l,gw)),[mw.name,"I18nN"].forEach(l=>r.component(l,mw)),[bw.name,"I18nD"].forEach(l=>r.component(l,bw))),r.directive("t",S3(e))}function E3(r,e,n){return{beforeCreate(){const s=bt();if(!s)throw Rn(An.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const i=o.i18n;if(o.__i18n&&(i.__i18n=o.__i18n),i.__root=e,this===this.$root)this.$i18n=ww(r,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=ub(i);const l=this.$i18n;l.__extender&&(l.__disposer=l.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=ww(r,o);else{this.$i18n=ub({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=r;o.__i18nGlobal&&w2(e,o,o),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,l)=>this.$i18n.te(i,l),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=bt();if(!s)throw Rn(An.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),n.__deleteInstance(s),delete this.$i18n}}}function ww(r,e){r.locale=e.locale||r.locale,r.fallbackLocale=e.fallbackLocale||r.fallbackLocale,r.missing=e.missing||r.missing,r.silentTranslationWarn=e.silentTranslationWarn||r.silentFallbackWarn,r.silentFallbackWarn=e.silentFallbackWarn||r.silentFallbackWarn,r.formatFallbackMessages=e.formatFallbackMessages||r.formatFallbackMessages,r.postTranslation=e.postTranslation||r.postTranslation,r.warnHtmlInMessage=e.warnHtmlInMessage||r.warnHtmlInMessage,r.escapeParameterHtml=e.escapeParameterHtml||r.escapeParameterHtml,r.sync=e.sync||r.sync,r.__composer[b2](e.pluralizationRules||r.pluralizationRules);const n=Rp(r.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(s=>r.mergeLocaleMessage(s,n[s])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(s=>r.mergeDateTimeFormat(s,e.datetimeFormats[s])),e.numberFormats&&Object.keys(e.numberFormats).forEach(s=>r.mergeNumberFormat(s,e.numberFormats[s])),r}const T3=tl("global-vue-i18n");function _3(r={},e){const n=__VUE_I18N_LEGACY_API__&&_t(r.legacy)?r.legacy:__VUE_I18N_LEGACY_API__,s=_t(r.globalInjection)?r.globalInjection:!0,o=__VUE_I18N_LEGACY_API__&&n?!!r.allowComposition:!0,i=new Map,[l,a]=O3(r,n),c=tl("");function u(h){return i.get(h)||null}function d(h,p){i.set(h,p)}function f(h){i.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return o},async install(p,...g){if(p.__VUE_I18N_SYMBOL__=c,p.provide(p.__VUE_I18N_SYMBOL__,h),gt(g[0])){const b=g[0];h.__composerExtend=b.__composerExtend,h.__vueI18nExtend=b.__vueI18nExtend}let m=null;!n&&s&&(m=$3(p,h.global)),__VUE_I18N_FULL_INSTALL__&&x3(p,h,...g),__VUE_I18N_LEGACY_API__&&n&&p.mixin(E3(a,a.__composer,h));const v=p.unmount;p.unmount=()=>{m&&m(),h.dispose(),v()}},get global(){return a},dispose(){l.stop()},__instances:i,__getInstance:u,__setInstance:d,__deleteInstance:f};return h}}function cn(r={}){const e=bt();if(e==null)throw Rn(An.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Rn(An.NOT_INSTALLED);const n=A3(e),s=k3(n),o=y2(e),i=M3(r,o);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!r.__useComponent){if(!n.allowComposition)throw Rn(An.NOT_AVAILABLE_IN_LEGACY_MODE);return L3(e,i,s,r)}if(i==="global")return w2(s,r,o),s;if(i==="parent"){let c=P3(n,e,r.__useComponent);return c==null&&(c=s),c}const l=n;let a=l.__getInstance(e);if(a==null){const c=Yn({},r);"__i18n"in o&&(c.__i18n=o.__i18n),s&&(c.__root=s),a=ey(c),l.__composerExtend&&(a[cb]=l.__composerExtend(a)),I3(l,e,a),l.__setInstance(e,a)}return a}function O3(r,e,n){const s=PE();{const o=__VUE_I18N_LEGACY_API__&&e?s.run(()=>ub(r)):s.run(()=>ey(r));if(o==null)throw Rn(An.UNEXPECTED_ERROR);return[s,o]}}function A3(r){{const e=Ve(r.isCE?T3:r.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Rn(r.isCE?An.NOT_INSTALLED_WITH_PROVIDE:An.UNEXPECTED_ERROR);return e}}function M3(r,e){return Np(r)?"__i18n"in e?"local":"global":r.useScope?r.useScope:"local"}function k3(r){return r.mode==="composition"?r.global:r.global.__composer}function P3(r,e,n=!1){let s=null;const o=e.root;let i=N3(e,n);for(;i!=null;){const l=r;if(r.mode==="composition")s=l.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=l.__getInstance(i);a!=null&&(s=a.__composer,n&&s&&!s[v2]&&(s=null))}if(s!=null||o===i)break;i=i.parent}return s}function N3(r,e=!1){return r==null?null:e&&r.vnode.ctx||r.parent}function I3(r,e,n){nt(()=>{},e),qo(()=>{const s=n;r.__deleteInstance(e);const o=s[cb];o&&(o(),delete s[cb])},e)}function L3(r,e,n,s={}){const o=e==="local",i=Ms(null);if(o&&r.proxy&&!(r.proxy.$options.i18n||r.proxy.$options.__i18n))throw Rn(An.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const l=_t(s.inheritLocale)?s.inheritLocale:!ze(s.locale),a=j(!o||l?n.locale.value:ze(s.locale)?s.locale:nc),c=j(!o||l?n.fallbackLocale.value:ze(s.fallbackLocale)||Zt(s.fallbackLocale)||gt(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:a.value),u=j(Rp(a.value,s)),d=j(gt(s.datetimeFormats)?s.datetimeFormats:{[a.value]:{}}),f=j(gt(s.numberFormats)?s.numberFormats:{[a.value]:{}}),h=o?n.missingWarn:_t(s.missingWarn)||Hi(s.missingWarn)?s.missingWarn:!0,p=o?n.fallbackWarn:_t(s.fallbackWarn)||Hi(s.fallbackWarn)?s.fallbackWarn:!0,g=o?n.fallbackRoot:_t(s.fallbackRoot)?s.fallbackRoot:!0,m=!!s.fallbackFormat,v=Kt(s.missing)?s.missing:null,b=Kt(s.postTranslation)?s.postTranslation:null,C=o?n.warnHtmlMessage:_t(s.warnHtmlMessage)?s.warnHtmlMessage:!0,y=!!s.escapeParameter,w=o?n.modifiers:gt(s.modifiers)?s.modifiers:{},x=s.pluralRules||o&&n.pluralRules;function E(){return[a.value,c.value,u.value,d.value,f.value]}const _=z({get:()=>i.value?i.value.locale.value:a.value,set:L=>{i.value&&(i.value.locale.value=L),a.value=L}}),M=z({get:()=>i.value?i.value.fallbackLocale.value:c.value,set:L=>{i.value&&(i.value.fallbackLocale.value=L),c.value=L}}),A=z(()=>i.value?i.value.messages.value:u.value),k=z(()=>d.value),P=z(()=>f.value);function $(){return i.value?i.value.getPostTranslationHandler():b}function B(L){i.value&&i.value.setPostTranslationHandler(L)}function W(){return i.value?i.value.getMissingHandler():v}function I(L){i.value&&i.value.setMissingHandler(L)}function R(L){return E(),L()}function U(...L){return i.value?R(()=>Reflect.apply(i.value.t,null,[...L])):R(()=>"")}function Q(...L){return i.value?Reflect.apply(i.value.rt,null,[...L]):""}function q(...L){return i.value?R(()=>Reflect.apply(i.value.d,null,[...L])):R(()=>"")}function ee(...L){return i.value?R(()=>Reflect.apply(i.value.n,null,[...L])):R(()=>"")}function de(L){return i.value?i.value.tm(L):{}}function ce(L,te){return i.value?i.value.te(L,te):!1}function Te(L){return i.value?i.value.getLocaleMessage(L):{}}function fe(L,te){i.value&&(i.value.setLocaleMessage(L,te),u.value[L]=te)}function we(L,te){i.value&&i.value.mergeLocaleMessage(L,te)}function Ee(L){return i.value?i.value.getDateTimeFormat(L):{}}function G(L,te){i.value&&(i.value.setDateTimeFormat(L,te),d.value[L]=te)}function ne(L,te){i.value&&i.value.mergeDateTimeFormat(L,te)}function se(L){return i.value?i.value.getNumberFormat(L):{}}function me(L,te){i.value&&(i.value.setNumberFormat(L,te),f.value[L]=te)}function Pe(L,te){i.value&&i.value.mergeNumberFormat(L,te)}const Se={get id(){return i.value?i.value.id:-1},locale:_,fallbackLocale:M,messages:A,datetimeFormats:k,numberFormats:P,get inheritLocale(){return i.value?i.value.inheritLocale:l},set inheritLocale(L){i.value&&(i.value.inheritLocale=L)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(u.value)},get modifiers(){return i.value?i.value.modifiers:w},get pluralRules(){return i.value?i.value.pluralRules:x},get isGlobal(){return i.value?i.value.isGlobal:!1},get missingWarn(){return i.value?i.value.missingWarn:h},set missingWarn(L){i.value&&(i.value.missingWarn=L)},get fallbackWarn(){return i.value?i.value.fallbackWarn:p},set fallbackWarn(L){i.value&&(i.value.missingWarn=L)},get fallbackRoot(){return i.value?i.value.fallbackRoot:g},set fallbackRoot(L){i.value&&(i.value.fallbackRoot=L)},get fallbackFormat(){return i.value?i.value.fallbackFormat:m},set fallbackFormat(L){i.value&&(i.value.fallbackFormat=L)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:C},set warnHtmlMessage(L){i.value&&(i.value.warnHtmlMessage=L)},get escapeParameter(){return i.value?i.value.escapeParameter:y},set escapeParameter(L){i.value&&(i.value.escapeParameter=L)},t:U,getPostTranslationHandler:$,setPostTranslationHandler:B,getMissingHandler:W,setMissingHandler:I,rt:Q,d:q,n:ee,tm:de,te:ce,getLocaleMessage:Te,setLocaleMessage:fe,mergeLocaleMessage:we,getDateTimeFormat:Ee,setDateTimeFormat:G,mergeDateTimeFormat:ne,getNumberFormat:se,setNumberFormat:me,mergeNumberFormat:Pe};function D(L){L.locale.value=a.value,L.fallbackLocale.value=c.value,Object.keys(u.value).forEach(te=>{L.mergeLocaleMessage(te,u.value[te])}),Object.keys(d.value).forEach(te=>{L.mergeDateTimeFormat(te,d.value[te])}),Object.keys(f.value).forEach(te=>{L.mergeNumberFormat(te,f.value[te])}),L.escapeParameter=y,L.fallbackFormat=m,L.fallbackRoot=g,L.fallbackWarn=p,L.missingWarn=h,L.warnHtmlMessage=C}return zd(()=>{if(r.proxy==null||r.proxy.$i18n==null)throw Rn(An.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const L=i.value=r.proxy.$i18n.__composer;e==="global"?(a.value=L.locale.value,c.value=L.fallbackLocale.value,u.value=L.messages.value,d.value=L.datetimeFormats.value,f.value=L.numberFormats.value):o&&D(L)}),Se}const R3=["locale","fallbackLocale","availableLocales"],Cw=["t","rt","d","n","tm","te"];function $3(r,e){const n=Object.create(null);return R3.forEach(o=>{const i=Object.getOwnPropertyDescriptor(e,o);if(!i)throw Rn(An.UNEXPECTED_ERROR);const l=qt(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,o,l)}),r.config.globalProperties.$i18n=n,Cw.forEach(o=>{const i=Object.getOwnPropertyDescriptor(e,o);if(!i||!i.value)throw Rn(An.UNEXPECTED_ERROR);Object.defineProperty(r.config.globalProperties,`$${o}`,i)}),()=>{delete r.config.globalProperties.$i18n,Cw.forEach(o=>{delete r.config.globalProperties[`$${o}`]})}}f3();__INTLIFY_JIT_COMPILATION__?ew(i3):ew(o3);J$(P$);X$(r2);if(__INTLIFY_PROD_DEVTOOLS__){const r=ko();r.__INTLIFY__=!0,B$(r.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const D3={lang:{common:{add:"新增",back:"返回",save:"保存",saved:"保存成功",cancel:"取消",edit:"编辑",del:"删除",deleted:"删除成功",insert:"插入",nodeName:"节点名称",else:"否则",successTip:"成功提示",errTip:"错误提示",toDetail:"查看详情"},err:{},mainflow:{title:"主流程列表",add:"增加主流程",table:["主流程名称","是否启用","操作"],form:{title:"新增主流程",name:"主流程名称"},delConfirm:"确认要删除该主流程吗?"},flow:{nodes:["话术节点","条件节点","采集节点","跳转节点"],nodesDesc:["返回话术给用户","设置条件，控制流程走向","采集用户输入的信息，并保存到变量中","流程之间跳转，或跳转至外部"],title:"绘制对话流程",steps:["第一步：发布流程","第二步：开始测试"],save:"保存当前流程",pub:"发布所有流程",test:"测试流程",addSubFlow:"新增子流程",form:{name:"子流程名"},subFlowReleased:"发布成功",needOne:"最少保留一个子流程",delConfirm:"确认要删除该子流程吗?",send:"发送",reset:"重置",changeSaveTip:"流程已经修改，需要保存并切换吗?",guideReset:"流程结束,如需重新开始请点下方重来按钮"},dialogNode:{nodeName:"话术节点",nextSteps:["等待用户回复","执行下一个节点"],errors:["未填写节点名称","未填写话术信息","话术信息超长, 需少于200字"],form:{label:"节点话术",addVar:"插入变量",nextStep:"下一步",choose:"选择执行的操作"},var:{title:"选择需要插入的变量",choose:"选择变量"}},conditionNode:{types:["用户意图","用户输入","流程变量"],compares:["等于","不等于","包含","用户输入超时"],nodeName:"条件节点",errors:["请输入条件名称","输入的条件名称重复","未填写节点名称","未设置条件分支"],newBranch:"添加分支",condName:"名称",condType:"条件类型",condTypePH:"请选择条件类型",comparedPH:"请选择被比较数据",compareTypePH:"请选择比较类型",targetPH:"请选择比较的值",andCond:'"与"条件',orCond:'添加"或"条件',newCond:"添加条件"},collectNode:{nodeName:"采集节点",cTypes:["用户输入","数字","自定义正则"],branches:["采集成功","采集失败"],errors:["未填写节点名称","未选择采集类型","未选择保存变量","未添加分支信息"],cTypeName:"采集类型",varName:"保存的变量",labels:["采集类型","请选择采集类型","自定义正则","赋值变量","请选择变量"]},gotoNode:{types:["结束对话","主流程","子流程","外部链接"],nodeName:"跳转节点",errors:["未填写节点名称","未选择跳转类型","未选择跳转的子流程","未填写跳转的外部链接"],briefs:["执行动作","结束流程","跳转到子流程","跳转到外部链接","跳转到主流程"],gotoType:"跳转类型",gotoTypePH:"请选择跳转类型",gotoMainFlow:"跳转的主流程",gotoMainFlowPH:"选择跳转的主流程",gotoSubFlow:"跳转的子流程",gotoSubFlowPH:"选择跳转的子流程",externalLink:"外部链接"},intent:{title:"意图管理",add:"新增意图",delConfirm:"确认要删除该意图吗?",table:["意图名","关键词数量","正则数量","相似问数量","操作"],form:{title:"新增意图",name:"意图名"},detail:{edit:"编辑意图",kw:"关键词",addKw:"新增关键词",re:"正则表达式",addRe:"新增正则",sp:"相似表达句子",addSp:"新增相似问"}},settings:{title:"配置管理",ipNote:"如果配置的IP地址错误导致应用启动失败, 请在启动是, 加上 -rs 来重置配置参数",prompt2:"应用端口",prompt2_2:"当指定端口被占用, 随机选择一个可用的端口",prompt3:"会话时长",prompt4:"分钟",note:"修改了IP地址, 端口或会话时长，需要重启应用才能生效",invalidIp:"设置的IP地址不正确"},var:{types:["字符串","数字"],sources:["外部导入","流程采集","远程HTTP接口(正式版)"],title:"变量管理",add:"新增变量",table:["变量名","变量类型","变量取值来源","操作"],form:{title:"流程变量",name:"变量名称",type:"变量类型",choose1:"请选择变量类型",source:"变量取值来源",choose2:"请选择变量取值来源"}},home:{title:"Dialog Flow 对话流程可视化编辑器",subTitle:"低代码流程应答系统",btn1:"立即使用",btn2:"查看文档",btn3:"查看演示Demo",dlTitle:"下载",dl1:"您可以从Github上下载到最新版",dl2:'如果您有任何意见或建议, 请发邮件到: dialogflow(AT)yeah.net 或者创建一个 <a href="https://github.com/dialogflowchatbot/dialogflow/issues">帖子</a>',introTitle:"这是什么软件?",intro1:"它类似 Google 的 Dialogflow, 但是多了一个流程画布编辑器，可以更好的设计流程. 它也像 Typebot, 但是多了一个完整的应答后端.",intro2:"它拥有一个可视化的流程编辑器, 编辑完成后，可以测试流程, 并最终发布流程.",intro3:"目前，它可以返回话术给用户，并采集用户输入，还可以通过条件判断，执行不同的节点.",intro4:"它很轻量。整个软件，包含了前端和后端，只有不到 6M 大小，非常易于分发和部署.",intro5:"你可以修改软件的监听端口，这样就可以在同一台服务器上，同时运行多个实例，解决不同的用户场景.",intro6:"它下载后，就可以直接使用，不用安装任何依赖。而且数据是存放在本地，可以保护数据营隐私.",midTitle:"我们的优势",adv1Title:"易用",adv1:"简便、直观的编辑界面。<br />人人都会使用<br />只需简单的鼠标拖拽和点击<br />就可以绘制出一个对话流程",demo:"演示",demo1:"电话催收",demo2:"用户信息收集",demo3:"一句话通知",demoUnvailableTitle:"演示在Github上不可用Demos are not available on Github",demoUnvailableContent:'由于目前没有服务器来托管后台.<br />但是可以<a href="https://github.com/dialogflowchatbot/dialogflow/releases">下载该软件</a>, 它包含了3个演示对话流程',adv2Title:"小巧、快速",adv2:"只有两个文件（程序和数据库），部署非常方便。<br />依托AoT编译技术<br />可提供超高的并发数和超快的响应",adv3Title:"解决各种问题",adv3:"使用不同的流程节点组合<br />满足不同场景业务需求<br />解决不同人群遇到的问题",adv4Title:"兼容性",adv4:"前端支持 Firefox、Chrome、Microsoft Edge、Safari、Opera 等主流浏览器<br /><br />该应用支持部署在 Linux、Windows Server、macOS Server 等操作系统",adv5Title:"易于集成",adv5:"提供了基于HTTP协议的应答接口<br />还可以集成 FreeSwitch 以实现智能语言机器人",adv5Doc:"查看文档"},guide:{title1:"创建对话流程",nav1:"开始绘制",title2:"我们内置了“肯定”、“否定”意图。若不够，可自行添加",nav2:"意图管理",desc2:"意图，是指用户说的话，符合某种想法。",title3:"需要储存用户输入，或获取外部数据？",nav3:"创建变量",desc3:"变量用于保存一些不确定的数据，它用在流程的答案、条件判断里。",title4:"系统设置",nav4:"修改配置",desc4:"修改监听端口、会话长度等",title5:"操作手册和对接文档",nav5:"查看文档",desc5:"了解如何通过画布，快速的构建出流程。了解如何通过代码，对接应答接口"}}},V3={lang:{common:{add:"Add",back:"Back",save:"Save",saved:"Successfully saved",cancel:"Cancel",edit:"Edit",del:"Delete",deleted:"Successfully deleted",insert:"Insert",nodeName:"Node name",else:"Otherwise",successTip:"Success",errTip:"Error",toDetail:"View detail"},err:{},mainflow:{title:"Main flow list",add:"Add a new main flow",table:["Main flow name","Enabled","Operations"],form:{title:"Add a new main flow",name:"Main flow name"},delConfirm:"Are you sure you want to delete this main flow?"},flow:{nodes:["DialogNode","ConditionNode","CollectNode","GotoNode"],nodesDesc:["Returns the dialog text to the user","Setting up conditions to control where the dialog flow goes","Capture user input and save it to a variable","Jumping between dialog flows, or to an external link"],title:"Compose dialog flow",steps:["First step: publish flows","Second step: testing"],save:"Save current sub-flow",pub:"Publish all sub-flows",test:"Testing dialog flow",addSubFlow:"Add sub-flow",form:{name:"Sub-flow name"},subFlowReleased:"Successfully released",needOne:"Keep at least one sub-flow",delConfirm:"Are you sure you want to delete this sub-flow?",send:"Send",reset:"Reset",changeSaveTip:"The flow has been modified, do you need to save it and switch?",guideReset:"The conversation is over, if you want to start over, please click the button below to restart"},dialogNode:{nodeName:"Dialog node",nextSteps:["Waiting for user response","Goto next node"],errors:["Node name not filled in","Text not filled in","Text was too long"],form:{label:"Text",addVar:"Insert a variable",nextStep:"Next step",choose:"Select the action to be performed"},var:{title:"Select a variable to be inserted",choose:"Select a variable"}},conditionNode:{types:["User intent","User input","Variable"],compares:["Equals","NotEquals","Contains","Timeout"],nodeName:"Condition node",errors:["Condition name not filled in","Duplicate condition name","Node name not filled in","Branches were missing"],newBranch:"Add a new branch",condName:"Name",condType:"Condition",condTypePH:"Select a condition type",comparedPH:"Select the data to be compared",compareTypePH:"Select the type of comparison",targetPH:"Select a value for comparison",andCond:'"AND" condition',orCond:'"OR" condition',newCond:"Conditions"},collectNode:{nodeName:"Collection node",cTypes:["User input","Number","Customize Regular Expression"],branches:["Successful","Failure"],errors:["Node name not filled in","Collection type not choosed","Saving variable not choosed","Branches were missing"],cTypeName:"Collection type",varName:"Assignment variable",labels:["Collection type","Choose a collection type","Customize Regular Expression","Assignment variable","Choose a variable"]},gotoNode:{types:["Conclusion of dialogues","Goto another flow","Goto sub-flow","External link"],nodeName:"Goto node",errors:["Node name not filled in","No goto type selected","Sub-flow not selected for jumping","No external link to fill in"],briefs:["Goto type","Conclusion of dialogues","Goto sub-flow","External link","Goto another main flow"],gotoType:"Goto type",gotoTypePH:"Select a goto type",gotoMainFlow:"Goto main flow",gotoMainFlowPH:"Select a goto main flow",gotoSubFlow:"Goto sub-flow",gotoSubFlowPH:"Select a goto sub-flow",externalLink:"External link"},intent:{title:"Intent management",add:"Add new intent",delConfirm:"Are you sure you want to delete this intent?",table:["Name","Number of keywords","Number of regex","Number of similar sentences","Operations"],form:{title:"Add new intent",name:"name"},detail:{edit:"Edit intent",kw:"Keywords",addKw:"Add keyword",re:"Regular expressions",addRe:"Add regex",sp:"Similar sentences",addSp:"Add sentence"}},settings:{title:"Settings",ipNote:"If the configured IP address is wrong and the application fails to start, please reset the configuration parameters by adding the startup parameter: -rs.",prompt2:"Listening port",prompt2_2:"When the set port is occupied, automatically randomly select other available ports",prompt3:"Max session idle",prompt4:"Minutes",note:"Modified IP address or ports require a reboot to take effect",invalidIp:"Incorrectly set IP address"},var:{types:["String","Number"],sources:["Import","Collect","External HTTP"],title:"Variables management",add:"Add new variable",table:["Name","Type","Source of variable value","Operations"],form:{title:"New Variable",name:"Name",type:"Type",choose1:"Please choose a type",source:"Value source",choose2:"Please choose a source"}},home:{title:"Dialog Flow Visual Editor and Responsing System",subTitle:"Low code dialog flow responsing system",btn1:"Getting Started",btn2:"View docs",btn3:"Try demos",dlTitle:"Download",dl1:"You can download the latest releases on Github",dl2:'If you have any issues or feedback, please email to: dialogflow(AT)yeah.net or create an <a href="https://github.com/dialogflowchatbot/dialogflow/issues">issue</a>',introTitle:"What is this?",intro1:"It's similar to Google's Dialogflow, but with an additional canvas for editing processes. It's also similar to Typebot, but it includes a full answering backend.",intro2:"It has a feature called flow canvas that allows you to visually edit a conversation flow, test it, and finally publish it to the public.",intro3:"Currently, it can return discourse to the user and capture user input, and can also execute different nodes through conditional judgment .",intro4:"It is very small. The entire software, including front-end and back-end, is less than 6M in size, very easy to distribute and deploy.",intro5:"You can modify the listening port of the software so that you can run multiple instances on the same server at the same time to handle different user scenarios.",intro6:"Once it is downloaded, it can be used directly without installing any dependencies. And the data is stored locally, which can protect the data camp privacy.",midTitle:"Advantages",adv1Title:"Easy to use",adv1:"Simple and intuitive.<br />Everybody can use it<br />Just few drag drop and clicks<br />A dialog flow can then be mapped out",demo:"Try Demos",demo1:"Notification of loan repayment",demo2:"Information collection",demo3:"Notification",demoUnvailableTitle:"Demos are not available on Github",demoUnvailableContent:'Since there is currently no server to host the backend.<br />But you can <a href="https://github.com/dialogflowchatbot/dialogflow/releases">download</a> this software and try these 3 demonstration dialog flows',adv2Title:"Tiny fast and portable",adv2:"Only ONE executable file (database is generated automatically)<br />pretty easy for deployment<br />Relying on AoT compilation technology<br />Program provides high concurrency and blazingly fast responses",adv3Title:"Deal with various issues",adv3:"Use different combinations of flow nodes<br />Meet the business requirements of different scenarios<br />Solve problems encountered by different groups of people",adv4Title:"Compatibilities",adv4:"Front-end support for Firefox, Chrome, Microsoft Edge, Safari, Opera<br />and other major browsers<br /><br />The application supports deployment on Linux, Windows Server, macOS Server<br />and other operating systems.",adv5Title:"Easy to integrate",adv5:"Provides a response interface based on the HTTP protocol<br/ ><br />FreeSwitch can also be integrated to enable intelligent speech robots",adv5Doc:"View docs"},guide:{title1:"Dialog flows",nav1:"Click here to create new dialog flow or edit existing flow",title2:"Intentions",nav2:"Intents management",desc2:"Intent, used to summarize user input, what purpose does it belong to.",title3:"Variables",nav3:"Variables management",desc3:"Variables are used to store user input, or external data from HTTP, which is used in the answer of the dialog flow, conditional judgment.",title4:"System settings",nav4:"Modify Configurations",desc4:"Modify the listening IP and port.",title5:"Operation manual and integration documentation",nav5:"View documents",desc5:"Understand how to quickly build a dialog flow through the canvas. Learn how to connect to the answering interface through code"}}},F3={zh:D3,en:V3},B3=((navigator.language?navigator.language:navigator.userLanguage)||"zh").toLowerCase(),z3=_3({fallbackLocale:"zh",globalInjection:!0,legacy:!1,locale:B3.split("-")[0]||"zh",messages:F3}),j3={__name:"App",setup(r){return(e,n)=>{const s=Pt("router-view");return N(),ye(s)}}},H3='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',U3=r=>getComputedStyle(r).position==="fixed"?!1:r.offsetParent!==null,Sw=r=>Array.from(r.querySelectorAll(H3)).filter(e=>W3(e)&&U3(e)),W3=r=>{if(r.tabIndex>0||r.tabIndex===0&&r.getAttribute("tabIndex")!==null)return!0;if(r.disabled)return!1;switch(r.nodeName){case"A":return!!r.href&&r.rel!=="ignore";case"INPUT":return!(r.type==="hidden"||r.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Oo=(r,e,{checkForDefaultPrevented:n=!0}={})=>o=>{const i=r==null?void 0:r(o);if(n===!1||!i)return e==null?void 0:e(o)};var q3=Object.defineProperty,G3=Object.defineProperties,K3=Object.getOwnPropertyDescriptors,xw=Object.getOwnPropertySymbols,Y3=Object.prototype.hasOwnProperty,J3=Object.prototype.propertyIsEnumerable,Ew=(r,e,n)=>e in r?q3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,X3=(r,e)=>{for(var n in e||(e={}))Y3.call(e,n)&&Ew(r,n,e[n]);if(xw)for(var n of xw(e))J3.call(e,n)&&Ew(r,n,e[n]);return r},Z3=(r,e)=>G3(r,K3(e));function Tw(r,e){var n;const s=Ms();return to(()=>{s.value=r()},Z3(X3({},e),{flush:(n=e==null?void 0:e.flush)!=null?n:"sync"})),Vd(s)}var _w;const Ct=typeof window<"u",Q3=r=>typeof r=="string",sc=()=>{},eD=Ct&&((_w=window==null?void 0:window.navigator)==null?void 0:_w.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function oc(r){return typeof r=="function"?r():S(r)}function x2(r,e){function n(...s){return new Promise((o,i)=>{Promise.resolve(r(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(o).catch(i)})}return n}function tD(r,e={}){let n,s,o=sc;const i=a=>{clearTimeout(a),o(),o=sc};return a=>{const c=oc(r),u=oc(e.maxWait);return n&&i(n),c<=0||u!==void 0&&u<=0?(s&&(i(s),s=null),Promise.resolve(a())):new Promise((d,f)=>{o=e.rejectOnCancel?f:d,u&&!s&&(s=setTimeout(()=>{n&&i(n),s=null,d(a())},u)),n=setTimeout(()=>{s&&i(s),s=null,d(a())},c)})}}function nD(r,e=!0,n=!0,s=!1){let o=0,i,l=!0,a=sc,c;const u=()=>{i&&(clearTimeout(i),i=void 0,a(),a=sc)};return f=>{const h=oc(r),p=Date.now()-o,g=()=>c=f();return u(),h<=0?(o=Date.now(),g()):(p>h&&(n||!l)?(o=Date.now(),g()):e&&(c=new Promise((m,v)=>{a=s?v:m,i=setTimeout(()=>{o=Date.now(),l=!0,m(g()),u()},Math.max(0,h-p))})),!n&&!i&&(i=setTimeout(()=>l=!0,h)),l=!1,c)}}function rD(r){return r}function Hd(r){return NE()?(IE(r),!0):!1}function sD(r,e=200,n={}){return x2(tD(e,n),r)}function oD(r,e=200,n={}){const s=j(r.value),o=sD(()=>{s.value=r.value},e,n);return $e(r,()=>o()),s}function iD(r,e=200,n=!1,s=!0,o=!1){return x2(nD(e,n,s,o),r)}function lD(r,e=!0){bt()?nt(r):e?r():tt(r)}function kh(r,e,n={}){const{immediate:s=!0}=n,o=j(!1);let i=null;function l(){i&&(clearTimeout(i),i=null)}function a(){o.value=!1,l()}function c(...u){l(),o.value=!0,i=setTimeout(()=>{o.value=!1,i=null,r(...u)},oc(e))}return s&&(o.value=!0,Ct&&c()),Hd(a),{isPending:Vd(o),start:c,stop:a}}function Po(r){var e;const n=oc(r);return(e=n==null?void 0:n.$el)!=null?e:n}const Ud=Ct?window:void 0,aD=Ct?window.document:void 0;function vn(...r){let e,n,s,o;if(Q3(r[0])||Array.isArray(r[0])?([n,s,o]=r,e=Ud):[e,n,s,o]=r,!e)return sc;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],l=()=>{i.forEach(d=>d()),i.length=0},a=(d,f,h,p)=>(d.addEventListener(f,h,p),()=>d.removeEventListener(f,h,p)),c=$e(()=>[Po(e),oc(o)],([d,f])=>{l(),d&&i.push(...n.flatMap(h=>s.map(p=>a(d,h,p,f))))},{immediate:!0,flush:"post"}),u=()=>{c(),l()};return Hd(u),u}let Ow=!1;function cD(r,e,n={}){const{window:s=Ud,ignore:o=[],capture:i=!0,detectIframe:l=!1}=n;if(!s)return;eD&&!Ow&&(Ow=!0,Array.from(s.document.body.children).forEach(h=>h.addEventListener("click",sc)));let a=!0;const c=h=>o.some(p=>{if(typeof p=="string")return Array.from(s.document.querySelectorAll(p)).some(g=>g===h.target||h.composedPath().includes(g));{const g=Po(p);return g&&(h.target===g||h.composedPath().includes(g))}}),d=[vn(s,"click",h=>{const p=Po(r);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(a=!c(h)),!a){a=!0;return}e(h)}},{passive:!0,capture:i}),vn(s,"pointerdown",h=>{const p=Po(r);p&&(a=!h.composedPath().includes(p)&&!c(h))},{passive:!0}),l&&vn(s,"blur",h=>{var p;const g=Po(r);((p=s.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(g!=null&&g.contains(s.document.activeElement))&&e(h)})].filter(Boolean);return()=>d.forEach(h=>h())}function E2(r,e=!1){const n=j(),s=()=>n.value=!!r();return s(),lD(s,e),n}const Aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mw="__vueuse_ssr_handlers__";Aw[Mw]=Aw[Mw]||{};function uD({document:r=aD}={}){if(!r)return j("visible");const e=j(r.visibilityState);return vn(r,"visibilitychange",()=>{e.value=r.visibilityState}),e}var kw=Object.getOwnPropertySymbols,dD=Object.prototype.hasOwnProperty,fD=Object.prototype.propertyIsEnumerable,hD=(r,e)=>{var n={};for(var s in r)dD.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&kw)for(var s of kw(r))e.indexOf(s)<0&&fD.call(r,s)&&(n[s]=r[s]);return n};function dr(r,e,n={}){const s=n,{window:o=Ud}=s,i=hD(s,["window"]);let l;const a=E2(()=>o&&"ResizeObserver"in o),c=()=>{l&&(l.disconnect(),l=void 0)},u=$e(()=>Po(r),f=>{c(),a.value&&o&&f&&(l=new ResizeObserver(e),l.observe(f,i))},{immediate:!0,flush:"post"}),d=()=>{c(),u()};return Hd(d),{isSupported:a,stop:d}}var Pw=Object.getOwnPropertySymbols,pD=Object.prototype.hasOwnProperty,gD=Object.prototype.propertyIsEnumerable,mD=(r,e)=>{var n={};for(var s in r)pD.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&Pw)for(var s of Pw(r))e.indexOf(s)<0&&gD.call(r,s)&&(n[s]=r[s]);return n};function bD(r,e,n={}){const s=n,{window:o=Ud}=s,i=mD(s,["window"]);let l;const a=E2(()=>o&&"MutationObserver"in o),c=()=>{l&&(l.disconnect(),l=void 0)},u=$e(()=>Po(r),f=>{c(),a.value&&o&&f&&(l=new MutationObserver(e),l.observe(f,i))},{immediate:!0}),d=()=>{c(),u()};return Hd(d),{isSupported:a,stop:d}}var Nw;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(Nw||(Nw={}));var vD=Object.defineProperty,Iw=Object.getOwnPropertySymbols,yD=Object.prototype.hasOwnProperty,wD=Object.prototype.propertyIsEnumerable,Lw=(r,e,n)=>e in r?vD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,CD=(r,e)=>{for(var n in e||(e={}))yD.call(e,n)&&Lw(r,n,e[n]);if(Iw)for(var n of Iw(e))wD.call(e,n)&&Lw(r,n,e[n]);return r};const SD={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};CD({linear:rD},SD);function xD({window:r=Ud}={}){if(!r)return j(!1);const e=j(r.document.hasFocus());return vn(r,"blur",()=>{e.value=!1}),vn(r,"focus",()=>{e.value=!0}),e}const ED=()=>Ct&&/firefox/i.test(window.navigator.userAgent),TD=(r,e)=>{if(!Ct||!r||!e)return!1;const n=r.getBoundingClientRect();let s;return e instanceof Element?s=e.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<s.bottom&&n.bottom>s.top&&n.right>s.left&&n.left<s.right};var T2=typeof global=="object"&&global&&global.Object===Object&&global,_D=typeof self=="object"&&self&&self.Object===Object&&self,zs=T2||_D||Function("return this")(),ss=zs.Symbol,_2=Object.prototype,OD=_2.hasOwnProperty,AD=_2.toString,uu=ss?ss.toStringTag:void 0;function MD(r){var e=OD.call(r,uu),n=r[uu];try{r[uu]=void 0;var s=!0}catch{}var o=AD.call(r);return s&&(e?r[uu]=n:delete r[uu]),o}var kD=Object.prototype,PD=kD.toString;function ND(r){return PD.call(r)}var ID="[object Null]",LD="[object Undefined]",Rw=ss?ss.toStringTag:void 0;function rl(r){return r==null?r===void 0?LD:ID:Rw&&Rw in Object(r)?MD(r):ND(r)}function $s(r){return r!=null&&typeof r=="object"}var RD="[object Symbol]";function oo(r){return typeof r=="symbol"||$s(r)&&rl(r)==RD}function ja(r,e){for(var n=-1,s=r==null?0:r.length,o=Array(s);++n<s;)o[n]=e(r[n],n,r);return o}var Vn=Array.isArray,$D=1/0,$w=ss?ss.prototype:void 0,Dw=$w?$w.toString:void 0;function O2(r){if(typeof r=="string")return r;if(Vn(r))return ja(r,O2)+"";if(oo(r))return Dw?Dw.call(r):"";var e=r+"";return e=="0"&&1/r==-$D?"-0":e}var DD=/\s/;function VD(r){for(var e=r.length;e--&&DD.test(r.charAt(e)););return e}var FD=/^\s+/;function BD(r){return r&&r.slice(0,VD(r)+1).replace(FD,"")}function ln(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var Vw=NaN,zD=/^[-+]0x[0-9a-f]+$/i,jD=/^0b[01]+$/i,HD=/^0o[0-7]+$/i,UD=parseInt;function Ha(r){if(typeof r=="number")return r;if(oo(r))return Vw;if(ln(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=ln(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=BD(r);var n=jD.test(r);return n||HD.test(r)?UD(r.slice(2),n?2:8):zD.test(r)?Vw:+r}var Fw=1/0,WD=17976931348623157e292;function qD(r){if(!r)return r===0?r:0;if(r=Ha(r),r===Fw||r===-Fw){var e=r<0?-1:1;return e*WD}return r===r?r:0}function GD(r){var e=qD(r),n=e%1;return e===e?n?e-n:e:0}function qc(r){return r}var KD="[object AsyncFunction]",YD="[object Function]",JD="[object GeneratorFunction]",XD="[object Proxy]";function ny(r){if(!ln(r))return!1;var e=rl(r);return e==YD||e==JD||e==KD||e==XD}var Gg=zs["__core-js_shared__"],Bw=function(){var r=/[^.]+$/.exec(Gg&&Gg.keys&&Gg.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function ZD(r){return!!Bw&&Bw in r}var QD=Function.prototype,e4=QD.toString;function fa(r){if(r!=null){try{return e4.call(r)}catch{}try{return r+""}catch{}}return""}var t4=/[\\^$.*+?()[\]{}|]/g,n4=/^\[object .+?Constructor\]$/,r4=Function.prototype,s4=Object.prototype,o4=r4.toString,i4=s4.hasOwnProperty,l4=RegExp("^"+o4.call(i4).replace(t4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function a4(r){if(!ln(r)||ZD(r))return!1;var e=ny(r)?l4:n4;return e.test(fa(r))}function c4(r,e){return r==null?void 0:r[e]}function ha(r,e){var n=c4(r,e);return a4(n)?n:void 0}var db=ha(zs,"WeakMap"),zw=Object.create,u4=function(){function r(){}return function(e){if(!ln(e))return{};if(zw)return zw(e);r.prototype=e;var n=new r;return r.prototype=void 0,n}}();function A2(r,e,n){switch(n.length){case 0:return r.call(e);case 1:return r.call(e,n[0]);case 2:return r.call(e,n[0],n[1]);case 3:return r.call(e,n[0],n[1],n[2])}return r.apply(e,n)}function d4(){}function M2(r,e){var n=-1,s=r.length;for(e||(e=Array(s));++n<s;)e[n]=r[n];return e}var f4=800,h4=16,p4=Date.now;function g4(r){var e=0,n=0;return function(){var s=p4(),o=h4-(s-n);if(n=s,o>0){if(++e>=f4)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}function m4(r){return function(){return r}}var Ph=function(){try{var r=ha(Object,"defineProperty");return r({},"",{}),r}catch{}}(),b4=Ph?function(r,e){return Ph(r,"toString",{configurable:!0,enumerable:!1,value:m4(e),writable:!0})}:qc;const v4=b4;var k2=g4(v4);function y4(r,e){for(var n=-1,s=r==null?0:r.length;++n<s&&e(r[n],n,r)!==!1;);return r}function P2(r,e,n,s){for(var o=r.length,i=n+(s?1:-1);s?i--:++i<o;)if(e(r[i],i,r))return i;return-1}function w4(r){return r!==r}function C4(r,e,n){for(var s=n-1,o=r.length;++s<o;)if(r[s]===e)return s;return-1}function S4(r,e,n){return e===e?C4(r,e,n):P2(r,w4,n)}function N2(r,e){var n=r==null?0:r.length;return!!n&&S4(r,e,0)>-1}var x4=9007199254740991,E4=/^(?:0|[1-9]\d*)$/;function $p(r,e){var n=typeof r;return e=e??x4,!!e&&(n=="number"||n!="symbol"&&E4.test(r))&&r>-1&&r%1==0&&r<e}function Dp(r,e,n){e=="__proto__"&&Ph?Ph(r,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[e]=n}function Gc(r,e){return r===e||r!==r&&e!==e}var T4=Object.prototype,_4=T4.hasOwnProperty;function ry(r,e,n){var s=r[e];(!(_4.call(r,e)&&Gc(s,n))||n===void 0&&!(e in r))&&Dp(r,e,n)}function Wd(r,e,n,s){var o=!n;n||(n={});for(var i=-1,l=e.length;++i<l;){var a=e[i],c=s?s(n[a],r[a],a,n,r):void 0;c===void 0&&(c=r[a]),o?Dp(n,a,c):ry(n,a,c)}return n}var jw=Math.max;function I2(r,e,n){return e=jw(e===void 0?r.length-1:e,0),function(){for(var s=arguments,o=-1,i=jw(s.length-e,0),l=Array(i);++o<i;)l[o]=s[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=s[o];return a[e]=n(l),A2(r,this,a)}}function Kc(r,e){return k2(I2(r,e,qc),r+"")}var O4=9007199254740991;function sy(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=O4}function pa(r){return r!=null&&sy(r.length)&&!ny(r)}function Nh(r,e,n){if(!ln(n))return!1;var s=typeof e;return(s=="number"?pa(n)&&$p(e,n.length):s=="string"&&e in n)?Gc(n[e],r):!1}function L2(r){return Kc(function(e,n){var s=-1,o=n.length,i=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;for(i=r.length>3&&typeof i=="function"?(o--,i):void 0,l&&Nh(n[0],n[1],l)&&(i=o<3?void 0:i,o=1),e=Object(e);++s<o;){var a=n[s];a&&r(e,a,s,i)}return e})}var A4=Object.prototype;function Vp(r){var e=r&&r.constructor,n=typeof e=="function"&&e.prototype||A4;return r===n}function M4(r,e){for(var n=-1,s=Array(r);++n<r;)s[n]=e(n);return s}var k4="[object Arguments]";function Hw(r){return $s(r)&&rl(r)==k4}var R2=Object.prototype,P4=R2.hasOwnProperty,N4=R2.propertyIsEnumerable,ic=Hw(function(){return arguments}())?Hw:function(r){return $s(r)&&P4.call(r,"callee")&&!N4.call(r,"callee")};function I4(){return!1}var $2=typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,Uw=$2&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,L4=Uw&&Uw.exports===$2,Ww=L4?zs.Buffer:void 0,R4=Ww?Ww.isBuffer:void 0,lc=R4||I4,$4="[object Arguments]",D4="[object Array]",V4="[object Boolean]",F4="[object Date]",B4="[object Error]",z4="[object Function]",j4="[object Map]",H4="[object Number]",U4="[object Object]",W4="[object RegExp]",q4="[object Set]",G4="[object String]",K4="[object WeakMap]",Y4="[object ArrayBuffer]",J4="[object DataView]",X4="[object Float32Array]",Z4="[object Float64Array]",Q4="[object Int8Array]",e8="[object Int16Array]",t8="[object Int32Array]",n8="[object Uint8Array]",r8="[object Uint8ClampedArray]",s8="[object Uint16Array]",o8="[object Uint32Array]",Jt={};Jt[X4]=Jt[Z4]=Jt[Q4]=Jt[e8]=Jt[t8]=Jt[n8]=Jt[r8]=Jt[s8]=Jt[o8]=!0;Jt[$4]=Jt[D4]=Jt[Y4]=Jt[V4]=Jt[J4]=Jt[F4]=Jt[B4]=Jt[z4]=Jt[j4]=Jt[H4]=Jt[U4]=Jt[W4]=Jt[q4]=Jt[G4]=Jt[K4]=!1;function i8(r){return $s(r)&&sy(r.length)&&!!Jt[rl(r)]}function qd(r){return function(e){return r(e)}}var D2=typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,Nu=D2&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,l8=Nu&&Nu.exports===D2,Kg=l8&&T2.process,ac=function(){try{var r=Nu&&Nu.require&&Nu.require("util").types;return r||Kg&&Kg.binding&&Kg.binding("util")}catch{}}(),qw=ac&&ac.isTypedArray,a8=qw?qd(qw):i8;const Fp=a8;var c8=Object.prototype,u8=c8.hasOwnProperty;function V2(r,e){var n=Vn(r),s=!n&&ic(r),o=!n&&!s&&lc(r),i=!n&&!s&&!o&&Fp(r),l=n||s||o||i,a=l?M4(r.length,String):[],c=a.length;for(var u in r)(e||u8.call(r,u))&&!(l&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$p(u,c)))&&a.push(u);return a}function F2(r,e){return function(n){return r(e(n))}}var d8=F2(Object.keys,Object),f8=Object.prototype,h8=f8.hasOwnProperty;function B2(r){if(!Vp(r))return d8(r);var e=[];for(var n in Object(r))h8.call(r,n)&&n!="constructor"&&e.push(n);return e}function Gd(r){return pa(r)?V2(r):B2(r)}function p8(r){var e=[];if(r!=null)for(var n in Object(r))e.push(n);return e}var g8=Object.prototype,m8=g8.hasOwnProperty;function b8(r){if(!ln(r))return p8(r);var e=Vp(r),n=[];for(var s in r)s=="constructor"&&(e||!m8.call(r,s))||n.push(s);return n}function Yc(r){return pa(r)?V2(r,!0):b8(r)}var v8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y8=/^\w*$/;function oy(r,e){if(Vn(r))return!1;var n=typeof r;return n=="number"||n=="symbol"||n=="boolean"||r==null||oo(r)?!0:y8.test(r)||!v8.test(r)||e!=null&&r in Object(e)}var cd=ha(Object,"create");function w8(){this.__data__=cd?cd(null):{},this.size=0}function C8(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var S8="__lodash_hash_undefined__",x8=Object.prototype,E8=x8.hasOwnProperty;function T8(r){var e=this.__data__;if(cd){var n=e[r];return n===S8?void 0:n}return E8.call(e,r)?e[r]:void 0}var _8=Object.prototype,O8=_8.hasOwnProperty;function A8(r){var e=this.__data__;return cd?e[r]!==void 0:O8.call(e,r)}var M8="__lodash_hash_undefined__";function k8(r,e){var n=this.__data__;return this.size+=this.has(r)?0:1,n[r]=cd&&e===void 0?M8:e,this}function Ql(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var s=r[e];this.set(s[0],s[1])}}Ql.prototype.clear=w8;Ql.prototype.delete=C8;Ql.prototype.get=T8;Ql.prototype.has=A8;Ql.prototype.set=k8;function P8(){this.__data__=[],this.size=0}function Bp(r,e){for(var n=r.length;n--;)if(Gc(r[n][0],e))return n;return-1}var N8=Array.prototype,I8=N8.splice;function L8(r){var e=this.__data__,n=Bp(e,r);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():I8.call(e,n,1),--this.size,!0}function R8(r){var e=this.__data__,n=Bp(e,r);return n<0?void 0:e[n][1]}function $8(r){return Bp(this.__data__,r)>-1}function D8(r,e){var n=this.__data__,s=Bp(n,r);return s<0?(++this.size,n.push([r,e])):n[s][1]=e,this}function Ko(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var s=r[e];this.set(s[0],s[1])}}Ko.prototype.clear=P8;Ko.prototype.delete=L8;Ko.prototype.get=R8;Ko.prototype.has=$8;Ko.prototype.set=D8;var ud=ha(zs,"Map");function V8(){this.size=0,this.__data__={hash:new Ql,map:new(ud||Ko),string:new Ql}}function F8(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function zp(r,e){var n=r.__data__;return F8(e)?n[typeof e=="string"?"string":"hash"]:n.map}function B8(r){var e=zp(this,r).delete(r);return this.size-=e?1:0,e}function z8(r){return zp(this,r).get(r)}function j8(r){return zp(this,r).has(r)}function H8(r,e){var n=zp(this,r),s=n.size;return n.set(r,e),this.size+=n.size==s?0:1,this}function Yo(r){var e=-1,n=r==null?0:r.length;for(this.clear();++e<n;){var s=r[e];this.set(s[0],s[1])}}Yo.prototype.clear=V8;Yo.prototype.delete=B8;Yo.prototype.get=z8;Yo.prototype.has=j8;Yo.prototype.set=H8;var U8="Expected a function";function iy(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(U8);var n=function(){var s=arguments,o=e?e.apply(this,s):s[0],i=n.cache;if(i.has(o))return i.get(o);var l=r.apply(this,s);return n.cache=i.set(o,l)||i,l};return n.cache=new(iy.Cache||Yo),n}iy.Cache=Yo;var W8=500;function q8(r){var e=iy(r,function(s){return n.size===W8&&n.clear(),s}),n=e.cache;return e}var G8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K8=/\\(\\)?/g,Y8=q8(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(G8,function(n,s,o,i){e.push(o?i.replace(K8,"$1"):s||n)}),e});function Kd(r){return r==null?"":O2(r)}function jp(r,e){return Vn(r)?r:oy(r,e)?[r]:Y8(Kd(r))}var J8=1/0;function Yd(r){if(typeof r=="string"||oo(r))return r;var e=r+"";return e=="0"&&1/r==-J8?"-0":e}function Hp(r,e){e=jp(e,r);for(var n=0,s=e.length;r!=null&&n<s;)r=r[Yd(e[n++])];return n&&n==s?r:void 0}function Xr(r,e,n){var s=r==null?void 0:Hp(r,e);return s===void 0?n:s}function ly(r,e){for(var n=-1,s=e.length,o=r.length;++n<s;)r[o+n]=e[n];return r}var Gw=ss?ss.isConcatSpreadable:void 0;function X8(r){return Vn(r)||ic(r)||!!(Gw&&r&&r[Gw])}function Jc(r,e,n,s,o){var i=-1,l=r.length;for(n||(n=X8),o||(o=[]);++i<l;){var a=r[i];e>0&&n(a)?e>1?Jc(a,e-1,n,s,o):ly(o,a):s||(o[o.length]=a)}return o}function Z8(r){var e=r==null?0:r.length;return e?Jc(r,1):[]}function Q8(r){return k2(I2(r,void 0,Z8),r+"")}var ay=F2(Object.getPrototypeOf,Object),eV="[object Object]",tV=Function.prototype,nV=Object.prototype,z2=tV.toString,rV=nV.hasOwnProperty,sV=z2.call(Object);function po(r){if(!$s(r)||rl(r)!=eV)return!1;var e=ay(r);if(e===null)return!0;var n=rV.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&z2.call(n)==sV}function oV(r,e,n){var s=-1,o=r.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++s<o;)i[s]=r[s+e];return i}function iV(r,e,n){var s=r.length;return n=n===void 0?s:n,!e&&n>=s?r:oV(r,e,n)}var lV="\\ud800-\\udfff",aV="\\u0300-\\u036f",cV="\\ufe20-\\ufe2f",uV="\\u20d0-\\u20ff",dV=aV+cV+uV,fV="\\ufe0e\\ufe0f",hV="\\u200d",pV=RegExp("["+hV+lV+dV+fV+"]");function j2(r){return pV.test(r)}function gV(r){return r.split("")}var H2="\\ud800-\\udfff",mV="\\u0300-\\u036f",bV="\\ufe20-\\ufe2f",vV="\\u20d0-\\u20ff",yV=mV+bV+vV,wV="\\ufe0e\\ufe0f",CV="["+H2+"]",fb="["+yV+"]",hb="\\ud83c[\\udffb-\\udfff]",SV="(?:"+fb+"|"+hb+")",U2="[^"+H2+"]",W2="(?:\\ud83c[\\udde6-\\uddff]){2}",q2="[\\ud800-\\udbff][\\udc00-\\udfff]",xV="\\u200d",G2=SV+"?",K2="["+wV+"]?",EV="(?:"+xV+"(?:"+[U2,W2,q2].join("|")+")"+K2+G2+")*",TV=K2+G2+EV,_V="(?:"+[U2+fb+"?",fb,W2,q2,CV].join("|")+")",OV=RegExp(hb+"(?="+hb+")|"+_V+TV,"g");function AV(r){return r.match(OV)||[]}function MV(r){return j2(r)?AV(r):gV(r)}function Y2(r){return function(e){e=Kd(e);var n=j2(e)?MV(e):void 0,s=n?n[0]:e.charAt(0),o=n?iV(n,1).join(""):e.slice(1);return s[r]()+o}}var Ih=Y2("toUpperCase");function kV(r){return Ih(Kd(r).toLowerCase())}function PV(r,e,n,s){var o=-1,i=r==null?0:r.length;for(s&&i&&(n=r[++o]);++o<i;)n=e(n,r[o],o,r);return n}function NV(r){return function(e){return r==null?void 0:r[e]}}var IV={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},LV=NV(IV);const RV=LV;var $V=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,DV="\\u0300-\\u036f",VV="\\ufe20-\\ufe2f",FV="\\u20d0-\\u20ff",BV=DV+VV+FV,zV="["+BV+"]",jV=RegExp(zV,"g");function HV(r){return r=Kd(r),r&&r.replace($V,RV).replace(jV,"")}var UV=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function WV(r){return r.match(UV)||[]}var qV=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function GV(r){return qV.test(r)}var J2="\\ud800-\\udfff",KV="\\u0300-\\u036f",YV="\\ufe20-\\ufe2f",JV="\\u20d0-\\u20ff",XV=KV+YV+JV,X2="\\u2700-\\u27bf",Z2="a-z\\xdf-\\xf6\\xf8-\\xff",ZV="\\xac\\xb1\\xd7\\xf7",QV="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eF="\\u2000-\\u206f",tF=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Q2="A-Z\\xc0-\\xd6\\xd8-\\xde",nF="\\ufe0e\\ufe0f",e_=ZV+QV+eF+tF,t_="['’]",Kw="["+e_+"]",rF="["+XV+"]",n_="\\d+",sF="["+X2+"]",r_="["+Z2+"]",s_="[^"+J2+e_+n_+X2+Z2+Q2+"]",oF="\\ud83c[\\udffb-\\udfff]",iF="(?:"+rF+"|"+oF+")",lF="[^"+J2+"]",o_="(?:\\ud83c[\\udde6-\\uddff]){2}",i_="[\\ud800-\\udbff][\\udc00-\\udfff]",ka="["+Q2+"]",aF="\\u200d",Yw="(?:"+r_+"|"+s_+")",cF="(?:"+ka+"|"+s_+")",Jw="(?:"+t_+"(?:d|ll|m|re|s|t|ve))?",Xw="(?:"+t_+"(?:D|LL|M|RE|S|T|VE))?",l_=iF+"?",a_="["+nF+"]?",uF="(?:"+aF+"(?:"+[lF,o_,i_].join("|")+")"+a_+l_+")*",dF="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fF="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",hF=a_+l_+uF,pF="(?:"+[sF,o_,i_].join("|")+")"+hF,gF=RegExp([ka+"?"+r_+"+"+Jw+"(?="+[Kw,ka,"$"].join("|")+")",cF+"+"+Xw+"(?="+[Kw,ka+Yw,"$"].join("|")+")",ka+"?"+Yw+"+"+Jw,ka+"+"+Xw,fF,dF,n_,pF].join("|"),"g");function mF(r){return r.match(gF)||[]}function bF(r,e,n){return r=Kd(r),e=n?void 0:e,e===void 0?GV(r)?mF(r):WV(r):r.match(e)||[]}var vF="['’]",yF=RegExp(vF,"g");function c_(r){return function(e){return PV(bF(HV(e).replace(yF,"")),r,"")}}var Up=c_(function(r,e,n){return e=e.toLowerCase(),r+(n?kV(e):e)});function Lh(){if(!arguments.length)return[];var r=arguments[0];return Vn(r)?r:[r]}function wF(r,e,n){return r===r&&(n!==void 0&&(r=r<=n?r:n),e!==void 0&&(r=r>=e?r:e)),r}function Zr(r,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=Ha(n),n=n===n?n:0),e!==void 0&&(e=Ha(e),e=e===e?e:0),wF(Ha(r),e,n)}function CF(){this.__data__=new Ko,this.size=0}function SF(r){var e=this.__data__,n=e.delete(r);return this.size=e.size,n}function xF(r){return this.__data__.get(r)}function EF(r){return this.__data__.has(r)}var TF=200;function _F(r,e){var n=this.__data__;if(n instanceof Ko){var s=n.__data__;if(!ud||s.length<TF-1)return s.push([r,e]),this.size=++n.size,this;n=this.__data__=new Yo(s)}return n.set(r,e),this.size=n.size,this}function ks(r){var e=this.__data__=new Ko(r);this.size=e.size}ks.prototype.clear=CF;ks.prototype.delete=SF;ks.prototype.get=xF;ks.prototype.has=EF;ks.prototype.set=_F;function OF(r,e){return r&&Wd(e,Gd(e),r)}function AF(r,e){return r&&Wd(e,Yc(e),r)}var u_=typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,Zw=u_&&typeof $r=="object"&&$r&&!$r.nodeType&&$r,MF=Zw&&Zw.exports===u_,Qw=MF?zs.Buffer:void 0,eC=Qw?Qw.allocUnsafe:void 0;function d_(r,e){if(e)return r.slice();var n=r.length,s=eC?eC(n):new r.constructor(n);return r.copy(s),s}function kF(r,e){for(var n=-1,s=r==null?0:r.length,o=0,i=[];++n<s;){var l=r[n];e(l,n,r)&&(i[o++]=l)}return i}function f_(){return[]}var PF=Object.prototype,NF=PF.propertyIsEnumerable,tC=Object.getOwnPropertySymbols,cy=tC?function(r){return r==null?[]:(r=Object(r),kF(tC(r),function(e){return NF.call(r,e)}))}:f_;function IF(r,e){return Wd(r,cy(r),e)}var LF=Object.getOwnPropertySymbols,h_=LF?function(r){for(var e=[];r;)ly(e,cy(r)),r=ay(r);return e}:f_;function RF(r,e){return Wd(r,h_(r),e)}function p_(r,e,n){var s=e(r);return Vn(r)?s:ly(s,n(r))}function pb(r){return p_(r,Gd,cy)}function $F(r){return p_(r,Yc,h_)}var gb=ha(zs,"DataView"),mb=ha(zs,"Promise"),Ua=ha(zs,"Set"),nC="[object Map]",DF="[object Object]",rC="[object Promise]",sC="[object Set]",oC="[object WeakMap]",iC="[object DataView]",VF=fa(gb),FF=fa(ud),BF=fa(mb),zF=fa(Ua),jF=fa(db),xl=rl;(gb&&xl(new gb(new ArrayBuffer(1)))!=iC||ud&&xl(new ud)!=nC||mb&&xl(mb.resolve())!=rC||Ua&&xl(new Ua)!=sC||db&&xl(new db)!=oC)&&(xl=function(r){var e=rl(r),n=e==DF?r.constructor:void 0,s=n?fa(n):"";if(s)switch(s){case VF:return iC;case FF:return nC;case BF:return rC;case zF:return sC;case jF:return oC}return e});const cc=xl;var HF=Object.prototype,UF=HF.hasOwnProperty;function WF(r){var e=r.length,n=new r.constructor(e);return e&&typeof r[0]=="string"&&UF.call(r,"index")&&(n.index=r.index,n.input=r.input),n}var Rh=zs.Uint8Array;function uy(r){var e=new r.constructor(r.byteLength);return new Rh(e).set(new Rh(r)),e}function qF(r,e){var n=e?uy(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.byteLength)}var GF=/\w*$/;function KF(r){var e=new r.constructor(r.source,GF.exec(r));return e.lastIndex=r.lastIndex,e}var lC=ss?ss.prototype:void 0,aC=lC?lC.valueOf:void 0;function YF(r){return aC?Object(aC.call(r)):{}}function g_(r,e){var n=e?uy(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)}var JF="[object Boolean]",XF="[object Date]",ZF="[object Map]",QF="[object Number]",eB="[object RegExp]",tB="[object Set]",nB="[object String]",rB="[object Symbol]",sB="[object ArrayBuffer]",oB="[object DataView]",iB="[object Float32Array]",lB="[object Float64Array]",aB="[object Int8Array]",cB="[object Int16Array]",uB="[object Int32Array]",dB="[object Uint8Array]",fB="[object Uint8ClampedArray]",hB="[object Uint16Array]",pB="[object Uint32Array]";function gB(r,e,n){var s=r.constructor;switch(e){case sB:return uy(r);case JF:case XF:return new s(+r);case oB:return qF(r,n);case iB:case lB:case aB:case cB:case uB:case dB:case fB:case hB:case pB:return g_(r,n);case ZF:return new s;case QF:case nB:return new s(r);case eB:return KF(r);case tB:return new s;case rB:return YF(r)}}function m_(r){return typeof r.constructor=="function"&&!Vp(r)?u4(ay(r)):{}}var mB="[object Map]";function bB(r){return $s(r)&&cc(r)==mB}var cC=ac&&ac.isMap,vB=cC?qd(cC):bB,yB="[object Set]";function wB(r){return $s(r)&&cc(r)==yB}var uC=ac&&ac.isSet,CB=uC?qd(uC):wB,SB=1,xB=2,EB=4,b_="[object Arguments]",TB="[object Array]",_B="[object Boolean]",OB="[object Date]",AB="[object Error]",v_="[object Function]",MB="[object GeneratorFunction]",kB="[object Map]",PB="[object Number]",y_="[object Object]",NB="[object RegExp]",IB="[object Set]",LB="[object String]",RB="[object Symbol]",$B="[object WeakMap]",DB="[object ArrayBuffer]",VB="[object DataView]",FB="[object Float32Array]",BB="[object Float64Array]",zB="[object Int8Array]",jB="[object Int16Array]",HB="[object Int32Array]",UB="[object Uint8Array]",WB="[object Uint8ClampedArray]",qB="[object Uint16Array]",GB="[object Uint32Array]",Gt={};Gt[b_]=Gt[TB]=Gt[DB]=Gt[VB]=Gt[_B]=Gt[OB]=Gt[FB]=Gt[BB]=Gt[zB]=Gt[jB]=Gt[HB]=Gt[kB]=Gt[PB]=Gt[y_]=Gt[NB]=Gt[IB]=Gt[LB]=Gt[RB]=Gt[UB]=Gt[WB]=Gt[qB]=Gt[GB]=!0;Gt[AB]=Gt[v_]=Gt[$B]=!1;function Iu(r,e,n,s,o,i){var l,a=e&SB,c=e&xB,u=e&EB;if(n&&(l=o?n(r,s,o,i):n(r)),l!==void 0)return l;if(!ln(r))return r;var d=Vn(r);if(d){if(l=WF(r),!a)return M2(r,l)}else{var f=cc(r),h=f==v_||f==MB;if(lc(r))return d_(r,a);if(f==y_||f==b_||h&&!o){if(l=c||h?{}:m_(r),!a)return c?RF(r,AF(l,r)):IF(r,OF(l,r))}else{if(!Gt[f])return o?r:{};l=gB(r,f,a)}}i||(i=new ks);var p=i.get(r);if(p)return p;i.set(r,l),CB(r)?r.forEach(function(v){l.add(Iu(v,e,n,v,r,i))}):vB(r)&&r.forEach(function(v,b){l.set(b,Iu(v,e,n,b,r,i))});var g=u?c?$F:pb:c?Yc:Gd,m=d?void 0:g(r);return y4(m||r,function(v,b){m&&(b=v,v=r[b]),ry(l,b,Iu(v,e,n,b,r,i))}),l}var KB=4;function dd(r){return Iu(r,KB)}var YB=1,JB=4;function rn(r){return Iu(r,YB|JB)}var XB="__lodash_hash_undefined__";function ZB(r){return this.__data__.set(r,XB),this}function QB(r){return this.__data__.has(r)}function uc(r){var e=-1,n=r==null?0:r.length;for(this.__data__=new Yo;++e<n;)this.add(r[e])}uc.prototype.add=uc.prototype.push=ZB;uc.prototype.has=QB;function e6(r,e){for(var n=-1,s=r==null?0:r.length;++n<s;)if(e(r[n],n,r))return!0;return!1}function dy(r,e){return r.has(e)}var t6=1,n6=2;function w_(r,e,n,s,o,i){var l=n&t6,a=r.length,c=e.length;if(a!=c&&!(l&&c>a))return!1;var u=i.get(r),d=i.get(e);if(u&&d)return u==e&&d==r;var f=-1,h=!0,p=n&n6?new uc:void 0;for(i.set(r,e),i.set(e,r);++f<a;){var g=r[f],m=e[f];if(s)var v=l?s(m,g,f,e,r,i):s(g,m,f,r,e,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!e6(e,function(b,C){if(!dy(p,C)&&(g===b||o(g,b,n,s,i)))return p.push(C)})){h=!1;break}}else if(!(g===m||o(g,m,n,s,i))){h=!1;break}}return i.delete(r),i.delete(e),h}function r6(r){var e=-1,n=Array(r.size);return r.forEach(function(s,o){n[++e]=[o,s]}),n}function fy(r){var e=-1,n=Array(r.size);return r.forEach(function(s){n[++e]=s}),n}var s6=1,o6=2,i6="[object Boolean]",l6="[object Date]",a6="[object Error]",c6="[object Map]",u6="[object Number]",d6="[object RegExp]",f6="[object Set]",h6="[object String]",p6="[object Symbol]",g6="[object ArrayBuffer]",m6="[object DataView]",dC=ss?ss.prototype:void 0,Yg=dC?dC.valueOf:void 0;function b6(r,e,n,s,o,i,l){switch(n){case m6:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case g6:return!(r.byteLength!=e.byteLength||!i(new Rh(r),new Rh(e)));case i6:case l6:case u6:return Gc(+r,+e);case a6:return r.name==e.name&&r.message==e.message;case d6:case h6:return r==e+"";case c6:var a=r6;case f6:var c=s&s6;if(a||(a=fy),r.size!=e.size&&!c)return!1;var u=l.get(r);if(u)return u==e;s|=o6,l.set(r,e);var d=w_(a(r),a(e),s,o,i,l);return l.delete(r),d;case p6:if(Yg)return Yg.call(r)==Yg.call(e)}return!1}var v6=1,y6=Object.prototype,w6=y6.hasOwnProperty;function C6(r,e,n,s,o,i){var l=n&v6,a=pb(r),c=a.length,u=pb(e),d=u.length;if(c!=d&&!l)return!1;for(var f=c;f--;){var h=a[f];if(!(l?h in e:w6.call(e,h)))return!1}var p=i.get(r),g=i.get(e);if(p&&g)return p==e&&g==r;var m=!0;i.set(r,e),i.set(e,r);for(var v=l;++f<c;){h=a[f];var b=r[h],C=e[h];if(s)var y=l?s(C,b,h,e,r,i):s(b,C,h,r,e,i);if(!(y===void 0?b===C||o(b,C,n,s,i):y)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var w=r.constructor,x=e.constructor;w!=x&&"constructor"in r&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(m=!1)}return i.delete(r),i.delete(e),m}var S6=1,fC="[object Arguments]",hC="[object Array]",Of="[object Object]",x6=Object.prototype,pC=x6.hasOwnProperty;function E6(r,e,n,s,o,i){var l=Vn(r),a=Vn(e),c=l?hC:cc(r),u=a?hC:cc(e);c=c==fC?Of:c,u=u==fC?Of:u;var d=c==Of,f=u==Of,h=c==u;if(h&&lc(r)){if(!lc(e))return!1;l=!0,d=!1}if(h&&!d)return i||(i=new ks),l||Fp(r)?w_(r,e,n,s,o,i):b6(r,e,c,n,s,o,i);if(!(n&S6)){var p=d&&pC.call(r,"__wrapped__"),g=f&&pC.call(e,"__wrapped__");if(p||g){var m=p?r.value():r,v=g?e.value():e;return i||(i=new ks),o(m,v,n,s,i)}}return h?(i||(i=new ks),C6(r,e,n,s,o,i)):!1}function Wp(r,e,n,s,o){return r===e?!0:r==null||e==null||!$s(r)&&!$s(e)?r!==r&&e!==e:E6(r,e,n,s,Wp,o)}var T6=1,_6=2;function O6(r,e,n,s){var o=n.length,i=o,l=!s;if(r==null)return!i;for(r=Object(r);o--;){var a=n[o];if(l&&a[2]?a[1]!==r[a[0]]:!(a[0]in r))return!1}for(;++o<i;){a=n[o];var c=a[0],u=r[c],d=a[1];if(l&&a[2]){if(u===void 0&&!(c in r))return!1}else{var f=new ks;if(s)var h=s(u,d,c,r,e,f);if(!(h===void 0?Wp(d,u,T6|_6,s,f):h))return!1}}return!0}function C_(r){return r===r&&!ln(r)}function A6(r){for(var e=Gd(r),n=e.length;n--;){var s=e[n],o=r[s];e[n]=[s,o,C_(o)]}return e}function S_(r,e){return function(n){return n==null?!1:n[r]===e&&(e!==void 0||r in Object(n))}}function M6(r){var e=A6(r);return e.length==1&&e[0][2]?S_(e[0][0],e[0][1]):function(n){return n===r||O6(n,r,e)}}function k6(r,e){return r!=null&&e in Object(r)}function x_(r,e,n){e=jp(e,r);for(var s=-1,o=e.length,i=!1;++s<o;){var l=Yd(e[s]);if(!(i=r!=null&&n(r,l)))break;r=r[l]}return i||++s!=o?i:(o=r==null?0:r.length,!!o&&sy(o)&&$p(l,o)&&(Vn(r)||ic(r)))}function E_(r,e){return r!=null&&x_(r,e,k6)}var P6=1,N6=2;function I6(r,e){return oy(r)&&C_(e)?S_(Yd(r),e):function(n){var s=Xr(n,r);return s===void 0&&s===e?E_(n,r):Wp(e,s,P6|N6)}}function L6(r){return function(e){return e==null?void 0:e[r]}}function R6(r){return function(e){return Hp(e,r)}}function $6(r){return oy(r)?L6(Yd(r)):R6(r)}function Jd(r){return typeof r=="function"?r:r==null?qc:typeof r=="object"?Vn(r)?I6(r[0],r[1]):M6(r):$6(r)}function D6(r,e,n,s){for(var o=-1,i=r==null?0:r.length;++o<i;){var l=r[o];e(s,l,n(l),r)}return s}function V6(r){return function(e,n,s){for(var o=-1,i=Object(e),l=s(e),a=l.length;a--;){var c=l[r?a:++o];if(n(i[c],c,i)===!1)break}return e}}var T_=V6();function F6(r,e){return r&&T_(r,e,Gd)}function B6(r,e){return function(n,s){if(n==null)return n;if(!pa(n))return r(n,s);for(var o=n.length,i=e?o:-1,l=Object(n);(e?i--:++i<o)&&s(l[i],i,l)!==!1;);return n}}var __=B6(F6);function z6(r,e,n,s){return __(r,function(o,i,l){e(s,o,n(o),l)}),s}function j6(r,e){return function(n,s){var o=Vn(n)?D6:z6,i=e?e():{};return o(n,r,Jd(s),i)}}var Jg=function(){return zs.Date.now()},H6="Expected a function",U6=Math.max,W6=Math.min;function dc(r,e,n){var s,o,i,l,a,c,u=0,d=!1,f=!1,h=!0;if(typeof r!="function")throw new TypeError(H6);e=Ha(e)||0,ln(n)&&(d=!!n.leading,f="maxWait"in n,i=f?U6(Ha(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h);function p(E){var _=s,M=o;return s=o=void 0,u=E,l=r.apply(M,_),l}function g(E){return u=E,a=setTimeout(b,e),d?p(E):l}function m(E){var _=E-c,M=E-u,A=e-_;return f?W6(A,i-M):A}function v(E){var _=E-c,M=E-u;return c===void 0||_>=e||_<0||f&&M>=i}function b(){var E=Jg();if(v(E))return C(E);a=setTimeout(b,m(E))}function C(E){return a=void 0,h&&s?p(E):(s=o=void 0,l)}function y(){a!==void 0&&clearTimeout(a),u=0,s=c=o=a=void 0}function w(){return a===void 0?l:C(Jg())}function x(){var E=Jg(),_=v(E);if(s=arguments,o=this,c=E,_){if(a===void 0)return g(c);if(f)return clearTimeout(a),a=setTimeout(b,e),p(c)}return a===void 0&&(a=setTimeout(b,e)),l}return x.cancel=y,x.flush=w,x}var O_=Object.prototype,q6=O_.hasOwnProperty,G6=Kc(function(r,e){r=Object(r);var n=-1,s=e.length,o=s>2?e[2]:void 0;for(o&&Nh(e[0],e[1],o)&&(s=1);++n<s;)for(var i=e[n],l=Yc(i),a=-1,c=l.length;++a<c;){var u=l[a],d=r[u];(d===void 0||Gc(d,O_[u])&&!q6.call(r,u))&&(r[u]=i[u])}return r});function bb(r,e,n){(n!==void 0&&!Gc(r[e],n)||n===void 0&&!(e in r))&&Dp(r,e,n)}function $h(r){return $s(r)&&pa(r)}function vb(r,e){if(!(e==="constructor"&&typeof r[e]=="function")&&e!="__proto__")return r[e]}function K6(r){return Wd(r,Yc(r))}function Y6(r,e,n,s,o,i,l){var a=vb(r,n),c=vb(e,n),u=l.get(c);if(u){bb(r,n,u);return}var d=i?i(a,c,n+"",r,e,l):void 0,f=d===void 0;if(f){var h=Vn(c),p=!h&&lc(c),g=!h&&!p&&Fp(c);d=c,h||p||g?Vn(a)?d=a:$h(a)?d=M2(a):p?(f=!1,d=d_(c,!0)):g?(f=!1,d=g_(c,!0)):d=[]:po(c)||ic(c)?(d=a,ic(a)?d=K6(a):(!ln(a)||ny(a))&&(d=m_(c))):f=!1}f&&(l.set(c,d),o(d,c,s,i,l),l.delete(c)),bb(r,n,d)}function qp(r,e,n,s,o){r!==e&&T_(e,function(i,l){if(o||(o=new ks),ln(i))Y6(r,e,l,n,qp,s,o);else{var a=s?s(vb(r,l),i,l+"",r,e,o):void 0;a===void 0&&(a=i),bb(r,l,a)}},Yc)}function A_(r,e,n,s,o,i){return ln(r)&&ln(e)&&(i.set(e,r),qp(r,e,void 0,A_,i),i.delete(e)),r}var J6=L2(function(r,e,n,s){qp(r,e,n,s)});const X6=J6;var M_=Kc(function(r){return r.push(void 0,A_),A2(X6,void 0,r)});function k_(r,e,n){for(var s=-1,o=r==null?0:r.length;++s<o;)if(n(e,r[s]))return!0;return!1}var Z6=200;function Q6(r,e,n,s){var o=-1,i=N2,l=!0,a=r.length,c=[],u=e.length;if(!a)return c;n&&(e=ja(e,qd(n))),s?(i=k_,l=!1):e.length>=Z6&&(i=dy,l=!1,e=new uc(e));e:for(;++o<a;){var d=r[o],f=n==null?d:n(d);if(d=s||d!==0?d:0,l&&f===f){for(var h=u;h--;)if(e[h]===f)continue e;c.push(d)}else i(e,f,s)||c.push(d)}return c}var e5=Kc(function(r,e){return $h(r)?Q6(r,Jc(e,1,$h,!0)):[]}),t5=Math.max,n5=Math.min;function r5(r,e,n){var s=r==null?0:r.length;if(!s)return-1;var o=s-1;return n!==void 0&&(o=GD(n),o=n<0?t5(s+o,0):n5(o,s-1)),P2(r,Jd(e),o,!0)}function P_(r,e){var n=-1,s=pa(r)?Array(r.length):[];return __(r,function(o,i,l){s[++n]=e(o,i,l)}),s}function s5(r,e){var n=Vn(r)?ja:P_;return n(r,Jd(e))}function o5(r,e){return Jc(s5(r,e),1)}function Dh(r){for(var e=-1,n=r==null?0:r.length,s={};++e<n;){var o=r[e];s[o[0]]=o[1]}return s}var i5=Object.prototype,l5=i5.hasOwnProperty,gC=j6(function(r,e,n){l5.call(r,n)?r[n].push(e):Dp(r,n,[e])});function a5(r,e){return r>e}var c5=Object.prototype,u5=c5.hasOwnProperty;function d5(r,e){return r!=null&&u5.call(r,e)}function Af(r,e){return r!=null&&x_(r,e,d5)}var f5="[object Map]",h5="[object Set]",p5=Object.prototype,g5=p5.hasOwnProperty;function N_(r){if(r==null)return!0;if(pa(r)&&(Vn(r)||typeof r=="string"||typeof r.splice=="function"||lc(r)||Fp(r)||ic(r)))return!r.length;var e=cc(r);if(e==f5||e==h5)return!r.size;if(Vp(r))return!B2(r).length;for(var n in r)if(g5.call(r,n))return!1;return!0}function Sr(r,e){return Wp(r,e)}var m5="[object Number]";function mC(r){return typeof r=="number"||$s(r)&&rl(r)==m5}function no(r){return r==null}function I_(r){return r===void 0}var b5=Y2("toLowerCase");function v5(r,e,n){for(var s=-1,o=r.length;++s<o;){var i=r[s],l=e(i);if(l!=null&&(a===void 0?l===l&&!oo(l):n(l,a)))var a=l,c=i}return c}function y5(r){return r&&r.length?v5(r,qc,a5):void 0}var on=L2(function(r,e,n){qp(r,e,n)});function L_(r,e,n,s){if(!ln(r))return r;e=jp(e,r);for(var o=-1,i=e.length,l=i-1,a=r;a!=null&&++o<i;){var c=Yd(e[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return r;if(o!=l){var d=a[c];u=s?s(d,c,a):void 0,u===void 0&&(u=ln(d)?d:$p(e[o+1])?[]:{})}ry(a,c,u),a=a[c]}return r}function w5(r,e,n){for(var s=-1,o=e.length,i={};++s<o;){var l=e[s],a=Hp(r,l);n(a,l)&&L_(i,jp(l,r),a)}return i}function C5(r,e){var n=r.length;for(r.sort(e);n--;)r[n]=r[n].value;return r}function S5(r,e){if(r!==e){var n=r!==void 0,s=r===null,o=r===r,i=oo(r),l=e!==void 0,a=e===null,c=e===e,u=oo(e);if(!a&&!u&&!i&&r>e||i&&l&&c&&!a&&!u||s&&l&&c||!n&&c||!o)return 1;if(!s&&!i&&!u&&r<e||u&&n&&o&&!s&&!i||a&&n&&o||!l&&o||!c)return-1}return 0}function x5(r,e,n){for(var s=-1,o=r.criteria,i=e.criteria,l=o.length,a=n.length;++s<l;){var c=S5(o[s],i[s]);if(c){if(s>=a)return c;var u=n[s];return c*(u=="desc"?-1:1)}}return r.index-e.index}function E5(r,e,n){e.length?e=ja(e,function(i){return Vn(i)?function(l){return Hp(l,i.length===1?i[0]:i)}:i}):e=[qc];var s=-1;e=ja(e,qd(Jd));var o=P_(r,function(i,l,a){var c=ja(e,function(u){return u(i)});return{criteria:c,index:++s,value:i}});return C5(o,function(i,l){return x5(i,l,n)})}function T5(r,e){return w5(r,e,function(n,s){return E_(r,s)})}var R_=Q8(function(r,e){return r==null?{}:T5(r,e)});function _5(r,e,n){return r==null?r:L_(r,e,n)}var O5=Kc(function(r,e){if(r==null)return[];var n=e.length;return n>1&&Nh(r,e[0],e[1])?e=[]:n>2&&Nh(e[0],e[1],e[2])&&(e=[e[0]]),E5(r,Jc(e,1),[])}),A5=4294967295,M5=A5-1,k5=Math.floor,P5=Math.min;function $_(r,e,n,s){var o=0,i=r==null?0:r.length;if(i===0)return 0;e=n(e);for(var l=e!==e,a=e===null,c=oo(e),u=e===void 0;o<i;){var d=k5((o+i)/2),f=n(r[d]),h=f!==void 0,p=f===null,g=f===f,m=oo(f);if(l)var v=s||g;else u?v=g&&(s||h):a?v=g&&h&&(s||!p):c?v=g&&h&&!p&&(s||!m):p||m?v=!1:v=s?f<=e:f<e;v?o=d+1:i=d}return P5(i,M5)}var N5=4294967295,I5=N5>>>1;function L5(r,e,n){var s=0,o=r==null?s:r.length;if(typeof e=="number"&&e===e&&o<=I5){for(;s<o;){var i=s+o>>>1,l=r[i];l!==null&&!oo(l)&&(n?l<=e:l<e)?s=i+1:o=i}return o}return $_(r,e,qc,n)}function R5(r,e){return L5(r,e)}function $5(r,e,n){return $_(r,e,Jd(n))}var D5=c_(function(r,e,n){return r+(n?" ":"")+Ih(e)}),V5="Expected a function";function oh(r,e,n){var s=!0,o=!0;if(typeof r!="function")throw new TypeError(V5);return ln(n)&&(s="leading"in n?!!n.leading:s,o="trailing"in n?!!n.trailing:o),dc(r,e,{leading:s,maxWait:e,trailing:o})}var F5=1/0,B5=Ua&&1/fy(new Ua([,-0]))[1]==F5?function(r){return new Ua(r)}:d4,z5=200;function D_(r,e,n){var s=-1,o=N2,i=r.length,l=!0,a=[],c=a;if(n)l=!1,o=k_;else if(i>=z5){var u=e?null:B5(r);if(u)return fy(u);l=!1,o=dy,c=new uc}else c=e?[]:a;e:for(;++s<i;){var d=r[s],f=e?e(d):d;if(d=n||d!==0?d:0,l&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var bC=Kc(function(r){return D_(Jc(r,1,$h,!0))});function V_(r){return r&&r.length?D_(r):[]}const wr=r=>r===void 0,is=r=>typeof r=="boolean",Tt=r=>typeof r=="number",ls=r=>typeof Element>"u"?!1:r instanceof Element,fd=r=>no(r),j5=r=>ft(r)?!Number.isNaN(Number(r)):!1,H5=r=>Ct?window.requestAnimationFrame(r):setTimeout(r,16),U5=(r="")=>r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),_i=r=>Dd(r),Vh=r=>Object.keys(r),ih=(r,e,n)=>({get value(){return Xr(r,e,n)},set value(s){_5(r,e,s)}});class W5 extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function sl(r,e){throw new W5(`[${r}] ${e}`)}const F_=(r="")=>r.split(" ").filter(e=>!!e.trim()),Wa=(r,e)=>{if(!r||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return r.classList.contains(e)},ea=(r,e)=>{!r||!e.trim()||r.classList.add(...F_(e))},io=(r,e)=>{!r||!e.trim()||r.classList.remove(...F_(e))},Ol=(r,e)=>{var n;if(!Ct||!r||!e)return"";let s=Ls(e);s==="float"&&(s="cssFloat");try{const o=r.style[s];if(o)return o;const i=(n=document.defaultView)==null?void 0:n.getComputedStyle(r,"");return i?i[s]:""}catch{return r.style[s]}};function as(r,e="px"){if(!r)return"";if(Tt(r)||j5(r))return`${r}${e}`;if(ft(r))return r}const q5=(r,e)=>{if(!Ct)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],s=Ol(r,n);return["scroll","auto","overlay"].some(o=>s.includes(o))},G5=(r,e)=>{if(!Ct)return;let n=r;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(q5(n,e))return n;n=n.parentNode}return n};let Mf;const K5=r=>{var e;if(!Ct)return 0;if(Mf!==void 0)return Mf;const n=document.createElement("div");n.className=`${r}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const s=n.offsetWidth;n.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",n.appendChild(o);const i=o.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),Mf=s-i,Mf};function Y5(r,e){if(!Ct)return;if(!e){r.scrollTop=0;return}const n=[];let s=e.offsetParent;for(;s!==null&&r!==s&&r.contains(s);)n.push(s),s=s.offsetParent;const o=e.offsetTop+n.reduce((c,u)=>c+u.offsetTop,0),i=o+e.offsetHeight,l=r.scrollTop,a=l+r.clientHeight;o<l?r.scrollTop=o:i>a&&(r.scrollTop=i-r.clientHeight)}/*! Element Plus Icons Vue v2.3.1 */var J5=pe({name:"ArrowDown",__name:"arrow-down",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),hy=J5,X5=pe({name:"ArrowLeft",__name:"arrow-left",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),B_=X5,Z5=pe({name:"ArrowRight",__name:"arrow-right",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Gp=Z5,Q5=pe({name:"ArrowUp",__name:"arrow-up",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),z_=Q5,ez=pe({name:"Back",__name:"back",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),H("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),tz=ez,nz=pe({name:"CircleCheckFilled",__name:"circle-check-filled",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),rz=nz,sz=pe({name:"CircleCheck",__name:"circle-check",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),H("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),oz=sz,iz=pe({name:"CircleCloseFilled",__name:"circle-close-filled",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),py=iz,lz=pe({name:"CircleClose",__name:"circle-close",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),H("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),gy=lz,az=pe({name:"Close",__name:"close",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),ta=az,cz=pe({name:"FullScreen",__name:"full-screen",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),uz=cz,dz=pe({name:"Hide",__name:"hide",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),H("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),fz=dz,hz=pe({name:"InfoFilled",__name:"info-filled",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),my=hz,pz=pe({name:"Loading",__name:"loading",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),by=pz,gz=pe({name:"Minus",__name:"minus",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),mz=gz,bz=pe({name:"Plus",__name:"plus",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),j_=bz,vz=pe({name:"RefreshLeft",__name:"refresh-left",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),yz=vz,wz=pe({name:"RefreshRight",__name:"refresh-right",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),Cz=wz,Sz=pe({name:"ScaleToOriginal",__name:"scale-to-original",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),xz=Sz,Ez=pe({name:"SuccessFilled",__name:"success-filled",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),H_=Ez,Tz=pe({name:"View",__name:"view",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),_z=Tz,Oz=pe({name:"WarningFilled",__name:"warning-filled",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),vy=Oz,Az=pe({name:"ZoomIn",__name:"zoom-in",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),Mz=Az,kz=pe({name:"ZoomOut",__name:"zoom-out",setup(r){return(e,n)=>(N(),X("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[H("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),Pz=kz;const U_="__epPropKey",Be=r=>r,Nz=r=>pt(r)&&!!r[U_],Kp=(r,e)=>{if(!pt(r)||Nz(r))return r;const{values:n,required:s,default:o,type:i,validator:l}=r,c={type:i,required:!!s,validator:n||l?u=>{let d=!1,f=[];if(n&&(f=Array.from(n),wt(r,"default")&&f.push(o),d||(d=f.includes(u))),l&&(d||(d=l(u))),!d&&f.length>0){const h=[...new Set(f)].map(p=>JSON.stringify(p)).join(", ");ZI(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(u)}.`)}return d}:void 0,[U_]:!0};return wt(r,"default")&&(c.default=o),c},et=r=>Dh(Object.entries(r).map(([e,n])=>[e,Kp(n,e)])),cs=Be([String,Object,Function]),W_={Close:ta},yy={Close:ta,SuccessFilled:H_,InfoFilled:my,WarningFilled:vy,CircleCloseFilled:py},Ui={success:H_,warning:vy,error:py,info:my},q_={validating:by,success:oz,error:gy},Rt=(r,e)=>{if(r.install=n=>{for(const s of[r,...Object.values(e??{})])n.component(s.name,s)},e)for(const[n,s]of Object.entries(e))r[n]=s;return r},G_=(r,e)=>(r.install=n=>{r._context=n._context,n.config.globalProperties[e]=r},r),Iz=(r,e)=>(r.install=n=>{n.directive(e,r)},r),Ar=r=>(r.install=un,r),Lz=(...r)=>e=>{r.forEach(n=>{qe(n)?n(e):n.value=e})},bn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},jt="update:modelValue",Xd="change",lh="input",ga=["","default","small","large"],Rz=r=>["",...ga].includes(r);var qr=(r=>(r[r.TEXT=1]="TEXT",r[r.CLASS=2]="CLASS",r[r.STYLE=4]="STYLE",r[r.PROPS=8]="PROPS",r[r.FULL_PROPS=16]="FULL_PROPS",r[r.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",r[r.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",r[r.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",r[r.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",r[r.NEED_PATCH=512]="NEED_PATCH",r[r.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",r[r.HOISTED=-1]="HOISTED",r[r.BAIL=-2]="BAIL",r))(qr||{});function yb(r){return Mn(r)&&r.type===De}function $z(r){return Mn(r)&&r.type===rr}function Dz(r){return Mn(r)&&!yb(r)&&!$z(r)}const ah=r=>{const e=Re(r)?r:[r],n=[];return e.forEach(s=>{var o;Re(s)?n.push(...ah(s)):Mn(s)&&Re(s.children)?n.push(...ah(s.children)):(n.push(s),Mn(s)&&((o=s.component)!=null&&o.subTree)&&n.push(...ah(s.component.subTree)))}),n},K_=r=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(r),Ss=r=>r,Vz=["class","style"],Fz=/^on[A-Z]/,Y_=(r={})=>{const{excludeListeners:e=!1,excludeKeys:n}=r,s=z(()=>((n==null?void 0:n.value)||[]).concat(Vz)),o=bt();return z(o?()=>{var i;return Dh(Object.entries((i=o.proxy)==null?void 0:i.$attrs).filter(([l])=>!s.value.includes(l)&&!(e&&Fz.test(l))))}:()=>({}))},Cr=({from:r,replacement:e,scope:n,version:s,ref:o,type:i="API"},l)=>{$e(()=>S(l),a=>{},{immediate:!0})},J_=(r,e,n,s)=>{let o={offsetX:0,offsetY:0};const i=c=>{const u=c.clientX,d=c.clientY,{offsetX:f,offsetY:h}=o,p=r.value.getBoundingClientRect(),g=p.left,m=p.top,v=p.width,b=p.height,C=document.documentElement.clientWidth,y=document.documentElement.clientHeight,w=-g+f,x=-m+h,E=C-g-v+f,_=y-m-b+h,M=k=>{let P=f+k.clientX-u,$=h+k.clientY-d;s!=null&&s.value||(P=Math.min(Math.max(P,w),E),$=Math.min(Math.max($,x),_)),o={offsetX:P,offsetY:$},r.value&&(r.value.style.transform=`translate(${as(P)}, ${as($)})`)},A=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",A)},l=()=>{e.value&&r.value&&e.value.addEventListener("mousedown",i)},a=()=>{e.value&&r.value&&e.value.removeEventListener("mousedown",i)};nt(()=>{to(()=>{n.value?l():a()})}),Cn(()=>{a()})};var Bz={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const zz=r=>(e,n)=>jz(e,n,S(r)),jz=(r,e,n)=>Xr(n,r,r).replace(/\{(\w+)\}/g,(s,o)=>{var i;return`${(i=e==null?void 0:e[o])!=null?i:`{${o}}`}`}),Hz=r=>{const e=z(()=>S(r).name),n=qt(r)?r:j(r);return{lang:e,locale:n,t:zz(r)}},X_=Symbol("localeContextKey"),go=r=>{const e=r||Ve(X_,j());return Hz(z(()=>e.value||Bz))},Lu="el",Uz="is-",wl=(r,e,n,s,o)=>{let i=`${r}-${e}`;return n&&(i+=`-${n}`),s&&(i+=`__${s}`),o&&(i+=`--${o}`),i},Z_=Symbol("namespaceContextKey"),wy=r=>{const e=r||(bt()?Ve(Z_,j(Lu)):j(Lu));return z(()=>S(e)||Lu)},Ge=(r,e)=>{const n=wy(e);return{namespace:n,b:(m="")=>wl(n.value,r,m,"",""),e:m=>m?wl(n.value,r,"",m,""):"",m:m=>m?wl(n.value,r,"","",m):"",be:(m,v)=>m&&v?wl(n.value,r,m,v,""):"",em:(m,v)=>m&&v?wl(n.value,r,"",m,v):"",bm:(m,v)=>m&&v?wl(n.value,r,m,"",v):"",bem:(m,v,b)=>m&&v&&b?wl(n.value,r,m,v,b):"",is:(m,...v)=>{const b=v.length>=1?v[0]:!0;return m&&b?`${Uz}${m}`:""},cssVar:m=>{const v={};for(const b in m)m[b]&&(v[`--${n.value}-${b}`]=m[b]);return v},cssVarName:m=>`--${n.value}-${m}`,cssVarBlock:m=>{const v={};for(const b in m)m[b]&&(v[`--${n.value}-${r}-${b}`]=m[b]);return v},cssVarBlockName:m=>`--${n.value}-${r}-${m}`}},Q_=(r,e={})=>{qt(r)||sl("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Ge("popup"),s=z(()=>n.bm("parent","hidden"));if(!Ct||Wa(document.body,s.value))return;let o=0,i=!1,l="0";const a=()=>{setTimeout(()=>{io(document==null?void 0:document.body,s.value),i&&document&&(document.body.style.width=l)},200)};$e(r,c=>{if(!c){a();return}i=!Wa(document.body,s.value),i&&(l=document.body.style.width),o=K5(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,d=Ol(document.body,"overflowY");o>0&&(u||d==="scroll")&&i&&(document.body.style.width=`calc(100% - ${o}px)`),ea(document.body,s.value)}),IE(()=>a())},Wz=Kp({type:Be(Boolean),default:null}),qz=Kp({type:Be(Function)}),eO=r=>{const e=`update:${r}`,n=`onUpdate:${r}`,s=[e],o={[r]:Wz,[n]:qz};return{useModelToggle:({indicator:l,toggleReason:a,shouldHideWhenRouteChanges:c,shouldProceed:u,onShow:d,onHide:f})=>{const h=bt(),{emit:p}=h,g=h.props,m=z(()=>qe(g[n])),v=z(()=>g[r]===null),b=_=>{l.value!==!0&&(l.value=!0,a&&(a.value=_),qe(d)&&d(_))},C=_=>{l.value!==!1&&(l.value=!1,a&&(a.value=_),qe(f)&&f(_))},y=_=>{if(g.disabled===!0||qe(u)&&!u())return;const M=m.value&&Ct;M&&p(e,!0),(v.value||!M)&&b(_)},w=_=>{if(g.disabled===!0||!Ct)return;const M=m.value&&Ct;M&&p(e,!1),(v.value||!M)&&C(_)},x=_=>{is(_)&&(g.disabled&&_?m.value&&p(e,!1):l.value!==_&&(_?b():C()))},E=()=>{l.value?w():y()};return $e(()=>g[r],x),c&&h.appContext.config.globalProperties.$route!==void 0&&$e(()=>({...h.proxy.$route}),()=>{c.value&&l.value&&w()}),nt(()=>{x(g[r])}),{hide:w,show:y,toggle:E,hasUpdateHandler:m}},useModelToggleProps:o,useModelToggleEmits:s}};eO("modelValue");const tO=r=>{const e=bt();return z(()=>{var n,s;return(s=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:s[r]})};var xr="top",us="bottom",ds="right",Er="left",Cy="auto",Zd=[xr,us,ds,Er],fc="start",hd="end",Gz="clippingParents",nO="viewport",du="popper",Kz="reference",vC=Zd.reduce(function(r,e){return r.concat([e+"-"+fc,e+"-"+hd])},[]),Yp=[].concat(Zd,[Cy]).reduce(function(r,e){return r.concat([e,e+"-"+fc,e+"-"+hd])},[]),Yz="beforeRead",Jz="read",Xz="afterRead",Zz="beforeMain",Qz="main",ej="afterMain",tj="beforeWrite",nj="write",rj="afterWrite",sj=[Yz,Jz,Xz,Zz,Qz,ej,tj,nj,rj];function lo(r){return r?(r.nodeName||"").toLowerCase():null}function js(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function hc(r){var e=js(r).Element;return r instanceof e||r instanceof Element}function ns(r){var e=js(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function Sy(r){if(typeof ShadowRoot>"u")return!1;var e=js(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function oj(r){var e=r.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},o=e.attributes[n]||{},i=e.elements[n];!ns(i)||!lo(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){var a=o[l];a===!1?i.removeAttribute(l):i.setAttribute(l,a===!0?"":a)}))})}function ij(r){var e=r.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var o=e.elements[s],i=e.attributes[s]||{},l=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=l.reduce(function(c,u){return c[u]="",c},{});!ns(o)||!lo(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}var xy={name:"applyStyles",enabled:!0,phase:"write",fn:oj,effect:ij,requires:["computeStyles"]};function ro(r){return r.split("-")[0]}var Hl=Math.max,Fh=Math.min,pc=Math.round;function gc(r,e){e===void 0&&(e=!1);var n=r.getBoundingClientRect(),s=1,o=1;if(ns(r)&&e){var i=r.offsetHeight,l=r.offsetWidth;l>0&&(s=pc(n.width)/l||1),i>0&&(o=pc(n.height)/i||1)}return{width:n.width/s,height:n.height/o,top:n.top/o,right:n.right/s,bottom:n.bottom/o,left:n.left/s,x:n.left/s,y:n.top/o}}function Ey(r){var e=gc(r),n=r.offsetWidth,s=r.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:r.offsetLeft,y:r.offsetTop,width:n,height:s}}function rO(r,e){var n=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(n&&Sy(n)){var s=e;do{if(s&&r.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Bo(r){return js(r).getComputedStyle(r)}function lj(r){return["table","td","th"].indexOf(lo(r))>=0}function ol(r){return((hc(r)?r.ownerDocument:r.document)||window.document).documentElement}function Jp(r){return lo(r)==="html"?r:r.assignedSlot||r.parentNode||(Sy(r)?r.host:null)||ol(r)}function yC(r){return!ns(r)||Bo(r).position==="fixed"?null:r.offsetParent}function aj(r){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ns(r)){var s=Bo(r);if(s.position==="fixed")return null}var o=Jp(r);for(Sy(o)&&(o=o.host);ns(o)&&["html","body"].indexOf(lo(o))<0;){var i=Bo(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Qd(r){for(var e=js(r),n=yC(r);n&&lj(n)&&Bo(n).position==="static";)n=yC(n);return n&&(lo(n)==="html"||lo(n)==="body"&&Bo(n).position==="static")?e:n||aj(r)||e}function Ty(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Ru(r,e,n){return Hl(r,Fh(e,n))}function cj(r,e,n){var s=Ru(r,e,n);return s>n?n:s}function sO(){return{top:0,right:0,bottom:0,left:0}}function oO(r){return Object.assign({},sO(),r)}function iO(r,e){return e.reduce(function(n,s){return n[s]=r,n},{})}var uj=function(r,e){return r=typeof r=="function"?r(Object.assign({},e.rects,{placement:e.placement})):r,oO(typeof r!="number"?r:iO(r,Zd))};function dj(r){var e,n=r.state,s=r.name,o=r.options,i=n.elements.arrow,l=n.modifiersData.popperOffsets,a=ro(n.placement),c=Ty(a),u=[Er,ds].indexOf(a)>=0,d=u?"height":"width";if(!(!i||!l)){var f=uj(o.padding,n),h=Ey(i),p=c==="y"?xr:Er,g=c==="y"?us:ds,m=n.rects.reference[d]+n.rects.reference[c]-l[c]-n.rects.popper[d],v=l[c]-n.rects.reference[c],b=Qd(i),C=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,y=m/2-v/2,w=f[p],x=C-h[d]-f[g],E=C/2-h[d]/2+y,_=Ru(w,E,x),M=c;n.modifiersData[s]=(e={},e[M]=_,e.centerOffset=_-E,e)}}function fj(r){var e=r.state,n=r.options,s=n.element,o=s===void 0?"[data-popper-arrow]":s;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||!rO(e.elements.popper,o)||(e.elements.arrow=o))}var hj={name:"arrow",enabled:!0,phase:"main",fn:dj,effect:fj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mc(r){return r.split("-")[1]}var pj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gj(r){var e=r.x,n=r.y,s=window,o=s.devicePixelRatio||1;return{x:pc(e*o)/o||0,y:pc(n*o)/o||0}}function wC(r){var e,n=r.popper,s=r.popperRect,o=r.placement,i=r.variation,l=r.offsets,a=r.position,c=r.gpuAcceleration,u=r.adaptive,d=r.roundOffsets,f=r.isFixed,h=l.x,p=h===void 0?0:h,g=l.y,m=g===void 0?0:g,v=typeof d=="function"?d({x:p,y:m}):{x:p,y:m};p=v.x,m=v.y;var b=l.hasOwnProperty("x"),C=l.hasOwnProperty("y"),y=Er,w=xr,x=window;if(u){var E=Qd(n),_="clientHeight",M="clientWidth";if(E===js(n)&&(E=ol(n),Bo(E).position!=="static"&&a==="absolute"&&(_="scrollHeight",M="scrollWidth")),E=E,o===xr||(o===Er||o===ds)&&i===hd){w=us;var A=f&&E===x&&x.visualViewport?x.visualViewport.height:E[_];m-=A-s.height,m*=c?1:-1}if(o===Er||(o===xr||o===us)&&i===hd){y=ds;var k=f&&E===x&&x.visualViewport?x.visualViewport.width:E[M];p-=k-s.width,p*=c?1:-1}}var P=Object.assign({position:a},u&&pj),$=d===!0?gj({x:p,y:m}):{x:p,y:m};if(p=$.x,m=$.y,c){var B;return Object.assign({},P,(B={},B[w]=C?"0":"",B[y]=b?"0":"",B.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",B))}return Object.assign({},P,(e={},e[w]=C?m+"px":"",e[y]=b?p+"px":"",e.transform="",e))}function mj(r){var e=r.state,n=r.options,s=n.gpuAcceleration,o=s===void 0?!0:s,i=n.adaptive,l=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:ro(e.placement),variation:mc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,wC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,wC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var lO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mj,data:{}},kf={passive:!0};function bj(r){var e=r.state,n=r.instance,s=r.options,o=s.scroll,i=o===void 0?!0:o,l=s.resize,a=l===void 0?!0:l,c=js(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,kf)}),a&&c.addEventListener("resize",n.update,kf),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,kf)}),a&&c.removeEventListener("resize",n.update,kf)}}var aO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bj,data:{}},vj={left:"right",right:"left",bottom:"top",top:"bottom"};function ch(r){return r.replace(/left|right|bottom|top/g,function(e){return vj[e]})}var yj={start:"end",end:"start"};function CC(r){return r.replace(/start|end/g,function(e){return yj[e]})}function _y(r){var e=js(r),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Oy(r){return gc(ol(r)).left+_y(r).scrollLeft}function wj(r){var e=js(r),n=ol(r),s=e.visualViewport,o=n.clientWidth,i=n.clientHeight,l=0,a=0;return s&&(o=s.width,i=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=s.offsetLeft,a=s.offsetTop)),{width:o,height:i,x:l+Oy(r),y:a}}function Cj(r){var e,n=ol(r),s=_y(r),o=(e=r.ownerDocument)==null?void 0:e.body,i=Hl(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=Hl(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-s.scrollLeft+Oy(r),c=-s.scrollTop;return Bo(o||n).direction==="rtl"&&(a+=Hl(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:l,x:a,y:c}}function Ay(r){var e=Bo(r),n=e.overflow,s=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+s)}function cO(r){return["html","body","#document"].indexOf(lo(r))>=0?r.ownerDocument.body:ns(r)&&Ay(r)?r:cO(Jp(r))}function $u(r,e){var n;e===void 0&&(e=[]);var s=cO(r),o=s===((n=r.ownerDocument)==null?void 0:n.body),i=js(s),l=o?[i].concat(i.visualViewport||[],Ay(s)?s:[]):s,a=e.concat(l);return o?a:a.concat($u(Jp(l)))}function wb(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Sj(r){var e=gc(r);return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function SC(r,e){return e===nO?wb(wj(r)):hc(e)?Sj(e):wb(Cj(ol(r)))}function xj(r){var e=$u(Jp(r)),n=["absolute","fixed"].indexOf(Bo(r).position)>=0,s=n&&ns(r)?Qd(r):r;return hc(s)?e.filter(function(o){return hc(o)&&rO(o,s)&&lo(o)!=="body"}):[]}function Ej(r,e,n){var s=e==="clippingParents"?xj(r):[].concat(e),o=[].concat(s,[n]),i=o[0],l=o.reduce(function(a,c){var u=SC(r,c);return a.top=Hl(u.top,a.top),a.right=Fh(u.right,a.right),a.bottom=Fh(u.bottom,a.bottom),a.left=Hl(u.left,a.left),a},SC(r,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function uO(r){var e=r.reference,n=r.element,s=r.placement,o=s?ro(s):null,i=s?mc(s):null,l=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(o){case xr:c={x:l,y:e.y-n.height};break;case us:c={x:l,y:e.y+e.height};break;case ds:c={x:e.x+e.width,y:a};break;case Er:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var u=o?Ty(o):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case fc:c[u]=c[u]-(e[d]/2-n[d]/2);break;case hd:c[u]=c[u]+(e[d]/2-n[d]/2);break}}return c}function pd(r,e){e===void 0&&(e={});var n=e,s=n.placement,o=s===void 0?r.placement:s,i=n.boundary,l=i===void 0?Gz:i,a=n.rootBoundary,c=a===void 0?nO:a,u=n.elementContext,d=u===void 0?du:u,f=n.altBoundary,h=f===void 0?!1:f,p=n.padding,g=p===void 0?0:p,m=oO(typeof g!="number"?g:iO(g,Zd)),v=d===du?Kz:du,b=r.rects.popper,C=r.elements[h?v:d],y=Ej(hc(C)?C:C.contextElement||ol(r.elements.popper),l,c),w=gc(r.elements.reference),x=uO({reference:w,element:b,strategy:"absolute",placement:o}),E=wb(Object.assign({},b,x)),_=d===du?E:w,M={top:y.top-_.top+m.top,bottom:_.bottom-y.bottom+m.bottom,left:y.left-_.left+m.left,right:_.right-y.right+m.right},A=r.modifiersData.offset;if(d===du&&A){var k=A[o];Object.keys(M).forEach(function(P){var $=[ds,us].indexOf(P)>=0?1:-1,B=[xr,us].indexOf(P)>=0?"y":"x";M[P]+=k[B]*$})}return M}function Tj(r,e){e===void 0&&(e={});var n=e,s=n.placement,o=n.boundary,i=n.rootBoundary,l=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Yp:c,d=mc(s),f=d?a?vC:vC.filter(function(g){return mc(g)===d}):Zd,h=f.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=f);var p=h.reduce(function(g,m){return g[m]=pd(r,{placement:m,boundary:o,rootBoundary:i,padding:l})[ro(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function _j(r){if(ro(r)===Cy)return[];var e=ch(r);return[CC(r),e,CC(e)]}function Oj(r){var e=r.state,n=r.options,s=r.name;if(!e.modifiersData[s]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,l=n.altAxis,a=l===void 0?!0:l,c=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,v=e.options.placement,b=ro(v),C=b===v,y=c||(C||!g?[ch(v)]:_j(v)),w=[v].concat(y).reduce(function(fe,we){return fe.concat(ro(we)===Cy?Tj(e,{placement:we,boundary:d,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:m}):we)},[]),x=e.rects.reference,E=e.rects.popper,_=new Map,M=!0,A=w[0],k=0;k<w.length;k++){var P=w[k],$=ro(P),B=mc(P)===fc,W=[xr,us].indexOf($)>=0,I=W?"width":"height",R=pd(e,{placement:P,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),U=W?B?ds:Er:B?us:xr;x[I]>E[I]&&(U=ch(U));var Q=ch(U),q=[];if(i&&q.push(R[$]<=0),a&&q.push(R[U]<=0,R[Q]<=0),q.every(function(fe){return fe})){A=P,M=!1;break}_.set(P,q)}if(M)for(var ee=g?3:1,de=function(fe){var we=w.find(function(Ee){var G=_.get(Ee);if(G)return G.slice(0,fe).every(function(ne){return ne})});if(we)return A=we,"break"},ce=ee;ce>0;ce--){var Te=de(ce);if(Te==="break")break}e.placement!==A&&(e.modifiersData[s]._skip=!0,e.placement=A,e.reset=!0)}}var Aj={name:"flip",enabled:!0,phase:"main",fn:Oj,requiresIfExists:["offset"],data:{_skip:!1}};function xC(r,e,n){return n===void 0&&(n={x:0,y:0}),{top:r.top-e.height-n.y,right:r.right-e.width+n.x,bottom:r.bottom-e.height+n.y,left:r.left-e.width-n.x}}function EC(r){return[xr,ds,us,Er].some(function(e){return r[e]>=0})}function Mj(r){var e=r.state,n=r.name,s=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,l=pd(e,{elementContext:"reference"}),a=pd(e,{altBoundary:!0}),c=xC(l,s),u=xC(a,o,i),d=EC(c),f=EC(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var kj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Mj};function Pj(r,e,n){var s=ro(r),o=[Er,xr].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:r})):n,l=i[0],a=i[1];return l=l||0,a=(a||0)*o,[Er,ds].indexOf(s)>=0?{x:a,y:l}:{x:l,y:a}}function Nj(r){var e=r.state,n=r.options,s=r.name,o=n.offset,i=o===void 0?[0,0]:o,l=Yp.reduce(function(d,f){return d[f]=Pj(f,e.rects,i),d},{}),a=l[e.placement],c=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[s]=l}var Ij={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Nj};function Lj(r){var e=r.state,n=r.name;e.modifiersData[n]=uO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var dO={name:"popperOffsets",enabled:!0,phase:"read",fn:Lj,data:{}};function Rj(r){return r==="x"?"y":"x"}function $j(r){var e=r.state,n=r.options,s=r.name,o=n.mainAxis,i=o===void 0?!0:o,l=n.altAxis,a=l===void 0?!1:l,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,m=g===void 0?0:g,v=pd(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),b=ro(e.placement),C=mc(e.placement),y=!C,w=Ty(b),x=Rj(w),E=e.modifiersData.popperOffsets,_=e.rects.reference,M=e.rects.popper,A=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,k=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(E){if(i){var B,W=w==="y"?xr:Er,I=w==="y"?us:ds,R=w==="y"?"height":"width",U=E[w],Q=U+v[W],q=U-v[I],ee=p?-M[R]/2:0,de=C===fc?_[R]:M[R],ce=C===fc?-M[R]:-_[R],Te=e.elements.arrow,fe=p&&Te?Ey(Te):{width:0,height:0},we=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:sO(),Ee=we[W],G=we[I],ne=Ru(0,_[R],fe[R]),se=y?_[R]/2-ee-ne-Ee-k.mainAxis:de-ne-Ee-k.mainAxis,me=y?-_[R]/2+ee+ne+G+k.mainAxis:ce+ne+G+k.mainAxis,Pe=e.elements.arrow&&Qd(e.elements.arrow),Se=Pe?w==="y"?Pe.clientTop||0:Pe.clientLeft||0:0,D=(B=P==null?void 0:P[w])!=null?B:0,L=U+se-D-Se,te=U+me-D,he=Ru(p?Fh(Q,L):Q,U,p?Hl(q,te):q);E[w]=he,$[w]=he-U}if(a){var ge,Ce=w==="x"?xr:Er,xe=w==="x"?us:ds,V=E[x],F=x==="y"?"height":"width",J=V+v[Ce],ie=V-v[xe],Ae=[xr,Er].indexOf(b)!==-1,re=(ge=P==null?void 0:P[x])!=null?ge:0,Z=Ae?J:V-_[F]-M[F]-re+k.altAxis,ae=Ae?V+_[F]+M[F]-re-k.altAxis:ie,je=p&&Ae?cj(Z,V,ae):Ru(p?Z:J,V,p?ae:ie);E[x]=je,$[x]=je-V}e.modifiersData[s]=$}}var Dj={name:"preventOverflow",enabled:!0,phase:"main",fn:$j,requiresIfExists:["offset"]};function Vj(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function Fj(r){return r===js(r)||!ns(r)?_y(r):Vj(r)}function Bj(r){var e=r.getBoundingClientRect(),n=pc(e.width)/r.offsetWidth||1,s=pc(e.height)/r.offsetHeight||1;return n!==1||s!==1}function zj(r,e,n){n===void 0&&(n=!1);var s=ns(e),o=ns(e)&&Bj(e),i=ol(e),l=gc(r,o),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!n)&&((lo(e)!=="body"||Ay(i))&&(a=Fj(e)),ns(e)?(c=gc(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=Oy(i))),{x:l.left+a.scrollLeft-c.x,y:l.top+a.scrollTop-c.y,width:l.width,height:l.height}}function jj(r){var e=new Map,n=new Set,s=[];r.forEach(function(i){e.set(i.name,i)});function o(i){n.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&o(c)}}),s.push(i)}return r.forEach(function(i){n.has(i.name)||o(i)}),s}function Hj(r){var e=jj(r);return sj.reduce(function(n,s){return n.concat(e.filter(function(o){return o.phase===s}))},[])}function Uj(r){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(r())})})),e}}function Wj(r){var e=r.reduce(function(n,s){var o=n[s.name];return n[s.name]=o?Object.assign({},o,s,{options:Object.assign({},o.options,s.options),data:Object.assign({},o.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var TC={placement:"bottom",modifiers:[],strategy:"absolute"};function _C(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function My(r){r===void 0&&(r={});var e=r,n=e.defaultModifiers,s=n===void 0?[]:n,o=e.defaultOptions,i=o===void 0?TC:o;return function(l,a,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},TC,i),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(m){var v=typeof m=="function"?m(u.options):m;g(),u.options=Object.assign({},i,u.options,v),u.scrollParents={reference:hc(l)?$u(l):l.contextElement?$u(l.contextElement):[],popper:$u(a)};var b=Hj(Wj([].concat(s,u.options.modifiers)));return u.orderedModifiers=b.filter(function(C){return C.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var m=u.elements,v=m.reference,b=m.popper;if(_C(v,b)){u.rects={reference:zj(v,Qd(b),u.options.strategy==="fixed"),popper:Ey(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(M){return u.modifiersData[M.name]=Object.assign({},M.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var y=u.orderedModifiers[C],w=y.fn,x=y.options,E=x===void 0?{}:x,_=y.name;typeof w=="function"&&(u=w({state:u,options:E,name:_,instance:h})||u)}}}},update:Uj(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){g(),f=!0}};if(!_C(l,a))return h;h.setOptions(c).then(function(m){!f&&c.onFirstUpdate&&c.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var v=m.name,b=m.options,C=b===void 0?{}:b,y=m.effect;if(typeof y=="function"){var w=y({state:u,name:v,instance:h,options:C}),x=function(){};d.push(w||x)}})}function g(){d.forEach(function(m){return m()}),d=[]}return h}}My();var qj=[aO,dO,lO,xy];My({defaultModifiers:qj});var Gj=[aO,dO,lO,xy,Ij,Aj,Dj,hj,kj],fO=My({defaultModifiers:Gj});const Kj=(r,e,n={})=>{const s={name:"updateState",enabled:!0,phase:"write",fn:({state:c})=>{const u=Yj(c);Object.assign(l.value,u)},requires:["computeStyles"]},o=z(()=>{const{onFirstUpdate:c,placement:u,strategy:d,modifiers:f}=S(n);return{onFirstUpdate:c,placement:u||"bottom",strategy:d||"absolute",modifiers:[...f||[],s,{name:"applyStyles",enabled:!1}]}}),i=Ms(),l=j({styles:{popper:{position:S(o).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return $e(o,c=>{const u=S(i);u&&u.setOptions(c)},{deep:!0}),$e([r,e],([c,u])=>{a(),!(!c||!u)&&(i.value=fO(c,u,S(o)))}),Cn(()=>{a()}),{state:z(()=>{var c;return{...((c=S(i))==null?void 0:c.state)||{}}}),styles:z(()=>S(l).styles),attributes:z(()=>S(l).attributes),update:()=>{var c;return(c=S(i))==null?void 0:c.update()},forceUpdate:()=>{var c;return(c=S(i))==null?void 0:c.forceUpdate()},instanceRef:z(()=>S(i))}};function Yj(r){const e=Object.keys(r.elements),n=Dh(e.map(o=>[o,r.styles[o]||{}])),s=Dh(e.map(o=>[o,r.attributes[o]]));return{styles:n,attributes:s}}const ky=r=>{if(!r)return{onClick:un,onMousedown:un,onMouseup:un};let e=!1,n=!1;return{onClick:l=>{e&&n&&r(l),e=n=!1},onMousedown:l=>{e=l.target===l.currentTarget},onMouseup:l=>{n=l.target===l.currentTarget}}};function OC(){let r;const e=(s,o)=>{n(),r=window.setTimeout(s,o)},n=()=>window.clearTimeout(r);return Hd(()=>n()),{registerTimeout:e,cancelTimeout:n}}const AC={prefix:Math.floor(Math.random()*1e4),current:0},Jj=Symbol("elIdInjection"),hO=()=>bt()?Ve(Jj,AC):AC,ao=r=>{const e=hO(),n=wy();return z(()=>S(r)||`${n.value}-id-${e.prefix}-${e.current++}`)};let Pa=[];const MC=r=>{const e=r;e.key===bn.esc&&Pa.forEach(n=>n(e))},Xj=r=>{nt(()=>{Pa.length===0&&document.addEventListener("keydown",MC),Ct&&Pa.push(r)}),Cn(()=>{Pa=Pa.filter(e=>e!==r),Pa.length===0&&Ct&&document.removeEventListener("keydown",MC)})};let kC;const pO=()=>{const r=wy(),e=hO(),n=z(()=>`${r.value}-popper-container-${e.prefix}`),s=z(()=>`#${n.value}`);return{id:n,selector:s}},Zj=r=>{const e=document.createElement("div");return e.id=r,document.body.appendChild(e),e},Qj=()=>{const{id:r,selector:e}=pO();return zd(()=>{Ct&&!kC&&!document.body.querySelector(e.value)&&(kC=Zj(r.value))}),{id:r,selector:e}},eH=et({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),tH=({showAfter:r,hideAfter:e,autoClose:n,open:s,close:o})=>{const{registerTimeout:i}=OC(),{registerTimeout:l,cancelTimeout:a}=OC();return{onOpen:d=>{i(()=>{s(d);const f=S(n);Tt(f)&&f>0&&l(()=>{o(d)},f)},S(r))},onClose:d=>{a(),i(()=>{o(d)},S(e))}}},gO=Symbol("elForwardRef"),nH=r=>{Wt(gO,{setForwardRef:n=>{r.value=n}})},rH=r=>({mounted(e){r(e)},updated(e){r(e)},unmounted(){r(null)}}),PC={current:0},NC=j(0),mO=2e3,IC=Symbol("elZIndexContextKey"),bO=Symbol("zIndexContextKey"),Xp=r=>{const e=bt()?Ve(IC,PC):PC,n=r||(bt()?Ve(bO,void 0):void 0),s=z(()=>{const l=S(n);return Tt(l)?l:mO}),o=z(()=>s.value+NC.value),i=()=>(e.current++,NC.value=e.current,o.value);return!Ct&&Ve(IC),{initialZIndex:s,currentZIndex:o,nextZIndex:i}};function sH(r){const e=j();function n(){if(r.value==null)return;const{selectionStart:o,selectionEnd:i,value:l}=r.value;if(o==null||i==null)return;const a=l.slice(0,Math.max(0,o)),c=l.slice(Math.max(0,i));e.value={selectionStart:o,selectionEnd:i,value:l,beforeTxt:a,afterTxt:c}}function s(){if(r.value==null||e.value==null)return;const{value:o}=r.value,{beforeTxt:i,afterTxt:l,selectionStart:a}=e.value;if(i==null||l==null||a==null)return;let c=o.length;if(o.endsWith(l))c=o.length-l.length;else if(o.startsWith(i))c=i.length;else{const u=i[a-1],d=o.indexOf(u,a-1);d!==-1&&(c=d+1)}r.value.setSelectionRange(c,c)}return[n,s]}const oH=(r,e,n)=>ah(r.subTree).filter(i=>{var l;return Mn(i)&&((l=i.type)==null?void 0:l.name)===e&&!!i.component}).map(i=>i.component.uid).map(i=>n[i]).filter(i=>!!i),iH=(r,e)=>{const n={},s=Ms([]);return{children:s,addChild:l=>{n[l.uid]=l,s.value=oH(r,e,n)},removeChild:l=>{delete n[l],s.value=s.value.filter(a=>a.uid!==l)}}},Jo=Kp({type:String,values:ga,required:!1}),vO=Symbol("size"),lH=()=>{const r=Ve(vO,{});return z(()=>S(r.size)||"")};function yO(r,{afterFocus:e,beforeBlur:n,afterBlur:s}={}){const o=bt(),{emit:i}=o,l=Ms(),a=j(!1),c=f=>{a.value||(a.value=!0,i("focus",f),e==null||e())},u=f=>{var h;qe(n)&&n(f)||f.relatedTarget&&((h=l.value)!=null&&h.contains(f.relatedTarget))||(a.value=!1,i("blur",f),s==null||s())},d=()=>{var f;(f=r.value)==null||f.focus()};return $e(l,f=>{f&&f.setAttribute("tabindex","-1")}),vn(l,"click",d),{wrapperRef:l,isFocused:a,handleFocus:c,handleBlur:u}}const aH=["",void 0,null],cH=void 0,uH=et({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:r=>qe(r)?!r():!r}}),dH=(r,e)=>{let n=ef();n.value||(n=j({}));const s=z(()=>r.emptyValues||n.value.emptyValues||aH),o=z(()=>qe(r.valueOnClear)?r.valueOnClear():r.valueOnClear!==void 0?r.valueOnClear:qe(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:cH),i=l=>s.value.includes(l);return s.value.includes(o.value),{emptyValues:s,valueOnClear:o,isEmptyValue:i}},fH=et({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Xo=r=>R_(fH,r),wO=Symbol(),Bh=j();function ef(r,e=void 0){const n=bt()?Ve(wO,Bh):Bh;return r?z(()=>{var s,o;return(o=(s=n.value)==null?void 0:s[r])!=null?o:e}):n}function Zp(r,e){const n=ef(),s=Ge(r,z(()=>{var a;return((a=n.value)==null?void 0:a.namespace)||Lu})),o=go(z(()=>{var a;return(a=n.value)==null?void 0:a.locale})),i=Xp(z(()=>{var a;return((a=n.value)==null?void 0:a.zIndex)||mO})),l=z(()=>{var a;return S(e)||((a=n.value)==null?void 0:a.size)||""});return hH(z(()=>S(n)||{})),{ns:s,locale:o,zIndex:i,size:l}}const hH=(r,e,n=!1)=>{var s;const o=!!bt(),i=o?ef():void 0,l=(s=e==null?void 0:e.provide)!=null?s:o?Wt:void 0;if(!l)return;const a=z(()=>{const c=S(r);return i!=null&&i.value?pH(i.value,c):c});return l(wO,a),l(X_,z(()=>a.value.locale)),l(Z_,z(()=>a.value.namespace)),l(bO,z(()=>a.value.zIndex)),l(vO,{size:z(()=>a.value.size||"")}),(n||!Bh.value)&&(Bh.value=a.value),a},pH=(r,e)=>{const n=[...new Set([...Vh(r),...Vh(e)])],s={};for(const o of n)s[o]=e[o]!==void 0?e[o]:r[o];return s},LC={};var Xe=(r,e)=>{const n=r.__vccOpts||r;for(const[s,o]of e)n[s]=o;return n};const gH=et({size:{type:Be([Number,String])},color:{type:String}}),mH=pe({name:"ElIcon",inheritAttrs:!1}),bH=pe({...mH,props:gH,setup(r){const e=r,n=Ge("icon"),s=z(()=>{const{size:o,color:i}=e;return!o&&!i?{}:{fontSize:wr(o)?void 0:as(o),"--color":i}});return(o,i)=>(N(),X("i",Dr({class:S(n).b(),style:S(s)},o.$attrs),[_e(o.$slots,"default")],16))}});var vH=Xe(bH,[["__file","icon.vue"]]);const dt=Rt(vH),yH=["light","dark"],wH=et({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Vh(Ui),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:yH,default:"light"}}),CH={close:r=>r instanceof MouseEvent},SH=pe({name:"ElAlert"}),xH=pe({...SH,props:wH,emits:CH,setup(r,{emit:e}){const n=r,{Close:s}=yy,o=Bs(),i=Ge("alert"),l=j(!0),a=z(()=>Ui[n.type]),c=z(()=>[i.e("icon"),{[i.is("big")]:!!n.description||!!o.default}]),u=z(()=>({"with-description":n.description||o.default})),d=f=>{l.value=!1,e("close",f)};return(f,h)=>(N(),ye(Or,{name:S(i).b("fade"),persisted:""},{default:O(()=>[Ue(H("div",{class:Y([S(i).b(),S(i).m(f.type),S(i).is("center",f.center),S(i).is(f.effect)]),role:"alert"},[f.showIcon&&S(a)?(N(),ye(S(dt),{key:0,class:Y(S(c))},{default:O(()=>[(N(),ye(Ft(S(a))))]),_:1},8,["class"])):ve("v-if",!0),H("div",{class:Y(S(i).e("content"))},[f.title||f.$slots.title?(N(),X("span",{key:0,class:Y([S(i).e("title"),S(u)])},[_e(f.$slots,"title",{},()=>[le(oe(f.title),1)])],2)):ve("v-if",!0),f.$slots.default||f.description?(N(),X("p",{key:1,class:Y(S(i).e("description"))},[_e(f.$slots,"default",{},()=>[le(oe(f.description),1)])],2)):ve("v-if",!0),f.closable?(N(),X(De,{key:2},[f.closeText?(N(),X("div",{key:0,class:Y([S(i).e("close-btn"),S(i).is("customed")]),onClick:d},oe(f.closeText),3)):(N(),ye(S(dt),{key:1,class:Y(S(i).e("close-btn")),onClick:d},{default:O(()=>[T(S(s))]),_:1},8,["class"]))],64)):ve("v-if",!0)],2)],2),[[st,l.value]])]),_:3},8,["name"]))}});var EH=Xe(xH,[["__file","alert.vue"]]);const CO=Rt(EH),Xc=Symbol("formContextKey"),na=Symbol("formItemContextKey"),fs=(r,e={})=>{const n=j(void 0),s=e.prop?n:tO("size"),o=e.global?n:lH(),i=e.form?{size:void 0}:Ve(Xc,void 0),l=e.formItem?{size:void 0}:Ve(na,void 0);return z(()=>s.value||S(r)||(l==null?void 0:l.size)||(i==null?void 0:i.size)||o.value||"")},Zc=r=>{const e=tO("disabled"),n=Ve(Xc,void 0);return z(()=>e.value||S(r)||(n==null?void 0:n.disabled)||!1)},il=()=>{const r=Ve(Xc,void 0),e=Ve(na,void 0);return{form:r,formItem:e}},tf=(r,{formItemContext:e,disableIdGeneration:n,disableIdManagement:s})=>{n||(n=j(!1)),s||(s=j(!1));const o=j();let i;const l=z(()=>{var a;return!!(!(r.label||r.ariaLabel)&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return nt(()=>{i=$e([Es(r,"id"),n],([a,c])=>{const u=a??(c?void 0:ao().value);u!==o.value&&(e!=null&&e.removeInputId&&(o.value&&e.removeInputId(o.value),!(s!=null&&s.value)&&!c&&u&&e.addInputId(u)),o.value=u)},{immediate:!0})}),qo(()=>{i&&i(),e!=null&&e.removeInputId&&o.value&&e.removeInputId(o.value)}),{isLabeledByFormItem:l,inputId:o}},TH=et({size:{type:String,values:ga},disabled:Boolean}),_H=et({...TH,model:Object,rules:{type:Be(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),OH={validate:(r,e,n)=>(Re(r)||ft(r))&&is(e)&&ft(n)};function AH(){const r=j([]),e=z(()=>{if(!r.value.length)return"0";const i=Math.max(...r.value);return i?`${i}px`:""});function n(i){const l=r.value.indexOf(i);return l===-1&&e.value,l}function s(i,l){if(i&&l){const a=n(l);r.value.splice(a,1,i)}else i&&r.value.push(i)}function o(i){const l=n(i);l>-1&&r.value.splice(l,1)}return{autoLabelWidth:e,registerLabelWidth:s,deregisterLabelWidth:o}}const Pf=(r,e)=>{const n=Lh(e);return n.length>0?r.filter(s=>s.prop&&n.includes(s.prop)):r},MH="ElForm",kH=pe({name:MH}),PH=pe({...kH,props:_H,emits:OH,setup(r,{expose:e,emit:n}){const s=r,o=[],i=fs(),l=Ge("form"),a=z(()=>{const{labelPosition:y,inline:w}=s;return[l.b(),l.m(i.value||"default"),{[l.m(`label-${y}`)]:y,[l.m("inline")]:w}]}),c=y=>o.find(w=>w.prop===y),u=y=>{o.push(y)},d=y=>{y.prop&&o.splice(o.indexOf(y),1)},f=(y=[])=>{s.model&&Pf(o,y).forEach(w=>w.resetField())},h=(y=[])=>{Pf(o,y).forEach(w=>w.clearValidate())},p=z(()=>!!s.model),g=y=>{if(o.length===0)return[];const w=Pf(o,y);return w.length?w:[]},m=async y=>b(void 0,y),v=async(y=[])=>{if(!p.value)return!1;const w=g(y);if(w.length===0)return!0;let x={};for(const E of w)try{await E.validate("")}catch(_){x={...x,..._}}return Object.keys(x).length===0?!0:Promise.reject(x)},b=async(y=[],w)=>{const x=!qe(w);try{const E=await v(y);return E===!0&&await(w==null?void 0:w(E)),E}catch(E){if(E instanceof Error)throw E;const _=E;return s.scrollToError&&C(Object.keys(_)[0]),await(w==null?void 0:w(!1,_)),x&&Promise.reject(_)}},C=y=>{var w;const x=Pf(o,y)[0];x&&((w=x.$el)==null||w.scrollIntoView(s.scrollIntoViewOptions))};return $e(()=>s.rules,()=>{s.validateOnRuleChange&&m().catch(y=>void 0)},{deep:!0}),Wt(Xc,St({...Uo(s),emit:n,resetFields:f,clearValidate:h,validateField:b,getField:c,addField:u,removeField:d,...AH()})),e({validate:m,validateField:b,resetFields:f,clearValidate:h,scrollToField:C,fields:o}),(y,w)=>(N(),X("form",{class:Y(S(a))},[_e(y.$slots,"default")],2))}});var NH=Xe(PH,[["__file","form.vue"]]);function Il(){return Il=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Il.apply(this,arguments)}function IH(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,gd(r,e)}function Cb(r){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cb(r)}function gd(r,e){return gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},gd(r,e)}function LH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uh(r,e,n){return LH()?uh=Reflect.construct.bind():uh=function(o,i,l){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return l&&gd(u,l.prototype),u},uh.apply(null,arguments)}function RH(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function Sb(r){var e=typeof Map=="function"?new Map:void 0;return Sb=function(s){if(s===null||!RH(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(s))return e.get(s);e.set(s,o)}function o(){return uh(s,arguments,Cb(this).constructor)}return o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),gd(o,s)},Sb(r)}var $H=/%[sdj%]/g,DH=function(){};function xb(r){if(!r||!r.length)return null;var e={};return r.forEach(function(n){var s=n.field;e[s]=e[s]||[],e[s].push(n)}),e}function Lr(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];var o=0,i=n.length;if(typeof r=="function")return r.apply(null,n);if(typeof r=="string"){var l=r.replace($H,function(a){if(a==="%%")return"%";if(o>=i)return a;switch(a){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch{return"[Circular]"}break;default:return a}});return l}return r}function VH(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function kn(r,e){return!!(r==null||e==="array"&&Array.isArray(r)&&!r.length||VH(e)&&typeof r=="string"&&!r)}function FH(r,e,n){var s=[],o=0,i=r.length;function l(a){s.push.apply(s,a||[]),o++,o===i&&n(s)}r.forEach(function(a){e(a,l)})}function RC(r,e,n){var s=0,o=r.length;function i(l){if(l&&l.length){n(l);return}var a=s;s=s+1,a<o?e(r[a],i):n([])}i([])}function BH(r){var e=[];return Object.keys(r).forEach(function(n){e.push.apply(e,r[n]||[])}),e}var $C=function(r){IH(e,r);function e(n,s){var o;return o=r.call(this,"Async Validation Error")||this,o.errors=n,o.fields=s,o}return e}(Sb(Error));function zH(r,e,n,s,o){if(e.first){var i=new Promise(function(h,p){var g=function(b){return s(b),b.length?p(new $C(b,xb(b))):h(o)},m=BH(r);RC(m,n,g)});return i.catch(function(h){return h}),i}var l=e.firstFields===!0?Object.keys(r):e.firstFields||[],a=Object.keys(r),c=a.length,u=0,d=[],f=new Promise(function(h,p){var g=function(v){if(d.push.apply(d,v),u++,u===c)return s(d),d.length?p(new $C(d,xb(d))):h(o)};a.length||(s(d),h(o)),a.forEach(function(m){var v=r[m];l.indexOf(m)!==-1?RC(v,n,g):FH(v,n,g)})});return f.catch(function(h){return h}),f}function jH(r){return!!(r&&r.message!==void 0)}function HH(r,e){for(var n=r,s=0;s<e.length;s++){if(n==null)return n;n=n[e[s]]}return n}function DC(r,e){return function(n){var s;return r.fullFields?s=HH(e,r.fullFields):s=e[n.field||r.fullField],jH(n)?(n.field=n.field||r.fullField,n.fieldValue=s,n):{message:typeof n=="function"?n():n,fieldValue:s,field:n.field||r.fullField}}}function VC(r,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];typeof s=="object"&&typeof r[n]=="object"?r[n]=Il({},r[n],s):r[n]=s}}return r}var SO=function(e,n,s,o,i,l){e.required&&(!s.hasOwnProperty(e.field)||kn(n,l||e.type))&&o.push(Lr(i.messages.required,e.fullField))},UH=function(e,n,s,o,i){(/^\s+$/.test(n)||n==="")&&o.push(Lr(i.messages.whitespace,e.fullField))},Nf,WH=function(){if(Nf)return Nf;var r="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+r+")|(?<="+r+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",o=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+n+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+n+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+n+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+n+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+n+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+n+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+n+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),l=new RegExp("^"+n+"$"),a=new RegExp("^"+o+"$"),c=function(w){return w&&w.exact?i:new RegExp("(?:"+e(w)+n+e(w)+")|(?:"+e(w)+o+e(w)+")","g")};c.v4=function(y){return y&&y.exact?l:new RegExp(""+e(y)+n+e(y),"g")},c.v6=function(y){return y&&y.exact?a:new RegExp(""+e(y)+o+e(y),"g")};var u="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",f=c.v4().source,h=c.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',C="(?:"+u+"|www\\.)"+d+"(?:localhost|"+f+"|"+h+"|"+p+g+m+")"+v+b;return Nf=new RegExp("(?:^"+C+"$)","i"),Nf},FC={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},mu={integer:function(e){return mu.number(e)&&parseInt(e,10)===e},float:function(e){return mu.number(e)&&!mu.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!mu.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(FC.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(WH())},hex:function(e){return typeof e=="string"&&!!e.match(FC.hex)}},qH=function(e,n,s,o,i){if(e.required&&n===void 0){SO(e,n,s,o,i);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;l.indexOf(a)>-1?mu[a](n)||o.push(Lr(i.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&o.push(Lr(i.messages.types[a],e.fullField,e.type))},GH=function(e,n,s,o,i){var l=typeof e.len=="number",a=typeof e.min=="number",c=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=n,f=null,h=typeof n=="number",p=typeof n=="string",g=Array.isArray(n);if(h?f="number":p?f="string":g&&(f="array"),!f)return!1;g&&(d=n.length),p&&(d=n.replace(u,"_").length),l?d!==e.len&&o.push(Lr(i.messages[f].len,e.fullField,e.len)):a&&!c&&d<e.min?o.push(Lr(i.messages[f].min,e.fullField,e.min)):c&&!a&&d>e.max?o.push(Lr(i.messages[f].max,e.fullField,e.max)):a&&c&&(d<e.min||d>e.max)&&o.push(Lr(i.messages[f].range,e.fullField,e.min,e.max))},Ca="enum",KH=function(e,n,s,o,i){e[Ca]=Array.isArray(e[Ca])?e[Ca]:[],e[Ca].indexOf(n)===-1&&o.push(Lr(i.messages[Ca],e.fullField,e[Ca].join(", ")))},YH=function(e,n,s,o,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||o.push(Lr(i.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(n)||o.push(Lr(i.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},kt={required:SO,whitespace:UH,type:qH,range:GH,enum:KH,pattern:YH},JH=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n,"string")&&!e.required)return s();kt.required(e,n,o,l,i,"string"),kn(n,"string")||(kt.type(e,n,o,l,i),kt.range(e,n,o,l,i),kt.pattern(e,n,o,l,i),e.whitespace===!0&&kt.whitespace(e,n,o,l,i))}s(l)},XH=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n)&&!e.required)return s();kt.required(e,n,o,l,i),n!==void 0&&kt.type(e,n,o,l,i)}s(l)},ZH=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),kn(n)&&!e.required)return s();kt.required(e,n,o,l,i),n!==void 0&&(kt.type(e,n,o,l,i),kt.range(e,n,o,l,i))}s(l)},QH=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n)&&!e.required)return s();kt.required(e,n,o,l,i),n!==void 0&&kt.type(e,n,o,l,i)}s(l)},e9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n)&&!e.required)return s();kt.required(e,n,o,l,i),kn(n)||kt.type(e,n,o,l,i)}s(l)},t9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n)&&!e.required)return s();kt.required(e,n,o,l,i),n!==void 0&&(kt.type(e,n,o,l,i),kt.range(e,n,o,l,i))}s(l)},n9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n)&&!e.required)return s();kt.required(e,n,o,l,i),n!==void 0&&(kt.type(e,n,o,l,i),kt.range(e,n,o,l,i))}s(l)},r9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return s();kt.required(e,n,o,l,i,"array"),n!=null&&(kt.type(e,n,o,l,i),kt.range(e,n,o,l,i))}s(l)},s9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n)&&!e.required)return s();kt.required(e,n,o,l,i),n!==void 0&&kt.type(e,n,o,l,i)}s(l)},o9="enum",i9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n)&&!e.required)return s();kt.required(e,n,o,l,i),n!==void 0&&kt[o9](e,n,o,l,i)}s(l)},l9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n,"string")&&!e.required)return s();kt.required(e,n,o,l,i),kn(n,"string")||kt.pattern(e,n,o,l,i)}s(l)},a9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n,"date")&&!e.required)return s();if(kt.required(e,n,o,l,i),!kn(n,"date")){var c;n instanceof Date?c=n:c=new Date(n),kt.type(e,c,o,l,i),c&&kt.range(e,c.getTime(),o,l,i)}}s(l)},c9=function(e,n,s,o,i){var l=[],a=Array.isArray(n)?"array":typeof n;kt.required(e,n,o,l,i,a),s(l)},Xg=function(e,n,s,o,i){var l=e.type,a=[],c=e.required||!e.required&&o.hasOwnProperty(e.field);if(c){if(kn(n,l)&&!e.required)return s();kt.required(e,n,o,a,i,l),kn(n,l)||kt.type(e,n,o,a,i)}s(a)},u9=function(e,n,s,o,i){var l=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(kn(n)&&!e.required)return s();kt.required(e,n,o,l,i)}s(l)},Du={string:JH,method:XH,number:ZH,boolean:QH,regexp:e9,integer:t9,float:n9,array:r9,object:s9,enum:i9,pattern:l9,date:a9,url:Xg,hex:Xg,email:Xg,required:c9,any:u9};function Eb(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Tb=Eb(),nf=function(){function r(n){this.rules=null,this._messages=Tb,this.define(n)}var e=r.prototype;return e.define=function(s){var o=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(i){var l=s[i];o.rules[i]=Array.isArray(l)?l:[l]})},e.messages=function(s){return s&&(this._messages=VC(Eb(),s)),this._messages},e.validate=function(s,o,i){var l=this;o===void 0&&(o={}),i===void 0&&(i=function(){});var a=s,c=o,u=i;if(typeof c=="function"&&(u=c,c={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function d(m){var v=[],b={};function C(w){if(Array.isArray(w)){var x;v=(x=v).concat.apply(x,w)}else v.push(w)}for(var y=0;y<m.length;y++)C(m[y]);v.length?(b=xb(v),u(v,b)):u(null,a)}if(c.messages){var f=this.messages();f===Tb&&(f=Eb()),VC(f,c.messages),c.messages=f}else c.messages=this.messages();var h={},p=c.keys||Object.keys(this.rules);p.forEach(function(m){var v=l.rules[m],b=a[m];v.forEach(function(C){var y=C;typeof y.transform=="function"&&(a===s&&(a=Il({},a)),b=a[m]=y.transform(b)),typeof y=="function"?y={validator:y}:y=Il({},y),y.validator=l.getValidationMethod(y),y.validator&&(y.field=m,y.fullField=y.fullField||m,y.type=l.getType(y),h[m]=h[m]||[],h[m].push({rule:y,value:b,source:a,field:m}))})});var g={};return zH(h,c,function(m,v){var b=m.rule,C=(b.type==="object"||b.type==="array")&&(typeof b.fields=="object"||typeof b.defaultField=="object");C=C&&(b.required||!b.required&&m.value),b.field=m.field;function y(E,_){return Il({},_,{fullField:b.fullField+"."+E,fullFields:b.fullFields?[].concat(b.fullFields,[E]):[E]})}function w(E){E===void 0&&(E=[]);var _=Array.isArray(E)?E:[E];!c.suppressWarning&&_.length&&r.warning("async-validator:",_),_.length&&b.message!==void 0&&(_=[].concat(b.message));var M=_.map(DC(b,a));if(c.first&&M.length)return g[b.field]=1,v(M);if(!C)v(M);else{if(b.required&&!m.value)return b.message!==void 0?M=[].concat(b.message).map(DC(b,a)):c.error&&(M=[c.error(b,Lr(c.messages.required,b.field))]),v(M);var A={};b.defaultField&&Object.keys(m.value).map(function($){A[$]=b.defaultField}),A=Il({},A,m.rule.fields);var k={};Object.keys(A).forEach(function($){var B=A[$],W=Array.isArray(B)?B:[B];k[$]=W.map(y.bind(null,$))});var P=new r(k);P.messages(c.messages),m.rule.options&&(m.rule.options.messages=c.messages,m.rule.options.error=c.error),P.validate(m.value,m.rule.options||c,function($){var B=[];M&&M.length&&B.push.apply(B,M),$&&$.length&&B.push.apply(B,$),v(B.length?B:null)})}}var x;if(b.asyncValidator)x=b.asyncValidator(b,m.value,w,m.source,c);else if(b.validator){try{x=b.validator(b,m.value,w,m.source,c)}catch(E){console.error==null,c.suppressValidatorError||setTimeout(function(){throw E},0),w(E.message)}x===!0?w():x===!1?w(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||(b.fullField||b.field)+" fails"):x instanceof Array?w(x):x instanceof Error&&w(x.message)}x&&x.then&&x.then(function(){return w()},function(E){return w(E)})},function(m){d(m)},a)},e.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!Du.hasOwnProperty(s.type))throw new Error(Lr("Unknown rule type %s",s.type));return s.type||"string"},e.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var o=Object.keys(s),i=o.indexOf("message");return i!==-1&&o.splice(i,1),o.length===1&&o[0]==="required"?Du.required:Du[this.getType(s)]||void 0},r}();nf.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Du[e]=n};nf.warning=DH;nf.messages=Tb;nf.validators=Du;const d9=["","error","validating","success"],f9=et({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Be([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Be([Object,Array])},error:String,validateStatus:{type:String,values:d9},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:ga}}),BC="ElLabelWrap";var h9=pe({name:BC,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(r,{slots:e}){const n=Ve(Xc,void 0),s=Ve(na);s||sl(BC,"usage: <el-form-item><label-wrap /></el-form-item>");const o=Ge("form"),i=j(),l=j(0),a=()=>{var d;if((d=i.value)!=null&&d.firstElementChild){const f=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},c=(d="update")=>{tt(()=>{e.default&&r.isAutoWidth&&(d==="update"?l.value=a():d==="remove"&&(n==null||n.deregisterLabelWidth(l.value)))})},u=()=>c("update");return nt(()=>{u()}),Cn(()=>{c("remove")}),ua(()=>u()),$e(l,(d,f)=>{r.updateAll&&(n==null||n.registerLabelWidth(d,f))}),dr(z(()=>{var d,f;return(f=(d=i.value)==null?void 0:d.firstElementChild)!=null?f:null}),u),()=>{var d,f;if(!e)return null;const{isAutoWidth:h}=r;if(h){const p=n==null?void 0:n.autoLabelWidth,g=s==null?void 0:s.hasLabel,m={};if(g&&p&&p!=="auto"){const v=Math.max(0,Number.parseInt(p,10)-l.value),b=n.labelPosition==="left"?"marginRight":"marginLeft";v&&(m[b]=`${v}px`)}return T("div",{ref:i,class:[o.be("item","label-wrap")],style:m},[(d=e.default)==null?void 0:d.call(e)])}else return T(De,{ref:i},[(f=e.default)==null?void 0:f.call(e)])}}});const p9=["role","aria-labelledby"],g9=pe({name:"ElFormItem"}),m9=pe({...g9,props:f9,setup(r,{expose:e}){const n=r,s=Bs(),o=Ve(Xc,void 0),i=Ve(na,void 0),l=fs(void 0,{formItem:!1}),a=Ge("form-item"),c=ao().value,u=j([]),d=j(""),f=oD(d,100),h=j(""),p=j();let g,m=!1;const v=z(()=>{if((o==null?void 0:o.labelPosition)==="top")return{};const G=as(n.labelWidth||(o==null?void 0:o.labelWidth)||"");return G?{width:G}:{}}),b=z(()=>{if((o==null?void 0:o.labelPosition)==="top"||o!=null&&o.inline)return{};if(!n.label&&!n.labelWidth&&A)return{};const G=as(n.labelWidth||(o==null?void 0:o.labelWidth)||"");return!n.label&&!s.label?{marginLeft:G}:{}}),C=z(()=>[a.b(),a.m(l.value),a.is("error",d.value==="error"),a.is("validating",d.value==="validating"),a.is("success",d.value==="success"),a.is("required",W.value||n.required),a.is("no-asterisk",o==null?void 0:o.hideRequiredAsterisk),(o==null?void 0:o.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:o==null?void 0:o.statusIcon}]),y=z(()=>is(n.inlineMessage)?n.inlineMessage:(o==null?void 0:o.inlineMessage)||!1),w=z(()=>[a.e("error"),{[a.em("error","inline")]:y.value}]),x=z(()=>n.prop?ft(n.prop)?n.prop:n.prop.join("."):""),E=z(()=>!!(n.label||s.label)),_=z(()=>n.for||(u.value.length===1?u.value[0]:void 0)),M=z(()=>!_.value&&E.value),A=!!i,k=z(()=>{const G=o==null?void 0:o.model;if(!(!G||!n.prop))return ih(G,n.prop).value}),P=z(()=>{const{required:G}=n,ne=[];n.rules&&ne.push(...Lh(n.rules));const se=o==null?void 0:o.rules;if(se&&n.prop){const me=ih(se,n.prop).value;me&&ne.push(...Lh(me))}if(G!==void 0){const me=ne.map((Pe,Se)=>[Pe,Se]).filter(([Pe])=>Object.keys(Pe).includes("required"));if(me.length>0)for(const[Pe,Se]of me)Pe.required!==G&&(ne[Se]={...Pe,required:G});else ne.push({required:G})}return ne}),$=z(()=>P.value.length>0),B=G=>P.value.filter(se=>!se.trigger||!G?!0:Array.isArray(se.trigger)?se.trigger.includes(G):se.trigger===G).map(({trigger:se,...me})=>me),W=z(()=>P.value.some(G=>G.required)),I=z(()=>{var G;return f.value==="error"&&n.showMessage&&((G=o==null?void 0:o.showMessage)!=null?G:!0)}),R=z(()=>`${n.label||""}${(o==null?void 0:o.labelSuffix)||""}`),U=G=>{d.value=G},Q=G=>{var ne,se;const{errors:me,fields:Pe}=G;U("error"),h.value=me?(se=(ne=me==null?void 0:me[0])==null?void 0:ne.message)!=null?se:`${n.prop} is required`:"",o==null||o.emit("validate",n.prop,!1,h.value)},q=()=>{U("success"),o==null||o.emit("validate",n.prop,!0,"")},ee=async G=>{const ne=x.value;return new nf({[ne]:G}).validate({[ne]:k.value},{firstFields:!0}).then(()=>(q(),!0)).catch(me=>(Q(me),Promise.reject(me)))},de=async(G,ne)=>{if(m||!n.prop)return!1;const se=qe(ne);if(!$.value)return ne==null||ne(!1),!1;const me=B(G);return me.length===0?(ne==null||ne(!0),!0):(U("validating"),ee(me).then(()=>(ne==null||ne(!0),!0)).catch(Pe=>{const{fields:Se}=Pe;return ne==null||ne(!1,Se),se?!1:Promise.reject(Se)}))},ce=()=>{U(""),h.value="",m=!1},Te=async()=>{const G=o==null?void 0:o.model;if(!G||!n.prop)return;const ne=ih(G,n.prop);m=!0,ne.value=dd(g),await tt(),ce(),m=!1},fe=G=>{u.value.includes(G)||u.value.push(G)},we=G=>{u.value=u.value.filter(ne=>ne!==G)};$e(()=>n.error,G=>{h.value=G||"",U(G?"error":"")},{immediate:!0}),$e(()=>n.validateStatus,G=>U(G||""));const Ee=St({...Uo(n),$el:p,size:l,validateState:d,labelId:c,inputIds:u,isGroup:M,hasLabel:E,fieldValue:k,addInputId:fe,removeInputId:we,resetField:Te,clearValidate:ce,validate:de});return Wt(na,Ee),nt(()=>{n.prop&&(o==null||o.addField(Ee),g=dd(k.value))}),Cn(()=>{o==null||o.removeField(Ee)}),e({size:l,validateMessage:h,validateState:d,validate:de,clearValidate:ce,resetField:Te}),(G,ne)=>{var se;return N(),X("div",{ref_key:"formItemRef",ref:p,class:Y(S(C)),role:S(M)?"group":void 0,"aria-labelledby":S(M)?S(c):void 0},[T(S(h9),{"is-auto-width":S(v).width==="auto","update-all":((se=S(o))==null?void 0:se.labelWidth)==="auto"},{default:O(()=>[S(E)?(N(),ye(Ft(S(_)?"label":"div"),{key:0,id:S(c),for:S(_),class:Y(S(a).e("label")),style:vt(S(v))},{default:O(()=>[_e(G.$slots,"label",{label:S(R)},()=>[le(oe(S(R)),1)])]),_:3},8,["id","for","class","style"])):ve("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),H("div",{class:Y(S(a).e("content")),style:vt(S(b))},[_e(G.$slots,"default"),T(SL,{name:`${S(a).namespace.value}-zoom-in-top`},{default:O(()=>[S(I)?_e(G.$slots,"error",{key:0,error:h.value},()=>[H("div",{class:Y(S(w))},oe(h.value),3)]):ve("v-if",!0)]),_:3},8,["name"])],6)],10,p9)}}});var xO=Xe(m9,[["__file","form-item.vue"]]);const ir=Rt(NH,{FormItem:xO}),lr=Ar(xO);let vs;const b9=`
  height:0 !important;
  visibility:hidden !important;
  ${ED()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,v9=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function y9(r){const e=window.getComputedStyle(r),n=e.getPropertyValue("box-sizing"),s=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),o=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:v9.map(l=>`${l}:${e.getPropertyValue(l)}`).join(";"),paddingSize:s,borderSize:o,boxSizing:n}}function zC(r,e=1,n){var s;vs||(vs=document.createElement("textarea"),document.body.appendChild(vs));const{paddingSize:o,borderSize:i,boxSizing:l,contextStyle:a}=y9(r);vs.setAttribute("style",`${a};${b9}`),vs.value=r.value||r.placeholder||"";let c=vs.scrollHeight;const u={};l==="border-box"?c=c+i:l==="content-box"&&(c=c-o),vs.value="";const d=vs.scrollHeight-o;if(Tt(e)){let f=d*e;l==="border-box"&&(f=f+o+i),c=Math.max(f,c),u.minHeight=`${f}px`}if(Tt(n)){let f=d*n;l==="border-box"&&(f=f+o+i),c=Math.min(f,c)}return u.height=`${c}px`,(s=vs.parentNode)==null||s.removeChild(vs),vs=void 0,u}const w9=et({id:{type:String,default:void 0},size:Jo,disabled:Boolean,modelValue:{type:Be([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Be([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:cs},prefixIcon:{type:cs},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Be([Object,Array,String]),default:()=>Ss({})},autofocus:{type:Boolean,default:!1},...Xo(["ariaLabel"])}),C9={[jt]:r=>ft(r),input:r=>ft(r),change:r=>ft(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0,mouseleave:r=>r instanceof MouseEvent,mouseenter:r=>r instanceof MouseEvent,keydown:r=>r instanceof Event,compositionstart:r=>r instanceof CompositionEvent,compositionupdate:r=>r instanceof CompositionEvent,compositionend:r=>r instanceof CompositionEvent},S9=["role"],x9=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],E9=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],T9=pe({name:"ElInput",inheritAttrs:!1}),_9=pe({...T9,props:w9,emits:C9,setup(r,{expose:e,emit:n}){const s=r,o=cT(),i=Bs(),l=z(()=>{const re={};return s.containerRole==="combobox"&&(re["aria-haspopup"]=o["aria-haspopup"],re["aria-owns"]=o["aria-owns"],re["aria-expanded"]=o["aria-expanded"]),re}),a=z(()=>[s.type==="textarea"?v.b():m.b(),m.m(p.value),m.is("disabled",g.value),m.is("exceed",fe.value),{[m.b("group")]:i.prepend||i.append,[m.bm("group","append")]:i.append,[m.bm("group","prepend")]:i.prepend,[m.m("prefix")]:i.prefix||s.prefixIcon,[m.m("suffix")]:i.suffix||s.suffixIcon||s.clearable||s.showPassword,[m.bm("suffix","password-clear")]:ee.value&&de.value,[m.b("hidden")]:s.type==="hidden"},o.class]),c=z(()=>[m.e("wrapper"),m.is("focus",k.value)]),u=Y_({excludeKeys:z(()=>Object.keys(l.value))}),{form:d,formItem:f}=il(),{inputId:h}=tf(s,{formItemContext:f}),p=fs(),g=Zc(),m=Ge("input"),v=Ge("textarea"),b=Ms(),C=Ms(),y=j(!1),w=j(!1),x=j(!1),E=j(),_=Ms(s.inputStyle),M=z(()=>b.value||C.value),{wrapperRef:A,isFocused:k,handleFocus:P,handleBlur:$}=yO(M,{afterBlur(){var re;s.validateEvent&&((re=f==null?void 0:f.validate)==null||re.call(f,"blur").catch(Z=>void 0))}}),B=z(()=>{var re;return(re=d==null?void 0:d.statusIcon)!=null?re:!1}),W=z(()=>(f==null?void 0:f.validateState)||""),I=z(()=>W.value&&q_[W.value]),R=z(()=>x.value?_z:fz),U=z(()=>[o.style]),Q=z(()=>[s.inputStyle,_.value,{resize:s.resize}]),q=z(()=>no(s.modelValue)?"":String(s.modelValue)),ee=z(()=>s.clearable&&!g.value&&!s.readonly&&!!q.value&&(k.value||y.value)),de=z(()=>s.showPassword&&!g.value&&!s.readonly&&!!q.value&&(!!q.value||k.value)),ce=z(()=>s.showWordLimit&&!!s.maxlength&&(s.type==="text"||s.type==="textarea")&&!g.value&&!s.readonly&&!s.showPassword),Te=z(()=>q.value.length),fe=z(()=>!!ce.value&&Te.value>Number(s.maxlength)),we=z(()=>!!i.suffix||!!s.suffixIcon||ee.value||s.showPassword||ce.value||!!W.value&&B.value),[Ee,G]=sH(b);dr(C,re=>{if(me(),!ce.value||s.resize!=="both")return;const Z=re[0],{width:ae}=Z.contentRect;E.value={right:`calc(100% - ${ae+15+6}px)`}});const ne=()=>{const{type:re,autosize:Z}=s;if(!(!Ct||re!=="textarea"||!C.value))if(Z){const ae=pt(Z)?Z.minRows:void 0,je=pt(Z)?Z.maxRows:void 0,Qe=zC(C.value,ae,je);_.value={overflowY:"hidden",...Qe},tt(()=>{C.value.offsetHeight,_.value=Qe})}else _.value={minHeight:zC(C.value).minHeight}},me=(re=>{let Z=!1;return()=>{var ae;if(Z||!s.autosize)return;((ae=C.value)==null?void 0:ae.offsetParent)===null||(re(),Z=!0)}})(ne),Pe=()=>{const re=M.value,Z=s.formatter?s.formatter(q.value):q.value;!re||re.value===Z||(re.value=Z)},Se=async re=>{Ee();let{value:Z}=re.target;if(s.formatter&&(Z=s.parser?s.parser(Z):Z),!w.value){if(Z===q.value){Pe();return}n(jt,Z),n("input",Z),await tt(),Pe(),G()}},D=re=>{n("change",re.target.value)},L=re=>{n("compositionstart",re),w.value=!0},te=re=>{var Z;n("compositionupdate",re);const ae=(Z=re.target)==null?void 0:Z.value,je=ae[ae.length-1]||"";w.value=!K_(je)},he=re=>{n("compositionend",re),w.value&&(w.value=!1,Se(re))},ge=()=>{x.value=!x.value,Ce()},Ce=async()=>{var re;await tt(),(re=M.value)==null||re.focus()},xe=()=>{var re;return(re=M.value)==null?void 0:re.blur()},V=re=>{y.value=!1,n("mouseleave",re)},F=re=>{y.value=!0,n("mouseenter",re)},J=re=>{n("keydown",re)},ie=()=>{var re;(re=M.value)==null||re.select()},Ae=()=>{n(jt,""),n("change",""),n("clear"),n("input","")};return $e(()=>s.modelValue,()=>{var re;tt(()=>ne()),s.validateEvent&&((re=f==null?void 0:f.validate)==null||re.call(f,"change").catch(Z=>void 0))}),$e(q,()=>Pe()),$e(()=>s.type,async()=>{await tt(),Pe(),ne()}),nt(()=>{!s.formatter&&s.parser,Pe(),tt(ne)}),Cr({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},z(()=>!!s.label)),e({input:b,textarea:C,ref:M,textareaStyle:Q,autosize:Es(s,"autosize"),focus:Ce,blur:xe,select:ie,clear:Ae,resizeTextarea:ne}),(re,Z)=>(N(),X("div",Dr(S(l),{class:S(a),style:S(U),role:re.containerRole,onMouseenter:F,onMouseleave:V}),[ve(" input "),re.type!=="textarea"?(N(),X(De,{key:0},[ve(" prepend slot "),re.$slots.prepend?(N(),X("div",{key:0,class:Y(S(m).be("group","prepend"))},[_e(re.$slots,"prepend")],2)):ve("v-if",!0),H("div",{ref_key:"wrapperRef",ref:A,class:Y(S(c))},[ve(" prefix slot "),re.$slots.prefix||re.prefixIcon?(N(),X("span",{key:0,class:Y(S(m).e("prefix"))},[H("span",{class:Y(S(m).e("prefix-inner"))},[_e(re.$slots,"prefix"),re.prefixIcon?(N(),ye(S(dt),{key:0,class:Y(S(m).e("icon"))},{default:O(()=>[(N(),ye(Ft(re.prefixIcon)))]),_:1},8,["class"])):ve("v-if",!0)],2)],2)):ve("v-if",!0),H("input",Dr({id:S(h),ref_key:"input",ref:b,class:S(m).e("inner")},S(u),{minlength:re.minlength,maxlength:re.maxlength,type:re.showPassword?x.value?"text":"password":re.type,disabled:S(g),readonly:re.readonly,autocomplete:re.autocomplete,tabindex:re.tabindex,"aria-label":re.label||re.ariaLabel,placeholder:re.placeholder,style:re.inputStyle,form:re.form,autofocus:re.autofocus,onCompositionstart:L,onCompositionupdate:te,onCompositionend:he,onInput:Se,onFocus:Z[0]||(Z[0]=(...ae)=>S(P)&&S(P)(...ae)),onBlur:Z[1]||(Z[1]=(...ae)=>S($)&&S($)(...ae)),onChange:D,onKeydown:J}),null,16,x9),ve(" suffix slot "),S(we)?(N(),X("span",{key:1,class:Y(S(m).e("suffix"))},[H("span",{class:Y(S(m).e("suffix-inner"))},[!S(ee)||!S(de)||!S(ce)?(N(),X(De,{key:0},[_e(re.$slots,"suffix"),re.suffixIcon?(N(),ye(S(dt),{key:0,class:Y(S(m).e("icon"))},{default:O(()=>[(N(),ye(Ft(re.suffixIcon)))]),_:1},8,["class"])):ve("v-if",!0)],64)):ve("v-if",!0),S(ee)?(N(),ye(S(dt),{key:1,class:Y([S(m).e("icon"),S(m).e("clear")]),onMousedown:It(S(un),["prevent"]),onClick:Ae},{default:O(()=>[T(S(gy))]),_:1},8,["class","onMousedown"])):ve("v-if",!0),S(de)?(N(),ye(S(dt),{key:2,class:Y([S(m).e("icon"),S(m).e("password")]),onClick:ge},{default:O(()=>[(N(),ye(Ft(S(R))))]),_:1},8,["class"])):ve("v-if",!0),S(ce)?(N(),X("span",{key:3,class:Y(S(m).e("count"))},[H("span",{class:Y(S(m).e("count-inner"))},oe(S(Te))+" / "+oe(re.maxlength),3)],2)):ve("v-if",!0),S(W)&&S(I)&&S(B)?(N(),ye(S(dt),{key:4,class:Y([S(m).e("icon"),S(m).e("validateIcon"),S(m).is("loading",S(W)==="validating")])},{default:O(()=>[(N(),ye(Ft(S(I))))]),_:1},8,["class"])):ve("v-if",!0)],2)],2)):ve("v-if",!0)],2),ve(" append slot "),re.$slots.append?(N(),X("div",{key:1,class:Y(S(m).be("group","append"))},[_e(re.$slots,"append")],2)):ve("v-if",!0)],64)):(N(),X(De,{key:1},[ve(" textarea "),H("textarea",Dr({id:S(h),ref_key:"textarea",ref:C,class:S(v).e("inner")},S(u),{minlength:re.minlength,maxlength:re.maxlength,tabindex:re.tabindex,disabled:S(g),readonly:re.readonly,autocomplete:re.autocomplete,style:S(Q),"aria-label":re.label||re.ariaLabel,placeholder:re.placeholder,form:re.form,autofocus:re.autofocus,onCompositionstart:L,onCompositionupdate:te,onCompositionend:he,onInput:Se,onFocus:Z[2]||(Z[2]=(...ae)=>S(P)&&S(P)(...ae)),onBlur:Z[3]||(Z[3]=(...ae)=>S($)&&S($)(...ae)),onChange:D,onKeydown:J}),null,16,E9),S(ce)?(N(),X("span",{key:0,style:vt(E.value),class:Y(S(m).e("count"))},oe(S(Te))+" / "+oe(re.maxlength),7)):ve("v-if",!0)],64))],16,S9))}});var O9=Xe(_9,[["__file","input.vue"]]);const Sn=Rt(O9),Sa=4,A9={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},M9=({move:r,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${r}%)`}),Py=Symbol("scrollbarContextKey"),k9=et({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),P9="Thumb",N9=pe({__name:"thumb",props:k9,setup(r){const e=r,n=Ve(Py),s=Ge("scrollbar");n||sl(P9,"can not inject scrollbar context");const o=j(),i=j(),l=j({}),a=j(!1);let c=!1,u=!1,d=Ct?document.onselectstart:null;const f=z(()=>A9[e.vertical?"vertical":"horizontal"]),h=z(()=>M9({size:e.size,move:e.move,bar:f.value})),p=z(()=>o.value[f.value.offset]**2/n.wrapElement[f.value.scrollSize]/e.ratio/i.value[f.value.offset]),g=E=>{var _;if(E.stopPropagation(),E.ctrlKey||[1,2].includes(E.button))return;(_=window.getSelection())==null||_.removeAllRanges(),v(E);const M=E.currentTarget;M&&(l.value[f.value.axis]=M[f.value.offset]-(E[f.value.client]-M.getBoundingClientRect()[f.value.direction]))},m=E=>{if(!i.value||!o.value||!n.wrapElement)return;const _=Math.abs(E.target.getBoundingClientRect()[f.value.direction]-E[f.value.client]),M=i.value[f.value.offset]/2,A=(_-M)*100*p.value/o.value[f.value.offset];n.wrapElement[f.value.scroll]=A*n.wrapElement[f.value.scrollSize]/100},v=E=>{E.stopImmediatePropagation(),c=!0,document.addEventListener("mousemove",b),document.addEventListener("mouseup",C),d=document.onselectstart,document.onselectstart=()=>!1},b=E=>{if(!o.value||!i.value||c===!1)return;const _=l.value[f.value.axis];if(!_)return;const M=(o.value.getBoundingClientRect()[f.value.direction]-E[f.value.client])*-1,A=i.value[f.value.offset]-_,k=(M-A)*100*p.value/o.value[f.value.offset];n.wrapElement[f.value.scroll]=k*n.wrapElement[f.value.scrollSize]/100},C=()=>{c=!1,l.value[f.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",C),x(),u&&(a.value=!1)},y=()=>{u=!1,a.value=!!e.size},w=()=>{u=!0,a.value=c};Cn(()=>{x(),document.removeEventListener("mouseup",C)});const x=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return vn(Es(n,"scrollbarElement"),"mousemove",y),vn(Es(n,"scrollbarElement"),"mouseleave",w),(E,_)=>(N(),ye(Or,{name:S(s).b("fade"),persisted:""},{default:O(()=>[Ue(H("div",{ref_key:"instance",ref:o,class:Y([S(s).e("bar"),S(s).is(S(f).key)]),onMousedown:m},[H("div",{ref_key:"thumb",ref:i,class:Y(S(s).e("thumb")),style:vt(S(h)),onMousedown:g},null,38)],34),[[st,E.always||a.value]])]),_:1},8,["name"]))}});var jC=Xe(N9,[["__file","thumb.vue"]]);const I9=et({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),L9=pe({__name:"bar",props:I9,setup(r,{expose:e}){const n=r,s=Ve(Py),o=j(0),i=j(0),l=j(""),a=j(""),c=j(1),u=j(1);return e({handleScroll:h=>{if(h){const p=h.offsetHeight-Sa,g=h.offsetWidth-Sa;i.value=h.scrollTop*100/p*c.value,o.value=h.scrollLeft*100/g*u.value}},update:()=>{const h=s==null?void 0:s.wrapElement;if(!h)return;const p=h.offsetHeight-Sa,g=h.offsetWidth-Sa,m=p**2/h.scrollHeight,v=g**2/h.scrollWidth,b=Math.max(m,n.minSize),C=Math.max(v,n.minSize);c.value=m/(p-m)/(b/(p-b)),u.value=v/(g-v)/(C/(g-C)),a.value=b+Sa<p?`${b}px`:"",l.value=C+Sa<g?`${C}px`:""}}),(h,p)=>(N(),X(De,null,[T(jC,{move:o.value,ratio:u.value,size:l.value,always:h.always},null,8,["move","ratio","size","always"]),T(jC,{move:i.value,ratio:c.value,size:a.value,vertical:"",always:h.always},null,8,["move","ratio","size","always"])],64))}});var R9=Xe(L9,[["__file","bar.vue"]]);const $9=et({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Be([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...Xo(["ariaLabel","ariaOrientation"])}),D9={scroll:({scrollTop:r,scrollLeft:e})=>[r,e].every(Tt)},V9="ElScrollbar",F9=pe({name:V9}),B9=pe({...F9,props:$9,emits:D9,setup(r,{expose:e,emit:n}){const s=r,o=Ge("scrollbar");let i,l;const a=j(),c=j(),u=j(),d=j(),f=z(()=>{const y={};return s.height&&(y.height=as(s.height)),s.maxHeight&&(y.maxHeight=as(s.maxHeight)),[s.wrapStyle,y]}),h=z(()=>[s.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!s.native}]),p=z(()=>[o.e("view"),s.viewClass]),g=()=>{var y;c.value&&((y=d.value)==null||y.handleScroll(c.value),n("scroll",{scrollTop:c.value.scrollTop,scrollLeft:c.value.scrollLeft}))};function m(y,w){pt(y)?c.value.scrollTo(y):Tt(y)&&Tt(w)&&c.value.scrollTo(y,w)}const v=y=>{Tt(y)&&(c.value.scrollTop=y)},b=y=>{Tt(y)&&(c.value.scrollLeft=y)},C=()=>{var y;(y=d.value)==null||y.update()};return $e(()=>s.noresize,y=>{y?(i==null||i(),l==null||l()):({stop:i}=dr(u,C),l=vn("resize",C))},{immediate:!0}),$e(()=>[s.maxHeight,s.height],()=>{s.native||tt(()=>{var y;C(),c.value&&((y=d.value)==null||y.handleScroll(c.value))})}),Wt(Py,St({scrollbarElement:a,wrapElement:c})),nt(()=>{s.native||tt(()=>{C()})}),ua(()=>C()),e({wrapRef:c,update:C,scrollTo:m,setScrollTop:v,setScrollLeft:b,handleScroll:g}),(y,w)=>(N(),X("div",{ref_key:"scrollbarRef",ref:a,class:Y(S(o).b())},[H("div",{ref_key:"wrapRef",ref:c,class:Y(S(h)),style:vt(S(f)),onScroll:g},[(N(),ye(Ft(y.tag),{id:y.id,ref_key:"resizeRef",ref:u,class:Y(S(p)),style:vt(y.viewStyle),role:y.role,"aria-label":y.ariaLabel,"aria-orientation":y.ariaOrientation},{default:O(()=>[_e(y.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),y.native?ve("v-if",!0):(N(),ye(R9,{key:0,ref_key:"barRef",ref:d,always:y.always,"min-size":y.minSize},null,8,["always","min-size"]))],2))}});var z9=Xe(B9,[["__file","scrollbar.vue"]]);const Qp=Rt(z9),Ny=Symbol("popper"),EO=Symbol("popperContent"),j9=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],TO=et({role:{type:String,values:j9,default:"tooltip"}}),H9=pe({name:"ElPopper",inheritAttrs:!1}),U9=pe({...H9,props:TO,setup(r,{expose:e}){const n=r,s=j(),o=j(),i=j(),l=j(),a=z(()=>n.role),c={triggerRef:s,popperInstanceRef:o,contentRef:i,referenceRef:l,role:a};return e(c),Wt(Ny,c),(u,d)=>_e(u.$slots,"default")}});var W9=Xe(U9,[["__file","popper.vue"]]);const _O=et({arrowOffset:{type:Number,default:5}}),q9=pe({name:"ElPopperArrow",inheritAttrs:!1}),G9=pe({...q9,props:_O,setup(r,{expose:e}){const n=r,s=Ge("popper"),{arrowOffset:o,arrowRef:i,arrowStyle:l}=Ve(EO,void 0);return $e(()=>n.arrowOffset,a=>{o.value=a}),Cn(()=>{i.value=void 0}),e({arrowRef:i}),(a,c)=>(N(),X("span",{ref_key:"arrowRef",ref:i,class:Y(S(s).e("arrow")),style:vt(S(l)),"data-popper-arrow":""},null,6))}});var K9=Xe(G9,[["__file","arrow.vue"]]);const Y9="ElOnlyChild",J9=pe({name:Y9,setup(r,{slots:e,attrs:n}){var s;const o=Ve(gO),i=rH((s=o==null?void 0:o.setForwardRef)!=null?s:un);return()=>{var l;const a=(l=e.default)==null?void 0:l.call(e,n);if(!a||a.length>1)return null;const c=OO(a);return c?Ue(Fo(c,n),[[i]]):null}}});function OO(r){if(!r)return null;const e=r;for(const n of e){if(pt(n))switch(n.type){case rr:continue;case da:case"svg":return HC(n);case De:return OO(n.children);default:return n}return HC(n)}return null}function HC(r){const e=Ge("only-child");return T("span",{class:e.e("content")},[r])}const AO=et({virtualRef:{type:Be(Object)},virtualTriggering:Boolean,onMouseenter:{type:Be(Function)},onMouseleave:{type:Be(Function)},onClick:{type:Be(Function)},onKeydown:{type:Be(Function)},onFocus:{type:Be(Function)},onBlur:{type:Be(Function)},onContextmenu:{type:Be(Function)},id:String,open:Boolean}),X9=pe({name:"ElPopperTrigger",inheritAttrs:!1}),Z9=pe({...X9,props:AO,setup(r,{expose:e}){const n=r,{role:s,triggerRef:o}=Ve(Ny,void 0);nH(o);const i=z(()=>a.value?n.id:void 0),l=z(()=>{if(s&&s.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=z(()=>{if(s&&s.value!=="tooltip")return s.value}),c=z(()=>a.value?`${n.open}`:void 0);let u;return nt(()=>{$e(()=>n.virtualRef,d=>{d&&(o.value=Po(d))},{immediate:!0}),$e(o,(d,f)=>{u==null||u(),u=void 0,ls(d)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(h=>{var p;const g=n[h];g&&(d.addEventListener(h.slice(2).toLowerCase(),g),(p=f==null?void 0:f.removeEventListener)==null||p.call(f,h.slice(2).toLowerCase(),g))}),u=$e([i,l,a,c],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,g)=>{no(h[g])?d.removeAttribute(p):d.setAttribute(p,h[g])})},{immediate:!0})),ls(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>f.removeAttribute(h))},{immediate:!0})}),Cn(()=>{u==null||u(),u=void 0}),e({triggerRef:o}),(d,f)=>d.virtualTriggering?ve("v-if",!0):(N(),ye(S(J9),Dr({key:0},d.$attrs,{"aria-controls":S(i),"aria-describedby":S(l),"aria-expanded":S(c),"aria-haspopup":S(a)}),{default:O(()=>[_e(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Q9=Xe(Z9,[["__file","trigger.vue"]]);const Zg="focus-trap.focus-after-trapped",Qg="focus-trap.focus-after-released",eU="focus-trap.focusout-prevented",UC={cancelable:!0,bubbles:!1},tU={cancelable:!0,bubbles:!1},WC="focusAfterTrapped",qC="focusAfterReleased",MO=Symbol("elFocusTrap"),Iy=j(),eg=j(0),Ly=j(0);let If=0;const kO=r=>{const e=[],n=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},GC=(r,e)=>{for(const n of r)if(!nU(n,e))return n},nU=(r,e)=>{if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1},rU=r=>{const e=kO(r),n=GC(e,r),s=GC(e.reverse(),r);return[n,s]},sU=r=>r instanceof HTMLInputElement&&"select"in r,di=(r,e)=>{if(r&&r.focus){const n=document.activeElement;r.focus({preventScroll:!0}),Ly.value=window.performance.now(),r!==n&&sU(r)&&e&&r.select()}};function KC(r,e){const n=[...r],s=r.indexOf(e);return s!==-1&&n.splice(s,1),n}const oU=()=>{let r=[];return{push:s=>{const o=r[0];o&&s!==o&&o.pause(),r=KC(r,s),r.unshift(s)},remove:s=>{var o,i;r=KC(r,s),(i=(o=r[0])==null?void 0:o.resume)==null||i.call(o)}}},iU=(r,e=!1)=>{const n=document.activeElement;for(const s of r)if(di(s,e),document.activeElement!==n)return},YC=oU(),lU=()=>eg.value>Ly.value,Lf=()=>{Iy.value="pointer",eg.value=window.performance.now()},JC=()=>{Iy.value="keyboard",eg.value=window.performance.now()},aU=()=>(nt(()=>{If===0&&(document.addEventListener("mousedown",Lf),document.addEventListener("touchstart",Lf),document.addEventListener("keydown",JC)),If++}),Cn(()=>{If--,If<=0&&(document.removeEventListener("mousedown",Lf),document.removeEventListener("touchstart",Lf),document.removeEventListener("keydown",JC))}),{focusReason:Iy,lastUserFocusTimestamp:eg,lastAutomatedFocusTimestamp:Ly}),Rf=r=>new CustomEvent(eU,{...tU,detail:r}),cU=pe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[WC,qC,"focusin","focusout","focusout-prevented","release-requested"],setup(r,{emit:e}){const n=j();let s,o;const{focusReason:i}=aU();Xj(g=>{r.trapped&&!l.paused&&e("release-requested",g)});const l={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=g=>{if(!r.loop&&!r.trapped||l.paused)return;const{key:m,altKey:v,ctrlKey:b,metaKey:C,currentTarget:y,shiftKey:w}=g,{loop:x}=r,E=m===bn.tab&&!v&&!b&&!C,_=document.activeElement;if(E&&_){const M=y,[A,k]=rU(M);if(A&&k){if(!w&&_===k){const $=Rf({focusReason:i.value});e("focusout-prevented",$),$.defaultPrevented||(g.preventDefault(),x&&di(A,!0))}else if(w&&[A,M].includes(_)){const $=Rf({focusReason:i.value});e("focusout-prevented",$),$.defaultPrevented||(g.preventDefault(),x&&di(k,!0))}}else if(_===M){const $=Rf({focusReason:i.value});e("focusout-prevented",$),$.defaultPrevented||g.preventDefault()}}};Wt(MO,{focusTrapRef:n,onKeydown:a}),$e(()=>r.focusTrapEl,g=>{g&&(n.value=g)},{immediate:!0}),$e([n],([g],[m])=>{g&&(g.addEventListener("keydown",a),g.addEventListener("focusin",d),g.addEventListener("focusout",f)),m&&(m.removeEventListener("keydown",a),m.removeEventListener("focusin",d),m.removeEventListener("focusout",f))});const c=g=>{e(WC,g)},u=g=>e(qC,g),d=g=>{const m=S(n);if(!m)return;const v=g.target,b=g.relatedTarget,C=v&&m.contains(v);r.trapped||b&&m.contains(b)||(s=b),C&&e("focusin",g),!l.paused&&r.trapped&&(C?o=v:di(o,!0))},f=g=>{const m=S(n);if(!(l.paused||!m))if(r.trapped){const v=g.relatedTarget;!no(v)&&!m.contains(v)&&setTimeout(()=>{if(!l.paused&&r.trapped){const b=Rf({focusReason:i.value});e("focusout-prevented",b),b.defaultPrevented||di(o,!0)}},0)}else{const v=g.target;v&&m.contains(v)||e("focusout",g)}};async function h(){await tt();const g=S(n);if(g){YC.push(l);const m=g.contains(document.activeElement)?s:document.activeElement;if(s=m,!g.contains(m)){const b=new Event(Zg,UC);g.addEventListener(Zg,c),g.dispatchEvent(b),b.defaultPrevented||tt(()=>{let C=r.focusStartEl;ft(C)||(di(C),document.activeElement!==C&&(C="first")),C==="first"&&iU(kO(g),!0),(document.activeElement===m||C==="container")&&di(g)})}}}function p(){const g=S(n);if(g){g.removeEventListener(Zg,c);const m=new CustomEvent(Qg,{...UC,detail:{focusReason:i.value}});g.addEventListener(Qg,u),g.dispatchEvent(m),!m.defaultPrevented&&(i.value=="keyboard"||!lU()||g.contains(document.activeElement))&&di(s??document.body),g.removeEventListener(Qg,u),YC.remove(l)}}return nt(()=>{r.trapped&&h(),$e(()=>r.trapped,g=>{g?h():p()})}),Cn(()=>{r.trapped&&p()}),{onKeydown:a}}});function uU(r,e,n,s,o,i){return _e(r.$slots,"default",{handleKeydown:r.onKeydown})}var tg=Xe(cU,[["render",uU],["__file","focus-trap.vue"]]);const dU=["fixed","absolute"],fU=et({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Be(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Yp,default:"bottom"},popperOptions:{type:Be(Object),default:()=>({})},strategy:{type:String,values:dU,default:"absolute"}}),PO=et({...fU,id:String,style:{type:Be([String,Array,Object])},className:{type:Be([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Be([String,Array,Object])},popperStyle:{type:Be([String,Array,Object])},referenceEl:{type:Be(Object)},triggerTargetEl:{type:Be(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Xo(["ariaLabel"])}),hU={mouseenter:r=>r instanceof MouseEvent,mouseleave:r=>r instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},pU=(r,e=[])=>{const{placement:n,strategy:s,popperOptions:o}=r,i={placement:n,strategy:s,...o,modifiers:[...mU(r),...e]};return bU(i,o==null?void 0:o.modifiers),i},gU=r=>{if(Ct)return Po(r)};function mU(r){const{offset:e,gpuAcceleration:n,fallbackPlacements:s}=r;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:s}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function bU(r,e){e&&(r.modifiers=[...r.modifiers,...e??[]])}const vU=0,yU=r=>{const{popperInstanceRef:e,contentRef:n,triggerRef:s,role:o}=Ve(Ny,void 0),i=j(),l=j(),a=z(()=>({name:"eventListeners",enabled:!!r.visible})),c=z(()=>{var b;const C=S(i),y=(b=S(l))!=null?b:vU;return{name:"arrow",enabled:!I_(C),options:{element:C,padding:y}}}),u=z(()=>({onFirstUpdate:()=>{g()},...pU(r,[S(c),S(a)])})),d=z(()=>gU(r.referenceEl)||S(s)),{attributes:f,state:h,styles:p,update:g,forceUpdate:m,instanceRef:v}=Kj(d,n,u);return $e(v,b=>e.value=b),nt(()=>{$e(()=>{var b;return(b=S(d))==null?void 0:b.getBoundingClientRect()},()=>{g()})}),{attributes:f,arrowRef:i,contentRef:n,instanceRef:v,state:h,styles:p,role:o,forceUpdate:m,update:g}},wU=(r,{attributes:e,styles:n,role:s})=>{const{nextZIndex:o}=Xp(),i=Ge("popper"),l=z(()=>S(e).popper),a=j(Tt(r.zIndex)?r.zIndex:o()),c=z(()=>[i.b(),i.is("pure",r.pure),i.is(r.effect),r.popperClass]),u=z(()=>[{zIndex:S(a)},S(n).popper,r.popperStyle||{}]),d=z(()=>s.value==="dialog"?"false":void 0),f=z(()=>S(n).arrow||{});return{ariaModal:d,arrowStyle:f,contentAttrs:l,contentClass:c,contentStyle:u,contentZIndex:a,updateZIndex:()=>{a.value=Tt(r.zIndex)?r.zIndex:o()}}},CU=(r,e)=>{const n=j(!1),s=j();return{focusStartRef:s,trapped:n,onFocusAfterReleased:u=>{var d;((d=u.detail)==null?void 0:d.focusReason)!=="pointer"&&(s.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:u=>{r.visible&&!n.value&&(u.target&&(s.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{r.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},SU=pe({name:"ElPopperContent"}),xU=pe({...SU,props:PO,emits:hU,setup(r,{expose:e,emit:n}){const s=r,{focusStartRef:o,trapped:i,onFocusAfterReleased:l,onFocusAfterTrapped:a,onFocusInTrap:c,onFocusoutPrevented:u,onReleaseRequested:d}=CU(s,n),{attributes:f,arrowRef:h,contentRef:p,styles:g,instanceRef:m,role:v,update:b}=yU(s),{ariaModal:C,arrowStyle:y,contentAttrs:w,contentClass:x,contentStyle:E,updateZIndex:_}=wU(s,{styles:g,attributes:f,role:v}),M=Ve(na,void 0),A=j();Wt(EO,{arrowStyle:y,arrowRef:h,arrowOffset:A}),M&&Wt(na,{...M,addInputId:un,removeInputId:un});let k;const P=(B=!0)=>{b(),B&&_()},$=()=>{P(!1),s.visible&&s.focusOnShow?i.value=!0:s.visible===!1&&(i.value=!1)};return nt(()=>{$e(()=>s.triggerTargetEl,(B,W)=>{k==null||k(),k=void 0;const I=S(B||p.value),R=S(W||p.value);ls(I)&&(k=$e([v,()=>s.ariaLabel,C,()=>s.id],U=>{["role","aria-label","aria-modal","id"].forEach((Q,q)=>{no(U[q])?I.removeAttribute(Q):I.setAttribute(Q,U[q])})},{immediate:!0})),R!==I&&ls(R)&&["role","aria-label","aria-modal","id"].forEach(U=>{R.removeAttribute(U)})},{immediate:!0}),$e(()=>s.visible,$,{immediate:!0})}),Cn(()=>{k==null||k(),k=void 0}),e({popperContentRef:p,popperInstanceRef:m,updatePopper:P,contentStyle:E}),(B,W)=>(N(),X("div",Dr({ref_key:"contentRef",ref:p},S(w),{style:S(E),class:S(x),tabindex:"-1",onMouseenter:W[0]||(W[0]=I=>B.$emit("mouseenter",I)),onMouseleave:W[1]||(W[1]=I=>B.$emit("mouseleave",I))}),[T(S(tg),{trapped:S(i),"trap-on-focus-in":!0,"focus-trap-el":S(p),"focus-start-el":S(o),onFocusAfterTrapped:S(a),onFocusAfterReleased:S(l),onFocusin:S(c),onFocusoutPrevented:S(u),onReleaseRequested:S(d)},{default:O(()=>[_e(B.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var EU=Xe(xU,[["__file","content.vue"]]);const TU=Rt(W9),Ry=Symbol("elTooltip"),Nr=et({...eH,...PO,appendTo:{type:Be([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,visible:{type:Be(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Xo(["ariaLabel"])}),md=et({...AO,disabled:Boolean,trigger:{type:Be([String,Array]),default:"hover"},triggerKeys:{type:Be(Array),default:()=>[bn.enter,bn.space]}}),{useModelToggleProps:_U,useModelToggleEmits:OU,useModelToggle:AU}=eO("visible"),MU=et({...TO,..._U,...Nr,...md,..._O,showArrow:{type:Boolean,default:!0}}),kU=[...OU,"before-show","before-hide","show","hide","open","close"],PU=(r,e)=>Re(r)?r.includes(e):r===e,xa=(r,e,n)=>s=>{PU(S(r),e)&&n(s)},NU=pe({name:"ElTooltipTrigger"}),IU=pe({...NU,props:md,setup(r,{expose:e}){const n=r,s=Ge("tooltip"),{controlled:o,id:i,open:l,onOpen:a,onClose:c,onToggle:u}=Ve(Ry,void 0),d=j(null),f=()=>{if(S(o)||n.disabled)return!0},h=Es(n,"trigger"),p=Oo(f,xa(h,"hover",a)),g=Oo(f,xa(h,"hover",c)),m=Oo(f,xa(h,"click",w=>{w.button===0&&u(w)})),v=Oo(f,xa(h,"focus",a)),b=Oo(f,xa(h,"focus",c)),C=Oo(f,xa(h,"contextmenu",w=>{w.preventDefault(),u(w)})),y=Oo(f,w=>{const{code:x}=w;n.triggerKeys.includes(x)&&(w.preventDefault(),u(w))});return e({triggerRef:d}),(w,x)=>(N(),ye(S(Q9),{id:S(i),"virtual-ref":w.virtualRef,open:S(l),"virtual-triggering":w.virtualTriggering,class:Y(S(s).e("trigger")),onBlur:S(b),onClick:S(m),onContextmenu:S(C),onFocus:S(v),onMouseenter:S(p),onMouseleave:S(g),onKeydown:S(y)},{default:O(()=>[_e(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var LU=Xe(IU,[["__file","trigger.vue"]]);const RU=pe({name:"ElTooltipContent",inheritAttrs:!1}),$U=pe({...RU,props:Nr,setup(r,{expose:e}){const n=r,{selector:s}=pO(),o=Ge("tooltip"),i=j(null),l=j(!1),{controlled:a,id:c,open:u,trigger:d,onClose:f,onOpen:h,onShow:p,onHide:g,onBeforeShow:m,onBeforeHide:v}=Ve(Ry,void 0),b=z(()=>n.transition||`${o.namespace.value}-fade-in-linear`),C=z(()=>n.persistent);Cn(()=>{l.value=!0});const y=z(()=>S(C)?!0:S(u)),w=z(()=>n.disabled?!1:S(u)),x=z(()=>n.appendTo||s.value),E=z(()=>{var U;return(U=n.style)!=null?U:{}}),_=z(()=>!S(u)),M=()=>{g()},A=()=>{if(S(a))return!0},k=Oo(A,()=>{n.enterable&&S(d)==="hover"&&h()}),P=Oo(A,()=>{S(d)==="hover"&&f()}),$=()=>{var U,Q;(Q=(U=i.value)==null?void 0:U.updatePopper)==null||Q.call(U),m==null||m()},B=()=>{v==null||v()},W=()=>{p(),R=cD(z(()=>{var U;return(U=i.value)==null?void 0:U.popperContentRef}),()=>{if(S(a))return;S(d)!=="hover"&&f()})},I=()=>{n.virtualTriggering||f()};let R;return $e(()=>S(u),U=>{U||R==null||R()},{flush:"post"}),$e(()=>n.content,()=>{var U,Q;(Q=(U=i.value)==null?void 0:U.updatePopper)==null||Q.call(U)}),e({contentRef:i}),(U,Q)=>(N(),ye(Uc,{disabled:!U.teleported,to:S(x)},[T(Or,{name:S(b),onAfterLeave:M,onBeforeEnter:$,onAfterEnter:W,onBeforeLeave:B},{default:O(()=>[S(y)?Ue((N(),ye(S(EU),Dr({key:0,id:S(c),ref_key:"contentRef",ref:i},U.$attrs,{"aria-label":U.ariaLabel,"aria-hidden":S(_),"boundaries-padding":U.boundariesPadding,"fallback-placements":U.fallbackPlacements,"gpu-acceleration":U.gpuAcceleration,offset:U.offset,placement:U.placement,"popper-options":U.popperOptions,strategy:U.strategy,effect:U.effect,enterable:U.enterable,pure:U.pure,"popper-class":U.popperClass,"popper-style":[U.popperStyle,S(E)],"reference-el":U.referenceEl,"trigger-target-el":U.triggerTargetEl,visible:S(w),"z-index":U.zIndex,onMouseenter:S(k),onMouseleave:S(P),onBlur:I,onClose:S(f)}),{default:O(()=>[l.value?ve("v-if",!0):_e(U.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[st,S(w)]]):ve("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var DU=Xe($U,[["__file","content.vue"]]);const VU=["innerHTML"],FU={key:1},BU=pe({name:"ElTooltip"}),zU=pe({...BU,props:MU,emits:kU,setup(r,{expose:e,emit:n}){const s=r;Qj();const o=ao(),i=j(),l=j(),a=()=>{var b;const C=S(i);C&&((b=C.popperInstanceRef)==null||b.update())},c=j(!1),u=j(),{show:d,hide:f,hasUpdateHandler:h}=AU({indicator:c,toggleReason:u}),{onOpen:p,onClose:g}=tH({showAfter:Es(s,"showAfter"),hideAfter:Es(s,"hideAfter"),autoClose:Es(s,"autoClose"),open:d,close:f}),m=z(()=>is(s.visible)&&!h.value);Wt(Ry,{controlled:m,id:o,open:Vd(c),trigger:Es(s,"trigger"),onOpen:b=>{p(b)},onClose:b=>{g(b)},onToggle:b=>{S(c)?g(b):p(b)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:a}),$e(()=>s.disabled,b=>{b&&c.value&&(c.value=!1)});const v=b=>{var C,y;const w=(y=(C=l.value)==null?void 0:C.contentRef)==null?void 0:y.popperContentRef,x=(b==null?void 0:b.relatedTarget)||document.activeElement;return w&&w.contains(x)};return iT(()=>c.value&&f()),e({popperRef:i,contentRef:l,isFocusInsideContent:v,updatePopper:a,onOpen:p,onClose:g,hide:f}),(b,C)=>(N(),ye(S(TU),{ref_key:"popperRef",ref:i,role:b.role},{default:O(()=>[T(LU,{disabled:b.disabled,trigger:b.trigger,"trigger-keys":b.triggerKeys,"virtual-ref":b.virtualRef,"virtual-triggering":b.virtualTriggering},{default:O(()=>[b.$slots.default?_e(b.$slots,"default",{key:0}):ve("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),T(DU,{ref_key:"contentRef",ref:l,"aria-label":b.ariaLabel,"boundaries-padding":b.boundariesPadding,content:b.content,disabled:b.disabled,effect:b.effect,enterable:b.enterable,"fallback-placements":b.fallbackPlacements,"hide-after":b.hideAfter,"gpu-acceleration":b.gpuAcceleration,offset:b.offset,persistent:b.persistent,"popper-class":b.popperClass,"popper-style":b.popperStyle,placement:b.placement,"popper-options":b.popperOptions,pure:b.pure,"raw-content":b.rawContent,"reference-el":b.referenceEl,"trigger-target-el":b.triggerTargetEl,"show-after":b.showAfter,strategy:b.strategy,teleported:b.teleported,transition:b.transition,"virtual-triggering":b.virtualTriggering,"z-index":b.zIndex,"append-to":b.appendTo},{default:O(()=>[_e(b.$slots,"content",{},()=>[b.rawContent?(N(),X("span",{key:0,innerHTML:b.content},null,8,VU)):(N(),X("span",FU,oe(b.content),1))]),b.showArrow?(N(),ye(S(K9),{key:0,"arrow-offset":b.arrowOffset},null,8,["arrow-offset"])):ve("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var jU=Xe(zU,[["__file","tooltip.vue"]]);const gs=Rt(jU),HU=et({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:Be([String,Object,Array])},badgeStyle:{type:Be([String,Object,Array])},offset:{type:Be(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),UU=["textContent"],WU=pe({name:"ElBadge"}),qU=pe({...WU,props:HU,setup(r,{expose:e}){const n=r,s=Ge("badge"),o=z(()=>n.isDot?"":Tt(n.value)&&Tt(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),i=z(()=>{var l,a,c,u,d,f;return[{backgroundColor:n.color,marginRight:as(-((a=(l=n.offset)==null?void 0:l[0])!=null?a:0)),marginTop:as((u=(c=n.offset)==null?void 0:c[1])!=null?u:0)},(d=n.dotStyle)!=null?d:{},(f=n.badgeStyle)!=null?f:{}]});return Cr({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},z(()=>!!n.dotStyle)),Cr({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},z(()=>!!n.dotClass)),e({content:o}),(l,a)=>(N(),X("div",{class:Y(S(s).b())},[_e(l.$slots,"default"),T(Or,{name:`${S(s).namespace.value}-zoom-in-center`,persisted:""},{default:O(()=>[Ue(H("sup",{class:Y([S(s).e("content"),S(s).em("content",l.type),S(s).is("fixed",!!l.$slots.default),S(s).is("dot",l.isDot),l.dotClass,l.badgeClass]),style:vt(S(i)),textContent:oe(S(o))},null,14,UU),[[st,!l.hidden&&(S(o)||l.isDot)]])]),_:1},8,["name"])],2))}});var GU=Xe(qU,[["__file","badge.vue"]]);const KU=Rt(GU),NO=Symbol("buttonGroupContextKey"),YU=(r,e)=>{Cr({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},z(()=>r.type==="text"));const n=Ve(NO,void 0),s=ef("button"),{form:o}=il(),i=fs(z(()=>n==null?void 0:n.size)),l=Zc(),a=j(),c=Bs(),u=z(()=>r.type||(n==null?void 0:n.type)||""),d=z(()=>{var g,m,v;return(v=(m=r.autoInsertSpace)!=null?m:(g=s.value)==null?void 0:g.autoInsertSpace)!=null?v:!1}),f=z(()=>r.tag==="button"?{ariaDisabled:l.value||r.loading,disabled:l.value||r.loading,autofocus:r.autofocus,type:r.nativeType}:{}),h=z(()=>{var g;const m=(g=c.default)==null?void 0:g.call(c);if(d.value&&(m==null?void 0:m.length)===1){const v=m[0];if((v==null?void 0:v.type)===da){const b=v.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(b.trim())}}return!1});return{_disabled:l,_size:i,_type:u,_ref:a,_props:f,shouldAddSpace:h,handleClick:g=>{r.nativeType==="reset"&&(o==null||o.resetFields()),e("click",g)}}},JU=["default","primary","success","warning","info","danger","text",""],XU=["button","submit","reset"],_b=et({size:Jo,disabled:Boolean,type:{type:String,values:JU,default:""},icon:{type:cs},nativeType:{type:String,values:XU,default:"button"},loading:Boolean,loadingIcon:{type:cs,default:()=>by},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Be([String,Object]),default:"button"}}),ZU={click:r=>r instanceof MouseEvent};function Jn(r,e){QU(r)&&(r="100%");var n=e7(r);return r=e===360?r:Math.min(e,Math.max(0,parseFloat(r))),n&&(r=parseInt(String(r*e),10)/100),Math.abs(r-e)<1e-6?1:(e===360?r=(r<0?r%e+e:r%e)/parseFloat(String(e)):r=r%e/parseFloat(String(e)),r)}function $f(r){return Math.min(1,Math.max(0,r))}function QU(r){return typeof r=="string"&&r.indexOf(".")!==-1&&parseFloat(r)===1}function e7(r){return typeof r=="string"&&r.indexOf("%")!==-1}function IO(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function Df(r){return r<=1?"".concat(Number(r)*100,"%"):r}function Ll(r){return r.length===1?"0"+r:String(r)}function t7(r,e,n){return{r:Jn(r,255)*255,g:Jn(e,255)*255,b:Jn(n,255)*255}}function XC(r,e,n){r=Jn(r,255),e=Jn(e,255),n=Jn(n,255);var s=Math.max(r,e,n),o=Math.min(r,e,n),i=0,l=0,a=(s+o)/2;if(s===o)l=0,i=0;else{var c=s-o;switch(l=a>.5?c/(2-s-o):c/(s+o),s){case r:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-r)/c+2;break;case n:i=(r-e)/c+4;break}i/=6}return{h:i,s:l,l:a}}function em(r,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?r+(e-r)*(6*n):n<1/2?e:n<2/3?r+(e-r)*(2/3-n)*6:r}function n7(r,e,n){var s,o,i;if(r=Jn(r,360),e=Jn(e,100),n=Jn(n,100),e===0)o=n,i=n,s=n;else{var l=n<.5?n*(1+e):n+e-n*e,a=2*n-l;s=em(a,l,r+1/3),o=em(a,l,r),i=em(a,l,r-1/3)}return{r:s*255,g:o*255,b:i*255}}function ZC(r,e,n){r=Jn(r,255),e=Jn(e,255),n=Jn(n,255);var s=Math.max(r,e,n),o=Math.min(r,e,n),i=0,l=s,a=s-o,c=s===0?0:a/s;if(s===o)i=0;else{switch(s){case r:i=(e-n)/a+(e<n?6:0);break;case e:i=(n-r)/a+2;break;case n:i=(r-e)/a+4;break}i/=6}return{h:i,s:c,v:l}}function r7(r,e,n){r=Jn(r,360)*6,e=Jn(e,100),n=Jn(n,100);var s=Math.floor(r),o=r-s,i=n*(1-e),l=n*(1-o*e),a=n*(1-(1-o)*e),c=s%6,u=[n,l,i,i,a,n][c],d=[a,n,n,l,i,i][c],f=[i,i,a,n,n,l][c];return{r:u*255,g:d*255,b:f*255}}function QC(r,e,n,s){var o=[Ll(Math.round(r).toString(16)),Ll(Math.round(e).toString(16)),Ll(Math.round(n).toString(16))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function s7(r,e,n,s,o){var i=[Ll(Math.round(r).toString(16)),Ll(Math.round(e).toString(16)),Ll(Math.round(n).toString(16)),Ll(o7(s))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function o7(r){return Math.round(parseFloat(r)*255).toString(16)}function eS(r){return kr(r)/255}function kr(r){return parseInt(r,16)}function i7(r){return{r:r>>16,g:(r&65280)>>8,b:r&255}}var Ob={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function l7(r){var e={r:0,g:0,b:0},n=1,s=null,o=null,i=null,l=!1,a=!1;return typeof r=="string"&&(r=u7(r)),typeof r=="object"&&(xo(r.r)&&xo(r.g)&&xo(r.b)?(e=t7(r.r,r.g,r.b),l=!0,a=String(r.r).substr(-1)==="%"?"prgb":"rgb"):xo(r.h)&&xo(r.s)&&xo(r.v)?(s=Df(r.s),o=Df(r.v),e=r7(r.h,s,o),l=!0,a="hsv"):xo(r.h)&&xo(r.s)&&xo(r.l)&&(s=Df(r.s),i=Df(r.l),e=n7(r.h,s,i),l=!0,a="hsl"),Object.prototype.hasOwnProperty.call(r,"a")&&(n=r.a)),n=IO(n),{ok:l,format:r.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var a7="[-\\+]?\\d+%?",c7="[-\\+]?\\d*\\.\\d+%?",Mi="(?:".concat(c7,")|(?:").concat(a7,")"),tm="[\\s|\\(]+(".concat(Mi,")[,|\\s]+(").concat(Mi,")[,|\\s]+(").concat(Mi,")\\s*\\)?"),nm="[\\s|\\(]+(".concat(Mi,")[,|\\s]+(").concat(Mi,")[,|\\s]+(").concat(Mi,")[,|\\s]+(").concat(Mi,")\\s*\\)?"),ws={CSS_UNIT:new RegExp(Mi),rgb:new RegExp("rgb"+tm),rgba:new RegExp("rgba"+nm),hsl:new RegExp("hsl"+tm),hsla:new RegExp("hsla"+nm),hsv:new RegExp("hsv"+tm),hsva:new RegExp("hsva"+nm),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function u7(r){if(r=r.trim().toLowerCase(),r.length===0)return!1;var e=!1;if(Ob[r])r=Ob[r],e=!0;else if(r==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=ws.rgb.exec(r);return n?{r:n[1],g:n[2],b:n[3]}:(n=ws.rgba.exec(r),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ws.hsl.exec(r),n?{h:n[1],s:n[2],l:n[3]}:(n=ws.hsla.exec(r),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ws.hsv.exec(r),n?{h:n[1],s:n[2],v:n[3]}:(n=ws.hsva.exec(r),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ws.hex8.exec(r),n?{r:kr(n[1]),g:kr(n[2]),b:kr(n[3]),a:eS(n[4]),format:e?"name":"hex8"}:(n=ws.hex6.exec(r),n?{r:kr(n[1]),g:kr(n[2]),b:kr(n[3]),format:e?"name":"hex"}:(n=ws.hex4.exec(r),n?{r:kr(n[1]+n[1]),g:kr(n[2]+n[2]),b:kr(n[3]+n[3]),a:eS(n[4]+n[4]),format:e?"name":"hex8"}:(n=ws.hex3.exec(r),n?{r:kr(n[1]+n[1]),g:kr(n[2]+n[2]),b:kr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function xo(r){return!!ws.CSS_UNIT.exec(String(r))}var d7=function(){function r(e,n){e===void 0&&(e=""),n===void 0&&(n={});var s;if(e instanceof r)return e;typeof e=="number"&&(e=i7(e)),this.originalInput=e;var o=l7(e);this.originalInput=e,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=n.format)!==null&&s!==void 0?s:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return r.prototype.isDark=function(){return this.getBrightness()<128},r.prototype.isLight=function(){return!this.isDark()},r.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},r.prototype.getLuminance=function(){var e=this.toRgb(),n,s,o,i=e.r/255,l=e.g/255,a=e.b/255;return i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),l<=.03928?s=l/12.92:s=Math.pow((l+.055)/1.055,2.4),a<=.03928?o=a/12.92:o=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*s+.0722*o},r.prototype.getAlpha=function(){return this.a},r.prototype.setAlpha=function(e){return this.a=IO(e),this.roundA=Math.round(100*this.a)/100,this},r.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},r.prototype.toHsv=function(){var e=ZC(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},r.prototype.toHsvString=function(){var e=ZC(this.r,this.g,this.b),n=Math.round(e.h*360),s=Math.round(e.s*100),o=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(s,"%, ").concat(o,"%)"):"hsva(".concat(n,", ").concat(s,"%, ").concat(o,"%, ").concat(this.roundA,")")},r.prototype.toHsl=function(){var e=XC(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},r.prototype.toHslString=function(){var e=XC(this.r,this.g,this.b),n=Math.round(e.h*360),s=Math.round(e.s*100),o=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(s,"%, ").concat(o,"%)"):"hsla(".concat(n,", ").concat(s,"%, ").concat(o,"%, ").concat(this.roundA,")")},r.prototype.toHex=function(e){return e===void 0&&(e=!1),QC(this.r,this.g,this.b,e)},r.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},r.prototype.toHex8=function(e){return e===void 0&&(e=!1),s7(this.r,this.g,this.b,this.a,e)},r.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},r.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},r.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},r.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(s,")"):"rgba(".concat(e,", ").concat(n,", ").concat(s,", ").concat(this.roundA,")")},r.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Jn(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},r.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Jn(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},r.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+QC(this.r,this.g,this.b,!1),n=0,s=Object.entries(Ob);n<s.length;n++){var o=s[n],i=o[0],l=o[1];if(e===l)return i}return!1},r.prototype.toString=function(e){var n=!!e;e=e??this.format;var s=!1,o=this.a<1&&this.a>=0,i=!n&&o&&(e.startsWith("hex")||e==="name");return i?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(s=this.toRgbString()),e==="prgb"&&(s=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(s=this.toHexString()),e==="hex3"&&(s=this.toHexString(!0)),e==="hex4"&&(s=this.toHex8String(!0)),e==="hex8"&&(s=this.toHex8String()),e==="name"&&(s=this.toName()),e==="hsl"&&(s=this.toHslString()),e==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},r.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},r.prototype.clone=function(){return new r(this.toString())},r.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=$f(n.l),new r(n)},r.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new r(n)},r.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=$f(n.l),new r(n)},r.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},r.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},r.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=$f(n.s),new r(n)},r.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=$f(n.s),new r(n)},r.prototype.greyscale=function(){return this.desaturate(100)},r.prototype.spin=function(e){var n=this.toHsl(),s=(n.h+e)%360;return n.h=s<0?360+s:s,new r(n)},r.prototype.mix=function(e,n){n===void 0&&(n=50);var s=this.toRgb(),o=new r(e).toRgb(),i=n/100,l={r:(o.r-s.r)*i+s.r,g:(o.g-s.g)*i+s.g,b:(o.b-s.b)*i+s.b,a:(o.a-s.a)*i+s.a};return new r(l)},r.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var s=this.toHsl(),o=360/n,i=[this];for(s.h=(s.h-(o*e>>1)+720)%360;--e;)s.h=(s.h+o)%360,i.push(new r(s));return i},r.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new r(e)},r.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),s=n.h,o=n.s,i=n.v,l=[],a=1/e;e--;)l.push(new r({h:s,s:o,v:i})),i=(i+a)%1;return l},r.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new r({h:(n+72)%360,s:e.s,l:e.l}),new r({h:(n+216)%360,s:e.s,l:e.l})]},r.prototype.onBackground=function(e){var n=this.toRgb(),s=new r(e).toRgb(),o=n.a+s.a*(1-n.a);return new r({r:(n.r*n.a+s.r*s.a*(1-n.a))/o,g:(n.g*n.a+s.g*s.a*(1-n.a))/o,b:(n.b*n.a+s.b*s.a*(1-n.a))/o,a:o})},r.prototype.triad=function(){return this.polyad(3)},r.prototype.tetrad=function(){return this.polyad(4)},r.prototype.polyad=function(e){for(var n=this.toHsl(),s=n.h,o=[this],i=360/e,l=1;l<e;l++)o.push(new r({h:(s+l*i)%360,s:n.s,l:n.l}));return o},r.prototype.equals=function(e){return this.toRgbString()===new r(e).toRgbString()},r}();function ci(r,e=20){return r.mix("#141414",e).toString()}function f7(r){const e=Zc(),n=Ge("button");return z(()=>{let s={};const o=r.color;if(o){const i=new d7(o),l=r.dark?i.tint(20).toString():ci(i,20);if(r.plain)s=n.cssVarBlock({"bg-color":r.dark?ci(i,90):i.tint(90).toString(),"text-color":o,"border-color":r.dark?ci(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":o,"hover-border-color":o,"active-bg-color":l,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":l}),e.value&&(s[n.cssVarBlockName("disabled-bg-color")]=r.dark?ci(i,90):i.tint(90).toString(),s[n.cssVarBlockName("disabled-text-color")]=r.dark?ci(i,50):i.tint(50).toString(),s[n.cssVarBlockName("disabled-border-color")]=r.dark?ci(i,80):i.tint(80).toString());else{const a=r.dark?ci(i,30):i.tint(30).toString(),c=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(s=n.cssVarBlock({"bg-color":o,"text-color":c,"border-color":o,"hover-bg-color":a,"hover-text-color":c,"hover-border-color":a,"active-bg-color":l,"active-border-color":l}),e.value){const u=r.dark?ci(i,50):i.tint(50).toString();s[n.cssVarBlockName("disabled-bg-color")]=u,s[n.cssVarBlockName("disabled-text-color")]=r.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,s[n.cssVarBlockName("disabled-border-color")]=u}}}return s})}const h7=pe({name:"ElButton"}),p7=pe({...h7,props:_b,emits:ZU,setup(r,{expose:e,emit:n}){const s=r,o=f7(s),i=Ge("button"),{_ref:l,_size:a,_type:c,_disabled:u,_props:d,shouldAddSpace:f,handleClick:h}=YU(s,n),p=z(()=>[i.b(),i.m(c.value),i.m(a.value),i.is("disabled",u.value),i.is("loading",s.loading),i.is("plain",s.plain),i.is("round",s.round),i.is("circle",s.circle),i.is("text",s.text),i.is("link",s.link),i.is("has-bg",s.bg)]);return e({ref:l,size:a,type:c,disabled:u,shouldAddSpace:f}),(g,m)=>(N(),ye(Ft(g.tag),Dr({ref_key:"_ref",ref:l},S(d),{class:S(p),style:S(o),onClick:S(h)}),{default:O(()=>[g.loading?(N(),X(De,{key:0},[g.$slots.loading?_e(g.$slots,"loading",{key:0}):(N(),ye(S(dt),{key:1,class:Y(S(i).is("loading"))},{default:O(()=>[(N(),ye(Ft(g.loadingIcon)))]),_:1},8,["class"]))],64)):g.icon||g.$slots.icon?(N(),ye(S(dt),{key:1},{default:O(()=>[g.icon?(N(),ye(Ft(g.icon),{key:0})):_e(g.$slots,"icon",{key:1})]),_:3})):ve("v-if",!0),g.$slots.default?(N(),X("span",{key:2,class:Y({[S(i).em("text","expand")]:S(f)})},[_e(g.$slots,"default")],2)):ve("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var g7=Xe(p7,[["__file","button.vue"]]);const m7={size:_b.size,type:_b.type},b7=pe({name:"ElButtonGroup"}),v7=pe({...b7,props:m7,setup(r){const e=r;Wt(NO,St({size:Es(e,"size"),type:Es(e,"type")}));const n=Ge("button");return(s,o)=>(N(),X("div",{class:Y(`${S(n).b("group")}`)},[_e(s.$slots,"default")],2))}});var LO=Xe(v7,[["__file","button-group.vue"]]);const Pn=Rt(g7,{ButtonGroup:LO}),RO=Ar(LO),fi=new Map;let tS;Ct&&(document.addEventListener("mousedown",r=>tS=r),document.addEventListener("mouseup",r=>{for(const e of fi.values())for(const{documentHandler:n}of e)n(r,tS)}));function nS(r,e){let n=[];return Array.isArray(e.arg)?n=e.arg:ls(e.arg)&&n.push(e.arg),function(s,o){const i=e.instance.popperRef,l=s.target,a=o==null?void 0:o.target,c=!e||!e.instance,u=!l||!a,d=r.contains(l)||r.contains(a),f=r===l,h=n.length&&n.some(g=>g==null?void 0:g.contains(l))||n.length&&n.includes(a),p=i&&(i.contains(l)||i.contains(a));c||u||d||f||h||p||e.value(s,o)}}const $O={beforeMount(r,e){fi.has(r)||fi.set(r,[]),fi.get(r).push({documentHandler:nS(r,e),bindingFn:e.value})},updated(r,e){fi.has(r)||fi.set(r,[]);const n=fi.get(r),s=n.findIndex(i=>i.bindingFn===e.oldValue),o={documentHandler:nS(r,e),bindingFn:e.value};s>=0?n.splice(s,1,o):n.push(o)},unmounted(r){fi.delete(r)}},y7=100,w7=600,rS={beforeMount(r,e){const n=e.value,{interval:s=y7,delay:o=w7}=qe(n)?{}:n;let i,l;const a=()=>qe(n)?n():n.handler(),c=()=>{l&&(clearTimeout(l),l=void 0),i&&(clearInterval(i),i=void 0)};r.addEventListener("mousedown",u=>{u.button===0&&(c(),a(),document.addEventListener("mouseup",()=>c(),{once:!0}),l=setTimeout(()=>{i=setInterval(()=>{a()},s)},o))})}},Ab="_trap-focus-children",Rl=[],sS=r=>{if(Rl.length===0)return;const e=Rl[Rl.length-1][Ab];if(e.length>0&&r.code===bn.tab){if(e.length===1){r.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=r.shiftKey,s=r.target===e[0],o=r.target===e[e.length-1];s&&n&&(r.preventDefault(),e[e.length-1].focus()),o&&!n&&(r.preventDefault(),e[0].focus())}},C7={beforeMount(r){r[Ab]=Sw(r),Rl.push(r),Rl.length<=1&&document.addEventListener("keydown",sS)},updated(r){tt(()=>{r[Ab]=Sw(r)})},unmounted(){Rl.shift(),Rl.length===0&&document.removeEventListener("keydown",sS)}};var oS=!1,Al,Mb,kb,dh,fh,DO,hh,Pb,Nb,Ib,VO,Lb,Rb,FO,BO;function vr(){if(!oS){oS=!0;var r=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(r),n=/(Mac OS X)|(Windows)|(Linux)/.exec(r);if(Lb=/\b(iPhone|iP[ao]d)/.exec(r),Rb=/\b(iP[ao]d)/.exec(r),Ib=/Android/i.exec(r),FO=/FBAN\/\w+;/i.exec(r),BO=/Mobile/i.exec(r),VO=!!/Win64/.exec(r),e){Al=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Al&&document&&document.documentMode&&(Al=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(r);DO=s?parseFloat(s[1])+4:Al,Mb=e[2]?parseFloat(e[2]):NaN,kb=e[3]?parseFloat(e[3]):NaN,dh=e[4]?parseFloat(e[4]):NaN,dh?(e=/(?:Chrome\/(\d+\.\d+))/.exec(r),fh=e&&e[1]?parseFloat(e[1]):NaN):fh=NaN}else Al=Mb=kb=fh=dh=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(r);hh=o?parseFloat(o[1].replace("_",".")):!0}else hh=!1;Pb=!!n[2],Nb=!!n[3]}else hh=Pb=Nb=!1}}var $b={ie:function(){return vr()||Al},ieCompatibilityMode:function(){return vr()||DO>Al},ie64:function(){return $b.ie()&&VO},firefox:function(){return vr()||Mb},opera:function(){return vr()||kb},webkit:function(){return vr()||dh},safari:function(){return $b.webkit()},chrome:function(){return vr()||fh},windows:function(){return vr()||Pb},osx:function(){return vr()||hh},linux:function(){return vr()||Nb},iphone:function(){return vr()||Lb},mobile:function(){return vr()||Lb||Rb||Ib||BO},nativeApp:function(){return vr()||FO},android:function(){return vr()||Ib},ipad:function(){return vr()||Rb}},S7=$b,Vf=!!(typeof window<"u"&&window.document&&window.document.createElement),x7={canUseDOM:Vf,canUseWorkers:typeof Worker<"u",canUseEventListeners:Vf&&!!(window.addEventListener||window.attachEvent),canUseViewport:Vf&&!!window.screen,isInWorker:!Vf},zO=x7,jO;zO.canUseDOM&&(jO=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function E7(r,e){if(!zO.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+r,s=n in document;if(!s){var o=document.createElement("div");o.setAttribute(n,"return;"),s=typeof o[n]=="function"}return!s&&jO&&r==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var T7=E7,iS=10,lS=40,aS=800;function HO(r){var e=0,n=0,s=0,o=0;return"detail"in r&&(n=r.detail),"wheelDelta"in r&&(n=-r.wheelDelta/120),"wheelDeltaY"in r&&(n=-r.wheelDeltaY/120),"wheelDeltaX"in r&&(e=-r.wheelDeltaX/120),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(e=n,n=0),s=e*iS,o=n*iS,"deltaY"in r&&(o=r.deltaY),"deltaX"in r&&(s=r.deltaX),(s||o)&&r.deltaMode&&(r.deltaMode==1?(s*=lS,o*=lS):(s*=aS,o*=aS)),s&&!e&&(e=s<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n,pixelX:s,pixelY:o}}HO.getEventType=function(){return S7.firefox()?"DOMMouseScroll":T7("wheel")?"wheel":"mousewheel"};var _7=HO;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const O7=function(r,e){if(r&&r.addEventListener){const n=function(s){const o=_7(s);e&&Reflect.apply(e,this,[s,o])};r.addEventListener("wheel",n,{passive:!0})}},A7={beforeMount(r,e){O7(r,e.value)}},UO={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Jo,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Xo(["ariaControls"])},WO={[jt]:r=>ft(r)||Tt(r)||is(r),change:r=>ft(r)||Tt(r)||is(r)},Qc=Symbol("checkboxGroupContextKey"),M7=({model:r,isChecked:e})=>{const n=Ve(Qc,void 0),s=z(()=>{var i,l;const a=(i=n==null?void 0:n.max)==null?void 0:i.value,c=(l=n==null?void 0:n.min)==null?void 0:l.value;return!wr(a)&&r.value.length>=a&&!e.value||!wr(c)&&r.value.length<=c&&e.value});return{isDisabled:Zc(z(()=>(n==null?void 0:n.disabled.value)||s.value)),isLimitDisabled:s}},k7=(r,{model:e,isLimitExceeded:n,hasOwnLabel:s,isDisabled:o,isLabeledByFormItem:i})=>{const l=Ve(Qc,void 0),{formItem:a}=il(),{emit:c}=bt();function u(g){var m,v,b,C;return[!0,r.trueValue,r.trueLabel].includes(g)?(v=(m=r.trueValue)!=null?m:r.trueLabel)!=null?v:!0:(C=(b=r.falseValue)!=null?b:r.falseLabel)!=null?C:!1}function d(g,m){c("change",u(g),m)}function f(g){if(n.value)return;const m=g.target;c("change",u(m.checked),g)}async function h(g){n.value||!s.value&&!o.value&&i.value&&(g.composedPath().some(b=>b.tagName==="LABEL")||(e.value=u([!1,r.falseValue,r.falseLabel].includes(e.value)),await tt(),d(e.value,g)))}const p=z(()=>(l==null?void 0:l.validateEvent)||r.validateEvent);return $e(()=>r.modelValue,()=>{p.value&&(a==null||a.validate("change").catch(g=>void 0))}),{handleChange:f,onClickRoot:h}},P7=r=>{const e=j(!1),{emit:n}=bt(),s=Ve(Qc,void 0),o=z(()=>wr(s)===!1),i=j(!1),l=z({get(){var a,c;return o.value?(a=s==null?void 0:s.modelValue)==null?void 0:a.value:(c=r.modelValue)!=null?c:e.value},set(a){var c,u;o.value&&Re(a)?(i.value=((c=s==null?void 0:s.max)==null?void 0:c.value)!==void 0&&a.length>(s==null?void 0:s.max.value)&&a.length>l.value.length,i.value===!1&&((u=s==null?void 0:s.changeEvent)==null||u.call(s,a))):(n(jt,a),e.value=a)}});return{model:l,isGroup:o,isLimitExceeded:i}},N7=(r,e,{model:n})=>{const s=Ve(Qc,void 0),o=j(!1),i=z(()=>fd(r.value)?r.label:r.value),l=z(()=>{const d=n.value;return is(d)?d:Re(d)?pt(i.value)?d.map(Mt).some(f=>Sr(f,i.value)):d.map(Mt).includes(i.value):d!=null?d===r.trueValue||d===r.trueLabel:!!d}),a=fs(z(()=>{var d;return(d=s==null?void 0:s.size)==null?void 0:d.value}),{prop:!0}),c=fs(z(()=>{var d;return(d=s==null?void 0:s.size)==null?void 0:d.value})),u=z(()=>!!e.default||!fd(i.value));return{checkboxButtonSize:a,isChecked:l,isFocused:o,checkboxSize:c,hasOwnLabel:u,actualValue:i}},qO=(r,e)=>{const{formItem:n}=il(),{model:s,isGroup:o,isLimitExceeded:i}=P7(r),{isFocused:l,isChecked:a,checkboxButtonSize:c,checkboxSize:u,hasOwnLabel:d,actualValue:f}=N7(r,e,{model:s}),{isDisabled:h}=M7({model:s,isChecked:a}),{inputId:p,isLabeledByFormItem:g}=tf(r,{formItemContext:n,disableIdGeneration:d,disableIdManagement:o}),{handleChange:m,onClickRoot:v}=k7(r,{model:s,isLimitExceeded:i,hasOwnLabel:d,isDisabled:h,isLabeledByFormItem:g});return(()=>{function C(){var y,w;Re(s.value)&&!s.value.includes(f.value)?s.value.push(f.value):s.value=(w=(y=r.trueValue)!=null?y:r.trueLabel)!=null?w:!0}r.checked&&C()})(),Cr({from:"controls",replacement:"aria-controls",version:"2.8.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},z(()=>!!r.controls)),Cr({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},z(()=>o.value&&fd(r.value))),Cr({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},z(()=>!!r.trueLabel)),Cr({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},z(()=>!!r.falseLabel)),{inputId:p,isLabeledByFormItem:g,isChecked:a,isDisabled:h,isFocused:l,checkboxButtonSize:c,checkboxSize:u,hasOwnLabel:d,model:s,actualValue:f,handleChange:m,onClickRoot:v}},I7=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],L7=["id","indeterminate","disabled","value","name","tabindex"],R7=pe({name:"ElCheckbox"}),$7=pe({...R7,props:UO,emits:WO,setup(r){const e=r,n=Bs(),{inputId:s,isLabeledByFormItem:o,isChecked:i,isDisabled:l,isFocused:a,checkboxSize:c,hasOwnLabel:u,model:d,actualValue:f,handleChange:h,onClickRoot:p}=qO(e,n),g=Ge("checkbox"),m=z(()=>[g.b(),g.m(c.value),g.is("disabled",l.value),g.is("bordered",e.border),g.is("checked",i.value)]),v=z(()=>[g.e("input"),g.is("disabled",l.value),g.is("checked",i.value),g.is("indeterminate",e.indeterminate),g.is("focus",a.value)]);return(b,C)=>(N(),ye(Ft(!S(u)&&S(o)?"span":"label"),{class:Y(S(m)),"aria-controls":b.indeterminate?b.controls||b.ariaControls:null,onClick:S(p)},{default:O(()=>{var y,w;return[H("span",{class:Y(S(v))},[b.trueValue||b.falseValue||b.trueLabel||b.falseLabel?Ue((N(),X("input",{key:0,id:S(s),"onUpdate:modelValue":C[0]||(C[0]=x=>qt(d)?d.value=x:null),class:Y(S(g).e("original")),type:"checkbox",indeterminate:b.indeterminate,name:b.name,tabindex:b.tabindex,disabled:S(l),"true-value":(y=b.trueValue)!=null?y:b.trueLabel,"false-value":(w=b.falseValue)!=null?w:b.falseLabel,onChange:C[1]||(C[1]=(...x)=>S(h)&&S(h)(...x)),onFocus:C[2]||(C[2]=x=>a.value=!0),onBlur:C[3]||(C[3]=x=>a.value=!1),onClick:C[4]||(C[4]=It(()=>{},["stop"]))},null,42,I7)),[[zi,S(d)]]):Ue((N(),X("input",{key:1,id:S(s),"onUpdate:modelValue":C[5]||(C[5]=x=>qt(d)?d.value=x:null),class:Y(S(g).e("original")),type:"checkbox",indeterminate:b.indeterminate,disabled:S(l),value:S(f),name:b.name,tabindex:b.tabindex,onChange:C[6]||(C[6]=(...x)=>S(h)&&S(h)(...x)),onFocus:C[7]||(C[7]=x=>a.value=!0),onBlur:C[8]||(C[8]=x=>a.value=!1),onClick:C[9]||(C[9]=It(()=>{},["stop"]))},null,42,L7)),[[zi,S(d)]]),H("span",{class:Y(S(g).e("inner"))},null,2)],2),S(u)?(N(),X("span",{key:0,class:Y(S(g).e("label"))},[_e(b.$slots,"default"),b.$slots.default?ve("v-if",!0):(N(),X(De,{key:0},[le(oe(b.label),1)],64))],2)):ve("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var D7=Xe($7,[["__file","checkbox.vue"]]);const V7=["name","tabindex","disabled","true-value","false-value"],F7=["name","tabindex","disabled","value"],B7=pe({name:"ElCheckboxButton"}),z7=pe({...B7,props:UO,emits:WO,setup(r){const e=r,n=Bs(),{isFocused:s,isChecked:o,isDisabled:i,checkboxButtonSize:l,model:a,actualValue:c,handleChange:u}=qO(e,n),d=Ve(Qc,void 0),f=Ge("checkbox"),h=z(()=>{var g,m,v,b;const C=(m=(g=d==null?void 0:d.fill)==null?void 0:g.value)!=null?m:"";return{backgroundColor:C,borderColor:C,color:(b=(v=d==null?void 0:d.textColor)==null?void 0:v.value)!=null?b:"",boxShadow:C?`-1px 0 0 0 ${C}`:void 0}}),p=z(()=>[f.b("button"),f.bm("button",l.value),f.is("disabled",i.value),f.is("checked",o.value),f.is("focus",s.value)]);return(g,m)=>{var v,b;return N(),X("label",{class:Y(S(p))},[g.trueValue||g.falseValue||g.trueLabel||g.falseLabel?Ue((N(),X("input",{key:0,"onUpdate:modelValue":m[0]||(m[0]=C=>qt(a)?a.value=C:null),class:Y(S(f).be("button","original")),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:S(i),"true-value":(v=g.trueValue)!=null?v:g.trueLabel,"false-value":(b=g.falseValue)!=null?b:g.falseLabel,onChange:m[1]||(m[1]=(...C)=>S(u)&&S(u)(...C)),onFocus:m[2]||(m[2]=C=>s.value=!0),onBlur:m[3]||(m[3]=C=>s.value=!1),onClick:m[4]||(m[4]=It(()=>{},["stop"]))},null,42,V7)),[[zi,S(a)]]):Ue((N(),X("input",{key:1,"onUpdate:modelValue":m[5]||(m[5]=C=>qt(a)?a.value=C:null),class:Y(S(f).be("button","original")),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:S(i),value:S(c),onChange:m[6]||(m[6]=(...C)=>S(u)&&S(u)(...C)),onFocus:m[7]||(m[7]=C=>s.value=!0),onBlur:m[8]||(m[8]=C=>s.value=!1),onClick:m[9]||(m[9]=It(()=>{},["stop"]))},null,42,F7)),[[zi,S(a)]]),g.$slots.default||g.label?(N(),X("span",{key:2,class:Y(S(f).be("button","inner")),style:vt(S(o)?S(h):void 0)},[_e(g.$slots,"default",{},()=>[le(oe(g.label),1)])],6)):ve("v-if",!0)],2)}}});var GO=Xe(z7,[["__file","checkbox-button.vue"]]);const j7=et({modelValue:{type:Be(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Jo,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Xo(["ariaLabel"])}),H7={[jt]:r=>Re(r),change:r=>Re(r)},U7=pe({name:"ElCheckboxGroup"}),W7=pe({...U7,props:j7,emits:H7,setup(r,{emit:e}){const n=r,s=Ge("checkbox"),{formItem:o}=il(),{inputId:i,isLabeledByFormItem:l}=tf(n,{formItemContext:o}),a=async u=>{e(jt,u),await tt(),e("change",u)},c=z({get(){return n.modelValue},set(u){a(u)}});return Wt(Qc,{...R_(Uo(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:a}),Cr({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-checkbox-group",ref:"https://element-plus.org/en-US/component/checkbox.html"},z(()=>!!n.label)),$e(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(u=>void 0))}),(u,d)=>{var f;return N(),ye(Ft(u.tag),{id:S(i),class:Y(S(s).b("group")),role:"group","aria-label":S(l)?void 0:u.label||u.ariaLabel||"checkbox-group","aria-labelledby":S(l)?(f=S(o))==null?void 0:f.labelId:void 0},{default:O(()=>[_e(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var KO=Xe(W7,[["__file","checkbox-group.vue"]]);const ra=Rt(D7,{CheckboxButton:GO,CheckboxGroup:KO});Ar(GO);Ar(KO);const YO=et({modelValue:{type:[String,Number,Boolean],default:void 0},size:Jo,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),q7=et({...YO,border:Boolean}),JO={[jt]:r=>ft(r)||Tt(r)||is(r),[Xd]:r=>ft(r)||Tt(r)||is(r)},XO=Symbol("radioGroupKey"),ZO=(r,e)=>{const n=j(),s=Ve(XO,void 0),o=z(()=>!!s),i=z(()=>fd(r.value)?r.label:r.value),l=z({get(){return o.value?s.modelValue:r.modelValue},set(f){o.value?s.changeEvent(f):e&&e(jt,f),n.value.checked=r.modelValue===i.value}}),a=fs(z(()=>s==null?void 0:s.size)),c=Zc(z(()=>s==null?void 0:s.disabled)),u=j(!1),d=z(()=>c.value||o.value&&l.value!==i.value?-1:0);return Cr({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},z(()=>o.value&&fd(r.value))),{radioRef:n,isGroup:o,radioGroup:s,focus:u,size:a,disabled:c,tabIndex:d,modelValue:l,actualValue:i}},G7=["value","name","disabled"],K7=pe({name:"ElRadio"}),Y7=pe({...K7,props:q7,emits:JO,setup(r,{emit:e}){const n=r,s=Ge("radio"),{radioRef:o,radioGroup:i,focus:l,size:a,disabled:c,modelValue:u,actualValue:d}=ZO(n,e);function f(){tt(()=>e("change",u.value))}return(h,p)=>{var g;return N(),X("label",{class:Y([S(s).b(),S(s).is("disabled",S(c)),S(s).is("focus",S(l)),S(s).is("bordered",h.border),S(s).is("checked",S(u)===S(d)),S(s).m(S(a))])},[H("span",{class:Y([S(s).e("input"),S(s).is("disabled",S(c)),S(s).is("checked",S(u)===S(d))])},[Ue(H("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":p[0]||(p[0]=m=>qt(u)?u.value=m:null),class:Y(S(s).e("original")),value:S(d),name:h.name||((g=S(i))==null?void 0:g.name),disabled:S(c),type:"radio",onFocus:p[1]||(p[1]=m=>l.value=!0),onBlur:p[2]||(p[2]=m=>l.value=!1),onChange:f,onClick:p[3]||(p[3]=It(()=>{},["stop"]))},null,42,G7),[[$T,S(u)]]),H("span",{class:Y(S(s).e("inner"))},null,2)],2),H("span",{class:Y(S(s).e("label")),onKeydown:p[4]||(p[4]=It(()=>{},["stop"]))},[_e(h.$slots,"default",{},()=>[le(oe(h.label),1)])],34)],2)}}});var J7=Xe(Y7,[["__file","radio.vue"]]);const X7=et({...YO}),Z7=["value","name","disabled"],Q7=pe({name:"ElRadioButton"}),eW=pe({...Q7,props:X7,setup(r){const e=r,n=Ge("radio"),{radioRef:s,focus:o,size:i,disabled:l,modelValue:a,radioGroup:c,actualValue:u}=ZO(e),d=z(()=>({backgroundColor:(c==null?void 0:c.fill)||"",borderColor:(c==null?void 0:c.fill)||"",boxShadow:c!=null&&c.fill?`-1px 0 0 0 ${c.fill}`:"",color:(c==null?void 0:c.textColor)||""}));return(f,h)=>{var p;return N(),X("label",{class:Y([S(n).b("button"),S(n).is("active",S(a)===S(u)),S(n).is("disabled",S(l)),S(n).is("focus",S(o)),S(n).bm("button",S(i))])},[Ue(H("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":h[0]||(h[0]=g=>qt(a)?a.value=g:null),class:Y(S(n).be("button","original-radio")),value:S(u),type:"radio",name:f.name||((p=S(c))==null?void 0:p.name),disabled:S(l),onFocus:h[1]||(h[1]=g=>o.value=!0),onBlur:h[2]||(h[2]=g=>o.value=!1),onClick:h[3]||(h[3]=It(()=>{},["stop"]))},null,42,Z7),[[$T,S(a)]]),H("span",{class:Y(S(n).be("button","inner")),style:vt(S(a)===S(u)?S(d):{}),onKeydown:h[4]||(h[4]=It(()=>{},["stop"]))},[_e(f.$slots,"default",{},()=>[le(oe(f.label),1)])],38)],2)}}});var QO=Xe(eW,[["__file","radio-button.vue"]]);const tW=et({id:{type:String,default:void 0},size:Jo,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Xo(["ariaLabel"])}),nW=JO,rW=["id","aria-label","aria-labelledby"],sW=pe({name:"ElRadioGroup"}),oW=pe({...sW,props:tW,emits:nW,setup(r,{emit:e}){const n=r,s=Ge("radio"),o=ao(),i=j(),{formItem:l}=il(),{inputId:a,isLabeledByFormItem:c}=tf(n,{formItemContext:l}),u=f=>{e(jt,f),tt(()=>e("change",f))};nt(()=>{const f=i.value.querySelectorAll("[type=radio]"),h=f[0];!Array.from(f).some(p=>p.checked)&&h&&(h.tabIndex=0)});const d=z(()=>n.name||o.value);return Wt(XO,St({...Uo(n),changeEvent:u,name:d})),$e(()=>n.modelValue,()=>{n.validateEvent&&(l==null||l.validate("change").catch(f=>void 0))}),Cr({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},z(()=>!!n.label)),(f,h)=>(N(),X("div",{id:S(a),ref_key:"radioGroupRef",ref:i,class:Y(S(s).b("group")),role:"radiogroup","aria-label":S(c)?void 0:f.label||f.ariaLabel||"radio-group","aria-labelledby":S(c)?S(l).labelId:void 0},[_e(f.$slots,"default")],10,rW))}});var eA=Xe(oW,[["__file","radio-group.vue"]]);const tA=Rt(J7,{RadioButton:QO,RadioGroup:eA}),$y=Ar(eA),iW=Ar(QO),nA=et({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:ga},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),lW={close:r=>r instanceof MouseEvent,click:r=>r instanceof MouseEvent},aW=pe({name:"ElTag"}),cW=pe({...aW,props:nA,emits:lW,setup(r,{emit:e}){const n=r,s=fs(),o=Ge("tag"),i=z(()=>{const{type:c,hit:u,effect:d,closable:f,round:h}=n;return[o.b(),o.is("closable",f),o.m(c||"primary"),o.m(s.value),o.m(d),o.is("hit",u),o.is("round",h)]}),l=c=>{e("close",c)},a=c=>{e("click",c)};return(c,u)=>c.disableTransitions?(N(),X("span",{key:0,class:Y(S(i)),style:vt({backgroundColor:c.color}),onClick:a},[H("span",{class:Y(S(o).e("content"))},[_e(c.$slots,"default")],2),c.closable?(N(),ye(S(dt),{key:0,class:Y(S(o).e("close")),onClick:It(l,["stop"])},{default:O(()=>[T(S(ta))]),_:1},8,["class","onClick"])):ve("v-if",!0)],6)):(N(),ye(Or,{key:1,name:`${S(o).namespace.value}-zoom-in-center`,appear:""},{default:O(()=>[H("span",{class:Y(S(i)),style:vt({backgroundColor:c.color}),onClick:a},[H("span",{class:Y(S(o).e("content"))},[_e(c.$slots,"default")],2),c.closable?(N(),ye(S(dt),{key:0,class:Y(S(o).e("close")),onClick:It(l,["stop"])},{default:O(()=>[T(S(ta))]),_:1},8,["class","onClick"])):ve("v-if",!0)],6)]),_:3},8,["name"]))}});var uW=Xe(cW,[["__file","tag.vue"]]);const rA=Rt(uW),sA=Symbol("rowContextKey"),dW=["start","center","end","space-around","space-between","space-evenly"],fW=["top","middle","bottom"],hW=et({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:dW,default:"start"},align:{type:String,values:fW}}),pW=pe({name:"ElRow"}),gW=pe({...pW,props:hW,setup(r){const e=r,n=Ge("row"),s=z(()=>e.gutter);Wt(sA,{gutter:s});const o=z(()=>{const l={};return e.gutter&&(l.marginRight=l.marginLeft=`-${e.gutter/2}px`),l}),i=z(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(l,a)=>(N(),ye(Ft(l.tag),{class:Y(S(i)),style:vt(S(o))},{default:O(()=>[_e(l.$slots,"default")]),_:3},8,["class","style"]))}});var mW=Xe(gW,[["__file","row.vue"]]);const ng=Rt(mW),bW=et({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Be([Number,Object]),default:()=>Ss({})},sm:{type:Be([Number,Object]),default:()=>Ss({})},md:{type:Be([Number,Object]),default:()=>Ss({})},lg:{type:Be([Number,Object]),default:()=>Ss({})},xl:{type:Be([Number,Object]),default:()=>Ss({})}}),vW=pe({name:"ElCol"}),yW=pe({...vW,props:bW,setup(r){const e=r,{gutter:n}=Ve(sA,{gutter:z(()=>0)}),s=Ge("col"),o=z(()=>{const l={};return n.value&&(l.paddingLeft=l.paddingRight=`${n.value/2}px`),l}),i=z(()=>{const l=[];return["span","offset","pull","push"].forEach(u=>{const d=e[u];Tt(d)&&(u==="span"?l.push(s.b(`${e[u]}`)):d>0&&l.push(s.b(`${u}-${e[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Tt(e[u])?l.push(s.b(`${u}-${e[u]}`)):pt(e[u])&&Object.entries(e[u]).forEach(([d,f])=>{l.push(d!=="span"?s.b(`${u}-${d}-${f}`):s.b(`${u}-${f}`))})}),n.value&&l.push(s.is("guttered")),[s.b(),l]});return(l,a)=>(N(),ye(Ft(l.tag),{class:Y(S(i)),style:vt(S(o))},{default:O(()=>[_e(l.$slots,"default")]),_:3},8,["class","style"]))}});var wW=Xe(yW,[["__file","col.vue"]]);const rg=Rt(wW),CW=pe({name:"ElContainer"}),SW=pe({...CW,props:{direction:{type:String}},setup(r){const e=r,n=Bs(),s=Ge("container"),o=z(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(l=>{const a=l.type.name;return a==="ElHeader"||a==="ElFooter"}):!1);return(i,l)=>(N(),X("section",{class:Y([S(s).b(),S(s).is("vertical",S(o))])},[_e(i.$slots,"default")],2))}});var xW=Xe(SW,[["__file","container.vue"]]);const EW=pe({name:"ElAside"}),TW=pe({...EW,props:{width:{type:String,default:null}},setup(r){const e=r,n=Ge("aside"),s=z(()=>e.width?n.cssVarBlock({width:e.width}):{});return(o,i)=>(N(),X("aside",{class:Y(S(n).b()),style:vt(S(s))},[_e(o.$slots,"default")],6))}});var oA=Xe(TW,[["__file","aside.vue"]]);const _W=pe({name:"ElFooter"}),OW=pe({..._W,props:{height:{type:String,default:null}},setup(r){const e=r,n=Ge("footer"),s=z(()=>e.height?n.cssVarBlock({height:e.height}):{});return(o,i)=>(N(),X("footer",{class:Y(S(n).b()),style:vt(S(s))},[_e(o.$slots,"default")],6))}});var iA=Xe(OW,[["__file","footer.vue"]]);const AW=pe({name:"ElHeader"}),MW=pe({...AW,props:{height:{type:String,default:null}},setup(r){const e=r,n=Ge("header"),s=z(()=>e.height?n.cssVarBlock({height:e.height}):{});return(o,i)=>(N(),X("header",{class:Y(S(n).b()),style:vt(S(s))},[_e(o.$slots,"default")],6))}});var lA=Xe(MW,[["__file","header.vue"]]);const kW=pe({name:"ElMain"}),PW=pe({...kW,setup(r){const e=Ge("main");return(n,s)=>(N(),X("main",{class:Y(S(e).b())},[_e(n.$slots,"default")],2))}});var aA=Xe(PW,[["__file","main.vue"]]);const NW=Rt(xW,{Aside:oA,Footer:iA,Header:lA,Main:aA}),IW=Ar(oA);Ar(iA);const LW=Ar(lA),RW=Ar(aA),$W=et({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Be([String,Array,Object])},zIndex:{type:Be([String,Number])}}),DW={click:r=>r instanceof MouseEvent},VW="overlay";var FW=pe({name:"ElOverlay",props:$W,emits:DW,setup(r,{slots:e,emit:n}){const s=Ge(VW),o=c=>{n("click",c)},{onClick:i,onMousedown:l,onMouseup:a}=ky(r.customMaskEvent?void 0:o);return()=>r.mask?T("div",{class:[s.b(),r.overlayClass],style:{zIndex:r.zIndex},onClick:i,onMousedown:l,onMouseup:a},[_e(e,"default")],qr.STYLE|qr.CLASS|qr.PROPS,["onClick","onMouseup","onMousedown"]):Ye("div",{class:r.overlayClass,style:{zIndex:r.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[_e(e,"default")])}});const Dy=FW,cA=Symbol("dialogInjectionKey"),uA=et({center:Boolean,alignCenter:Boolean,closeIcon:{type:cs},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),BW={close:()=>!0},zW=["aria-level"],jW=["aria-label"],HW=["id"],UW=pe({name:"ElDialogContent"}),WW=pe({...UW,props:uA,emits:BW,setup(r){const e=r,{t:n}=go(),{Close:s}=W_,{dialogRef:o,headerRef:i,bodyId:l,ns:a,style:c}=Ve(cA),{focusTrapRef:u}=Ve(MO),d=z(()=>[a.b(),a.is("fullscreen",e.fullscreen),a.is("draggable",e.draggable),a.is("align-center",e.alignCenter),{[a.m("center")]:e.center}]),f=Lz(u,o),h=z(()=>e.draggable),p=z(()=>e.overflow);return J_(o,i,h,p),(g,m)=>(N(),X("div",{ref:S(f),class:Y(S(d)),style:vt(S(c)),tabindex:"-1"},[H("header",{ref_key:"headerRef",ref:i,class:Y([S(a).e("header"),{"show-close":g.showClose}])},[_e(g.$slots,"header",{},()=>[H("span",{role:"heading","aria-level":g.ariaLevel,class:Y(S(a).e("title"))},oe(g.title),11,zW)]),g.showClose?(N(),X("button",{key:0,"aria-label":S(n)("el.dialog.close"),class:Y(S(a).e("headerbtn")),type:"button",onClick:m[0]||(m[0]=v=>g.$emit("close"))},[T(S(dt),{class:Y(S(a).e("close"))},{default:O(()=>[(N(),ye(Ft(g.closeIcon||S(s))))]),_:1},8,["class"])],10,jW)):ve("v-if",!0)],2),H("div",{id:S(l),class:Y(S(a).e("body"))},[_e(g.$slots,"default")],10,HW),g.$slots.footer?(N(),X("footer",{key:0,class:Y(S(a).e("footer"))},[_e(g.$slots,"footer")],2)):ve("v-if",!0)],6))}});var qW=Xe(WW,[["__file","dialog-content.vue"]]);const dA=et({...uA,appendToBody:Boolean,appendTo:{type:Be(String),default:"body"},beforeClose:{type:Be(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),fA={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[jt]:r=>is(r),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},hA=(r,e)=>{var n;const o=bt().emit,{nextZIndex:i}=Xp();let l="";const a=ao(),c=ao(),u=j(!1),d=j(!1),f=j(!1),h=j((n=r.zIndex)!=null?n:i());let p,g;const m=ef("namespace",Lu),v=z(()=>{const I={},R=`--${m.value}-dialog`;return r.fullscreen||(r.top&&(I[`${R}-margin-top`]=r.top),r.width&&(I[`${R}-width`]=as(r.width))),I}),b=z(()=>r.alignCenter?{display:"flex"}:{});function C(){o("opened")}function y(){o("closed"),o(jt,!1),r.destroyOnClose&&(f.value=!1)}function w(){o("close")}function x(){g==null||g(),p==null||p(),r.openDelay&&r.openDelay>0?{stop:p}=kh(()=>A(),r.openDelay):A()}function E(){p==null||p(),g==null||g(),r.closeDelay&&r.closeDelay>0?{stop:g}=kh(()=>k(),r.closeDelay):k()}function _(){function I(R){R||(d.value=!0,u.value=!1)}r.beforeClose?r.beforeClose(I):E()}function M(){r.closeOnClickModal&&_()}function A(){Ct&&(u.value=!0)}function k(){u.value=!1}function P(){o("openAutoFocus")}function $(){o("closeAutoFocus")}function B(I){var R;((R=I.detail)==null?void 0:R.focusReason)==="pointer"&&I.preventDefault()}r.lockScroll&&Q_(u);function W(){r.closeOnPressEscape&&_()}return $e(()=>r.modelValue,I=>{I?(d.value=!1,x(),f.value=!0,h.value=I_(r.zIndex)?i():h.value++,tt(()=>{o("open"),e.value&&(e.value.scrollTop=0)})):u.value&&E()}),$e(()=>r.fullscreen,I=>{e.value&&(I?(l=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=l)}),nt(()=>{r.modelValue&&(u.value=!0,f.value=!0,x())}),{afterEnter:C,afterLeave:y,beforeLeave:w,handleClose:_,onModalClick:M,close:E,doClose:k,onOpenAutoFocus:P,onCloseAutoFocus:$,onCloseRequested:W,onFocusoutPrevented:B,titleId:a,bodyId:c,closed:d,style:v,overlayDialogStyle:b,rendered:f,visible:u,zIndex:h}},GW=["aria-label","aria-labelledby","aria-describedby"],KW=pe({name:"ElDialog",inheritAttrs:!1}),YW=pe({...KW,props:dA,emits:fA,setup(r,{expose:e}){const n=r,s=Bs();Cr({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},z(()=>!!s.title));const o=Ge("dialog"),i=j(),l=j(),a=j(),{visible:c,titleId:u,bodyId:d,style:f,overlayDialogStyle:h,rendered:p,zIndex:g,afterEnter:m,afterLeave:v,beforeLeave:b,handleClose:C,onModalClick:y,onOpenAutoFocus:w,onCloseAutoFocus:x,onCloseRequested:E,onFocusoutPrevented:_}=hA(n,i);Wt(cA,{dialogRef:i,headerRef:l,bodyId:d,ns:o,rendered:p,style:f});const M=ky(y),A=z(()=>n.draggable&&!n.fullscreen);return e({visible:c,dialogContentRef:a}),(k,P)=>(N(),ye(Uc,{to:k.appendTo,disabled:k.appendTo!=="body"?!1:!k.appendToBody},[T(Or,{name:"dialog-fade",onAfterEnter:S(m),onAfterLeave:S(v),onBeforeLeave:S(b),persisted:""},{default:O(()=>[Ue(T(S(Dy),{"custom-mask-event":"",mask:k.modal,"overlay-class":k.modalClass,"z-index":S(g)},{default:O(()=>[H("div",{role:"dialog","aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:S(u),"aria-describedby":S(d),class:Y(`${S(o).namespace.value}-overlay-dialog`),style:vt(S(h)),onClick:P[0]||(P[0]=(...$)=>S(M).onClick&&S(M).onClick(...$)),onMousedown:P[1]||(P[1]=(...$)=>S(M).onMousedown&&S(M).onMousedown(...$)),onMouseup:P[2]||(P[2]=(...$)=>S(M).onMouseup&&S(M).onMouseup(...$))},[T(S(tg),{loop:"",trapped:S(c),"focus-start-el":"container",onFocusAfterTrapped:S(w),onFocusAfterReleased:S(x),onFocusoutPrevented:S(_),onReleaseRequested:S(E)},{default:O(()=>[S(p)?(N(),ye(qW,Dr({key:0,ref_key:"dialogContentRef",ref:a},k.$attrs,{center:k.center,"align-center":k.alignCenter,"close-icon":k.closeIcon,draggable:S(A),overflow:k.overflow,fullscreen:k.fullscreen,"show-close":k.showClose,title:k.title,"aria-level":k.headerAriaLevel,onClose:S(C)}),yI({header:O(()=>[k.$slots.title?_e(k.$slots,"title",{key:1}):_e(k.$slots,"header",{key:0,close:S(C),titleId:S(u),titleClass:S(o).e("title")})]),default:O(()=>[_e(k.$slots,"default")]),_:2},[k.$slots.footer?{name:"footer",fn:O(()=>[_e(k.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):ve("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,GW)]),_:3},8,["mask","overlay-class","z-index"]),[[st,S(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var JW=Xe(YW,[["__file","dialog.vue"]]);const ll=Rt(JW),XW=et({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Be(String),default:"solid"}}),ZW=pe({name:"ElDivider"}),QW=pe({...ZW,props:XW,setup(r){const e=r,n=Ge("divider"),s=z(()=>n.cssVar({"border-style":e.borderStyle}));return(o,i)=>(N(),X("div",{class:Y([S(n).b(),S(n).m(o.direction)]),style:vt(S(s)),role:"separator"},[o.$slots.default&&o.direction!=="vertical"?(N(),X("div",{key:0,class:Y([S(n).e("text"),S(n).is(o.contentPosition)])},[_e(o.$slots,"default")],2)):ve("v-if",!0)],6))}});var eq=Xe(QW,[["__file","divider.vue"]]);const Vy=Rt(eq),tq=et({...dA,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),nq=fA,rq=["aria-label","aria-labelledby","aria-describedby"],sq=["id","aria-level"],oq=["aria-label"],iq=["id"],lq=pe({name:"ElDrawer",inheritAttrs:!1}),aq=pe({...lq,props:tq,emits:nq,setup(r,{expose:e}){const n=r,s=Bs();Cr({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},z(()=>!!s.title));const o=j(),i=j(),l=Ge("drawer"),{t:a}=go(),{afterEnter:c,afterLeave:u,beforeLeave:d,visible:f,rendered:h,titleId:p,bodyId:g,zIndex:m,onModalClick:v,onOpenAutoFocus:b,onCloseAutoFocus:C,onFocusoutPrevented:y,onCloseRequested:w,handleClose:x}=hA(n,o),E=z(()=>n.direction==="rtl"||n.direction==="ltr"),_=z(()=>as(n.size));return e({handleClose:x,afterEnter:c,afterLeave:u}),(M,A)=>(N(),ye(Uc,{to:"body",disabled:!M.appendToBody},[T(Or,{name:S(l).b("fade"),onAfterEnter:S(c),onAfterLeave:S(u),onBeforeLeave:S(d),persisted:""},{default:O(()=>[Ue(T(S(Dy),{mask:M.modal,"overlay-class":M.modalClass,"z-index":S(m),onClick:S(v)},{default:O(()=>[T(S(tg),{loop:"",trapped:S(f),"focus-trap-el":o.value,"focus-start-el":i.value,onFocusAfterTrapped:S(b),onFocusAfterReleased:S(C),onFocusoutPrevented:S(y),onReleaseRequested:S(w)},{default:O(()=>[H("div",Dr({ref_key:"drawerRef",ref:o,"aria-modal":"true","aria-label":M.title||void 0,"aria-labelledby":M.title?void 0:S(p),"aria-describedby":S(g)},M.$attrs,{class:[S(l).b(),M.direction,S(f)&&"open"],style:S(E)?"width: "+S(_):"height: "+S(_),role:"dialog",onClick:A[1]||(A[1]=It(()=>{},["stop"]))}),[H("span",{ref_key:"focusStartRef",ref:i,class:Y(S(l).e("sr-focus")),tabindex:"-1"},null,2),M.withHeader?(N(),X("header",{key:0,class:Y(S(l).e("header"))},[M.$slots.title?_e(M.$slots,"title",{key:1},()=>[ve(" DEPRECATED SLOT ")]):_e(M.$slots,"header",{key:0,close:S(x),titleId:S(p),titleClass:S(l).e("title")},()=>[M.$slots.title?ve("v-if",!0):(N(),X("span",{key:0,id:S(p),role:"heading","aria-level":M.headerAriaLevel,class:Y(S(l).e("title"))},oe(M.title),11,sq))]),M.showClose?(N(),X("button",{key:2,"aria-label":S(a)("el.drawer.close"),class:Y(S(l).e("close-btn")),type:"button",onClick:A[0]||(A[0]=(...k)=>S(x)&&S(x)(...k))},[T(S(dt),{class:Y(S(l).e("close"))},{default:O(()=>[T(S(ta))]),_:1},8,["class"])],10,oq)):ve("v-if",!0)],2)):ve("v-if",!0),S(h)?(N(),X("div",{key:1,id:S(g),class:Y(S(l).e("body"))},[_e(M.$slots,"default")],10,iq)):ve("v-if",!0),M.$slots.footer?(N(),X("div",{key:2,class:Y(S(l).e("footer"))},[_e(M.$slots,"footer")],2)):ve("v-if",!0)],16,rq)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[st,S(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var cq=Xe(aq,[["__file","drawer.vue"]]);const Zo=Rt(cq),uq=pe({inheritAttrs:!1});function dq(r,e,n,s,o,i){return _e(r.$slots,"default")}var fq=Xe(uq,[["render",dq],["__file","collection.vue"]]);const hq=pe({name:"ElCollectionItem",inheritAttrs:!1});function pq(r,e,n,s,o,i){return _e(r.$slots,"default")}var gq=Xe(hq,[["render",pq],["__file","collection-item.vue"]]);const mq="data-el-collection-item",bq=r=>{const e=`El${r}Collection`,n=`${e}Item`,s=Symbol(e),o=Symbol(n),i={...fq,name:e,setup(){const a=j(null),c=new Map;Wt(s,{itemMap:c,getItems:()=>{const d=S(a);if(!d)return[];const f=Array.from(d.querySelectorAll(`[${mq}]`));return[...c.values()].sort((p,g)=>f.indexOf(p.ref)-f.indexOf(g.ref))},collectionRef:a})}},l={...gq,name:n,setup(a,{attrs:c}){const u=j(null),d=Ve(s,void 0);Wt(o,{collectionItemRef:u}),nt(()=>{const f=S(u);f&&d.itemMap.set(f,{ref:f,...c})}),Cn(()=>{const f=S(u);d.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:o,ElCollection:i,ElCollectionItem:l}},rm=et({trigger:md.trigger,effect:{...Nr.effect,default:"light"},type:{type:Be(String)},placement:{type:Be(String),default:"bottom"},popperOptions:{type:Be(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Be([Number,String]),default:0},maxHeight:{type:Be([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Be(Object)},teleported:Nr.teleported});et({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:cs}});et({onKeydown:{type:Be(Function)}});bq("Dropdown");const vq=et({urlList:{type:Be(Array),default:()=>Ss([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Be(String)}}),yq={close:()=>!0,switch:r=>Tt(r),rotate:r=>Tt(r)},wq=["src","crossorigin"],Cq=pe({name:"ElImageViewer"}),Sq=pe({...Cq,props:vq,emits:yq,setup(r,{expose:e,emit:n}){var s;const o=r,i={CONTAIN:{name:"contain",icon:Zu(uz)},ORIGINAL:{name:"original",icon:Zu(xz)}},{t:l}=go(),a=Ge("image-viewer"),{nextZIndex:c}=Xp(),u=j(),d=j([]),f=PE(),h=j(!0),p=j(o.initialIndex),g=Ms(i.CONTAIN),m=j({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),v=j((s=o.zIndex)!=null?s:c()),b=z(()=>{const{urlList:ee}=o;return ee.length<=1}),C=z(()=>p.value===0),y=z(()=>p.value===o.urlList.length-1),w=z(()=>o.urlList[p.value]),x=z(()=>[a.e("btn"),a.e("prev"),a.is("disabled",!o.infinite&&C.value)]),E=z(()=>[a.e("btn"),a.e("next"),a.is("disabled",!o.infinite&&y.value)]),_=z(()=>{const{scale:ee,deg:de,offsetX:ce,offsetY:Te,enableTransition:fe}=m.value;let we=ce/ee,Ee=Te/ee;switch(de%360){case 90:case-270:[we,Ee]=[Ee,-we];break;case 180:case-180:[we,Ee]=[-we,-Ee];break;case 270:case-90:[we,Ee]=[-Ee,we];break}const G={transform:`scale(${ee}) rotate(${de}deg) translate(${we}px, ${Ee}px)`,transition:fe?"transform .3s":""};return g.value.name===i.CONTAIN.name&&(G.maxWidth=G.maxHeight="100%"),G});function M(){k(),n("close")}function A(){const ee=oh(ce=>{switch(ce.code){case bn.esc:o.closeOnPressEscape&&M();break;case bn.space:I();break;case bn.left:U();break;case bn.up:q("zoomIn");break;case bn.right:Q();break;case bn.down:q("zoomOut");break}}),de=oh(ce=>{const Te=ce.deltaY||ce.deltaX;q(Te<0?"zoomIn":"zoomOut",{zoomRate:o.zoomRate,enableTransition:!1})});f.run(()=>{vn(document,"keydown",ee),vn(document,"wheel",de)})}function k(){f.stop()}function P(){h.value=!1}function $(ee){h.value=!1,ee.target.alt=l("el.image.error")}function B(ee){if(h.value||ee.button!==0||!u.value)return;m.value.enableTransition=!1;const{offsetX:de,offsetY:ce}=m.value,Te=ee.pageX,fe=ee.pageY,we=oh(G=>{m.value={...m.value,offsetX:de+G.pageX-Te,offsetY:ce+G.pageY-fe}}),Ee=vn(document,"mousemove",we);vn(document,"mouseup",()=>{Ee()}),ee.preventDefault()}function W(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function I(){if(h.value)return;const ee=Vh(i),de=Object.values(i),ce=g.value.name,fe=(de.findIndex(we=>we.name===ce)+1)%ee.length;g.value=i[ee[fe]],W()}function R(ee){const de=o.urlList.length;p.value=(ee+de)%de}function U(){C.value&&!o.infinite||R(p.value-1)}function Q(){y.value&&!o.infinite||R(p.value+1)}function q(ee,de={}){if(h.value)return;const{minScale:ce,maxScale:Te}=o,{zoomRate:fe,rotateDeg:we,enableTransition:Ee}={zoomRate:o.zoomRate,rotateDeg:90,enableTransition:!0,...de};switch(ee){case"zoomOut":m.value.scale>ce&&(m.value.scale=Number.parseFloat((m.value.scale/fe).toFixed(3)));break;case"zoomIn":m.value.scale<Te&&(m.value.scale=Number.parseFloat((m.value.scale*fe).toFixed(3)));break;case"clockwise":m.value.deg+=we,n("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=we,n("rotate",m.value.deg);break}m.value.enableTransition=Ee}return $e(w,()=>{tt(()=>{const ee=d.value[0];ee!=null&&ee.complete||(h.value=!0)})}),$e(p,ee=>{W(),n("switch",ee)}),nt(()=>{var ee,de;A(),(de=(ee=u.value)==null?void 0:ee.focus)==null||de.call(ee)}),e({setActiveItem:R}),(ee,de)=>(N(),ye(Uc,{to:"body",disabled:!ee.teleported},[T(Or,{name:"viewer-fade",appear:""},{default:O(()=>[H("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:Y(S(a).e("wrapper")),style:vt({zIndex:v.value})},[H("div",{class:Y(S(a).e("mask")),onClick:de[0]||(de[0]=It(ce=>ee.hideOnClickModal&&M(),["self"]))},null,2),ve(" CLOSE "),H("span",{class:Y([S(a).e("btn"),S(a).e("close")]),onClick:M},[T(S(dt),null,{default:O(()=>[T(S(ta))]),_:1})],2),ve(" ARROW "),S(b)?ve("v-if",!0):(N(),X(De,{key:0},[H("span",{class:Y(S(x)),onClick:U},[T(S(dt),null,{default:O(()=>[T(S(B_))]),_:1})],2),H("span",{class:Y(S(E)),onClick:Q},[T(S(dt),null,{default:O(()=>[T(S(Gp))]),_:1})],2)],64)),ve(" ACTIONS "),H("div",{class:Y([S(a).e("btn"),S(a).e("actions")])},[H("div",{class:Y(S(a).e("actions__inner"))},[T(S(dt),{onClick:de[1]||(de[1]=ce=>q("zoomOut"))},{default:O(()=>[T(S(Pz))]),_:1}),T(S(dt),{onClick:de[2]||(de[2]=ce=>q("zoomIn"))},{default:O(()=>[T(S(Mz))]),_:1}),H("i",{class:Y(S(a).e("actions__divider"))},null,2),T(S(dt),{onClick:I},{default:O(()=>[(N(),ye(Ft(S(g).icon)))]),_:1}),H("i",{class:Y(S(a).e("actions__divider"))},null,2),T(S(dt),{onClick:de[3]||(de[3]=ce=>q("anticlockwise"))},{default:O(()=>[T(S(yz))]),_:1}),T(S(dt),{onClick:de[4]||(de[4]=ce=>q("clockwise"))},{default:O(()=>[T(S(Cz))]),_:1})],2)],2),ve(" CANVAS "),H("div",{class:Y(S(a).e("canvas"))},[(N(!0),X(De,null,Ot(ee.urlList,(ce,Te)=>Ue((N(),X("img",{ref_for:!0,ref:fe=>d.value[Te]=fe,key:ce,src:ce,style:vt(S(_)),class:Y(S(a).e("img")),crossorigin:ee.crossorigin,onLoad:P,onError:$,onMousedown:B},null,46,wq)),[[st,Te===p.value]])),128))],2),_e(ee.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var xq=Xe(Sq,[["__file","image-viewer.vue"]]);const Eq=Rt(xq),Tq=et({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Be([String,Object])},previewSrcList:{type:Be(Array),default:()=>Ss([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Be(String)}}),_q={load:r=>r instanceof Event,error:r=>r instanceof Event,switch:r=>Tt(r),close:()=>!0,show:()=>!0},Oq=["src","loading","crossorigin"],Aq={key:0},Mq=pe({name:"ElImage",inheritAttrs:!1}),kq=pe({...Mq,props:Tq,emits:_q,setup(r,{emit:e}){const n=r;let s="";const{t:o}=go(),i=Ge("image"),l=cT(),a=Y_(),c=j(),u=j(!1),d=j(!0),f=j(!1),h=j(),p=j(),g=Ct&&"loading"in HTMLImageElement.prototype;let m,v;const b=z(()=>[i.e("inner"),w.value&&i.e("preview"),d.value&&i.is("loading")]),C=z(()=>l.style),y=z(()=>{const{fit:Q}=n;return Ct&&Q?{objectFit:Q}:{}}),w=z(()=>{const{previewSrcList:Q}=n;return Array.isArray(Q)&&Q.length>0}),x=z(()=>{const{previewSrcList:Q,initialIndex:q}=n;let ee=q;return q>Q.length-1&&(ee=0),ee}),E=z(()=>n.loading==="eager"?!1:!g&&n.loading==="lazy"||n.lazy),_=()=>{Ct&&(d.value=!0,u.value=!1,c.value=n.src)};function M(Q){d.value=!1,u.value=!1,e("load",Q)}function A(Q){d.value=!1,u.value=!0,e("error",Q)}function k(){TD(h.value,p.value)&&(_(),B())}const P=iD(k,200,!0);async function $(){var Q;if(!Ct)return;await tt();const{scrollContainer:q}=n;ls(q)?p.value=q:ft(q)&&q!==""?p.value=(Q=document.querySelector(q))!=null?Q:void 0:h.value&&(p.value=G5(h.value)),p.value&&(m=vn(p,"scroll",P),setTimeout(()=>k(),100))}function B(){!Ct||!p.value||!P||(m==null||m(),p.value=void 0)}function W(Q){if(Q.ctrlKey){if(Q.deltaY<0)return Q.preventDefault(),!1;if(Q.deltaY>0)return Q.preventDefault(),!1}}function I(){w.value&&(v=vn("wheel",W,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",f.value=!0,e("show"))}function R(){v==null||v(),document.body.style.overflow=s,f.value=!1,e("close")}function U(Q){e("switch",Q)}return $e(()=>n.src,()=>{E.value?(d.value=!0,u.value=!1,B(),$()):_()}),nt(()=>{E.value?$():_()}),(Q,q)=>(N(),X("div",{ref_key:"container",ref:h,class:Y([S(i).b(),Q.$attrs.class]),style:vt(S(C))},[u.value?_e(Q.$slots,"error",{key:0},()=>[H("div",{class:Y(S(i).e("error"))},oe(S(o)("el.image.error")),3)]):(N(),X(De,{key:1},[c.value!==void 0?(N(),X("img",Dr({key:0},S(a),{src:c.value,loading:Q.loading,style:S(y),class:S(b),crossorigin:Q.crossorigin,onClick:I,onLoad:M,onError:A}),null,16,Oq)):ve("v-if",!0),d.value?(N(),X("div",{key:1,class:Y(S(i).e("wrapper"))},[_e(Q.$slots,"placeholder",{},()=>[H("div",{class:Y(S(i).e("placeholder"))},null,2)])],2)):ve("v-if",!0)],64)),S(w)?(N(),X(De,{key:2},[f.value?(N(),ye(S(Eq),{key:0,"z-index":Q.zIndex,"initial-index":S(x),infinite:Q.infinite,"zoom-rate":Q.zoomRate,"min-scale":Q.minScale,"max-scale":Q.maxScale,"url-list":Q.previewSrcList,"hide-on-click-modal":Q.hideOnClickModal,teleported:Q.previewTeleported,"close-on-press-escape":Q.closeOnPressEscape,onClose:R,onSwitch:U},{default:O(()=>[Q.$slots.viewer?(N(),X("div",Aq,[_e(Q.$slots,"viewer")])):ve("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):ve("v-if",!0)],64)):ve("v-if",!0)],6))}});var Pq=Xe(kq,[["__file","image.vue"]]);const Nq=Rt(Pq),Iq=et({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Jo,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:r=>r===null||Tt(r)||["min","max"].includes(r),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:r=>r>=0&&r===Number.parseInt(`${r}`,10)},validateEvent:{type:Boolean,default:!0},...Xo(["ariaLabel"])}),Lq={[Xd]:(r,e)=>e!==r,blur:r=>r instanceof FocusEvent,focus:r=>r instanceof FocusEvent,[lh]:r=>Tt(r)||no(r),[jt]:r=>Tt(r)||no(r)},Rq=["aria-label","onKeydown"],$q=["aria-label","onKeydown"],Dq=pe({name:"ElInputNumber"}),Vq=pe({...Dq,props:Iq,emits:Lq,setup(r,{expose:e,emit:n}){const s=r,{t:o}=go(),i=Ge("input-number"),l=j(),a=St({currentValue:s.modelValue,userInput:null}),{formItem:c}=il(),u=z(()=>Tt(s.modelValue)&&s.modelValue<=s.min),d=z(()=>Tt(s.modelValue)&&s.modelValue>=s.max),f=z(()=>{const I=b(s.step);return wr(s.precision)?Math.max(b(s.modelValue),I):(I>s.precision,s.precision)}),h=z(()=>s.controls&&s.controlsPosition==="right"),p=fs(),g=Zc(),m=z(()=>{if(a.userInput!==null)return a.userInput;let I=a.currentValue;if(no(I))return"";if(Tt(I)){if(Number.isNaN(I))return"";wr(s.precision)||(I=I.toFixed(s.precision))}return I}),v=(I,R)=>{if(wr(R)&&(R=f.value),R===0)return Math.round(I);let U=String(I);const Q=U.indexOf(".");if(Q===-1||!U.replace(".","").split("")[Q+R])return I;const de=U.length;return U.charAt(de-1)==="5"&&(U=`${U.slice(0,Math.max(0,de-1))}6`),Number.parseFloat(Number(U).toFixed(R))},b=I=>{if(no(I))return 0;const R=I.toString(),U=R.indexOf(".");let Q=0;return U!==-1&&(Q=R.length-U-1),Q},C=(I,R=1)=>Tt(I)?v(I+s.step*R):a.currentValue,y=()=>{if(s.readonly||g.value||d.value)return;const I=Number(m.value)||0,R=C(I);E(R),n(lh,a.currentValue),B()},w=()=>{if(s.readonly||g.value||u.value)return;const I=Number(m.value)||0,R=C(I,-1);E(R),n(lh,a.currentValue),B()},x=(I,R)=>{const{max:U,min:Q,step:q,precision:ee,stepStrictly:de,valueOnClear:ce}=s;U<Q&&sl("InputNumber","min should not be greater than max.");let Te=Number(I);if(no(I)||Number.isNaN(Te))return null;if(I===""){if(ce===null)return null;Te=ft(ce)?{min:Q,max:U}[ce]:ce}return de&&(Te=v(Math.round(Te/q)*q,ee)),wr(ee)||(Te=v(Te,ee)),(Te>U||Te<Q)&&(Te=Te>U?U:Q,R&&n(jt,Te)),Te},E=(I,R=!0)=>{var U;const Q=a.currentValue,q=x(I);if(!R){n(jt,q);return}Q===q&&I||(a.userInput=null,n(jt,q),Q!==q&&n(Xd,q,Q),s.validateEvent&&((U=c==null?void 0:c.validate)==null||U.call(c,"change").catch(ee=>void 0)),a.currentValue=q)},_=I=>{a.userInput=I;const R=I===""?null:Number(I);n(lh,R),E(R,!1)},M=I=>{const R=I!==""?Number(I):"";(Tt(R)&&!Number.isNaN(R)||I==="")&&E(R),B(),a.userInput=null},A=()=>{var I,R;(R=(I=l.value)==null?void 0:I.focus)==null||R.call(I)},k=()=>{var I,R;(R=(I=l.value)==null?void 0:I.blur)==null||R.call(I)},P=I=>{n("focus",I)},$=I=>{var R;a.userInput=null,n("blur",I),s.validateEvent&&((R=c==null?void 0:c.validate)==null||R.call(c,"blur").catch(U=>void 0))},B=()=>{a.currentValue!==s.modelValue&&(a.currentValue=s.modelValue)},W=I=>{document.activeElement===I.target&&I.preventDefault()};return $e(()=>s.modelValue,(I,R)=>{const U=x(I,!0);a.userInput===null&&U!==R&&(a.currentValue=U)},{immediate:!0}),nt(()=>{var I;const{min:R,max:U,modelValue:Q}=s,q=(I=l.value)==null?void 0:I.input;if(q.setAttribute("role","spinbutton"),Number.isFinite(U)?q.setAttribute("aria-valuemax",String(U)):q.removeAttribute("aria-valuemax"),Number.isFinite(R)?q.setAttribute("aria-valuemin",String(R)):q.removeAttribute("aria-valuemin"),q.setAttribute("aria-valuenow",a.currentValue||a.currentValue===0?String(a.currentValue):""),q.setAttribute("aria-disabled",String(g.value)),!Tt(Q)&&Q!=null){let ee=Number(Q);Number.isNaN(ee)&&(ee=null),n(jt,ee)}q.addEventListener("wheel",W,{passive:!1})}),ua(()=>{var I,R;const U=(I=l.value)==null?void 0:I.input;U==null||U.setAttribute("aria-valuenow",`${(R=a.currentValue)!=null?R:""}`)}),Cr({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},z(()=>!!s.label)),e({focus:A,blur:k}),(I,R)=>(N(),X("div",{class:Y([S(i).b(),S(i).m(S(p)),S(i).is("disabled",S(g)),S(i).is("without-controls",!I.controls),S(i).is("controls-right",S(h))]),onDragstart:R[0]||(R[0]=It(()=>{},["prevent"]))},[I.controls?Ue((N(),X("span",{key:0,role:"button","aria-label":S(o)("el.inputNumber.decrease"),class:Y([S(i).e("decrease"),S(i).is("disabled",S(u))]),onKeydown:tr(w,["enter"])},[_e(I.$slots,"decrease-icon",{},()=>[T(S(dt),null,{default:O(()=>[S(h)?(N(),ye(S(hy),{key:0})):(N(),ye(S(mz),{key:1}))]),_:1})])],42,Rq)),[[S(rS),w]]):ve("v-if",!0),I.controls?Ue((N(),X("span",{key:1,role:"button","aria-label":S(o)("el.inputNumber.increase"),class:Y([S(i).e("increase"),S(i).is("disabled",S(d))]),onKeydown:tr(y,["enter"])},[_e(I.$slots,"increase-icon",{},()=>[T(S(dt),null,{default:O(()=>[S(h)?(N(),ye(S(z_),{key:0})):(N(),ye(S(j_),{key:1}))]),_:1})])],42,$q)),[[S(rS),y]]):ve("v-if",!0),T(S(Sn),{id:I.id,ref_key:"input",ref:l,type:"number",step:I.step,"model-value":S(m),placeholder:I.placeholder,readonly:I.readonly,disabled:S(g),size:S(p),max:I.max,min:I.min,name:I.name,"aria-label":I.label||I.ariaLabel,"validate-event":!1,onKeydown:[tr(It(y,["prevent"]),["up"]),tr(It(w,["prevent"]),["down"])],onBlur:$,onFocus:P,onInput:_,onChange:M},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Fq=Xe(Vq,[["__file","input-number.vue"]]);const Fy=Rt(Fq),Bq=et({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:cs}}),zq={click:r=>r instanceof MouseEvent},jq=["href","target"],Hq=pe({name:"ElLink"}),Uq=pe({...Hq,props:Bq,emits:zq,setup(r,{emit:e}){const n=r,s=Ge("link"),o=z(()=>[s.b(),s.m(n.type),s.is("disabled",n.disabled),s.is("underline",n.underline&&!n.disabled)]);function i(l){n.disabled||e("click",l)}return(l,a)=>(N(),X("a",{class:Y(S(o)),href:l.disabled||!l.href?void 0:l.href,target:l.disabled||!l.href?void 0:l.target,onClick:i},[l.icon?(N(),ye(S(dt),{key:0},{default:O(()=>[(N(),ye(Ft(l.icon)))]),_:1})):ve("v-if",!0),l.$slots.default?(N(),X("span",{key:1,class:Y(S(s).e("inner"))},[_e(l.$slots,"default")],2)):ve("v-if",!0),l.$slots.icon?_e(l.$slots,"icon",{key:2}):ve("v-if",!0)],10,jq))}});var Wq=Xe(Uq,[["__file","link.vue"]]);const qq=Rt(Wq),Gq=et({icon:{type:cs,default:()=>tz},title:String,content:{type:String,default:""}}),Kq={back:()=>!0},Yq=["aria-label"],Jq=pe({name:"ElPageHeader"}),Xq=pe({...Jq,props:Gq,emits:Kq,setup(r,{emit:e}){const n=Bs(),{t:s}=go(),o=Ge("page-header"),i=z(()=>[o.b(),{[o.m("has-breadcrumb")]:!!n.breadcrumb,[o.m("has-extra")]:!!n.extra,[o.is("contentful")]:!!n.default}]);function l(){e("back")}return(a,c)=>(N(),X("div",{class:Y(S(i))},[a.$slots.breadcrumb?(N(),X("div",{key:0,class:Y(S(o).e("breadcrumb"))},[_e(a.$slots,"breadcrumb")],2)):ve("v-if",!0),H("div",{class:Y(S(o).e("header"))},[H("div",{class:Y(S(o).e("left"))},[H("div",{class:Y(S(o).e("back")),role:"button",tabindex:"0",onClick:l},[a.icon||a.$slots.icon?(N(),X("div",{key:0,"aria-label":a.title||S(s)("el.pageHeader.title"),class:Y(S(o).e("icon"))},[_e(a.$slots,"icon",{},()=>[a.icon?(N(),ye(S(dt),{key:0},{default:O(()=>[(N(),ye(Ft(a.icon)))]),_:1})):ve("v-if",!0)])],10,Yq)):ve("v-if",!0),H("div",{class:Y(S(o).e("title"))},[_e(a.$slots,"title",{},()=>[le(oe(a.title||S(s)("el.pageHeader.title")),1)])],2)],2),T(S(Vy),{direction:"vertical"}),H("div",{class:Y(S(o).e("content"))},[_e(a.$slots,"content",{},()=>[le(oe(a.content),1)])],2)],2),a.$slots.extra?(N(),X("div",{key:0,class:Y(S(o).e("extra"))},[_e(a.$slots,"extra")],2)):ve("v-if",!0)],2),a.$slots.default?(N(),X("div",{key:1,class:Y(S(o).e("main"))},[_e(a.$slots,"default")],2)):ve("v-if",!0)],2))}});var Zq=Xe(Xq,[["__file","page-header.vue"]]);const mo=Rt(Zq),pA=Symbol("ElSelectGroup"),sg=Symbol("ElSelect");function Qq(r,e){const n=Ve(sg),s=Ve(pA,{disabled:!1}),o=z(()=>n.props.multiple?d(n.props.modelValue,r.value):d([n.props.modelValue],r.value)),i=z(()=>{if(n.props.multiple){const p=n.props.modelValue||[];return!o.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),l=z(()=>r.label||(pt(r.value)?"":r.value)),a=z(()=>r.value||r.label||""),c=z(()=>r.disabled||e.groupDisabled||i.value),u=bt(),d=(p=[],g)=>{if(pt(r.value)){const m=n.props.valueKey;return p&&p.some(v=>Mt(Xr(v,m))===Xr(g,m))}else return p&&p.includes(g)},f=()=>{!r.disabled&&!s.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},h=p=>{const g=new RegExp(U5(p),"i");e.visible=g.test(l.value)||r.created};return $e(()=>l.value,()=>{!r.created&&!n.props.remote&&n.setSelected()}),$e(()=>r.value,(p,g)=>{const{remote:m,valueKey:v}=n.props;if(Sr(p,g)||(n.onOptionDestroy(g,u.proxy),n.onOptionCreate(u.proxy)),!r.created&&!m){if(v&&pt(p)&&pt(g)&&p[v]===g[v])return;n.setSelected()}}),$e(()=>s.disabled,()=>{e.groupDisabled=s.disabled},{immediate:!0}),{select:n,currentLabel:l,currentValue:a,itemSelected:o,isDisabled:c,hoverItem:f,updateOption:h}}const eG=pe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(r){const e=Ge("select"),n=ao(),s=z(()=>[e.be("dropdown","item"),e.is("disabled",S(a)),e.is("selected",S(l)),e.is("hovering",S(h))]),o=St({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:l,isDisabled:a,select:c,hoverItem:u,updateOption:d}=Qq(r,o),{visible:f,hover:h}=Uo(o),p=bt().proxy;c.onOptionCreate(p),Cn(()=>{const m=p.value,{selected:v}=c.states,C=(c.props.multiple?v:[v]).some(y=>y.value===p.value);tt(()=>{c.states.cachedOptions.get(m)===p&&!C&&c.states.cachedOptions.delete(m)}),c.onOptionDestroy(m,p)});function g(){r.disabled!==!0&&o.groupDisabled!==!0&&c.handleOptionSelect(p)}return{ns:e,id:n,containerKls:s,currentLabel:i,itemSelected:l,isDisabled:a,select:c,hoverItem:u,updateOption:d,visible:f,hover:h,selectOptionClick:g,states:o}}}),tG=["id","aria-disabled","aria-selected"];function nG(r,e,n,s,o,i){return Ue((N(),X("li",{id:r.id,class:Y(r.containerKls),role:"option","aria-disabled":r.isDisabled||void 0,"aria-selected":r.itemSelected,onMouseenter:e[0]||(e[0]=(...l)=>r.hoverItem&&r.hoverItem(...l)),onClick:e[1]||(e[1]=It((...l)=>r.selectOptionClick&&r.selectOptionClick(...l),["stop"]))},[_e(r.$slots,"default",{},()=>[H("span",null,oe(r.currentLabel),1)])],42,tG)),[[st,r.visible]])}var By=Xe(eG,[["render",nG],["__file","option.vue"]]);const rG=pe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const r=Ve(sg),e=Ge("select"),n=z(()=>r.props.popperClass),s=z(()=>r.props.multiple),o=z(()=>r.props.fitInputWidth),i=j("");function l(){var a;i.value=`${(a=r.selectRef)==null?void 0:a.offsetWidth}px`}return nt(()=>{l(),dr(r.selectRef,l)}),{ns:e,minWidth:i,popperClass:n,isMultiple:s,isFitInputWidth:o}}});function sG(r,e,n,s,o,i){return N(),X("div",{class:Y([r.ns.b("dropdown"),r.ns.is("multiple",r.isMultiple),r.popperClass]),style:vt({[r.isFitInputWidth?"width":"minWidth"]:r.minWidth})},[r.$slots.header?(N(),X("div",{key:0,class:Y(r.ns.be("dropdown","header"))},[_e(r.$slots,"header")],2)):ve("v-if",!0),_e(r.$slots,"default"),r.$slots.footer?(N(),X("div",{key:1,class:Y(r.ns.be("dropdown","footer"))},[_e(r.$slots,"footer")],2)):ve("v-if",!0)],6)}var oG=Xe(rG,[["render",sG],["__file","select-dropdown.vue"]]);function iG(r){const e=j(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:i=>{const l=i.target.value,a=l[l.length-1]||"";e.value=!K_(a)},handleCompositionEnd:i=>{e.value&&(e.value=!1,qe(r)&&r(i))}}}const lG=11,aG=(r,e)=>{const{t:n}=go(),s=ao(),o=Ge("select"),i=Ge("input"),l=St({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:r.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),a=j(null),c=j(null),u=j(null),d=j(null),f=j(null),h=j(null),p=j(null),g=j(null),m=j(null),v=j(null),b=j(null),C=j(null),{wrapperRef:y,isFocused:w,handleFocus:x,handleBlur:E}=yO(f,{afterFocus(){r.automaticDropdown&&!_.value&&(_.value=!0,l.menuVisibleOnFocus=!0)},beforeBlur(be){var Le,$t;return((Le=u.value)==null?void 0:Le.isFocusInsideContent(be))||(($t=d.value)==null?void 0:$t.isFocusInsideContent(be))},afterBlur(){_.value=!1,l.menuVisibleOnFocus=!1}}),_=j(!1),M=j(),{form:A,formItem:k}=il(),{inputId:P}=tf(r,{formItemContext:k}),{valueOnClear:$,isEmptyValue:B}=dH(r),W=z(()=>r.disabled||(A==null?void 0:A.disabled)),I=z(()=>r.multiple?Re(r.modelValue)&&r.modelValue.length>0:!B(r.modelValue)),R=z(()=>r.clearable&&!W.value&&l.inputHovering&&I.value),U=z(()=>r.remote&&r.filterable&&!r.remoteShowSuffix?"":r.suffixIcon),Q=z(()=>o.is("reverse",U.value&&_.value)),q=z(()=>(k==null?void 0:k.validateState)||""),ee=z(()=>q_[q.value]),de=z(()=>r.remote?300:0),ce=z(()=>r.loading?r.loadingText||n("el.select.loading"):r.remote&&!l.inputValue&&l.options.size===0?!1:r.filterable&&l.inputValue&&l.options.size>0&&Te.value===0?r.noMatchText||n("el.select.noMatch"):l.options.size===0?r.noDataText||n("el.select.noData"):null),Te=z(()=>fe.value.filter(be=>be.visible).length),fe=z(()=>{const be=Array.from(l.options.values()),Le=[];return l.optionValues.forEach($t=>{const en=be.findIndex(si=>si.value===$t);en>-1&&Le.push(be[en])}),Le.length>=be.length?Le:be}),we=z(()=>Array.from(l.cachedOptions.values())),Ee=z(()=>{const be=fe.value.filter(Le=>!Le.created).some(Le=>Le.currentLabel===l.inputValue);return r.filterable&&r.allowCreate&&l.inputValue!==""&&!be}),G=()=>{r.filterable&&qe(r.filterMethod)||r.filterable&&r.remote&&qe(r.remoteMethod)||fe.value.forEach(be=>{var Le;(Le=be.updateOption)==null||Le.call(be,l.inputValue)})},ne=fs(),se=z(()=>["small"].includes(ne.value)?"small":"default"),me=z({get(){return _.value&&ce.value!==!1},set(be){_.value=be}}),Pe=z(()=>Re(r.modelValue)?r.modelValue.length===0&&!l.inputValue:r.filterable?!l.inputValue:!0),Se=z(()=>{var be;const Le=(be=r.placeholder)!=null?be:n("el.select.placeholder");return r.multiple||!I.value?Le:l.selectedLabel});$e(()=>r.modelValue,(be,Le)=>{r.multiple&&r.filterable&&!r.reserveKeyword&&(l.inputValue="",D("")),te(),!Sr(be,Le)&&r.validateEvent&&(k==null||k.validate("change").catch($t=>void 0))},{flush:"post",deep:!0}),$e(()=>_.value,be=>{be?D(l.inputValue):(l.inputValue="",l.previousQuery=null,l.isBeforeHide=!0),e("visible-change",be)}),$e(()=>l.options.entries(),()=>{var be;if(!Ct)return;const Le=((be=a.value)==null?void 0:be.querySelectorAll("input"))||[];(!r.filterable&&!r.defaultFirstOption&&!wr(r.modelValue)||!Array.from(Le).includes(document.activeElement))&&te(),r.defaultFirstOption&&(r.filterable||r.remote)&&Te.value&&L()},{flush:"post"}),$e(()=>l.hoveringIndex,be=>{Tt(be)&&be>-1?M.value=fe.value[be]||{}:M.value={},fe.value.forEach(Le=>{Le.hover=M.value===Le})}),to(()=>{l.isBeforeHide||G()});const D=be=>{l.previousQuery!==be&&(l.previousQuery=be,r.filterable&&qe(r.filterMethod)?r.filterMethod(be):r.filterable&&r.remote&&qe(r.remoteMethod)&&r.remoteMethod(be),r.defaultFirstOption&&(r.filterable||r.remote)&&Te.value?tt(L):tt(ge))},L=()=>{const be=fe.value.filter(en=>en.visible&&!en.disabled&&!en.states.groupDisabled),Le=be.find(en=>en.created),$t=be[0];l.hoveringIndex=Je(fe.value,Le||$t)},te=()=>{if(r.multiple)l.selectedLabel="";else{const Le=he(r.modelValue);l.selectedLabel=Le.currentLabel,l.selected=Le;return}const be=[];Re(r.modelValue)&&r.modelValue.forEach(Le=>{be.push(he(Le))}),l.selected=be},he=be=>{let Le;const $t=eh(be).toLowerCase()==="object",en=eh(be).toLowerCase()==="null",si=eh(be).toLowerCase()==="undefined";for(let pl=l.cachedOptions.size-1;pl>=0;pl--){const Ws=we.value[pl];if($t?Xr(Ws.value,r.valueKey)===Xr(be,r.valueKey):Ws.value===be){Le={value:be,currentLabel:Ws.currentLabel,get isDisabled(){return Ws.isDisabled}};break}}if(Le)return Le;const wa=$t?be.label:!en&&!si?be:"";return{value:be,currentLabel:wa}},ge=()=>{r.multiple?l.hoveringIndex=fe.value.findIndex(be=>l.selected.some(Le=>yo(Le)===yo(be))):l.hoveringIndex=fe.value.findIndex(be=>yo(be)===yo(l.selected))},Ce=()=>{l.selectionWidth=c.value.getBoundingClientRect().width},xe=()=>{l.calculatorWidth=h.value.getBoundingClientRect().width},V=()=>{l.collapseItemWidth=b.value.getBoundingClientRect().width},F=()=>{var be,Le;(Le=(be=u.value)==null?void 0:be.updatePopper)==null||Le.call(be)},J=()=>{var be,Le;(Le=(be=d.value)==null?void 0:be.updatePopper)==null||Le.call(be)},ie=()=>{l.inputValue.length>0&&!_.value&&(_.value=!0),D(l.inputValue)},Ae=be=>{if(l.inputValue=be.target.value,r.remote)re();else return ie()},re=dc(()=>{ie()},de.value),Z=be=>{Sr(r.modelValue,be)||e(Xd,be)},ae=be=>r5(be,Le=>!l.disabledOptions.has(Le)),je=be=>{if(r.multiple&&be.code!==bn.delete&&be.target.value.length<=0){const Le=r.modelValue.slice(),$t=ae(Le);if($t<0)return;const en=Le[$t];Le.splice($t,1),e(jt,Le),Z(Le),e("remove-tag",en)}},Qe=(be,Le)=>{const $t=l.selected.indexOf(Le);if($t>-1&&!W.value){const en=r.modelValue.slice();en.splice($t,1),e(jt,en),Z(en),e("remove-tag",Le.value)}be.stopPropagation(),Mr()},Me=be=>{be.stopPropagation();const Le=r.multiple?[]:$.value;if(r.multiple)for(const $t of l.selected)$t.isDisabled&&Le.push($t.value);e(jt,Le),Z(Le),l.hoveringIndex=-1,_.value=!1,e("clear"),Mr()},ke=be=>{if(r.multiple){const Le=(r.modelValue||[]).slice(),$t=Je(Le,be.value);$t>-1?Le.splice($t,1):(r.multipleLimit<=0||Le.length<r.multipleLimit)&&Le.push(be.value),e(jt,Le),Z(Le),be.created&&D(""),r.filterable&&!r.reserveKeyword&&(l.inputValue="")}else e(jt,be.value),Z(be.value),_.value=!1;Mr(),!_.value&&tt(()=>{it(be)})},Je=(be=[],Le)=>{if(!pt(Le))return be.indexOf(Le);const $t=r.valueKey;let en=-1;return be.some((si,wa)=>Mt(Xr(si,$t))===Xr(Le,$t)?(en=wa,!0):!1),en},it=be=>{var Le,$t,en,si,wa;const bf=Re(be)?be[0]:be;let pl=null;if(bf!=null&&bf.value){const Ws=fe.value.filter($0=>$0.value===bf.value);Ws.length>0&&(pl=Ws[0].$el)}if(u.value&&pl){const Ws=(si=(en=($t=(Le=u.value)==null?void 0:Le.popperRef)==null?void 0:$t.contentRef)==null?void 0:en.querySelector)==null?void 0:si.call(en,`.${o.be("dropdown","wrap")}`);Ws&&Y5(Ws,pl)}(wa=C.value)==null||wa.handleScroll()},ue=be=>{l.options.set(be.value,be),l.cachedOptions.set(be.value,be),be.disabled&&l.disabledOptions.set(be.value,be)},Ie=(be,Le)=>{l.options.get(be)===Le&&l.options.delete(be)},{handleCompositionStart:Fe,handleCompositionUpdate:lt,handleCompositionEnd:ct}=iG(be=>Ae(be)),xn=z(()=>{var be,Le;return(Le=(be=u.value)==null?void 0:be.popperRef)==null?void 0:Le.contentRef}),Xn=()=>{l.isBeforeHide=!1,tt(()=>it(l.selected))},Mr=()=>{var be;(be=f.value)==null||be.focus()},ri=()=>{ba()},ms=be=>{Me(be)},ba=be=>{if(_.value=!1,w.value){const Le=new FocusEvent("focus",be);tt(()=>E(Le))}},va=()=>{l.inputValue.length>0?l.inputValue="":_.value=!1},vo=()=>{W.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:_.value=!_.value)},Pg=()=>{_.value?fe.value[l.hoveringIndex]&&ke(fe.value[l.hoveringIndex]):vo()},yo=be=>pt(be.value)?Xr(be.value,r.valueKey):be.value,ya=z(()=>fe.value.filter(be=>be.visible).every(be=>be.disabled)),nN=z(()=>r.multiple?r.collapseTags?l.selected.slice(0,r.maxCollapseTags):l.selected:[]),rN=z(()=>r.multiple?r.collapseTags?l.selected.slice(r.maxCollapseTags):[]:[]),R0=be=>{if(!_.value){_.value=!0;return}if(!(l.options.size===0||Te.value===0)&&!ya.value){be==="next"?(l.hoveringIndex++,l.hoveringIndex===l.options.size&&(l.hoveringIndex=0)):be==="prev"&&(l.hoveringIndex--,l.hoveringIndex<0&&(l.hoveringIndex=l.options.size-1));const Le=fe.value[l.hoveringIndex];(Le.disabled===!0||Le.states.groupDisabled===!0||!Le.visible)&&R0(be),tt(()=>it(M.value))}},sN=()=>{if(!c.value)return 0;const be=window.getComputedStyle(c.value);return Number.parseFloat(be.gap||"6px")},oN=z(()=>{const be=sN();return{maxWidth:`${b.value&&r.maxCollapseTags===1?l.selectionWidth-l.collapseItemWidth-be:l.selectionWidth}px`}}),iN=z(()=>({maxWidth:`${l.selectionWidth}px`})),lN=z(()=>({width:`${Math.max(l.calculatorWidth,lG)}px`}));return r.multiple&&!Re(r.modelValue)&&e(jt,[]),!r.multiple&&Re(r.modelValue)&&e(jt,""),dr(c,Ce),dr(h,xe),dr(m,F),dr(y,F),dr(v,J),dr(b,V),nt(()=>{te()}),{inputId:P,contentId:s,nsSelect:o,nsInput:i,states:l,isFocused:w,expanded:_,optionsArray:fe,hoverOption:M,selectSize:ne,filteredOptionsCount:Te,resetCalculatorWidth:xe,updateTooltip:F,updateTagTooltip:J,debouncedOnInputChange:re,onInput:Ae,deletePrevTag:je,deleteTag:Qe,deleteSelected:Me,handleOptionSelect:ke,scrollToOption:it,hasModelValue:I,shouldShowPlaceholder:Pe,currentPlaceholder:Se,showClose:R,iconComponent:U,iconReverse:Q,validateState:q,validateIcon:ee,showNewOption:Ee,updateOptions:G,collapseTagSize:se,setSelected:te,selectDisabled:W,emptyText:ce,handleCompositionStart:Fe,handleCompositionUpdate:lt,handleCompositionEnd:ct,onOptionCreate:ue,onOptionDestroy:Ie,handleMenuEnter:Xn,handleFocus:x,focus:Mr,blur:ri,handleBlur:E,handleClearClick:ms,handleClickOutside:ba,handleEsc:va,toggleMenu:vo,selectOption:Pg,getValueKey:yo,navigateOptions:R0,dropdownMenuVisible:me,showTagList:nN,collapseTagList:rN,tagStyle:oN,collapseTagStyle:iN,inputStyle:lN,popperRef:xn,inputRef:f,tooltipRef:u,tagTooltipRef:d,calculatorRef:h,prefixRef:p,suffixRef:g,selectRef:a,wrapperRef:y,selectionRef:c,scrollbarRef:C,menuRef:m,tagMenuRef:v,collapseItemRef:b}};var cG=pe({name:"ElOptions",setup(r,{slots:e}){const n=Ve(sg);let s=[];return()=>{var o,i;const l=(o=e.default)==null?void 0:o.call(e),a=[];function c(u){Re(u)&&u.forEach(d=>{var f,h,p,g;const m=(f=(d==null?void 0:d.type)||{})==null?void 0:f.name;m==="ElOptionGroup"?c(!ft(d.children)&&!Re(d.children)&&qe((h=d.children)==null?void 0:h.default)?(p=d.children)==null?void 0:p.default():d.children):m==="ElOption"?a.push((g=d.props)==null?void 0:g.value):Re(d.children)&&c(d.children)})}return l.length&&c((i=l[0])==null?void 0:i.children),Sr(a,s)||(s=a,n&&(n.states.optionValues=a)),l}}});const uG=et({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Jo,effect:{type:Be(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Be(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Nr.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:cs,default:gy},fitInputWidth:Boolean,suffixIcon:{type:cs,default:hy},tagType:{...nA.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:Be(String),values:Yp,default:"bottom-start"},fallbackPlacements:{type:Be(Array),default:["bottom-start","top-start","right","left"]},...uH,...Xo(["ariaLabel"])}),cS="ElSelect",dG=pe({name:cS,componentName:cS,components:{ElInput:Sn,ElSelectMenu:oG,ElOption:By,ElOptions:cG,ElTag:rA,ElScrollbar:Qp,ElTooltip:gs,ElIcon:dt},directives:{ClickOutside:$O},props:uG,emits:[jt,Xd,"remove-tag","clear","visible-change","focus","blur"],setup(r,{emit:e}){const n=aG(r,e);return Wt(sg,St({props:r,states:n.states,optionsArray:n.optionsArray,handleOptionSelect:n.handleOptionSelect,onOptionCreate:n.onOptionCreate,onOptionDestroy:n.onOptionDestroy,selectRef:n.selectRef,setSelected:n.setSelected})),{...n}}}),fG=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],hG=["textContent"],pG={key:1};function gG(r,e,n,s,o,i){const l=Pt("el-tag"),a=Pt("el-tooltip"),c=Pt("el-icon"),u=Pt("el-option"),d=Pt("el-options"),f=Pt("el-scrollbar"),h=Pt("el-select-menu"),p=Fv("click-outside");return Ue((N(),X("div",{ref:"selectRef",class:Y([r.nsSelect.b(),r.nsSelect.m(r.selectSize)]),onMouseenter:e[16]||(e[16]=g=>r.states.inputHovering=!0),onMouseleave:e[17]||(e[17]=g=>r.states.inputHovering=!1),onClick:e[18]||(e[18]=It((...g)=>r.toggleMenu&&r.toggleMenu(...g),["prevent","stop"]))},[T(a,{ref:"tooltipRef",visible:r.dropdownMenuVisible,placement:r.placement,teleported:r.teleported,"popper-class":[r.nsSelect.e("popper"),r.popperClass],"popper-options":r.popperOptions,"fallback-placements":r.fallbackPlacements,effect:r.effect,pure:"",trigger:"click",transition:`${r.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:r.persistent,onBeforeShow:r.handleMenuEnter,onHide:e[15]||(e[15]=g=>r.states.isBeforeHide=!1)},{default:O(()=>{var g;return[H("div",{ref:"wrapperRef",class:Y([r.nsSelect.e("wrapper"),r.nsSelect.is("focused",r.isFocused),r.nsSelect.is("hovering",r.states.inputHovering),r.nsSelect.is("filterable",r.filterable),r.nsSelect.is("disabled",r.selectDisabled)])},[r.$slots.prefix?(N(),X("div",{key:0,ref:"prefixRef",class:Y(r.nsSelect.e("prefix"))},[_e(r.$slots,"prefix")],2)):ve("v-if",!0),H("div",{ref:"selectionRef",class:Y([r.nsSelect.e("selection"),r.nsSelect.is("near",r.multiple&&!r.$slots.prefix&&!!r.states.selected.length)])},[r.multiple?_e(r.$slots,"tag",{key:0},()=>[(N(!0),X(De,null,Ot(r.showTagList,m=>(N(),X("div",{key:r.getValueKey(m),class:Y(r.nsSelect.e("selected-item"))},[T(l,{closable:!r.selectDisabled&&!m.isDisabled,size:r.collapseTagSize,type:r.tagType,"disable-transitions":"",style:vt(r.tagStyle),onClose:v=>r.deleteTag(v,m)},{default:O(()=>[H("span",{class:Y(r.nsSelect.e("tags-text"))},[_e(r.$slots,"label",{label:m.currentLabel,value:m.value},()=>[le(oe(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),r.collapseTags&&r.states.selected.length>r.maxCollapseTags?(N(),ye(a,{key:0,ref:"tagTooltipRef",disabled:r.dropdownMenuVisible||!r.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:r.effect,placement:"bottom",teleported:r.teleported},{default:O(()=>[H("div",{ref:"collapseItemRef",class:Y(r.nsSelect.e("selected-item"))},[T(l,{closable:!1,size:r.collapseTagSize,type:r.tagType,"disable-transitions":"",style:vt(r.collapseTagStyle)},{default:O(()=>[H("span",{class:Y(r.nsSelect.e("tags-text"))}," + "+oe(r.states.selected.length-r.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:O(()=>[H("div",{ref:"tagMenuRef",class:Y(r.nsSelect.e("selection"))},[(N(!0),X(De,null,Ot(r.collapseTagList,m=>(N(),X("div",{key:r.getValueKey(m),class:Y(r.nsSelect.e("selected-item"))},[T(l,{class:"in-tooltip",closable:!r.selectDisabled&&!m.isDisabled,size:r.collapseTagSize,type:r.tagType,"disable-transitions":"",onClose:v=>r.deleteTag(v,m)},{default:O(()=>[H("span",{class:Y(r.nsSelect.e("tags-text"))},[_e(r.$slots,"label",{label:m.currentLabel,value:m.value},()=>[le(oe(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):ve("v-if",!0)]):ve("v-if",!0),r.selectDisabled?ve("v-if",!0):(N(),X("div",{key:1,class:Y([r.nsSelect.e("selected-item"),r.nsSelect.e("input-wrapper"),r.nsSelect.is("hidden",!r.filterable)])},[Ue(H("input",{id:r.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=m=>r.states.inputValue=m),type:"text",class:Y([r.nsSelect.e("input"),r.nsSelect.is(r.selectSize)]),disabled:r.selectDisabled,autocomplete:r.autocomplete,style:vt(r.inputStyle),role:"combobox",readonly:!r.filterable,spellcheck:"false","aria-activedescendant":((g=r.hoverOption)==null?void 0:g.id)||"","aria-controls":r.contentId,"aria-expanded":r.dropdownMenuVisible,"aria-label":r.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e[1]||(e[1]=(...m)=>r.handleFocus&&r.handleFocus(...m)),onBlur:e[2]||(e[2]=(...m)=>r.handleBlur&&r.handleBlur(...m)),onKeydown:[e[3]||(e[3]=tr(It(m=>r.navigateOptions("next"),["stop","prevent"]),["down"])),e[4]||(e[4]=tr(It(m=>r.navigateOptions("prev"),["stop","prevent"]),["up"])),e[5]||(e[5]=tr(It((...m)=>r.handleEsc&&r.handleEsc(...m),["stop","prevent"]),["esc"])),e[6]||(e[6]=tr(It((...m)=>r.selectOption&&r.selectOption(...m),["stop","prevent"]),["enter"])),e[7]||(e[7]=tr(It((...m)=>r.deletePrevTag&&r.deletePrevTag(...m),["stop"]),["delete"]))],onCompositionstart:e[8]||(e[8]=(...m)=>r.handleCompositionStart&&r.handleCompositionStart(...m)),onCompositionupdate:e[9]||(e[9]=(...m)=>r.handleCompositionUpdate&&r.handleCompositionUpdate(...m)),onCompositionend:e[10]||(e[10]=(...m)=>r.handleCompositionEnd&&r.handleCompositionEnd(...m)),onInput:e[11]||(e[11]=(...m)=>r.onInput&&r.onInput(...m)),onClick:e[12]||(e[12]=It((...m)=>r.toggleMenu&&r.toggleMenu(...m),["stop"]))},null,46,fG),[[AL,r.states.inputValue]]),r.filterable?(N(),X("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Y(r.nsSelect.e("input-calculator")),textContent:oe(r.states.inputValue)},null,10,hG)):ve("v-if",!0)],2)),r.shouldShowPlaceholder?(N(),X("div",{key:2,class:Y([r.nsSelect.e("selected-item"),r.nsSelect.e("placeholder"),r.nsSelect.is("transparent",!r.hasModelValue||r.expanded&&!r.states.inputValue)])},[r.hasModelValue?_e(r.$slots,"label",{key:0,label:r.currentPlaceholder,value:r.modelValue},()=>[H("span",null,oe(r.currentPlaceholder),1)]):(N(),X("span",pG,oe(r.currentPlaceholder),1))],2)):ve("v-if",!0)],2),H("div",{ref:"suffixRef",class:Y(r.nsSelect.e("suffix"))},[r.iconComponent&&!r.showClose?(N(),ye(c,{key:0,class:Y([r.nsSelect.e("caret"),r.nsSelect.e("icon"),r.iconReverse])},{default:O(()=>[(N(),ye(Ft(r.iconComponent)))]),_:1},8,["class"])):ve("v-if",!0),r.showClose&&r.clearIcon?(N(),ye(c,{key:1,class:Y([r.nsSelect.e("caret"),r.nsSelect.e("icon")]),onClick:r.handleClearClick},{default:O(()=>[(N(),ye(Ft(r.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0),r.validateState&&r.validateIcon?(N(),ye(c,{key:2,class:Y([r.nsInput.e("icon"),r.nsInput.e("validateIcon")])},{default:O(()=>[(N(),ye(Ft(r.validateIcon)))]),_:1},8,["class"])):ve("v-if",!0)],2)],2)]}),content:O(()=>[T(h,{ref:"menuRef"},{default:O(()=>[r.$slots.header?(N(),X("div",{key:0,class:Y(r.nsSelect.be("dropdown","header")),onClick:e[13]||(e[13]=It(()=>{},["stop"]))},[_e(r.$slots,"header")],2)):ve("v-if",!0),Ue(T(f,{id:r.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":r.nsSelect.be("dropdown","wrap"),"view-class":r.nsSelect.be("dropdown","list"),class:Y([r.nsSelect.is("empty",r.filteredOptionsCount===0)]),role:"listbox","aria-label":r.ariaLabel,"aria-orientation":"vertical"},{default:O(()=>[r.showNewOption?(N(),ye(u,{key:0,value:r.states.inputValue,created:!0},null,8,["value"])):ve("v-if",!0),T(d,null,{default:O(()=>[_e(r.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[st,r.states.options.size>0&&!r.loading]]),r.$slots.loading&&r.loading?(N(),X("div",{key:1,class:Y(r.nsSelect.be("dropdown","loading"))},[_e(r.$slots,"loading")],2)):r.loading||r.filteredOptionsCount===0?(N(),X("div",{key:2,class:Y(r.nsSelect.be("dropdown","empty"))},[_e(r.$slots,"empty",{},()=>[H("span",null,oe(r.emptyText),1)])],2)):ve("v-if",!0),r.$slots.footer?(N(),X("div",{key:3,class:Y(r.nsSelect.be("dropdown","footer")),onClick:e[14]||(e[14]=It(()=>{},["stop"]))},[_e(r.$slots,"footer")],2)):ve("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[p,r.handleClickOutside,r.popperRef]])}var mG=Xe(dG,[["render",gG],["__file","select.vue"]]);const bG=pe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(r){const e=Ge("select"),n=j(null),s=bt(),o=j([]);Wt(pA,St({...Uo(r)}));const i=z(()=>o.value.some(u=>u.visible===!0)),l=u=>{var d,f;return((d=u.type)==null?void 0:d.name)==="ElOption"&&!!((f=u.component)!=null&&f.proxy)},a=u=>{const d=Lh(u),f=[];return d.forEach(h=>{var p,g;l(h)?f.push(h.component.proxy):(p=h.children)!=null&&p.length?f.push(...a(h.children)):(g=h.component)!=null&&g.subTree&&f.push(...a(h.component.subTree))}),f},c=()=>{o.value=a(s.subTree)};return nt(()=>{c()}),bD(n,c,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:i,ns:e}}});function vG(r,e,n,s,o,i){return Ue((N(),X("ul",{ref:"groupRef",class:Y(r.ns.be("group","wrap"))},[H("li",{class:Y(r.ns.be("group","title"))},oe(r.label),3),H("li",null,[H("ul",{class:Y(r.ns.b("group"))},[_e(r.$slots,"default")],2)])],2)),[[st,r.visible]])}var gA=Xe(bG,[["render",vG],["__file","option-group.vue"]]);const Qo=Rt(mG,{Option:By,OptionGroup:gA}),ei=Ar(By);Ar(gA);const yG=et({trigger:md.trigger,placement:rm.placement,disabled:md.disabled,visible:Nr.visible,transition:Nr.transition,popperOptions:rm.popperOptions,tabindex:rm.tabindex,content:Nr.content,popperStyle:Nr.popperStyle,popperClass:Nr.popperClass,enterable:{...Nr.enterable,default:!0},effect:{...Nr.effect,default:"light"},teleported:Nr.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),wG={"update:visible":r=>is(r),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},CG="onUpdate:visible",SG=pe({name:"ElPopover"}),xG=pe({...SG,props:yG,emits:wG,setup(r,{expose:e,emit:n}){const s=r,o=z(()=>s[CG]),i=Ge("popover"),l=j(),a=z(()=>{var v;return(v=S(l))==null?void 0:v.popperRef}),c=z(()=>[{width:as(s.width)},s.popperStyle]),u=z(()=>[i.b(),s.popperClass,{[i.m("plain")]:!!s.content}]),d=z(()=>s.transition===`${i.namespace.value}-fade-in-linear`),f=()=>{var v;(v=l.value)==null||v.hide()},h=()=>{n("before-enter")},p=()=>{n("before-leave")},g=()=>{n("after-enter")},m=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:a,hide:f}),(v,b)=>(N(),ye(S(gs),Dr({ref_key:"tooltipRef",ref:l},v.$attrs,{trigger:v.trigger,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":S(u),"popper-style":S(c),teleported:v.teleported,persistent:v.persistent,"gpu-acceleration":S(d),"onUpdate:visible":S(o),onBeforeShow:h,onBeforeHide:p,onShow:g,onHide:m}),{content:O(()=>[v.title?(N(),X("div",{key:0,class:Y(S(i).e("title")),role:"title"},oe(v.title),3)):ve("v-if",!0),_e(v.$slots,"default",{},()=>[le(oe(v.content),1)])]),default:O(()=>[v.$slots.reference?_e(v.$slots,"reference",{key:0}):ve("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var EG=Xe(xG,[["__file","popover.vue"]]);const uS=(r,e)=>{const n=e.arg||e.value,s=n==null?void 0:n.popperRef;s&&(s.triggerRef=r)};var TG={mounted(r,e){uS(r,e)},updated(r,e){uS(r,e)}};const _G="popover",OG=Iz(TG,_G),AG=Rt(EG,{directive:OG}),$a={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},dS={[$a.success]:rz,[$a.warning]:vy,[$a.error]:py,[$a.info]:my},MG=et({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),kG=pe({name:"ElResult"}),PG=pe({...kG,props:MG,setup(r){const e=r,n=Ge("result"),s=z(()=>{const o=e.icon,i=o&&$a[o]?$a[o]:"icon-info",l=dS[i]||dS["icon-info"];return{class:i,component:l}});return(o,i)=>(N(),X("div",{class:Y(S(n).b())},[H("div",{class:Y(S(n).e("icon"))},[_e(o.$slots,"icon",{},()=>[S(s).component?(N(),ye(Ft(S(s).component),{key:0,class:Y(S(s).class)},null,8,["class"])):ve("v-if",!0)])],2),o.title||o.$slots.title?(N(),X("div",{key:0,class:Y(S(n).e("title"))},[_e(o.$slots,"title",{},()=>[H("p",null,oe(o.title),1)])],2)):ve("v-if",!0),o.subTitle||o.$slots["sub-title"]?(N(),X("div",{key:1,class:Y(S(n).e("subtitle"))},[_e(o.$slots,"sub-title",{},()=>[H("p",null,oe(o.subTitle),1)])],2)):ve("v-if",!0),o.$slots.extra?(N(),X("div",{key:2,class:Y(S(n).e("extra"))},[_e(o.$slots,"extra")],2)):ve("v-if",!0)],2))}});var NG=Xe(PG,[["__file","result.vue"]]);const IG=Rt(NG),LG=et({prefixCls:{type:String}}),fS=pe({name:"ElSpaceItem",props:LG,setup(r,{slots:e}){const n=Ge("space"),s=z(()=>`${r.prefixCls||n.b()}__item`);return()=>Ye("div",{class:s.value},_e(e,"default"))}}),hS={small:8,default:12,large:16};function RG(r){const e=Ge("space"),n=z(()=>[e.b(),e.m(r.direction),r.class]),s=j(0),o=j(0),i=z(()=>{const a=r.wrap||r.fill?{flexWrap:"wrap"}:{},c={alignItems:r.alignment},u={rowGap:`${o.value}px`,columnGap:`${s.value}px`};return[a,c,u,r.style]}),l=z(()=>r.fill?{flexGrow:1,minWidth:`${r.fillRatio}%`}:{});return to(()=>{const{size:a="small",wrap:c,direction:u,fill:d}=r;if(Re(a)){const[f=0,h=0]=a;s.value=f,o.value=h}else{let f;Tt(a)?f=a:f=hS[a||"small"]||hS.small,(c||d)&&u==="horizontal"?s.value=o.value=f:u==="horizontal"?(s.value=f,o.value=0):(o.value=f,s.value=0)}}),{classes:n,containerStyle:i,itemStyle:l}}const $G=et({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Be([String,Object,Array]),default:""},style:{type:Be([String,Array,Object]),default:""},alignment:{type:Be(String),default:"center"},prefixCls:{type:String},spacer:{type:Be([Object,String,Number,Array]),default:null,validator:r=>Mn(r)||Tt(r)||ft(r)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:ga,validator:r=>Tt(r)||Re(r)&&r.length===2&&r.every(Tt)}}),DG=pe({name:"ElSpace",props:$G,setup(r,{slots:e}){const{classes:n,containerStyle:s,itemStyle:o}=RG(r);function i(l,a="",c=[]){const{prefixCls:u}=r;return l.forEach((d,f)=>{yb(d)?Re(d.children)&&d.children.forEach((h,p)=>{yb(h)&&Re(h.children)?i(h.children,`${a+p}-`,c):c.push(T(fS,{style:o.value,prefixCls:u,key:`nested-${a+p}`},{default:()=>[h]},qr.PROPS|qr.STYLE,["style","prefixCls"]))}):Dz(d)&&c.push(T(fS,{style:o.value,prefixCls:u,key:`LoopKey${a+f}`},{default:()=>[d]},qr.PROPS|qr.STYLE,["style","prefixCls"]))}),c}return()=>{var l;const{spacer:a,direction:c}=r,u=_e(e,"default",{key:0},()=>[]);if(((l=u.children)!=null?l:[]).length===0)return null;if(Re(u.children)){let d=i(u.children);if(a){const f=d.length-1;d=d.reduce((h,p,g)=>{const m=[...h,p];return g!==f&&m.push(T("span",{style:[o.value,c==="vertical"?"width: 100%":null],key:g},[Mn(a)?a:le(a,qr.TEXT)],qr.STYLE)),m},[])}return T("div",{class:n.value,style:s.value},d,qr.STYLE|qr.CLASS)}return u.children}}}),mA=Rt(DG),sm=function(r){var e;return(e=r.target)==null?void 0:e.closest("td")},VG=function(r,e,n,s,o){if(!e&&!s&&(!o||Array.isArray(o)&&!o.length))return r;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const i=s?null:function(a,c){return o?(Array.isArray(o)||(o=[o]),o.map(u=>typeof u=="string"?Xr(a,u):u(a,c,r))):(e!=="$key"&&pt(a)&&"$value"in a&&(a=a.$value),[pt(a)?Xr(a,e):a])},l=function(a,c){if(s)return s(a.value,c.value);for(let u=0,d=a.key.length;u<d;u++){if(a.key[u]<c.key[u])return-1;if(a.key[u]>c.key[u])return 1}return 0};return r.map((a,c)=>({value:a,index:c,key:i?i(a,c):null})).sort((a,c)=>{let u=l(a,c);return u||(u=a.index-c.index),u*+n}).map(a=>a.value)},bA=function(r,e){let n=null;return r.columns.forEach(s=>{s.id===e&&(n=s)}),n},FG=function(r,e){let n=null;for(let s=0;s<r.columns.length;s++){const o=r.columns[s];if(o.columnKey===e){n=o;break}}return n||sl("ElTable",`No column matching with column-key: ${e}`),n},pS=function(r,e,n){const s=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return s?bA(r,s[0]):null},Kn=(r,e)=>{if(!r)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${r[e]}`;const n=e.split(".");let s=r;for(const o of n)s=s[o];return`${s}`}else if(typeof e=="function")return e.call(null,r)},$l=function(r,e){const n={};return(r||[]).forEach((s,o)=>{n[Kn(s,e)]={row:s,index:o}}),n};function BG(r,e){const n={};let s;for(s in r)n[s]=r[s];for(s in e)if(wt(e,s)){const o=e[s];typeof o<"u"&&(n[s]=o)}return n}function zy(r){return r===""||r!==void 0&&(r=Number.parseInt(r,10),Number.isNaN(r)&&(r="")),r}function vA(r){return r===""||r!==void 0&&(r=zy(r),Number.isNaN(r)&&(r=80)),r}function zG(r){return typeof r=="number"?r:typeof r=="string"?/^\d+(?:px)?$/.test(r)?Number.parseInt(r,10):r:null}function jG(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,n)=>(...s)=>e(n(...s)))}function Vu(r,e,n){let s=!1;const o=r.indexOf(e),i=o!==-1,l=a=>{a==="add"?r.push(e):r.splice(o,1),s=!0,Re(e.children)&&e.children.forEach(c=>{Vu(r,c,n??!i)})};return is(n)?n&&!i?l("add"):!n&&i&&l("remove"):l(i?"remove":"add"),s}function HG(r,e,n="children",s="hasChildren"){const o=l=>!(Array.isArray(l)&&l.length);function i(l,a,c){e(l,a,c),a.forEach(u=>{if(u[s]){e(u,null,c+1);return}const d=u[n];o(d)||i(u,d,c+1)})}r.forEach(l=>{if(l[s]){e(l,null,0);return}const a=l[n];o(a)||i(l,a,0)})}let Ur=null;function UG(r,e,n,s){if((Ur==null?void 0:Ur.trigger)===n)return;Ur==null||Ur();const o=s==null?void 0:s.refs.tableWrapper,i=o==null?void 0:o.dataset.prefix,l={strategy:"fixed",...r.popperOptions},a=T(gs,{content:e,virtualTriggering:!0,virtualRef:n,appendTo:o,placement:"top",transition:"none",offset:0,hideAfter:0,...r,popperOptions:l,onHide:()=>{Ur==null||Ur()}});a.appContext={...s.appContext,...s};const c=document.createElement("div");ji(a,c),a.component.exposed.onOpen();const u=o==null?void 0:o.querySelector(`.${i}-scrollbar__wrap`);Ur=()=>{ji(null,c),u==null||u.removeEventListener("scroll",Ur),Ur=null},Ur.trigger=n,u==null||u.addEventListener("scroll",Ur)}function yA(r){return r.children?o5(r.children,yA):[r]}function gS(r,e){return r+e.colSpan}const wA=(r,e,n,s)=>{let o=0,i=r;const l=n.states.columns.value;if(s){const c=yA(s[r]);o=l.slice(0,l.indexOf(c[0])).reduce(gS,0),i=o+c.reduce(gS,0)-1}else o=r;let a;switch(e){case"left":i<n.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":o>=l.length-n.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:i<n.states.fixedLeafColumnsLength.value?a="left":o>=l.length-n.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:o,after:i}:{}},jy=(r,e,n,s,o,i=0)=>{const l=[],{direction:a,start:c,after:u}=wA(e,n,s,o);if(a){const d=a==="left";l.push(`${r}-fixed-column--${a}`),d&&u+i===s.states.fixedLeafColumnsLength.value-1?l.push("is-last-column"):!d&&c-i===s.states.columns.value.length-s.states.rightFixedLeafColumnsLength.value&&l.push("is-first-column")}return l};function mS(r,e){return r+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const Hy=(r,e,n,s)=>{const{direction:o,start:i=0,after:l=0}=wA(r,e,n,s);if(!o)return;const a={},c=o==="left",u=n.states.columns.value;return c?a.left=u.slice(0,i).reduce(mS,0):a.right=u.slice(l+1).reverse().reduce(mS,0),a},bc=(r,e)=>{r&&(Number.isNaN(r[e])||(r[e]=`${r[e]}px`))};function WG(r){const e=bt(),n=j(!1),s=j([]);return{updateExpandRows:()=>{const c=r.data.value||[],u=r.rowKey.value;if(n.value)s.value=c.slice();else if(u){const d=$l(s.value,u);s.value=c.reduce((f,h)=>{const p=Kn(h,u);return d[p]&&f.push(h),f},[])}else s.value=[]},toggleRowExpansion:(c,u)=>{Vu(s.value,c,u)&&e.emit("expand-change",c,s.value.slice())},setExpandRowKeys:c=>{e.store.assertRowKey();const u=r.data.value||[],d=r.rowKey.value,f=$l(u,d);s.value=c.reduce((h,p)=>{const g=f[p];return g&&h.push(g.row),h},[])},isRowExpanded:c=>{const u=r.rowKey.value;return u?!!$l(s.value,u)[Kn(c,u)]:s.value.includes(c)},states:{expandRows:s,defaultExpandAll:n}}}function qG(r){const e=bt(),n=j(null),s=j(null),o=u=>{e.store.assertRowKey(),n.value=u,l(u)},i=()=>{n.value=null},l=u=>{const{data:d,rowKey:f}=r;let h=null;f.value&&(h=(S(d)||[]).find(p=>Kn(p,f.value)===u)),s.value=h,e.emit("current-change",s.value,null)};return{setCurrentRowKey:o,restoreCurrentRowKey:i,setCurrentRowByKey:l,updateCurrentRow:u=>{const d=s.value;if(u&&u!==d){s.value=u,e.emit("current-change",s.value,d);return}!u&&d&&(s.value=null,e.emit("current-change",null,d))},updateCurrentRowData:()=>{const u=r.rowKey.value,d=r.data.value||[],f=s.value;if(!d.includes(f)&&f){if(u){const h=Kn(f,u);l(h)}else s.value=null;s.value===null&&e.emit("current-change",null,f)}else n.value&&(l(n.value),i())},states:{_currentRowKey:n,currentRow:s}}}function GG(r){const e=j([]),n=j({}),s=j(16),o=j(!1),i=j({}),l=j("hasChildren"),a=j("children"),c=bt(),u=z(()=>{if(!r.rowKey.value)return{};const b=r.data.value||[];return f(b)}),d=z(()=>{const b=r.rowKey.value,C=Object.keys(i.value),y={};return C.length&&C.forEach(w=>{if(i.value[w].length){const x={children:[]};i.value[w].forEach(E=>{const _=Kn(E,b);x.children.push(_),E[l.value]&&!y[_]&&(y[_]={children:[]})}),y[w]=x}}),y}),f=b=>{const C=r.rowKey.value,y={};return HG(b,(w,x,E)=>{const _=Kn(w,C);Array.isArray(x)?y[_]={children:x.map(M=>Kn(M,C)),level:E}:o.value&&(y[_]={children:[],lazy:!0,level:E})},a.value,l.value),y},h=(b=!1,C=(y=>(y=c.store)==null?void 0:y.states.defaultExpandAll.value)())=>{var y;const w=u.value,x=d.value,E=Object.keys(w),_={};if(E.length){const M=S(n),A=[],k=($,B)=>{if(b)return e.value?C||e.value.includes(B):!!(C||$!=null&&$.expanded);{const W=C||e.value&&e.value.includes(B);return!!($!=null&&$.expanded||W)}};E.forEach($=>{const B=M[$],W={...w[$]};if(W.expanded=k(B,$),W.lazy){const{loaded:I=!1,loading:R=!1}=B||{};W.loaded=!!I,W.loading=!!R,A.push($)}_[$]=W});const P=Object.keys(x);o.value&&P.length&&A.length&&P.forEach($=>{const B=M[$],W=x[$].children;if(A.includes($)){if(_[$].children.length!==0)throw new Error("[ElTable]children must be an empty array.");_[$].children=W}else{const{loaded:I=!1,loading:R=!1}=B||{};_[$]={lazy:!0,loaded:!!I,loading:!!R,expanded:k(B,$),children:W,level:""}}})}n.value=_,(y=c.store)==null||y.updateTableScrollY()};$e(()=>e.value,()=>{h(!0)}),$e(()=>u.value,()=>{h()}),$e(()=>d.value,()=>{h()});const p=b=>{e.value=b,h()},g=(b,C)=>{c.store.assertRowKey();const y=r.rowKey.value,w=Kn(b,y),x=w&&n.value[w];if(w&&x&&"expanded"in x){const E=x.expanded;C=typeof C>"u"?!x.expanded:C,n.value[w].expanded=C,E!==C&&c.emit("expand-change",b,C),c.store.updateTableScrollY()}},m=b=>{c.store.assertRowKey();const C=r.rowKey.value,y=Kn(b,C),w=n.value[y];o.value&&w&&"loaded"in w&&!w.loaded?v(b,y,w):g(b,void 0)},v=(b,C,y)=>{const{load:w}=c.props;w&&!n.value[C].loaded&&(n.value[C].loading=!0,w(b,y,x=>{if(!Array.isArray(x))throw new TypeError("[ElTable] data must be an array");n.value[C].loading=!1,n.value[C].loaded=!0,n.value[C].expanded=!0,x.length&&(i.value[C]=x),c.emit("expand-change",b,!0)}))};return{loadData:v,loadOrToggle:m,toggleTreeExpansion:g,updateTreeExpandKeys:p,updateTreeData:h,normalize:f,states:{expandRowKeys:e,treeData:n,indent:s,lazy:o,lazyTreeNodeMap:i,lazyColumnIdentifier:l,childrenColumnName:a}}}const KG=(r,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?r:VG(r,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},ph=r=>{const e=[];return r.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,ph(n.children)):e.push(n)}),e};function YG(){var r;const e=bt(),{size:n}=Uo((r=e.proxy)==null?void 0:r.$props),s=j(null),o=j([]),i=j([]),l=j(!1),a=j([]),c=j([]),u=j([]),d=j([]),f=j([]),h=j([]),p=j([]),g=j([]),m=[],v=j(0),b=j(0),C=j(0),y=j(!1),w=j([]),x=j(!1),E=j(!1),_=j(null),M=j({}),A=j(null),k=j(null),P=j(null),$=j(null),B=j(null);$e(o,()=>e.state&&U(!1),{deep:!0});const W=()=>{if(!s.value)throw new Error("[ElTable] prop row-key is required")},I=Me=>{var ke;(ke=Me.children)==null||ke.forEach(Je=>{Je.fixed=Me.fixed,I(Je)})},R=()=>{a.value.forEach(ue=>{I(ue)}),d.value=a.value.filter(ue=>ue.fixed===!0||ue.fixed==="left"),f.value=a.value.filter(ue=>ue.fixed==="right"),d.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,d.value.unshift(a.value[0]));const Me=a.value.filter(ue=>!ue.fixed);c.value=[].concat(d.value).concat(Me).concat(f.value);const ke=ph(Me),Je=ph(d.value),it=ph(f.value);v.value=ke.length,b.value=Je.length,C.value=it.length,u.value=[].concat(Je).concat(ke).concat(it),l.value=d.value.length>0||f.value.length>0},U=(Me,ke=!1)=>{Me&&R(),ke?e.state.doLayout():e.state.debouncedUpdateLayout()},Q=Me=>w.value.includes(Me),q=()=>{y.value=!1;const Me=w.value;w.value=[],Me.length&&e.emit("selection-change",[])},ee=()=>{let Me;if(s.value){Me=[];const ke=$l(w.value,s.value),Je=$l(o.value,s.value);for(const it in ke)wt(ke,it)&&!Je[it]&&Me.push(ke[it].row)}else Me=w.value.filter(ke=>!o.value.includes(ke));if(Me.length){const ke=w.value.filter(Je=>!Me.includes(Je));w.value=ke,e.emit("selection-change",ke.slice())}},de=()=>(w.value||[]).slice(),ce=(Me,ke=void 0,Je=!0)=>{if(Vu(w.value,Me,ke)){const ue=(w.value||[]).slice();Je&&e.emit("select",ue,Me),e.emit("selection-change",ue)}},Te=()=>{var Me,ke;const Je=E.value?!y.value:!(y.value||w.value.length);y.value=Je;let it=!1,ue=0;const Ie=(ke=(Me=e==null?void 0:e.store)==null?void 0:Me.states)==null?void 0:ke.rowKey.value;o.value.forEach((Fe,lt)=>{const ct=lt+ue;_.value?_.value.call(null,Fe,ct)&&Vu(w.value,Fe,Je)&&(it=!0):Vu(w.value,Fe,Je)&&(it=!0),ue+=Ee(Kn(Fe,Ie))}),it&&e.emit("selection-change",w.value?w.value.slice():[]),e.emit("select-all",(w.value||[]).slice())},fe=()=>{const Me=$l(w.value,s.value);o.value.forEach(ke=>{const Je=Kn(ke,s.value),it=Me[Je];it&&(w.value[it.index]=ke)})},we=()=>{var Me,ke,Je;if(((Me=o.value)==null?void 0:Me.length)===0){y.value=!1;return}let it;s.value&&(it=$l(w.value,s.value));const ue=function(ct){return it?!!it[Kn(ct,s.value)]:w.value.includes(ct)};let Ie=!0,Fe=0,lt=0;for(let ct=0,xn=(o.value||[]).length;ct<xn;ct++){const Xn=(Je=(ke=e==null?void 0:e.store)==null?void 0:ke.states)==null?void 0:Je.rowKey.value,Mr=ct+lt,ri=o.value[ct],ms=_.value&&_.value.call(null,ri,Mr);if(ue(ri))Fe++;else if(!_.value||ms){Ie=!1;break}lt+=Ee(Kn(ri,Xn))}Fe===0&&(Ie=!1),y.value=Ie},Ee=Me=>{var ke;if(!e||!e.store)return 0;const{treeData:Je}=e.store.states;let it=0;const ue=(ke=Je.value[Me])==null?void 0:ke.children;return ue&&(it+=ue.length,ue.forEach(Ie=>{it+=Ee(Ie)})),it},G=(Me,ke)=>{Array.isArray(Me)||(Me=[Me]);const Je={};return Me.forEach(it=>{M.value[it.id]=ke,Je[it.columnKey||it.id]=ke}),Je},ne=(Me,ke,Je)=>{k.value&&k.value!==Me&&(k.value.order=null),k.value=Me,P.value=ke,$.value=Je},se=()=>{let Me=S(i);Object.keys(M.value).forEach(ke=>{const Je=M.value[ke];if(!Je||Je.length===0)return;const it=bA({columns:u.value},ke);it&&it.filterMethod&&(Me=Me.filter(ue=>Je.some(Ie=>it.filterMethod.call(null,Ie,ue,it))))}),A.value=Me},me=()=>{o.value=KG(A.value,{sortingColumn:k.value,sortProp:P.value,sortOrder:$.value})},Pe=(Me=void 0)=>{Me&&Me.filter||se(),me()},Se=Me=>{const{tableHeaderRef:ke}=e.refs;if(!ke)return;const Je=Object.assign({},ke.filterPanels),it=Object.keys(Je);if(it.length)if(typeof Me=="string"&&(Me=[Me]),Array.isArray(Me)){const ue=Me.map(Ie=>FG({columns:u.value},Ie));it.forEach(Ie=>{const Fe=ue.find(lt=>lt.id===Ie);Fe&&(Fe.filteredValue=[])}),e.store.commit("filterChange",{column:ue,values:[],silent:!0,multi:!0})}else it.forEach(ue=>{const Ie=u.value.find(Fe=>Fe.id===ue);Ie&&(Ie.filteredValue=[])}),M.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},D=()=>{k.value&&(ne(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:L,toggleRowExpansion:te,updateExpandRows:he,states:ge,isRowExpanded:Ce}=WG({data:o,rowKey:s}),{updateTreeExpandKeys:xe,toggleTreeExpansion:V,updateTreeData:F,loadOrToggle:J,states:ie}=GG({data:o,rowKey:s}),{updateCurrentRowData:Ae,updateCurrentRow:re,setCurrentRowKey:Z,states:ae}=qG({data:o,rowKey:s});return{assertRowKey:W,updateColumns:R,scheduleLayout:U,isSelected:Q,clearSelection:q,cleanSelection:ee,getSelectionRows:de,toggleRowSelection:ce,_toggleAllSelection:Te,toggleAllSelection:null,updateSelectionByRowKey:fe,updateAllSelected:we,updateFilters:G,updateCurrentRow:re,updateSort:ne,execFilter:se,execSort:me,execQuery:Pe,clearFilter:Se,clearSort:D,toggleRowExpansion:te,setExpandRowKeysAdapter:Me=>{L(Me),xe(Me)},setCurrentRowKey:Z,toggleRowExpansionAdapter:(Me,ke)=>{u.value.some(({type:it})=>it==="expand")?te(Me,ke):V(Me,ke)},isRowExpanded:Ce,updateExpandRows:he,updateCurrentRowData:Ae,loadOrToggle:J,updateTreeData:F,states:{tableSize:n,rowKey:s,data:o,_data:i,isComplex:l,_columns:a,originColumns:c,columns:u,fixedColumns:d,rightFixedColumns:f,leafColumns:h,fixedLeafColumns:p,rightFixedLeafColumns:g,updateOrderFns:m,leafColumnsLength:v,fixedLeafColumnsLength:b,rightFixedLeafColumnsLength:C,isAllSelected:y,selection:w,reserveSelection:x,selectOnIndeterminate:E,selectable:_,filters:M,filteredData:A,sortingColumn:k,sortProp:P,sortOrder:$,hoverRow:B,...ge,...ie,...ae}}}function Db(r,e){return r.map(n=>{var s;return n.id===e.id?e:((s=n.children)!=null&&s.length&&(n.children=Db(n.children,e)),n)})}function Vb(r){r.forEach(e=>{var n,s;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(s=e.children)!=null&&s.length&&Vb(e.children)}),r.sort((e,n)=>e.no-n.no)}function JG(){const r=bt(),e=YG();return{ns:Ge("table"),...e,mutations:{setData(l,a){const c=S(l._data)!==a;l.data.value=a,l._data.value=a,r.store.execQuery(),r.store.updateCurrentRowData(),r.store.updateExpandRows(),r.store.updateTreeData(r.store.states.defaultExpandAll.value),S(l.reserveSelection)?(r.store.assertRowKey(),r.store.updateSelectionByRowKey()):c?r.store.clearSelection():r.store.cleanSelection(),r.store.updateAllSelected(),r.$ready&&r.store.scheduleLayout()},insertColumn(l,a,c,u){const d=S(l._columns);let f=[];c?(c&&!c.children&&(c.children=[]),c.children.push(a),f=Db(d,c)):(d.push(a),f=d),Vb(f),l._columns.value=f,l.updateOrderFns.push(u),a.type==="selection"&&(l.selectable.value=a.selectable,l.reserveSelection.value=a.reserveSelection),r.$ready&&(r.store.updateColumns(),r.store.scheduleLayout())},updateColumnOrder(l,a){var c;((c=a.getColumnIndex)==null?void 0:c.call(a))!==a.no&&(Vb(l._columns.value),r.$ready&&r.store.updateColumns())},removeColumn(l,a,c,u){const d=S(l._columns)||[];if(c)c.children.splice(c.children.findIndex(h=>h.id===a.id),1),tt(()=>{var h;((h=c.children)==null?void 0:h.length)===0&&delete c.children}),l._columns.value=Db(d,c);else{const h=d.indexOf(a);h>-1&&(d.splice(h,1),l._columns.value=d)}const f=l.updateOrderFns.indexOf(u);f>-1&&l.updateOrderFns.splice(f,1),r.$ready&&(r.store.updateColumns(),r.store.scheduleLayout())},sort(l,a){const{prop:c,order:u,init:d}=a;if(c){const f=S(l.columns).find(h=>h.property===c);f&&(f.order=u,r.store.updateSort(f,c,u),r.store.commit("changeSortCondition",{init:d}))}},changeSortCondition(l,a){const{sortingColumn:c,sortProp:u,sortOrder:d}=l,f=S(c),h=S(u),p=S(d);p===null&&(l.sortingColumn.value=null,l.sortProp.value=null);const g={filter:!0};r.store.execQuery(g),(!a||!(a.silent||a.init))&&r.emit("sort-change",{column:f,prop:h,order:p}),r.store.updateTableScrollY()},filterChange(l,a){const{column:c,values:u,silent:d}=a,f=r.store.updateFilters(c,u);r.store.execQuery(),d||r.emit("filter-change",f),r.store.updateTableScrollY()},toggleAllSelection(){r.store.toggleAllSelection()},rowSelectedChanged(l,a){r.store.toggleRowSelection(a),r.store.updateAllSelected()},setHoverRow(l,a){l.hoverRow.value=a},setCurrentRow(l,a){r.store.updateCurrentRow(a)}},commit:function(l,...a){const c=r.store.mutations;if(c[l])c[l].apply(r,[r.store.states].concat(a));else throw new Error(`Action not found: ${l}`)},updateTableScrollY:function(){tt(()=>r.layout.updateScrollY.apply(r.layout))}}}const Fu={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function XG(r,e){if(!r)throw new Error("Table is required.");const n=JG();return n.toggleAllSelection=dc(n._toggleAllSelection,10),Object.keys(Fu).forEach(s=>{CA(SA(e,s),s,n)}),ZG(n,e),n}function ZG(r,e){Object.keys(Fu).forEach(n=>{$e(()=>SA(e,n),s=>{CA(s,n,r)})})}function CA(r,e,n){let s=r,o=Fu[e];typeof Fu[e]=="object"&&(o=o.key,s=s||Fu[e].default),n.states[o].value=s}function SA(r,e){if(e.includes(".")){const n=e.split(".");let s=r;return n.forEach(o=>{s=s[o]}),s}else return r[e]}class QG{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=j(null),this.scrollX=j(!1),this.scrollY=j(!1),this.bodyWidth=j(null),this.fixedWidth=j(null),this.rightFixedWidth=j(null),this.gutterWidth=0;for(const n in e)wt(e,n)&&(qt(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let s=!0;const o=this.scrollY.value;return s=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=s,o!==s}return!1}setHeight(e,n="height"){if(!Ct)return;const s=this.table.vnode.el;if(e=zG(e),this.height.value=Number(e),!s&&(e||e===0))return tt(()=>this.setHeight(e,n));typeof e=="number"?(s.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(s.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(s=>{s.isColumnGroup?e.push.apply(e,s.columns):e.push(s)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Ct)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let s=0;const o=this.getFlattenColumns(),i=o.filter(c=>typeof c.width!="number");if(o.forEach(c=>{typeof c.width=="number"&&c.realWidth&&(c.realWidth=null)}),i.length>0&&e){if(o.forEach(c=>{s+=Number(c.width||c.minWidth||80)}),s<=n){this.scrollX.value=!1;const c=n-s;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+c;else{const u=i.reduce((h,p)=>h+Number(p.minWidth||80),0),d=c/u;let f=0;i.forEach((h,p)=>{if(p===0)return;const g=Math.floor(Number(h.minWidth||80)*d);f+=g,h.realWidth=Number(h.minWidth||80)+g}),i[0].realWidth=Number(i[0].minWidth||80)+c-f}}else this.scrollX.value=!0,i.forEach(c=>{c.realWidth=Number(c.minWidth)});this.bodyWidth.value=Math.max(s,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach(c=>{!c.width&&!c.minWidth?c.realWidth=80:c.realWidth=Number(c.width||c.minWidth),s+=c.realWidth}),this.scrollX.value=s>n,this.bodyWidth.value=s;const l=this.store.states.fixedColumns.value;if(l.length>0){let c=0;l.forEach(u=>{c+=Number(u.realWidth||u.width)}),this.fixedWidth.value=c}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let c=0;a.forEach(u=>{c+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=c}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(s=>{var o,i;switch(e){case"columns":(o=s.state)==null||o.onColumnsChange(this);break;case"scrollable":(i=s.state)==null||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:eK}=ra,tK=pe({name:"ElTableFilterPanel",components:{ElCheckbox:ra,ElCheckboxGroup:eK,ElScrollbar:Qp,ElTooltip:gs,ElIcon:dt,ArrowDown:hy,ArrowUp:z_},directives:{ClickOutside:$O},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(r){const e=bt(),{t:n}=go(),s=Ge("table-filter"),o=e==null?void 0:e.parent;o.filterPanels.value[r.column.id]||(o.filterPanels.value[r.column.id]=e);const i=j(!1),l=j(null),a=z(()=>r.column&&r.column.filters),c=z(()=>r.column.filterClassName?`${s.b()} ${r.column.filterClassName}`:s.b()),u=z({get:()=>{var x;return(((x=r.column)==null?void 0:x.filteredValue)||[])[0]},set:x=>{d.value&&(typeof x<"u"&&x!==null?d.value.splice(0,1,x):d.value.splice(0,1))}}),d=z({get(){return r.column?r.column.filteredValue||[]:[]},set(x){r.column&&r.upDataColumn("filteredValue",x)}}),f=z(()=>r.column?r.column.filterMultiple:!0),h=x=>x.value===u.value,p=()=>{i.value=!1},g=x=>{x.stopPropagation(),i.value=!i.value},m=()=>{i.value=!1},v=()=>{y(d.value),p()},b=()=>{d.value=[],y(d.value),p()},C=x=>{u.value=x,y(typeof x<"u"&&x!==null?d.value:[]),p()},y=x=>{r.store.commit("filterChange",{column:r.column,values:x}),r.store.updateAllSelected()};$e(i,x=>{r.column&&r.upDataColumn("filterOpened",x)},{immediate:!0});const w=z(()=>{var x,E;return(E=(x=l.value)==null?void 0:x.popperRef)==null?void 0:E.contentRef});return{tooltipVisible:i,multiple:f,filterClassName:c,filteredValue:d,filterValue:u,filters:a,handleConfirm:v,handleReset:b,handleSelect:C,isActive:h,t:n,ns:s,showFilterPanel:g,hideFilterPanel:m,popperPaneRef:w,tooltip:l}}}),nK={key:0},rK=["disabled"],sK=["label","onClick"];function oK(r,e,n,s,o,i){const l=Pt("el-checkbox"),a=Pt("el-checkbox-group"),c=Pt("el-scrollbar"),u=Pt("arrow-up"),d=Pt("arrow-down"),f=Pt("el-icon"),h=Pt("el-tooltip"),p=Fv("click-outside");return N(),ye(h,{ref:"tooltip",visible:r.tooltipVisible,offset:0,placement:r.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":r.filterClassName,persistent:""},{content:O(()=>[r.multiple?(N(),X("div",nK,[H("div",{class:Y(r.ns.e("content"))},[T(c,{"wrap-class":r.ns.e("wrap")},{default:O(()=>[T(a,{modelValue:r.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=g=>r.filteredValue=g),class:Y(r.ns.e("checkbox-group"))},{default:O(()=>[(N(!0),X(De,null,Ot(r.filters,g=>(N(),ye(l,{key:g.value,value:g.value},{default:O(()=>[le(oe(g.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),H("div",{class:Y(r.ns.e("bottom"))},[H("button",{class:Y({[r.ns.is("disabled")]:r.filteredValue.length===0}),disabled:r.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...g)=>r.handleConfirm&&r.handleConfirm(...g))},oe(r.t("el.table.confirmFilter")),11,rK),H("button",{type:"button",onClick:e[2]||(e[2]=(...g)=>r.handleReset&&r.handleReset(...g))},oe(r.t("el.table.resetFilter")),1)],2)])):(N(),X("ul",{key:1,class:Y(r.ns.e("list"))},[H("li",{class:Y([r.ns.e("list-item"),{[r.ns.is("active")]:r.filterValue===void 0||r.filterValue===null}]),onClick:e[3]||(e[3]=g=>r.handleSelect(null))},oe(r.t("el.table.clearFilter")),3),(N(!0),X(De,null,Ot(r.filters,g=>(N(),X("li",{key:g.value,class:Y([r.ns.e("list-item"),r.ns.is("active",r.isActive(g))]),label:g.value,onClick:m=>r.handleSelect(g.value)},oe(g.text),11,sK))),128))],2))]),default:O(()=>[Ue((N(),X("span",{class:Y([`${r.ns.namespace.value}-table__column-filter-trigger`,`${r.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...g)=>r.showFilterPanel&&r.showFilterPanel(...g))},[T(f,null,{default:O(()=>[r.column.filterOpened?(N(),ye(u,{key:0})):(N(),ye(d,{key:1}))]),_:1})],2)),[[p,r.hideFilterPanel,r.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var iK=Xe(tK,[["render",oK],["__file","filter-panel.vue"]]);function xA(r){const e=bt();zd(()=>{n.value.addObserver(e)}),nt(()=>{s(n.value),o(n.value)}),ua(()=>{s(n.value),o(n.value)}),qo(()=>{n.value.removeObserver(e)});const n=z(()=>{const i=r.layout;if(!i)throw new Error("Can not find table layout.");return i}),s=i=>{var l;const a=((l=r.vnode.el)==null?void 0:l.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const c=i.getFlattenColumns(),u={};c.forEach(d=>{u[d.id]=d});for(let d=0,f=a.length;d<f;d++){const h=a[d],p=h.getAttribute("name"),g=u[p];g&&h.setAttribute("width",g.realWidth||g.width)}},o=i=>{var l,a;const c=((l=r.vnode.el)==null?void 0:l.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let d=0,f=c.length;d<f;d++)c[d].setAttribute("width",i.scrollY.value?i.gutterWidth:"0");const u=((a=r.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.style.width=i.scrollY.value?`${i.gutterWidth}px`:"0",h.style.display=i.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:s,onScrollableChange:o}}const bo=Symbol("ElTable");function lK(r,e){const n=bt(),s=Ve(bo),o=m=>{m.stopPropagation()},i=(m,v)=>{!v.filters&&v.sortable?g(m,v,!1):v.filterable&&!v.sortable&&o(m),s==null||s.emit("header-click",v,m)},l=(m,v)=>{s==null||s.emit("header-contextmenu",v,m)},a=j(null),c=j(!1),u=j({}),d=(m,v)=>{if(Ct&&!(v.children&&v.children.length>0)&&a.value&&r.border){c.value=!0;const b=s;e("set-drag-visible",!0);const y=(b==null?void 0:b.vnode.el).getBoundingClientRect().left,w=n.vnode.el.querySelector(`th.${v.id}`),x=w.getBoundingClientRect(),E=x.left-y+30;ea(w,"noclick"),u.value={startMouseLeft:m.clientX,startLeft:x.right-y,startColumnLeft:x.left-y,tableLeft:y};const _=b==null?void 0:b.refs.resizeProxy;_.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const M=k=>{const P=k.clientX-u.value.startMouseLeft,$=u.value.startLeft+P;_.style.left=`${Math.max(E,$)}px`},A=()=>{if(c.value){const{startColumnLeft:k,startLeft:P}=u.value,B=Number.parseInt(_.style.left,10)-k;v.width=v.realWidth=B,b==null||b.emit("header-dragend",v.width,P-k,v,m),requestAnimationFrame(()=>{r.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",c.value=!1,a.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",A),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{io(w,"noclick")},0)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",A)}},f=(m,v)=>{if(v.children&&v.children.length>0)return;const b=m.target;if(!ls(b))return;const C=b==null?void 0:b.closest("th");if(!(!v||!v.resizable)&&!c.value&&r.border){const y=C.getBoundingClientRect(),w=document.body.style;y.width>12&&y.right-m.pageX<8?(w.cursor="col-resize",Wa(C,"is-sortable")&&(C.style.cursor="col-resize"),a.value=v):c.value||(w.cursor="",Wa(C,"is-sortable")&&(C.style.cursor="pointer"),a.value=null)}},h=()=>{Ct&&(document.body.style.cursor="")},p=({order:m,sortOrders:v})=>{if(m==="")return v[0];const b=v.indexOf(m||null);return v[b>v.length-2?0:b+1]},g=(m,v,b)=>{var C;m.stopPropagation();const y=v.order===b?null:b||p(v),w=(C=m.target)==null?void 0:C.closest("th");if(w&&Wa(w,"noclick")){io(w,"noclick");return}if(!v.sortable)return;const x=r.store.states;let E=x.sortProp.value,_;const M=x.sortingColumn.value;(M!==v||M===v&&M.order===null)&&(M&&(M.order=null),x.sortingColumn.value=v,E=v.property),y?_=v.order=y:_=v.order=null,x.sortProp.value=E,x.sortOrder.value=_,s==null||s.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:l,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:g,handleFilterClick:o}}function aK(r){const e=Ve(bo),n=Ge("table");return{getHeaderRowStyle:a=>{const c=e==null?void 0:e.props.headerRowStyle;return typeof c=="function"?c.call(null,{rowIndex:a}):c},getHeaderRowClass:a=>{const c=[],u=e==null?void 0:e.props.headerRowClassName;return typeof u=="string"?c.push(u):typeof u=="function"&&c.push(u.call(null,{rowIndex:a})),c.join(" ")},getHeaderCellStyle:(a,c,u,d)=>{var f;let h=(f=e==null?void 0:e.props.headerCellStyle)!=null?f:{};typeof h=="function"&&(h=h.call(null,{rowIndex:a,columnIndex:c,row:u,column:d}));const p=Hy(c,d.fixed,r.store,u);return bc(p,"left"),bc(p,"right"),Object.assign({},h,p)},getHeaderCellClass:(a,c,u,d)=>{const f=jy(n.b(),c,d.fixed,r.store,u),h=[d.id,d.order,d.headerAlign,d.className,d.labelClassName,...f];d.children||h.push("is-leaf"),d.sortable&&h.push("is-sortable");const p=e==null?void 0:e.props.headerCellClassName;return typeof p=="string"?h.push(p):typeof p=="function"&&h.push(p.call(null,{rowIndex:a,columnIndex:c,row:u,column:d})),h.push(n.e("cell")),h.filter(g=>!!g).join(" ")}}}const EA=r=>{const e=[];return r.forEach(n=>{n.children?(e.push(n),e.push.apply(e,EA(n.children))):e.push(n)}),e},cK=r=>{let e=1;const n=(i,l)=>{if(l&&(i.level=l.level+1,e<i.level&&(e=i.level)),i.children){let a=0;i.children.forEach(c=>{n(c,i),a+=c.colSpan}),i.colSpan=a}else i.colSpan=1};r.forEach(i=>{i.level=1,n(i,void 0)});const s=[];for(let i=0;i<e;i++)s.push([]);return EA(r).forEach(i=>{i.children?(i.rowSpan=1,i.children.forEach(l=>l.isSubColumn=!0)):i.rowSpan=e-i.level+1,s[i.level-1].push(i)}),s};function uK(r){const e=Ve(bo),n=z(()=>cK(r.store.states.originColumns.value));return{isGroup:z(()=>{const i=n.value.length>1;return i&&e&&(e.state.isGroup.value=!0),i}),toggleAllSelection:i=>{i.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var dK=pe({name:"ElTableHeader",components:{ElCheckbox:ra},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(r,{emit:e}){const n=bt(),s=Ve(bo),o=Ge("table"),i=j({}),{onColumnsChange:l,onScrollableChange:a}=xA(s);nt(async()=>{await tt(),await tt();const{prop:E,order:_}=r.defaultSort;s==null||s.store.commit("sort",{prop:E,order:_,init:!0})});const{handleHeaderClick:c,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:p,handleFilterClick:g}=lK(r,e),{getHeaderRowStyle:m,getHeaderRowClass:v,getHeaderCellStyle:b,getHeaderCellClass:C}=aK(r),{isGroup:y,toggleAllSelection:w,columnRows:x}=uK(r);return n.state={onColumnsChange:l,onScrollableChange:a},n.filterPanels=i,{ns:o,filterPanels:i,onColumnsChange:l,onScrollableChange:a,columnRows:x,getHeaderRowClass:v,getHeaderRowStyle:m,getHeaderCellClass:C,getHeaderCellStyle:b,handleHeaderClick:c,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:f,handleMouseOut:h,handleSortClick:p,handleFilterClick:g,isGroup:y,toggleAllSelection:w}},render(){const{ns:r,isGroup:e,columnRows:n,getHeaderCellStyle:s,getHeaderCellClass:o,getHeaderRowClass:i,getHeaderRowStyle:l,handleHeaderClick:a,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:d,handleSortClick:f,handleMouseOut:h,store:p,$parent:g}=this;let m=1;return Ye("thead",{class:{[r.is("group")]:e}},n.map((v,b)=>Ye("tr",{class:i(b),key:b,style:l(b)},v.map((C,y)=>(C.rowSpan>m&&(m=C.rowSpan),Ye("th",{class:o(b,y,v,C),colspan:C.colSpan,key:`${C.id}-thead`,rowspan:C.rowSpan,style:s(b,y,v,C),onClick:w=>a(w,C),onContextmenu:w=>c(w,C),onMousedown:w=>u(w,C),onMousemove:w=>d(w,C),onMouseout:h},[Ye("div",{class:["cell",C.filteredValue&&C.filteredValue.length>0?"highlight":""]},[C.renderHeader?C.renderHeader({column:C,$index:y,store:p,_self:g}):C.label,C.sortable&&Ye("span",{onClick:w=>f(w,C),class:"caret-wrapper"},[Ye("i",{onClick:w=>f(w,C,"ascending"),class:"sort-caret ascending"}),Ye("i",{onClick:w=>f(w,C,"descending"),class:"sort-caret descending"})]),C.filterable&&Ye(iK,{store:p,placement:C.filterPlacement||"bottom-start",column:C,upDataColumn:(w,x)=>{C[w]=x}})])]))))))}});function om(r,e,n=.01){return r-e>n}function fK(r){const e=Ve(bo),n=j(""),s=j(Ye("div")),o=(g,m,v)=>{var b;const C=e,y=sm(g);let w;const x=(b=C==null?void 0:C.vnode.el)==null?void 0:b.dataset.prefix;y&&(w=pS({columns:r.store.states.columns.value},y,x),w&&(C==null||C.emit(`cell-${v}`,m,w,y,g))),C==null||C.emit(`row-${v}`,m,w,g)},i=(g,m)=>{o(g,m,"dblclick")},l=(g,m)=>{r.store.commit("setCurrentRow",m),o(g,m,"click")},a=(g,m)=>{o(g,m,"contextmenu")},c=dc(g=>{r.store.commit("setHoverRow",g)},30),u=dc(()=>{r.store.commit("setHoverRow",null)},30),d=g=>{const m=window.getComputedStyle(g,null),v=Number.parseInt(m.paddingLeft,10)||0,b=Number.parseInt(m.paddingRight,10)||0,C=Number.parseInt(m.paddingTop,10)||0,y=Number.parseInt(m.paddingBottom,10)||0;return{left:v,right:b,top:C,bottom:y}},f=(g,m,v)=>{let b=m.target.parentNode;for(;g>1&&(b=b==null?void 0:b.nextSibling,!(!b||b.nodeName!=="TR"));)v(b,"hover-row hover-fixed-row"),g--};return{handleDoubleClick:i,handleClick:l,handleContextMenu:a,handleMouseEnter:c,handleMouseLeave:u,handleCellMouseEnter:(g,m,v)=>{var b;const C=e,y=sm(g),w=(b=C==null?void 0:C.vnode.el)==null?void 0:b.dataset.prefix;if(y){const q=pS({columns:r.store.states.columns.value},y,w);y.rowSpan>1&&f(y.rowSpan,g,ea);const ee=C.hoverState={cell:y,column:q,row:m};C==null||C.emit("cell-mouse-enter",ee.row,ee.column,ee.cell,g)}if(!v)return;const x=g.target.querySelector(".cell");if(!(Wa(x,`${w}-tooltip`)&&x.childNodes.length))return;const E=document.createRange();E.setStart(x,0),E.setEnd(x,x.childNodes.length);let{width:_,height:M}=E.getBoundingClientRect();const A=_-Math.floor(_),{width:k,height:P}=x.getBoundingClientRect();A<.001&&(_=Math.floor(_)),M-Math.floor(M)<.001&&(M=Math.floor(M));const{top:B,left:W,right:I,bottom:R}=d(x),U=W+I,Q=B+R;(om(_+U,k)||om(M+Q,P)||om(x.scrollWidth,k))&&UG(v,y.innerText||y.textContent,y,C)},handleCellMouseLeave:g=>{const m=sm(g);if(!m)return;m.rowSpan>1&&f(m.rowSpan,g,io);const v=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",v==null?void 0:v.row,v==null?void 0:v.column,v==null?void 0:v.cell,g)},tooltipContent:n,tooltipTrigger:s}}function hK(r){const e=Ve(bo),n=Ge("table");return{getRowStyle:(u,d)=>{const f=e==null?void 0:e.props.rowStyle;return typeof f=="function"?f.call(null,{row:u,rowIndex:d}):f||null},getRowClass:(u,d)=>{const f=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&u===r.store.states.currentRow.value&&f.push("current-row"),r.stripe&&d%2===1&&f.push(n.em("row","striped"));const h=e==null?void 0:e.props.rowClassName;return typeof h=="string"?f.push(h):typeof h=="function"&&f.push(h.call(null,{row:u,rowIndex:d})),f},getCellStyle:(u,d,f,h)=>{const p=e==null?void 0:e.props.cellStyle;let g=p??{};typeof p=="function"&&(g=p.call(null,{rowIndex:u,columnIndex:d,row:f,column:h}));const m=Hy(d,r==null?void 0:r.fixed,r.store);return bc(m,"left"),bc(m,"right"),Object.assign({},g,m)},getCellClass:(u,d,f,h,p)=>{const g=jy(n.b(),d,r==null?void 0:r.fixed,r.store,void 0,p),m=[h.id,h.align,h.className,...g],v=e==null?void 0:e.props.cellClassName;return typeof v=="string"?m.push(v):typeof v=="function"&&m.push(v.call(null,{rowIndex:u,columnIndex:d,row:f,column:h})),m.push(n.e("cell")),m.filter(b=>!!b).join(" ")},getSpan:(u,d,f,h)=>{let p=1,g=1;const m=e==null?void 0:e.props.spanMethod;if(typeof m=="function"){const v=m({row:u,column:d,rowIndex:f,columnIndex:h});Array.isArray(v)?(p=v[0],g=v[1]):typeof v=="object"&&(p=v.rowspan,g=v.colspan)}return{rowspan:p,colspan:g}},getColspanRealWidth:(u,d,f)=>{if(d<1)return u[f].realWidth;const h=u.map(({realWidth:p,width:g})=>p||g).slice(f,f+d);return Number(h.reduce((p,g)=>Number(p)+Number(g),-1))}}}function pK(r){const e=Ve(bo),n=Ge("table"),{handleDoubleClick:s,handleClick:o,handleContextMenu:i,handleMouseEnter:l,handleMouseLeave:a,handleCellMouseEnter:c,handleCellMouseLeave:u,tooltipContent:d,tooltipTrigger:f}=fK(r),{getRowStyle:h,getRowClass:p,getCellStyle:g,getCellClass:m,getSpan:v,getColspanRealWidth:b}=hK(r),C=z(()=>r.store.states.columns.value.findIndex(({type:_})=>_==="default")),y=(_,M)=>{const A=e.props.rowKey;return A?Kn(_,A):M},w=(_,M,A,k=!1)=>{const{tooltipEffect:P,tooltipOptions:$,store:B}=r,{indent:W,columns:I}=B.states,R=p(_,M);let U=!0;return A&&(R.push(n.em("row",`level-${A.level}`)),U=A.display),Ye("tr",{style:[U?null:{display:"none"},h(_,M)],class:R,key:y(_,M),onDblclick:q=>s(q,_),onClick:q=>o(q,_),onContextmenu:q=>i(q,_),onMouseenter:()=>l(M),onMouseleave:a},I.value.map((q,ee)=>{const{rowspan:de,colspan:ce}=v(_,q,M,ee);if(!de||!ce)return null;const Te=Object.assign({},q);Te.realWidth=b(I.value,ce,ee);const fe={store:r.store,_self:r.context||e,column:Te,row:_,$index:M,cellIndex:ee,expanded:k};ee===C.value&&A&&(fe.treeNode={indent:A.level*W.value,level:A.level},typeof A.expanded=="boolean"&&(fe.treeNode.expanded=A.expanded,"loading"in A&&(fe.treeNode.loading=A.loading),"noLazyChildren"in A&&(fe.treeNode.noLazyChildren=A.noLazyChildren)));const we=`${y(_,M)},${ee}`,Ee=Te.columnKey||Te.rawColumnKey||"",G=x(ee,q,fe),ne=q.showOverflowTooltip&&on({effect:P},$,q.showOverflowTooltip);return Ye("td",{style:g(M,ee,_,q),class:m(M,ee,_,q,ce-1),key:`${Ee}${we}`,rowspan:de,colspan:ce,onMouseenter:se=>c(se,_,ne),onMouseleave:u},[G])}))},x=(_,M,A)=>M.renderCell(A);return{wrappedRowRender:(_,M)=>{const A=r.store,{isRowExpanded:k,assertRowKey:P}=A,{treeData:$,lazyTreeNodeMap:B,childrenColumnName:W,rowKey:I}=A.states,R=A.states.columns.value;if(R.some(({type:Q})=>Q==="expand")){const Q=k(_),q=w(_,M,void 0,Q),ee=e.renderExpanded;return Q?ee?[[q,Ye("tr",{key:`expanded-row__${q.key}`},[Ye("td",{colspan:R.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[ee({row:_,$index:M,store:A,expanded:Q})])])]]:q:[[q]]}else if(Object.keys($.value).length){P();const Q=Kn(_,I.value);let q=$.value[Q],ee=null;q&&(ee={expanded:q.expanded,level:q.level,display:!0},typeof q.lazy=="boolean"&&(typeof q.loaded=="boolean"&&q.loaded&&(ee.noLazyChildren=!(q.children&&q.children.length)),ee.loading=q.loading));const de=[w(_,M,ee)];if(q){let ce=0;const Te=(we,Ee)=>{we&&we.length&&Ee&&we.forEach(G=>{const ne={display:Ee.display&&Ee.expanded,level:Ee.level+1,expanded:!1,noLazyChildren:!1,loading:!1},se=Kn(G,I.value);if(se==null)throw new Error("For nested data item, row-key is required.");if(q={...$.value[se]},q&&(ne.expanded=q.expanded,q.level=q.level||ne.level,q.display=!!(q.expanded&&ne.display),typeof q.lazy=="boolean"&&(typeof q.loaded=="boolean"&&q.loaded&&(ne.noLazyChildren=!(q.children&&q.children.length)),ne.loading=q.loading)),ce++,de.push(w(G,M+ce,ne)),q){const me=B.value[se]||G[W.value];Te(me,q)}})};q.display=!0;const fe=B.value[Q]||_[W.value];Te(fe,q)}return de}else return w(_,M,void 0)},tooltipContent:d,tooltipTrigger:f}}const gK={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var mK=pe({name:"ElTableBody",props:gK,setup(r){const e=bt(),n=Ve(bo),s=Ge("table"),{wrappedRowRender:o,tooltipContent:i,tooltipTrigger:l}=pK(r),{onColumnsChange:a,onScrollableChange:c}=xA(n),u=[];return $e(r.store.states.hoverRow,(d,f)=>{var h;const p=e==null?void 0:e.vnode.el,g=Array.from((p==null?void 0:p.children)||[]).filter(b=>b==null?void 0:b.classList.contains(`${s.e("row")}`));let m=d;const v=(h=g[m])==null?void 0:h.childNodes;if(v!=null&&v.length){let b=0;Array.from(v).reduce((y,w,x)=>{var E,_;return((E=v[x])==null?void 0:E.colSpan)>1&&(b=(_=v[x])==null?void 0:_.colSpan),w.nodeName!=="TD"&&b===0&&y.push(x),b>0&&b--,y},[]).forEach(y=>{var w;for(m=d;m>0;){const x=(w=g[m-1])==null?void 0:w.childNodes;if(x[y]&&x[y].nodeName==="TD"&&x[y].rowSpan>1){ea(x[y],"hover-cell"),u.push(x[y]);break}m--}})}else u.forEach(b=>io(b,"hover-cell")),u.length=0;!r.store.states.isComplex.value||!Ct||H5(()=>{const b=g[f],C=g[d];b&&!b.classList.contains("hover-fixed-row")&&io(b,"hover-row"),C&&ea(C,"hover-row")})}),qo(()=>{var d;(d=Ur)==null||d()}),{ns:s,onColumnsChange:a,onScrollableChange:c,wrappedRowRender:o,tooltipContent:i,tooltipTrigger:l}},render(){const{wrappedRowRender:r,store:e}=this,n=e.states.data.value||[];return Ye("tbody",{tabIndex:-1},[n.reduce((s,o)=>s.concat(r(o,s.length)),[])])}});function bK(){const r=Ve(bo),e=r==null?void 0:r.store,n=z(()=>e.states.fixedLeafColumnsLength.value),s=z(()=>e.states.rightFixedColumns.value.length),o=z(()=>e.states.columns.value.length),i=z(()=>e.states.fixedColumns.value.length),l=z(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:s,columnsCount:o,leftFixedCount:i,rightFixedCount:l,columns:e.states.columns}}function vK(r){const{columns:e}=bK(),n=Ge("table");return{getCellClasses:(i,l)=>{const a=i[l],c=[n.e("cell"),a.id,a.align,a.labelClassName,...jy(n.b(),l,a.fixed,r.store)];return a.className&&c.push(a.className),a.children||c.push(n.is("leaf")),c},getCellStyles:(i,l)=>{const a=Hy(l,i.fixed,r.store);return bc(a,"left"),bc(a,"right"),a},columns:e}}var yK=pe({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(r){const{getCellClasses:e,getCellStyles:n,columns:s}=vK(r);return{ns:Ge("table"),getCellClasses:e,getCellStyles:n,columns:s}},render(){const{columns:r,getCellStyles:e,getCellClasses:n,summaryMethod:s,sumText:o}=this,i=this.store.states.data.value;let l=[];return s?l=s({columns:r,data:i}):r.forEach((a,c)=>{if(c===0){l[c]=o;return}const u=i.map(p=>Number(p[a.property])),d=[];let f=!0;u.forEach(p=>{if(!Number.isNaN(+p)){f=!1;const g=`${p}`.split(".")[1];d.push(g?g.length:0)}});const h=Math.max.apply(null,d);f?l[c]="":l[c]=u.reduce((p,g)=>{const m=Number(g);return Number.isNaN(+m)?p:Number.parseFloat((p+g).toFixed(Math.min(h,20)))},0)}),Ye(Ye("tfoot",[Ye("tr",{},[...r.map((a,c)=>Ye("td",{key:c,colspan:a.colSpan,rowspan:a.rowSpan,class:n(r,c),style:e(a,c)},[Ye("div",{class:["cell",a.labelClassName]},[l[c]])]))])]))}});function wK(r){return{setCurrentRow:d=>{r.commit("setCurrentRow",d)},getSelectionRows:()=>r.getSelectionRows(),toggleRowSelection:(d,f)=>{r.toggleRowSelection(d,f,!1),r.updateAllSelected()},clearSelection:()=>{r.clearSelection()},clearFilter:d=>{r.clearFilter(d)},toggleAllSelection:()=>{r.commit("toggleAllSelection")},toggleRowExpansion:(d,f)=>{r.toggleRowExpansionAdapter(d,f)},clearSort:()=>{r.clearSort()},sort:(d,f)=>{r.commit("sort",{prop:d,order:f})}}}function CK(r,e,n,s){const o=j(!1),i=j(null),l=j(!1),a=q=>{l.value=q},c=j({width:null,height:null,headerHeight:null}),u=j(!1),d={display:"inline-block",verticalAlign:"middle"},f=j(),h=j(0),p=j(0),g=j(0),m=j(0),v=j(0);to(()=>{e.setHeight(r.height)}),to(()=>{e.setMaxHeight(r.maxHeight)}),$e(()=>[r.currentRowKey,n.states.rowKey],([q,ee])=>{!S(ee)||!S(q)||n.setCurrentRowKey(`${q}`)},{immediate:!0}),$e(()=>r.data,q=>{s.store.commit("setData",q)},{immediate:!0,deep:!0}),to(()=>{r.expandRowKeys&&n.setExpandRowKeysAdapter(r.expandRowKeys)});const b=()=>{s.store.commit("setHoverRow",null),s.hoverState&&(s.hoverState=null)},C=(q,ee)=>{const{pixelX:de,pixelY:ce}=ee;Math.abs(de)>=Math.abs(ce)&&(s.refs.bodyWrapper.scrollLeft+=ee.pixelX/5)},y=z(()=>r.height||r.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),w=z(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),x=()=>{y.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(A)};nt(async()=>{await tt(),n.updateColumns(),k(),requestAnimationFrame(x);const q=s.vnode.el,ee=s.refs.headerWrapper;r.flexible&&q&&q.parentElement&&(q.parentElement.style.minWidth="0"),c.value={width:f.value=q.offsetWidth,height:q.offsetHeight,headerHeight:r.showHeader&&ee?ee.offsetHeight:null},n.states.columns.value.forEach(de=>{de.filteredValue&&de.filteredValue.length&&s.store.commit("filterChange",{column:de,values:de.filteredValue,silent:!0})}),s.$ready=!0});const E=(q,ee)=>{if(!q)return;const de=Array.from(q.classList).filter(ce=>!ce.startsWith("is-scrolling-"));de.push(e.scrollX.value?ee:"is-scrolling-none"),q.className=de.join(" ")},_=q=>{const{tableWrapper:ee}=s.refs;E(ee,q)},M=q=>{const{tableWrapper:ee}=s.refs;return!!(ee&&ee.classList.contains(q))},A=function(){if(!s.refs.scrollBarRef)return;if(!e.scrollX.value){const Ee="is-scrolling-none";M(Ee)||_(Ee);return}const q=s.refs.scrollBarRef.wrapRef;if(!q)return;const{scrollLeft:ee,offsetWidth:de,scrollWidth:ce}=q,{headerWrapper:Te,footerWrapper:fe}=s.refs;Te&&(Te.scrollLeft=ee),fe&&(fe.scrollLeft=ee);const we=ce-de-1;ee>=we?_("is-scrolling-right"):_(ee===0?"is-scrolling-left":"is-scrolling-middle")},k=()=>{s.refs.scrollBarRef&&(s.refs.scrollBarRef.wrapRef&&vn(s.refs.scrollBarRef.wrapRef,"scroll",A,{passive:!0}),r.fit?dr(s.vnode.el,P):vn(window,"resize",P),dr(s.refs.bodyWrapper,()=>{var q,ee;P(),(ee=(q=s.refs)==null?void 0:q.scrollBarRef)==null||ee.update()}))},P=()=>{var q,ee,de,ce;const Te=s.vnode.el;if(!s.$ready||!Te)return;let fe=!1;const{width:we,height:Ee,headerHeight:G}=c.value,ne=f.value=Te.offsetWidth;we!==ne&&(fe=!0);const se=Te.offsetHeight;(r.height||y.value)&&Ee!==se&&(fe=!0);const me=r.tableLayout==="fixed"?s.refs.headerWrapper:(q=s.refs.tableHeaderRef)==null?void 0:q.$el;r.showHeader&&(me==null?void 0:me.offsetHeight)!==G&&(fe=!0),h.value=((ee=s.refs.tableWrapper)==null?void 0:ee.scrollHeight)||0,g.value=(me==null?void 0:me.scrollHeight)||0,m.value=((de=s.refs.footerWrapper)==null?void 0:de.offsetHeight)||0,v.value=((ce=s.refs.appendWrapper)==null?void 0:ce.offsetHeight)||0,p.value=h.value-g.value-m.value-v.value,fe&&(c.value={width:ne,height:se,headerHeight:r.showHeader&&(me==null?void 0:me.offsetHeight)||0},x())},$=fs(),B=z(()=>{const{bodyWidth:q,scrollY:ee,gutterWidth:de}=e;return q.value?`${q.value-(ee.value?de:0)}px`:""}),W=z(()=>r.maxHeight?"fixed":r.tableLayout),I=z(()=>{if(r.data&&r.data.length)return null;let q="100%";r.height&&p.value&&(q=`${p.value}px`);const ee=f.value;return{width:ee?`${ee}px`:"",height:q}}),R=z(()=>r.height?{height:Number.isNaN(Number(r.height))?r.height:`${r.height}px`}:r.maxHeight?{maxHeight:Number.isNaN(Number(r.maxHeight))?r.maxHeight:`${r.maxHeight}px`}:{}),U=z(()=>r.height?{height:"100%"}:r.maxHeight?Number.isNaN(Number(r.maxHeight))?{maxHeight:`calc(${r.maxHeight} - ${g.value+m.value}px)`}:{maxHeight:`${r.maxHeight-g.value-m.value}px`}:{});return{isHidden:o,renderExpanded:i,setDragVisible:a,isGroup:u,handleMouseLeave:b,handleHeaderFooterMousewheel:C,tableSize:$,emptyBlockStyle:I,handleFixedMousewheel:(q,ee)=>{const de=s.refs.bodyWrapper;if(Math.abs(ee.spinY)>0){const ce=de.scrollTop;ee.pixelY<0&&ce!==0&&q.preventDefault(),ee.pixelY>0&&de.scrollHeight-de.clientHeight>ce&&q.preventDefault(),de.scrollTop+=Math.ceil(ee.pixelY/5)}else de.scrollLeft+=Math.ceil(ee.pixelX/5)},resizeProxyVisible:l,bodyWidth:B,resizeState:c,doLayout:x,tableBodyStyles:w,tableLayout:W,scrollbarViewStyle:d,tableInnerStyle:R,scrollbarStyle:U}}function SK(r){const e=j(),n=()=>{const o=r.vnode.el.querySelector(".hidden-columns"),i={childList:!0,subtree:!0},l=r.store.states.updateOrderFns;e.value=new MutationObserver(()=>{l.forEach(a=>a())}),e.value.observe(o,i)};nt(()=>{n()}),qo(()=>{var s;(s=e.value)==null||s.disconnect()})}var xK={data:{type:Array,default:()=>[]},size:Jo,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function TA(r){const e=r.tableLayout==="auto";let n=r.columns||[];e&&n.every(o=>o.width===void 0)&&(n=[]);const s=o=>{const i={key:`${r.tableLayout}_${o.id}`,style:{},name:void 0};return e?i.style={width:`${o.width}px`}:i.name=o.id,i};return Ye("colgroup",{},n.map(o=>Ye("col",s(o))))}TA.props=["columns","tableLayout"];const EK=()=>{const r=j(),e=(i,l)=>{const a=r.value;a&&a.scrollTo(i,l)},n=(i,l)=>{const a=r.value;a&&Tt(l)&&["Top","Left"].includes(i)&&a[`setScroll${i}`](l)};return{scrollBarRef:r,scrollTo:e,setScrollTop:i=>n("Top",i),setScrollLeft:i=>n("Left",i)}};let TK=1;const _K=pe({name:"ElTable",directives:{Mousewheel:A7},components:{TableHeader:dK,TableBody:mK,TableFooter:yK,ElScrollbar:Qp,hColgroup:TA},props:xK,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(r){const{t:e}=go(),n=Ge("table"),s=bt();Wt(bo,s);const o=XG(s,r);s.store=o;const i=new QG({store:s.store,table:s,fit:r.fit,showHeader:r.showHeader});s.layout=i;const l=z(()=>(o.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:c,toggleRowSelection:u,clearSelection:d,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:p,clearSort:g,sort:m}=wK(o),{isHidden:v,renderExpanded:b,setDragVisible:C,isGroup:y,handleMouseLeave:w,handleHeaderFooterMousewheel:x,tableSize:E,emptyBlockStyle:_,handleFixedMousewheel:M,resizeProxyVisible:A,bodyWidth:k,resizeState:P,doLayout:$,tableBodyStyles:B,tableLayout:W,scrollbarViewStyle:I,tableInnerStyle:R,scrollbarStyle:U}=CK(r,i,o,s),{scrollBarRef:Q,scrollTo:q,setScrollLeft:ee,setScrollTop:de}=EK(),ce=dc($,50),Te=`${n.namespace.value}-table_${TK++}`;s.tableId=Te,s.state={isGroup:y,resizeState:P,doLayout:$,debouncedUpdateLayout:ce};const fe=z(()=>r.sumText||e("el.table.sumText")),we=z(()=>r.emptyText||e("el.table.emptyText"));return SK(s),{ns:n,layout:i,store:o,handleHeaderFooterMousewheel:x,handleMouseLeave:w,tableId:Te,tableSize:E,isHidden:v,isEmpty:l,renderExpanded:b,resizeProxyVisible:A,resizeState:P,isGroup:y,bodyWidth:k,tableBodyStyles:B,emptyBlockStyle:_,debouncedUpdateLayout:ce,handleFixedMousewheel:M,setCurrentRow:a,getSelectionRows:c,toggleRowSelection:u,clearSelection:d,clearFilter:f,toggleAllSelection:h,toggleRowExpansion:p,clearSort:g,doLayout:$,sort:m,t:e,setDragVisible:C,context:s,computedSumText:fe,computedEmptyText:we,tableLayout:W,scrollbarViewStyle:I,tableInnerStyle:R,scrollbarStyle:U,scrollBarRef:Q,scrollTo:q,setScrollLeft:ee,setScrollTop:de}}}),OK=["data-prefix"],AK={ref:"hiddenColumns",class:"hidden-columns"};function MK(r,e,n,s,o,i){const l=Pt("hColgroup"),a=Pt("table-header"),c=Pt("table-body"),u=Pt("table-footer"),d=Pt("el-scrollbar"),f=Fv("mousewheel");return N(),X("div",{ref:"tableWrapper",class:Y([{[r.ns.m("fit")]:r.fit,[r.ns.m("striped")]:r.stripe,[r.ns.m("border")]:r.border||r.isGroup,[r.ns.m("hidden")]:r.isHidden,[r.ns.m("group")]:r.isGroup,[r.ns.m("fluid-height")]:r.maxHeight,[r.ns.m("scrollable-x")]:r.layout.scrollX.value,[r.ns.m("scrollable-y")]:r.layout.scrollY.value,[r.ns.m("enable-row-hover")]:!r.store.states.isComplex.value,[r.ns.m("enable-row-transition")]:(r.store.states.data.value||[]).length!==0&&(r.store.states.data.value||[]).length<100,"has-footer":r.showSummary},r.ns.m(r.tableSize),r.className,r.ns.b(),r.ns.m(`layout-${r.tableLayout}`)]),style:vt(r.style),"data-prefix":r.ns.namespace.value,onMouseleave:e[0]||(e[0]=(...h)=>r.handleMouseLeave&&r.handleMouseLeave(...h))},[H("div",{class:Y(r.ns.e("inner-wrapper")),style:vt(r.tableInnerStyle)},[H("div",AK,[_e(r.$slots,"default")],512),r.showHeader&&r.tableLayout==="fixed"?Ue((N(),X("div",{key:0,ref:"headerWrapper",class:Y(r.ns.e("header-wrapper"))},[H("table",{ref:"tableHeader",class:Y(r.ns.e("header")),style:vt(r.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[T(l,{columns:r.store.states.columns.value,"table-layout":r.tableLayout},null,8,["columns","table-layout"]),T(a,{ref:"tableHeaderRef",border:r.border,"default-sort":r.defaultSort,store:r.store,onSetDragVisible:r.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[f,r.handleHeaderFooterMousewheel]]):ve("v-if",!0),H("div",{ref:"bodyWrapper",class:Y(r.ns.e("body-wrapper"))},[T(d,{ref:"scrollBarRef","view-style":r.scrollbarViewStyle,"wrap-style":r.scrollbarStyle,always:r.scrollbarAlwaysOn},{default:O(()=>[H("table",{ref:"tableBody",class:Y(r.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:vt({width:r.bodyWidth,tableLayout:r.tableLayout})},[T(l,{columns:r.store.states.columns.value,"table-layout":r.tableLayout},null,8,["columns","table-layout"]),r.showHeader&&r.tableLayout==="auto"?(N(),ye(a,{key:0,ref:"tableHeaderRef",class:Y(r.ns.e("body-header")),border:r.border,"default-sort":r.defaultSort,store:r.store,onSetDragVisible:r.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):ve("v-if",!0),T(c,{context:r.context,highlight:r.highlightCurrentRow,"row-class-name":r.rowClassName,"tooltip-effect":r.tooltipEffect,"tooltip-options":r.tooltipOptions,"row-style":r.rowStyle,store:r.store,stripe:r.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),r.showSummary&&r.tableLayout==="auto"?(N(),ye(u,{key:1,class:Y(r.ns.e("body-footer")),border:r.border,"default-sort":r.defaultSort,store:r.store,"sum-text":r.computedSumText,"summary-method":r.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):ve("v-if",!0)],6),r.isEmpty?(N(),X("div",{key:0,ref:"emptyBlock",style:vt(r.emptyBlockStyle),class:Y(r.ns.e("empty-block"))},[H("span",{class:Y(r.ns.e("empty-text"))},[_e(r.$slots,"empty",{},()=>[le(oe(r.computedEmptyText),1)])],2)],6)):ve("v-if",!0),r.$slots.append?(N(),X("div",{key:1,ref:"appendWrapper",class:Y(r.ns.e("append-wrapper"))},[_e(r.$slots,"append")],2)):ve("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),r.showSummary&&r.tableLayout==="fixed"?Ue((N(),X("div",{key:1,ref:"footerWrapper",class:Y(r.ns.e("footer-wrapper"))},[H("table",{class:Y(r.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:vt(r.tableBodyStyles)},[T(l,{columns:r.store.states.columns.value,"table-layout":r.tableLayout},null,8,["columns","table-layout"]),T(u,{border:r.border,"default-sort":r.defaultSort,store:r.store,"sum-text":r.computedSumText,"summary-method":r.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[st,!r.isEmpty],[f,r.handleHeaderFooterMousewheel]]):ve("v-if",!0),r.border||r.isGroup?(N(),X("div",{key:2,class:Y(r.ns.e("border-left-patch"))},null,2)):ve("v-if",!0)],6),Ue(H("div",{ref:"resizeProxy",class:Y(r.ns.e("column-resize-proxy"))},null,2),[[st,r.resizeProxyVisible]])],46,OK)}var kK=Xe(_K,[["render",MK],["__file","table.vue"]]);const PK={selection:"table-column--selection",expand:"table__expand-column"},NK={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},IK=r=>PK[r]||"",LK={selection:{renderHeader({store:r,column:e}){function n(){return r.states.data.value&&r.states.data.value.length===0}return Ye(ra,{disabled:n(),size:r.states.tableSize.value,indeterminate:r.states.selection.value.length>0&&!r.states.isAllSelected.value,"onUpdate:modelValue":r.toggleAllSelection,modelValue:r.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:r,column:e,store:n,$index:s}){return Ye(ra,{disabled:e.selectable?!e.selectable.call(null,r,s):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",r)},onClick:o=>o.stopPropagation(),modelValue:n.isSelected(r),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:r}){return r.label||"#"},renderCell({column:r,$index:e}){let n=e+1;const s=r.index;return typeof s=="number"?n=e+s:typeof s=="function"&&(n=s(e)),Ye("div",{},[n])},sortable:!1},expand:{renderHeader({column:r}){return r.label||""},renderCell({row:r,store:e,expanded:n}){const{ns:s}=e,o=[s.e("expand-icon")];return n&&o.push(s.em("expand-icon","expanded")),Ye("div",{class:o,onClick:function(l){l.stopPropagation(),e.toggleRowExpansion(r)}},{default:()=>[Ye(dt,null,{default:()=>[Ye(Gp)]})]})},sortable:!1,resizable:!1}};function RK({row:r,column:e,$index:n}){var s;const o=e.property,i=o&&ih(r,o).value;return e&&e.formatter?e.formatter(r,e,i,n):((s=i==null?void 0:i.toString)==null?void 0:s.call(i))||""}function $K({row:r,treeNode:e,store:n},s=!1){const{ns:o}=n;if(!e)return s?[Ye("span",{class:o.e("placeholder")})]:null;const i=[],l=function(a){a.stopPropagation(),!e.loading&&n.loadOrToggle(r)};if(e.indent&&i.push(Ye("span",{class:o.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const a=[o.e("expand-icon"),e.expanded?o.em("expand-icon","expanded"):""];let c=Gp;e.loading&&(c=by),i.push(Ye("div",{class:a,onClick:l},{default:()=>[Ye(dt,{class:{[o.is("loading")]:e.loading}},{default:()=>[Ye(c)]})]}))}else i.push(Ye("span",{class:o.e("placeholder")}));return i}function bS(r,e){return r.reduce((n,s)=>(n[s]=s,n),e)}function DK(r,e){const n=bt();return{registerComplexWatchers:()=>{const i=["fixed"],l={realWidth:"width",realMinWidth:"minWidth"},a=bS(i,l);Object.keys(a).forEach(c=>{const u=l[c];wt(e,u)&&$e(()=>e[u],d=>{let f=d;u==="width"&&c==="realWidth"&&(f=zy(d)),u==="minWidth"&&c==="realMinWidth"&&(f=vA(d)),n.columnConfig.value[u]=f,n.columnConfig.value[c]=f;const h=u==="fixed";r.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const i=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],l={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=bS(i,l);Object.keys(a).forEach(c=>{const u=l[c];wt(e,u)&&$e(()=>e[u],d=>{n.columnConfig.value[c]=d})})}}}function VK(r,e,n){const s=bt(),o=j(""),i=j(!1),l=j(),a=j(),c=Ge("table");to(()=>{l.value=r.align?`is-${r.align}`:null,l.value}),to(()=>{a.value=r.headerAlign?`is-${r.headerAlign}`:l.value,a.value});const u=z(()=>{let w=s.vnode.vParent||s.parent;for(;w&&!w.tableId&&!w.columnId;)w=w.vnode.vParent||w.parent;return w}),d=z(()=>{const{store:w}=s.parent;if(!w)return!1;const{treeData:x}=w.states,E=x.value;return E&&Object.keys(E).length>0}),f=j(zy(r.width)),h=j(vA(r.minWidth)),p=w=>(f.value&&(w.width=f.value),h.value&&(w.minWidth=h.value),!f.value&&h.value&&(w.width=void 0),w.minWidth||(w.minWidth=80),w.realWidth=Number(w.width===void 0?w.minWidth:w.width),w),g=w=>{const x=w.type,E=LK[x]||{};Object.keys(E).forEach(M=>{const A=E[M];M!=="className"&&A!==void 0&&(w[M]=A)});const _=IK(x);if(_){const M=`${S(c.namespace)}-${_}`;w.className=w.className?`${w.className} ${M}`:M}return w},m=w=>{Array.isArray(w)?w.forEach(E=>x(E)):x(w);function x(E){var _;((_=E==null?void 0:E.type)==null?void 0:_.name)==="ElTableColumn"&&(E.vParent=s)}};return{columnId:o,realAlign:l,isSubColumn:i,realHeaderAlign:a,columnOrTableParent:u,setColumnWidth:p,setColumnForcedProps:g,setColumnRenders:w=>{r.renderHeader||w.type!=="selection"&&(w.renderHeader=E=>(s.columnConfig.value.label,_e(e,"header",E,()=>[w.label])));let x=w.renderCell;return w.type==="expand"?(w.renderCell=E=>Ye("div",{class:"cell"},[x(E)]),n.value.renderExpanded=E=>e.default?e.default(E):e.default):(x=x||RK,w.renderCell=E=>{let _=null;if(e.default){const B=e.default(E);_=B.some(W=>W.type!==rr)?B:x(E)}else _=x(E);const{columns:M}=n.value.store.states,A=M.value.findIndex(B=>B.type==="default"),k=d.value&&E.cellIndex===A,P=$K(E,k),$={class:"cell",style:{}};return w.showOverflowTooltip&&($.class=`${$.class} ${S(c.namespace)}-tooltip`,$.style={width:`${(E.column.realWidth||Number(E.column.width))-1}px`}),m(_),Ye("div",$,[P,_])}),w},getPropsData:(...w)=>w.reduce((x,E)=>(Array.isArray(E)&&E.forEach(_=>{x[_]=r[_]}),x),{}),getColumnElIndex:(w,x)=>Array.prototype.indexOf.call(w,x),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",s.columnConfig.value)}}}var FK={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:r=>r.every(e=>["ascending","descending",null].includes(e))}};let BK=1;var _A=pe({name:"ElTableColumn",components:{ElCheckbox:ra},props:FK,setup(r,{slots:e}){const n=bt(),s=j({}),o=z(()=>{let y=n.parent;for(;y&&!y.tableId;)y=y.parent;return y}),{registerNormalWatchers:i,registerComplexWatchers:l}=DK(o,r),{columnId:a,isSubColumn:c,realHeaderAlign:u,columnOrTableParent:d,setColumnWidth:f,setColumnForcedProps:h,setColumnRenders:p,getPropsData:g,getColumnElIndex:m,realAlign:v,updateColumnOrder:b}=VK(r,e,o),C=d.value;a.value=`${C.tableId||C.columnId}_column_${BK++}`,zd(()=>{c.value=o.value!==C;const y=r.type||"default",w=r.sortable===""?!0:r.sortable,x=wr(r.showOverflowTooltip)?C.props.showOverflowTooltip:r.showOverflowTooltip,E={...NK[y],id:a.value,type:y,property:r.prop||r.property,align:v,headerAlign:u,showOverflowTooltip:x,filterable:r.filters||r.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:w,index:r.index,rawColumnKey:n.vnode.key};let P=g(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);P=BG(E,P),P=jG(p,f,h)(P),s.value=P,i(),l()}),nt(()=>{var y;const w=d.value,x=c.value?w.vnode.el.children:(y=w.refs.hiddenColumns)==null?void 0:y.children,E=()=>m(x||[],n.vnode.el);s.value.getColumnIndex=E,E()>-1&&o.value.store.commit("insertColumn",s.value,c.value?w.columnConfig.value:null,b)}),Cn(()=>{s.value.getColumnIndex()>-1&&o.value.store.commit("removeColumn",s.value,c.value?C.columnConfig.value:null,b)}),n.columnId=a.value,n.columnConfig=s},render(){var r,e,n;try{const s=(e=(r=this.$slots).default)==null?void 0:e.call(r,{row:{},column:{},$index:-1}),o=[];if(Array.isArray(s))for(const l of s)((n=l.type)==null?void 0:n.name)==="ElTableColumn"||l.shapeFlag&2?o.push(l):l.type===De&&Array.isArray(l.children)&&l.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!ft(a==null?void 0:a.children)&&o.push(a)});return Ye("div",o)}catch{return Ye("div",[])}}});const rf=Rt(kK,{TableColumn:_A}),sf=Ar(_A),og=Symbol("tabsRootContextKey"),zK=et({tabs:{type:Be(Array),default:()=>Ss([])}}),OA="ElTabBar",jK=pe({name:OA}),HK=pe({...jK,props:zK,setup(r,{expose:e}){const n=r,s=bt(),o=Ve(og);o||sl(OA,"<el-tabs><el-tab-bar /></el-tabs>");const i=Ge("tabs"),l=j(),a=j(),c=()=>{let d=0,f=0;const h=["top","bottom"].includes(o.props.tabPosition)?"width":"height",p=h==="width"?"x":"y",g=p==="x"?"left":"top";return n.tabs.every(m=>{var v,b;const C=(b=(v=s.parent)==null?void 0:v.refs)==null?void 0:b[`tab-${m.uid}`];if(!C)return!1;if(!m.active)return!0;d=C[`offset${_i(g)}`],f=C[`client${_i(h)}`];const y=window.getComputedStyle(C);return h==="width"&&(n.tabs.length>1&&(f-=Number.parseFloat(y.paddingLeft)+Number.parseFloat(y.paddingRight)),d+=Number.parseFloat(y.paddingLeft)),!1}),{[h]:`${f}px`,transform:`translate${_i(p)}(${d}px)`}},u=()=>a.value=c();return $e(()=>n.tabs,async()=>{await tt(),u()},{immediate:!0}),dr(l,()=>u()),e({ref:l,update:u}),(d,f)=>(N(),X("div",{ref_key:"barRef",ref:l,class:Y([S(i).e("active-bar"),S(i).is(S(o).props.tabPosition)]),style:vt(a.value)},null,6))}});var UK=Xe(HK,[["__file","tab-bar.vue"]]);const WK=et({panes:{type:Be(Array),default:()=>Ss([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),qK={tabClick:(r,e,n)=>n instanceof Event,tabRemove:(r,e)=>e instanceof Event},vS="ElTabNav",GK=pe({name:vS,props:WK,emits:qK,setup(r,{expose:e,emit:n}){const s=bt(),o=Ve(og);o||sl(vS,"<el-tabs><tab-nav /></el-tabs>");const i=Ge("tabs"),l=uD(),a=xD(),c=j(),u=j(),d=j(),f=j(),h=j(!1),p=j(0),g=j(!1),m=j(!0),v=z(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),b=z(()=>({transform:`translate${v.value==="width"?"X":"Y"}(-${p.value}px)`})),C=()=>{if(!c.value)return;const A=c.value[`offset${_i(v.value)}`],k=p.value;if(!k)return;const P=k>A?k-A:0;p.value=P},y=()=>{if(!c.value||!u.value)return;const A=u.value[`offset${_i(v.value)}`],k=c.value[`offset${_i(v.value)}`],P=p.value;if(A-P<=k)return;const $=A-P>k*2?P+k:A-k;p.value=$},w=async()=>{const A=u.value;if(!h.value||!d.value||!c.value||!A)return;await tt();const k=d.value.querySelector(".is-active");if(!k)return;const P=c.value,$=["top","bottom"].includes(o.props.tabPosition),B=k.getBoundingClientRect(),W=P.getBoundingClientRect(),I=$?A.offsetWidth-W.width:A.offsetHeight-W.height,R=p.value;let U=R;$?(B.left<W.left&&(U=R-(W.left-B.left)),B.right>W.right&&(U=R+B.right-W.right)):(B.top<W.top&&(U=R-(W.top-B.top)),B.bottom>W.bottom&&(U=R+(B.bottom-W.bottom))),U=Math.max(U,0),p.value=Math.min(U,I)},x=()=>{var A;if(!u.value||!c.value)return;r.stretch&&((A=f.value)==null||A.update());const k=u.value[`offset${_i(v.value)}`],P=c.value[`offset${_i(v.value)}`],$=p.value;P<k?(h.value=h.value||{},h.value.prev=$,h.value.next=$+P<k,k-$<P&&(p.value=k-P)):(h.value=!1,$>0&&(p.value=0))},E=A=>{const k=A.code,{up:P,down:$,left:B,right:W}=bn;if(![P,$,B,W].includes(k))return;const I=Array.from(A.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),R=I.indexOf(A.target);let U;k===B||k===P?R===0?U=I.length-1:U=R-1:R<I.length-1?U=R+1:U=0,I[U].focus({preventScroll:!0}),I[U].click(),_()},_=()=>{m.value&&(g.value=!0)},M=()=>g.value=!1;return $e(l,A=>{A==="hidden"?m.value=!1:A==="visible"&&setTimeout(()=>m.value=!0,50)}),$e(a,A=>{A?setTimeout(()=>m.value=!0,50):m.value=!1}),dr(d,x),nt(()=>setTimeout(()=>w(),0)),ua(()=>x()),e({scrollToActiveTab:w,removeFocus:M}),$e(()=>r.panes,()=>s.update(),{flush:"post",deep:!0}),()=>{const A=h.value?[T("span",{class:[i.e("nav-prev"),i.is("disabled",!h.value.prev)],onClick:C},[T(dt,null,{default:()=>[T(B_,null,null)]})]),T("span",{class:[i.e("nav-next"),i.is("disabled",!h.value.next)],onClick:y},[T(dt,null,{default:()=>[T(Gp,null,null)]})])]:null,k=r.panes.map((P,$)=>{var B,W,I,R;const U=P.uid,Q=P.props.disabled,q=(W=(B=P.props.name)!=null?B:P.index)!=null?W:`${$}`,ee=!Q&&(P.isClosable||r.editable);P.index=`${$}`;const de=ee?T(dt,{class:"is-icon-close",onClick:fe=>n("tabRemove",P,fe)},{default:()=>[T(ta,null,null)]}):null,ce=((R=(I=P.slots).label)==null?void 0:R.call(I))||P.props.label,Te=!Q&&P.active?0:-1;return T("div",{ref:`tab-${U}`,class:[i.e("item"),i.is(o.props.tabPosition),i.is("active",P.active),i.is("disabled",Q),i.is("closable",ee),i.is("focus",g.value)],id:`tab-${q}`,key:`tab-${U}`,"aria-controls":`pane-${q}`,role:"tab","aria-selected":P.active,tabindex:Te,onFocus:()=>_(),onBlur:()=>M(),onClick:fe=>{M(),n("tabClick",P,q,fe)},onKeydown:fe=>{ee&&(fe.code===bn.delete||fe.code===bn.backspace)&&n("tabRemove",P,fe)}},[ce,de])});return T("div",{ref:d,class:[i.e("nav-wrap"),i.is("scrollable",!!h.value),i.is(o.props.tabPosition)]},[A,T("div",{class:i.e("nav-scroll"),ref:c},[T("div",{class:[i.e("nav"),i.is(o.props.tabPosition),i.is("stretch",r.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:u,style:b.value,role:"tablist",onKeydown:E},[r.type?null:T(UK,{ref:f,tabs:[...r.panes]},null),k])])])}}}),KK=et({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Be(Function),default:()=>!0},stretch:Boolean}),im=r=>ft(r)||Tt(r),YK={[jt]:r=>im(r),tabClick:(r,e)=>e instanceof Event,tabChange:r=>im(r),edit:(r,e)=>["remove","add"].includes(e),tabRemove:r=>im(r),tabAdd:()=>!0},JK=pe({name:"ElTabs",props:KK,emits:YK,setup(r,{emit:e,slots:n,expose:s}){var o;const i=Ge("tabs"),{children:l,addChild:a,removeChild:c}=iH(bt(),"ElTabPane"),u=j(),d=j((o=r.modelValue)!=null?o:"0"),f=async(m,v=!1)=>{var b,C,y;if(!(d.value===m||wr(m)))try{await((b=r.beforeLeave)==null?void 0:b.call(r,m,d.value))!==!1&&(d.value=m,v&&(e(jt,m),e("tabChange",m)),(y=(C=u.value)==null?void 0:C.removeFocus)==null||y.call(C))}catch{}},h=(m,v,b)=>{m.props.disabled||(f(v,!0),e("tabClick",m,b))},p=(m,v)=>{m.props.disabled||wr(m.props.name)||(v.stopPropagation(),e("edit",m.props.name,"remove"),e("tabRemove",m.props.name))},g=()=>{e("edit",void 0,"add"),e("tabAdd")};return $e(()=>r.modelValue,m=>f(m)),$e(d,async()=>{var m;await tt(),(m=u.value)==null||m.scrollToActiveTab()}),Wt(og,{props:r,currentName:d,registerPane:a,unregisterPane:c}),s({currentName:d}),()=>{const m=n["add-icon"],v=r.editable||r.addable?T("span",{class:i.e("new-tab"),tabindex:"0",onClick:g,onKeydown:y=>{y.code===bn.enter&&g()}},[m?_e(n,"add-icon"):T(dt,{class:i.is("icon-plus")},{default:()=>[T(j_,null,null)]})]):null,b=T("div",{class:[i.e("header"),i.is(r.tabPosition)]},[v,T(GK,{ref:u,currentName:d.value,editable:r.editable,type:r.type,panes:l.value,stretch:r.stretch,onTabClick:h,onTabRemove:p},null)]),C=T("div",{class:i.e("content")},[_e(n,"default")]);return T("div",{class:[i.b(),i.m(r.tabPosition),{[i.m("card")]:r.type==="card",[i.m("border-card")]:r.type==="border-card"}]},[...r.tabPosition!=="bottom"?[b,C]:[C,b]])}}}),XK=et({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ZK=["id","aria-hidden","aria-labelledby"],AA="ElTabPane",QK=pe({name:AA}),eY=pe({...QK,props:XK,setup(r){const e=r,n=bt(),s=Bs(),o=Ve(og);o||sl(AA,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=Ge("tab-pane"),l=j(),a=z(()=>e.closable||o.props.closable),c=Tw(()=>{var p;return o.currentName.value===((p=e.name)!=null?p:l.value)}),u=j(c.value),d=z(()=>{var p;return(p=e.name)!=null?p:l.value}),f=Tw(()=>!e.lazy||u.value||c.value);$e(c,p=>{p&&(u.value=!0)});const h=St({uid:n.uid,slots:s,props:e,paneName:d,active:c,index:l,isClosable:a});return nt(()=>{o.registerPane(h)}),qo(()=>{o.unregisterPane(h.uid)}),(p,g)=>S(f)?Ue((N(),X("div",{key:0,id:`pane-${S(d)}`,class:Y(S(i).b()),role:"tabpanel","aria-hidden":!S(c),"aria-labelledby":`tab-${S(d)}`},[_e(p.$slots,"default")],10,ZK)),[[st,S(c)]]):ve("v-if",!0)}});var MA=Xe(eY,[["__file","tab-pane.vue"]]);const tY=Rt(JK,{TabPane:MA}),nY=Ar(MA),rY=et({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:ga,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),sY=pe({name:"ElText"}),oY=pe({...sY,props:rY,setup(r){const e=r,n=fs(),s=Ge("text"),o=z(()=>[s.b(),s.m(e.type),s.m(n.value),s.is("truncated",e.truncated),s.is("line-clamp",!wr(e.lineClamp))]);return(i,l)=>(N(),ye(Ft(i.tag),{class:Y(S(o)),style:vt({"-webkit-line-clamp":i.lineClamp})},{default:O(()=>[_e(i.$slots,"default")]),_:3},8,["class","style"]))}});var iY=Xe(oY,[["__file","text.vue"]]);const Uy=Rt(iY);function lY(r){let e;const n=j(!1),s=St({...r,originalPosition:"",originalOverflow:"",visible:!1});function o(h){s.text=h}function i(){const h=s.parent,p=f.ns;if(!h.vLoadingAddClassList){let g=h.getAttribute("loading-number");g=Number.parseInt(g)-1,g?h.setAttribute("loading-number",g.toString()):(io(h,p.bm("parent","relative")),h.removeAttribute("loading-number")),io(h,p.bm("parent","hidden"))}l(),d.unmount()}function l(){var h,p;(p=(h=f.$el)==null?void 0:h.parentNode)==null||p.removeChild(f.$el)}function a(){var h;r.beforeClose&&!r.beforeClose()||(n.value=!0,clearTimeout(e),e=window.setTimeout(c,400),s.visible=!1,(h=r.closed)==null||h.call(r))}function c(){if(!n.value)return;const h=s.parent;n.value=!1,h.vLoadingAddClassList=void 0,i()}const d=Gv(pe({name:"ElLoading",setup(h,{expose:p}){const{ns:g,zIndex:m}=Zp("loading");return p({ns:g,zIndex:m}),()=>{const v=s.spinner||s.svg,b=Ye("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[Ye("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),C=s.text?Ye("p",{class:g.b("text")},[s.text]):void 0;return Ye(Or,{name:g.b("fade"),onAfterLeave:c},{default:O(()=>[Ue(T("div",{style:{backgroundColor:s.background||""},class:[g.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[Ye("div",{class:g.b("spinner")},[b,C])]),[[st,s.visible]])])})}}})),f=d.mount(document.createElement("div"));return{...Uo(s),setText:o,removeElLoadingChild:l,close:a,handleAfterLeave:c,vm:f,get $el(){return f.$el}}}let Ff;const aY=function(r={}){if(!Ct)return;const e=cY(r);if(e.fullscreen&&Ff)return Ff;const n=lY({...e,closed:()=>{var o;(o=e.closed)==null||o.call(e),e.fullscreen&&(Ff=void 0)}});uY(e,e.parent,n),yS(e,e.parent,n),e.parent.vLoadingAddClassList=()=>yS(e,e.parent,n);let s=e.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",e.parent.setAttribute("loading-number",s),e.parent.appendChild(n.$el),tt(()=>n.visible.value=e.visible),e.fullscreen&&(Ff=n),n},cY=r=>{var e,n,s,o;let i;return ft(r.target)?i=(e=document.querySelector(r.target))!=null?e:document.body:i=r.target||document.body,{parent:i===document.body||r.body?document.body:i,background:r.background||"",svg:r.svg||"",svgViewBox:r.svgViewBox||"",spinner:r.spinner||!1,text:r.text||"",fullscreen:i===document.body&&((n=r.fullscreen)!=null?n:!0),lock:(s=r.lock)!=null?s:!1,customClass:r.customClass||"",visible:(o=r.visible)!=null?o:!0,target:i}},uY=async(r,e,n)=>{const{nextZIndex:s}=n.vm.zIndex||n.vm._.exposed.zIndex,o={};if(r.fullscreen)n.originalPosition.value=Ol(document.body,"position"),n.originalOverflow.value=Ol(document.body,"overflow"),o.zIndex=s();else if(r.parent===document.body){n.originalPosition.value=Ol(document.body,"position"),await tt();for(const i of["top","left"]){const l=i==="top"?"scrollTop":"scrollLeft";o[i]=`${r.target.getBoundingClientRect()[i]+document.body[l]+document.documentElement[l]-Number.parseInt(Ol(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])o[i]=`${r.target.getBoundingClientRect()[i]}px`}else n.originalPosition.value=Ol(e,"position");for(const[i,l]of Object.entries(o))n.$el.style[i]=l},yS=(r,e,n)=>{const s=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?io(e,s.bm("parent","relative")):ea(e,s.bm("parent","relative")),r.fullscreen&&r.lock?ea(e,s.bm("parent","hidden")):io(e,s.bm("parent","hidden"))},gh=Symbol("ElLoading"),wS=(r,e)=>{var n,s,o,i;const l=e.instance,a=h=>pt(e.value)?e.value[h]:void 0,c=h=>{const p=ft(h)&&(l==null?void 0:l[h])||h;return p&&j(p)},u=h=>c(a(h)||r.getAttribute(`element-loading-${Zi(h)}`)),d=(n=a("fullscreen"))!=null?n:e.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:d,target:(s=a("target"))!=null?s:d?void 0:r,body:(o=a("body"))!=null?o:e.modifiers.body,lock:(i=a("lock"))!=null?i:e.modifiers.lock};r[gh]={options:f,instance:aY(f)}},dY=(r,e)=>{for(const n of Object.keys(e))qt(e[n])&&(e[n].value=r[n])},fY={mounted(r,e){e.value&&wS(r,e)},updated(r,e){const n=r[gh];e.oldValue!==e.value&&(e.value&&!e.oldValue?wS(r,e):e.value&&e.oldValue?pt(e.value)&&dY(e.value,n.options):n==null||n.instance.close())},unmounted(r){var e;(e=r[gh])==null||e.instance.close(),r[gh]=null}},kA=["success","info","warning","error"],Zn=Ss({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ct?document.body:void 0}),hY=et({customClass:{type:String,default:Zn.customClass},center:{type:Boolean,default:Zn.center},dangerouslyUseHTMLString:{type:Boolean,default:Zn.dangerouslyUseHTMLString},duration:{type:Number,default:Zn.duration},icon:{type:cs,default:Zn.icon},id:{type:String,default:Zn.id},message:{type:Be([String,Object,Function]),default:Zn.message},onClose:{type:Be(Function),default:Zn.onClose},showClose:{type:Boolean,default:Zn.showClose},type:{type:String,values:kA,default:Zn.type},plain:{type:Boolean,default:Zn.plain},offset:{type:Number,default:Zn.offset},zIndex:{type:Number,default:Zn.zIndex},grouping:{type:Boolean,default:Zn.grouping},repeatNum:{type:Number,default:Zn.repeatNum}}),pY={destroy:()=>!0},Os=Nv([]),gY=r=>{const e=Os.findIndex(o=>o.id===r),n=Os[e];let s;return e>0&&(s=Os[e-1]),{current:n,prev:s}},mY=r=>{const{prev:e}=gY(r);return e?e.vm.exposed.bottom.value:0},bY=(r,e)=>Os.findIndex(s=>s.id===r)>0?16:e,vY=["id"],yY=["innerHTML"],wY=pe({name:"ElMessage"}),CY=pe({...wY,props:hY,emits:pY,setup(r,{expose:e}){const n=r,{Close:s}=yy,{ns:o,zIndex:i}=Zp("message"),{currentZIndex:l,nextZIndex:a}=i,c=j(),u=j(!1),d=j(0);let f;const h=z(()=>n.type?n.type==="error"?"danger":n.type:"info"),p=z(()=>{const _=n.type;return{[o.bm("icon",_)]:_&&Ui[_]}}),g=z(()=>n.icon||Ui[n.type]||""),m=z(()=>mY(n.id)),v=z(()=>bY(n.id,n.offset)+m.value),b=z(()=>d.value+v.value),C=z(()=>({top:`${v.value}px`,zIndex:l.value}));function y(){n.duration!==0&&({stop:f}=kh(()=>{x()},n.duration))}function w(){f==null||f()}function x(){u.value=!1}function E({code:_}){_===bn.esc&&x()}return nt(()=>{y(),a(),u.value=!0}),$e(()=>n.repeatNum,()=>{w(),y()}),vn(document,"keydown",E),dr(c,()=>{d.value=c.value.getBoundingClientRect().height}),e({visible:u,bottom:b,close:x}),(_,M)=>(N(),ye(Or,{name:S(o).b("fade"),onBeforeLeave:_.onClose,onAfterLeave:M[0]||(M[0]=A=>_.$emit("destroy")),persisted:""},{default:O(()=>[Ue(H("div",{id:_.id,ref_key:"messageRef",ref:c,class:Y([S(o).b(),{[S(o).m(_.type)]:_.type},S(o).is("center",_.center),S(o).is("closable",_.showClose),S(o).is("plain",_.plain),_.customClass]),style:vt(S(C)),role:"alert",onMouseenter:w,onMouseleave:y},[_.repeatNum>1?(N(),ye(S(KU),{key:0,value:_.repeatNum,type:S(h),class:Y(S(o).e("badge"))},null,8,["value","type","class"])):ve("v-if",!0),S(g)?(N(),ye(S(dt),{key:1,class:Y([S(o).e("icon"),S(p)])},{default:O(()=>[(N(),ye(Ft(S(g))))]),_:1},8,["class"])):ve("v-if",!0),_e(_.$slots,"default",{},()=>[_.dangerouslyUseHTMLString?(N(),X(De,{key:1},[ve(" Caution here, message could've been compromised, never use user's input as message "),H("p",{class:Y(S(o).e("content")),innerHTML:_.message},null,10,yY)],2112)):(N(),X("p",{key:0,class:Y(S(o).e("content"))},oe(_.message),3))]),_.showClose?(N(),ye(S(dt),{key:2,class:Y(S(o).e("closeBtn")),onClick:It(x,["stop"])},{default:O(()=>[T(S(s))]),_:1},8,["class","onClick"])):ve("v-if",!0)],46,vY),[[st,u.value]])]),_:3},8,["name","onBeforeLeave"]))}});var SY=Xe(CY,[["__file","message.vue"]]);let xY=1;const PA=r=>{const e=!r||ft(r)||Mn(r)||qe(r)?{message:r}:r,n={...Zn,...e};if(!n.appendTo)n.appendTo=document.body;else if(ft(n.appendTo)){let s=document.querySelector(n.appendTo);ls(s)||(s=document.body),n.appendTo=s}return n},EY=r=>{const e=Os.indexOf(r);if(e===-1)return;Os.splice(e,1);const{handler:n}=r;n.close()},TY=({appendTo:r,...e},n)=>{const s=`message_${xY++}`,o=e.onClose,i=document.createElement("div"),l={...e,id:s,onClose:()=>{o==null||o(),EY(d)},onDestroy:()=>{ji(null,i)}},a=T(SY,l,qe(l.message)||Mn(l.message)?{default:qe(l.message)?l.message:()=>l.message}:null);a.appContext=n||vc._context,ji(a,i),r.appendChild(i.firstElementChild);const c=a.component,d={id:s,vnode:a,vm:c,handler:{close:()=>{c.exposed.visible.value=!1}},props:a.component.props};return d},vc=(r={},e)=>{if(!Ct)return{close:()=>{}};if(Tt(LC.max)&&Os.length>=LC.max)return{close:()=>{}};const n=PA(r);if(n.grouping&&Os.length){const o=Os.find(({vnode:i})=>{var l;return((l=i.props)==null?void 0:l.message)===n.message});if(o)return o.props.repeatNum+=1,o.props.type=n.type,o.handler}const s=TY(n,e);return Os.push(s),s.handler};kA.forEach(r=>{vc[r]=(e={},n)=>{const s=PA(e);return vc({...s,type:r},n)}});function _Y(r){for(const e of Os)(!r||r===e.props.type)&&e.handler.close()}vc.closeAll=_Y;vc._context=null;const tn=G_(vc,"$message"),OY=pe({name:"ElMessageBox",directives:{TrapFocus:C7},components:{ElButton:Pn,ElFocusTrap:tg,ElInput:Sn,ElOverlay:Dy,ElIcon:dt,...yy},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Rz},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(r,{emit:e}){const{locale:n,zIndex:s,ns:o,size:i}=Zp("message-box",z(()=>r.buttonSize)),{t:l}=n,{nextZIndex:a}=s,c=j(!1),u=St({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),d=z(()=>{const R=u.type;return{[o.bm("icon",R)]:R&&Ui[R]}}),f=ao(),h=ao(),p=z(()=>u.icon||Ui[u.type]||""),g=z(()=>!!u.message),m=j(),v=j(),b=j(),C=j(),y=j(),w=z(()=>u.confirmButtonClass);$e(()=>u.inputValue,async R=>{await tt(),r.boxType==="prompt"&&R!==null&&$()},{immediate:!0}),$e(()=>c.value,R=>{var U,Q;R&&(r.boxType!=="prompt"&&(u.autofocus?b.value=(Q=(U=y.value)==null?void 0:U.$el)!=null?Q:m.value:b.value=m.value),u.zIndex=a()),r.boxType==="prompt"&&(R?tt().then(()=>{var q;C.value&&C.value.$el&&(u.autofocus?b.value=(q=B())!=null?q:m.value:b.value=m.value)}):(u.editorErrorMessage="",u.validateError=!1))});const x=z(()=>r.draggable),E=z(()=>r.overflow);J_(m,v,x,E),nt(async()=>{await tt(),r.closeOnHashChange&&window.addEventListener("hashchange",_)}),Cn(()=>{r.closeOnHashChange&&window.removeEventListener("hashchange",_)});function _(){c.value&&(c.value=!1,tt(()=>{u.action&&e("action",u.action)}))}const M=()=>{r.closeOnClickModal&&P(u.distinguishCancelAndClose?"close":"cancel")},A=ky(M),k=R=>{if(u.inputType!=="textarea")return R.preventDefault(),P("confirm")},P=R=>{var U;r.boxType==="prompt"&&R==="confirm"&&!$()||(u.action=R,u.beforeClose?(U=u.beforeClose)==null||U.call(u,R,u,_):_())},$=()=>{if(r.boxType==="prompt"){const R=u.inputPattern;if(R&&!R.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||l("el.messagebox.error"),u.validateError=!0,!1;const U=u.inputValidator;if(typeof U=="function"){const Q=U(u.inputValue);if(Q===!1)return u.editorErrorMessage=u.inputErrorMessage||l("el.messagebox.error"),u.validateError=!0,!1;if(typeof Q=="string")return u.editorErrorMessage=Q,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},B=()=>{const R=C.value.$refs;return R.input||R.textarea},W=()=>{P("close")},I=()=>{r.closeOnPressEscape&&W()};return r.lockScroll&&Q_(c),{...Uo(u),ns:o,overlayEvent:A,visible:c,hasMessage:g,typeClass:d,contentId:f,inputId:h,btnSize:i,iconComponent:p,confirmButtonClasses:w,rootRef:m,focusStartRef:b,headerRef:v,inputRef:C,confirmRef:y,doClose:_,handleClose:W,onCloseRequested:I,handleWrapperClick:M,handleInputEnter:k,handleAction:P,t:l}}}),AY=["aria-label","aria-describedby"],MY=["aria-label"],kY=["id"];function PY(r,e,n,s,o,i){const l=Pt("el-icon"),a=Pt("close"),c=Pt("el-input"),u=Pt("el-button"),d=Pt("el-focus-trap"),f=Pt("el-overlay");return N(),ye(Or,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=h=>r.$emit("vanish")),persisted:""},{default:O(()=>[Ue(T(f,{"z-index":r.zIndex,"overlay-class":[r.ns.is("message-box"),r.modalClass],mask:r.modal},{default:O(()=>[H("div",{role:"dialog","aria-label":r.title,"aria-modal":"true","aria-describedby":r.showInput?void 0:r.contentId,class:Y(`${r.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...h)=>r.overlayEvent.onClick&&r.overlayEvent.onClick(...h)),onMousedown:e[9]||(e[9]=(...h)=>r.overlayEvent.onMousedown&&r.overlayEvent.onMousedown(...h)),onMouseup:e[10]||(e[10]=(...h)=>r.overlayEvent.onMouseup&&r.overlayEvent.onMouseup(...h))},[T(d,{loop:"",trapped:r.visible,"focus-trap-el":r.rootRef,"focus-start-el":r.focusStartRef,onReleaseRequested:r.onCloseRequested},{default:O(()=>[H("div",{ref:"rootRef",class:Y([r.ns.b(),r.customClass,r.ns.is("draggable",r.draggable),{[r.ns.m("center")]:r.center}]),style:vt(r.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=It(()=>{},["stop"]))},[r.title!==null&&r.title!==void 0?(N(),X("div",{key:0,ref:"headerRef",class:Y([r.ns.e("header"),{"show-close":r.showClose}])},[H("div",{class:Y(r.ns.e("title"))},[r.iconComponent&&r.center?(N(),ye(l,{key:0,class:Y([r.ns.e("status"),r.typeClass])},{default:O(()=>[(N(),ye(Ft(r.iconComponent)))]),_:1},8,["class"])):ve("v-if",!0),H("span",null,oe(r.title),1)],2),r.showClose?(N(),X("button",{key:0,type:"button",class:Y(r.ns.e("headerbtn")),"aria-label":r.t("el.messagebox.close"),onClick:e[0]||(e[0]=h=>r.handleAction(r.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=tr(It(h=>r.handleAction(r.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[T(l,{class:Y(r.ns.e("close"))},{default:O(()=>[T(a)]),_:1},8,["class"])],42,MY)):ve("v-if",!0)],2)):ve("v-if",!0),H("div",{id:r.contentId,class:Y(r.ns.e("content"))},[H("div",{class:Y(r.ns.e("container"))},[r.iconComponent&&!r.center&&r.hasMessage?(N(),ye(l,{key:0,class:Y([r.ns.e("status"),r.typeClass])},{default:O(()=>[(N(),ye(Ft(r.iconComponent)))]),_:1},8,["class"])):ve("v-if",!0),r.hasMessage?(N(),X("div",{key:1,class:Y(r.ns.e("message"))},[_e(r.$slots,"default",{},()=>[r.dangerouslyUseHTMLString?(N(),ye(Ft(r.showInput?"label":"p"),{key:1,for:r.showInput?r.inputId:void 0,innerHTML:r.message},null,8,["for","innerHTML"])):(N(),ye(Ft(r.showInput?"label":"p"),{key:0,for:r.showInput?r.inputId:void 0},{default:O(()=>[le(oe(r.dangerouslyUseHTMLString?"":r.message),1)]),_:1},8,["for"]))])],2)):ve("v-if",!0)],2),Ue(H("div",{class:Y(r.ns.e("input"))},[T(c,{id:r.inputId,ref:"inputRef",modelValue:r.inputValue,"onUpdate:modelValue":e[2]||(e[2]=h=>r.inputValue=h),type:r.inputType,placeholder:r.inputPlaceholder,"aria-invalid":r.validateError,class:Y({invalid:r.validateError}),onKeydown:tr(r.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),H("div",{class:Y(r.ns.e("errormsg")),style:vt({visibility:r.editorErrorMessage?"visible":"hidden"})},oe(r.editorErrorMessage),7)],2),[[st,r.showInput]])],10,kY),H("div",{class:Y(r.ns.e("btns"))},[r.showCancelButton?(N(),ye(u,{key:0,loading:r.cancelButtonLoading,class:Y([r.cancelButtonClass]),round:r.roundButton,size:r.btnSize,onClick:e[3]||(e[3]=h=>r.handleAction("cancel")),onKeydown:e[4]||(e[4]=tr(It(h=>r.handleAction("cancel"),["prevent"]),["enter"]))},{default:O(()=>[le(oe(r.cancelButtonText||r.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):ve("v-if",!0),Ue(T(u,{ref:"confirmRef",type:"primary",loading:r.confirmButtonLoading,class:Y([r.confirmButtonClasses]),round:r.roundButton,disabled:r.confirmButtonDisabled,size:r.btnSize,onClick:e[5]||(e[5]=h=>r.handleAction("confirm")),onKeydown:e[6]||(e[6]=tr(It(h=>r.handleAction("confirm"),["prevent"]),["enter"]))},{default:O(()=>[le(oe(r.confirmButtonText||r.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[st,r.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,AY)]),_:3},8,["z-index","overlay-class","mask"]),[[st,r.visible]])]),_:3})}var NY=Xe(OY,[["render",PY],["__file","index.vue"]]);const bd=new Map,IY=r=>{let e=document.body;return r.appendTo&&(ft(r.appendTo)&&(e=document.querySelector(r.appendTo)),ls(r.appendTo)&&(e=r.appendTo),ls(e)||(e=document.body)),e},LY=(r,e,n=null)=>{const s=T(NY,r,qe(r.message)||Mn(r.message)?{default:qe(r.message)?r.message:()=>r.message}:null);return s.appContext=n,ji(s,e),IY(r).appendChild(e.firstElementChild),s.component},RY=()=>document.createElement("div"),$Y=(r,e)=>{const n=RY();r.onVanish=()=>{ji(null,n),bd.delete(o)},r.onAction=i=>{const l=bd.get(o);let a;r.showInput?a={value:o.inputValue,action:i}:a=i,r.callback?r.callback(a,s.proxy):i==="cancel"||i==="close"?r.distinguishCancelAndClose&&i!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(a)};const s=LY(r,n,e),o=s.proxy;for(const i in r)wt(r,i)&&!wt(o.$props,i)&&(o[i]=r[i]);return o.visible=!0,o};function eu(r,e=null){if(!Ct)return Promise.reject();let n;return ft(r)||Mn(r)?r={message:r}:n=r.callback,new Promise((s,o)=>{const i=$Y(r,e??eu._context);bd.set(i,{options:r,callback:n,resolve:s,reject:o})})}const DY=["alert","confirm","prompt"],VY={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};DY.forEach(r=>{eu[r]=FY(r)});function FY(r){return(e,n,s,o)=>{let i="";return pt(n)?(s=n,i=""):wr(n)?i="":i=n,eu(Object.assign({title:i,message:e,type:"",...VY[r]},s,{boxType:r}),o)}}eu.close=()=>{bd.forEach((r,e)=>{e.doClose()}),bd.clear()};eu._context=null;const hi=eu;hi.install=r=>{hi._context=r._context,r.config.globalProperties.$msgbox=hi,r.config.globalProperties.$messageBox=hi,r.config.globalProperties.$alert=hi.alert,r.config.globalProperties.$confirm=hi.confirm,r.config.globalProperties.$prompt=hi.prompt};const Vr=hi,NA=["success","info","warning","error"],BY=et({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:cs},id:{type:String,default:""},message:{type:Be([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Be(Function),default:()=>{}},onClose:{type:Be(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...NA,""],default:""},zIndex:Number}),zY={destroy:()=>!0},jY=["id"],HY=["textContent"],UY={key:0},WY=["innerHTML"],qY=pe({name:"ElNotification"}),GY=pe({...qY,props:BY,emits:zY,setup(r,{expose:e}){const n=r,{ns:s,zIndex:o}=Zp("notification"),{nextZIndex:i,currentZIndex:l}=o,{Close:a}=W_,c=j(!1);let u;const d=z(()=>{const y=n.type;return y&&Ui[n.type]?s.m(y):""}),f=z(()=>n.type&&Ui[n.type]||n.icon),h=z(()=>n.position.endsWith("right")?"right":"left"),p=z(()=>n.position.startsWith("top")?"top":"bottom"),g=z(()=>{var y;return{[p.value]:`${n.offset}px`,zIndex:(y=n.zIndex)!=null?y:l.value}});function m(){n.duration>0&&({stop:u}=kh(()=>{c.value&&b()},n.duration))}function v(){u==null||u()}function b(){c.value=!1}function C({code:y}){y===bn.delete||y===bn.backspace?v():y===bn.esc?c.value&&b():m()}return nt(()=>{m(),i(),c.value=!0}),vn(document,"keydown",C),e({visible:c,close:b}),(y,w)=>(N(),ye(Or,{name:S(s).b("fade"),onBeforeLeave:y.onClose,onAfterLeave:w[1]||(w[1]=x=>y.$emit("destroy")),persisted:""},{default:O(()=>[Ue(H("div",{id:y.id,class:Y([S(s).b(),y.customClass,S(h)]),style:vt(S(g)),role:"alert",onMouseenter:v,onMouseleave:m,onClick:w[0]||(w[0]=(...x)=>y.onClick&&y.onClick(...x))},[S(f)?(N(),ye(S(dt),{key:0,class:Y([S(s).e("icon"),S(d)])},{default:O(()=>[(N(),ye(Ft(S(f))))]),_:1},8,["class"])):ve("v-if",!0),H("div",{class:Y(S(s).e("group"))},[H("h2",{class:Y(S(s).e("title")),textContent:oe(y.title)},null,10,HY),Ue(H("div",{class:Y(S(s).e("content")),style:vt(y.title?void 0:{margin:0})},[_e(y.$slots,"default",{},()=>[y.dangerouslyUseHTMLString?(N(),X(De,{key:1},[ve(" Caution here, message could've been compromised, never use user's input as message "),H("p",{innerHTML:y.message},null,8,WY)],2112)):(N(),X("p",UY,oe(y.message),1))])],6),[[st,y.message]]),y.showClose?(N(),ye(S(dt),{key:0,class:Y(S(s).e("closeBtn")),onClick:It(b,["stop"])},{default:O(()=>[T(S(a))]),_:1},8,["class","onClick"])):ve("v-if",!0)],2)],46,jY),[[st,c.value]])]),_:3},8,["name","onBeforeLeave"]))}});var KY=Xe(GY,[["__file","notification.vue"]]);const zh={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Fb=16;let YY=1;const yc=function(r={},e=null){if(!Ct)return{close:()=>{}};(typeof r=="string"||Mn(r))&&(r={message:r});const n=r.position||"top-right";let s=r.offset||0;zh[n].forEach(({vm:d})=>{var f;s+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+Fb}),s+=Fb;const o=`notification_${YY++}`,i=r.onClose,l={...r,offset:s,id:o,onClose:()=>{JY(o,n,i)}};let a=document.body;ls(r.appendTo)?a=r.appendTo:ft(r.appendTo)&&(a=document.querySelector(r.appendTo)),ls(a)||(a=document.body);const c=document.createElement("div"),u=T(KY,l,Mn(l.message)?{default:()=>l.message}:null);return u.appContext=e??yc._context,u.props.onDestroy=()=>{ji(null,c)},ji(u,c),zh[n].push({vm:u}),a.appendChild(c.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};NA.forEach(r=>{yc[r]=(e={})=>((typeof e=="string"||Mn(e))&&(e={message:e}),yc({...e,type:r}))});function JY(r,e,n){const s=zh[e],o=s.findIndex(({vm:u})=>{var d;return((d=u.component)==null?void 0:d.props.id)===r});if(o===-1)return;const{vm:i}=s[o];if(!i)return;n==null||n(i);const l=i.el.offsetHeight,a=e.split("-")[0];s.splice(o,1);const c=s.length;if(!(c<1))for(let u=o;u<c;u++){const{el:d,component:f}=s[u].vm,h=Number.parseInt(d.style[a],10)-l-Fb;f.props.offset=h}}function XY(){for(const r of Object.values(zh))r.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}yc.closeAll=XY;yc._context=null;const Bf=G_(yc,"$notify");function pi(r){return JSON.parse(JSON.stringify(r))}function rt(r,e,n,s,o){const i={method:r,headers:{Accept:"application/json","Content-Type":"application/json"}};let l="/"+e;if(n){const c=new URLSearchParams(n);l+="?"+c.toString()}if(s){var a=new FormData;for(let c of Objects.keys(s))a.append(c,s[c]);i.body=a}else o&&(i.body=JSON.stringify(o));return fetch(l,i).then(c=>c.json()).catch(c=>c)}function sr(r,e){if(!(r==null||r==null))for(const[n,s]of Object.entries(r))s!=null&&s!=null&&(e[n]=s)}function Ul(){return{branchId:"",branchName:"",branchType:"Condition",targetNodeId:"",conditionGroup:[[{conditionType:"UserInput",refOptions:[],refChoice:"",compareOptions:[],compareType:"Eq",targetOptions:[],targetValueVariant:"Const",targetValue:"",inputVariable:!1,caseSensitiveComparison:!0}]],editable:!0}}function Cl(r,e,n,s,o){let i;return o?i="No. "+(r+1)+" branch, condition: "+(n+1)+"-"+(s+1)+" "+o:i="No. "+(r+1)+" branch, "+e,{r:!1,m:i}}function ZY(r){for(let e=0;e<r.length;e++){const n=r[e];if(!n.branchId)return Cl(e,"branchId is missing",0,null);if(!n.branchName)return Cl(e,"branchName is missing");if(n.branchType!=="GotoAnotherNode"){if(!n.conditionGroup||!Array.isArray(n.conditionGroup)||n.conditionGroup.length<1||!Array.isArray(n.conditionGroup[0])||n.conditionGroup[0].length<1)return Cl(e,"conditions is missing",0,null);for(let s=0;s<n.conditionGroup.length;s++)for(let o=0;o<n.conditionGroup[s].length;o++){const i=n.conditionGroup[s][o];if(!i.conditionType)return Cl(e,null,s,o,"conditionType is missing");if(!i.compareType)return Cl(e,null,s,o,"compareType is missing");if(i.compareType!=="Timeout"&&(!i.targetValue||i.targetValue.trim()===""))return Cl(e,null,s,o,"targetValue is missing")}}}return{r:!0}}function IA(r){return window.btoa(encodeURIComponent(r))}function QY(r){return decodeURIComponent(window.atob(r))}function eJ(){return window.location.href.indexOf("dialogflowchatbot.github.io")>-1}function tJ(r,e){window.localStorage.setItem(t.data.robotId+"type",t.data.robotType)}function nJ(r){return window.localStorage.getItem(r+"type")}const rJ={class:"text-large font-600 mr-3"},sJ=H("h3",null,"Global settings",-1),oJ=["checked"],iJ={for:"_randomPortWhenConflict_"},Ea="130px",lJ={__name:"GlobalSettings",setup(r){const{t:e,tm:n}=cn(),s=ps(),o=()=>{s.push("/")},i=St({ip:"127.0.0.1",port:"12715",selectRandomPortWhenConflict:!1});nt(async()=>{const a=await rt("GET","management/global-settings",null,null,null);a.status==200&&sr(a.data,i)});async function l(){let a=await rt("POST","management/global-settings",null,null,i);if(a.status==200)tn({type:"success",message:e("lang.common.saved")}),await checkHfModelFiles();else{const c=e(a.err.message);tn.error(c||a.err.message)}}return(a,c)=>{const u=mo,d=Sn,f=lr,h=Fy,p=Pn,g=ir,m=rg,v=ng;return N(),X(De,null,[T(u,{title:a.$t("lang.common.back"),onBack:o},{content:O(()=>[H("span",rJ,oe(a.$t("lang.settings.title")),1)]),_:1},8,["title"]),sJ,T(v,null,{default:O(()=>[T(m,{span:12,offset:1},{default:O(()=>[T(g,{model:i},{default:O(()=>[T(f,{label:"IP addr (v4 or v6)","label-width":Ea},{default:O(()=>[T(d,{modelValue:i.ip,"onUpdate:modelValue":c[0]||(c[0]=b=>i.ip=b),placeholder:""},null,8,["modelValue"])]),_:1}),T(f,{label:"","label-width":Ea},{default:O(()=>[le(oe(a.$t("lang.settings.ipNote")),1)]),_:1}),T(f,{label:a.$t("lang.settings.prompt2"),"label-width":Ea},{default:O(()=>[T(h,{modelValue:i.port,"onUpdate:modelValue":c[1]||(c[1]=b=>i.port=b),min:1024,max:65530,onChange:a.handleChange},null,8,["modelValue","onChange"])]),_:1},8,["label"]),T(f,{label:"","label-width":Ea},{default:O(()=>[Ue(H("input",{type:"checkbox",id:"_randomPortWhenConflict_","onUpdate:modelValue":c[2]||(c[2]=b=>i.selectRandomPortWhenConflict=b),checked:i.selectRandomPortWhenConflict},null,8,oJ),[[zi,i.selectRandomPortWhenConflict]]),H("label",iJ,oe(a.$t("lang.settings.prompt2_2")),1)]),_:1}),T(f,{"label-width":Ea},{default:O(()=>[le(oe(a.$t("lang.settings.note")),1)]),_:1}),T(f,{label:"","label-width":Ea},{default:O(()=>[T(p,{type:"primary",onClick:l},{default:O(()=>[le(oe(a.$t("lang.common.save")),1)]),_:1}),T(p,{onClick:c[3]||(c[3]=b=>o())},{default:O(()=>[le(oe(a.$t("lang.common.cancel")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})],64)}}},aJ={class:"text-large font-600 mr-3"},cJ=H("h3",null,"Common settings",-1),uJ=H("h3",null,"Embedding provider",-1),dJ=H("h3",null,"Email settings",-1),CS="[-\\w\\.\\+]{1,100}@[A-Za-z0-9]{1,30}[A-Za-z\\.]{2,30}",ys="130px",fJ={__name:"Settings",setup(r){const{t:e,tm:n}=cn(),s=Go(),o=ps(),i=s.params.robotId,l=j(30),a=()=>{o.push({name:"robotDetail",params:{robotId:i}})},c=St({maxSessionIdleSec:1800,smtpHost:"",smtpUsername:"",smtpPassword:"",smtpTimeoutSec:60,emailVerificationRegex:"",embeddingProvider:{provider:{id:"",model:""},apiUrl:"",apiUrlDisabled:!1,showApiKeyInput:!0,apiKey:"",connectTimeoutMillis:1500,readTimeoutMillis:3e3}}),u=j(!1),d=j(!1),f=j(!1),h=j(""),p=j(!1),g=j(!1),m=j(""),v=j(""),b=j("");nt(async()=>{const B=await rt("GET","management/settings",{robotId:i},null,null);B.status==200&&(sr(B.data,c),l.value=c.maxSessionIdleSec/60,$(c.embeddingProvider.provider.id)),await C()});async function C(){if(c.embeddingProvider.provider.id!="HuggingFace"){p.value=!1;return}const B=await rt("GET","management/settings/model/check",{robotId:i},null,null);if(B&&B.status!=200){for(let W=0;W<A.length;W++)if(A[W].value==c.embeddingProvider.provider.model){let I=A[W].label;const R=I.lastIndexOf(" ");R>-1&&(I=I.substring(0,R)),m.value=I;break}p.value=!0}else p.value=!1}async function y(){c.emailVerificationRegex||(c.emailVerificationRegex=CS),c.maxSessionIdleSec=l.value*60;let B=await rt("POST","management/settings",{robotId:i},null,c);if(B.status==200)tn({type:"success",message:e("lang.common.saved")}),await C();else{const W=e(B.err.message);tn.error(W||B.err.message)}}let w=null;async function x(){rt("GET","management/settings/model/download",{robotId:i},null,null).then(B=>{B.status!=200&&(tn.error("Download failed: "+B.err.message),clearTimeout(w)),g.value=!1,p.value=!0}),p.value=!1,g.value=!0,w=setTimeout(async()=>{await E()},1e3)}async function E(){const B=await rt("GET","management/settings/model/download/progress",null,null,null);B!=null&&B.data!=null&&B.data.downloading?(v.value=B.data.url,b.value=(B.data.downloadedLen/B.data.totalLen*100).toFixed(2),w=setTimeout(async()=>{await E()},1e3)):(p.value=!1,g.value=!1)}const _=async()=>{u.value=!0;const B=await rt("POST","management/settings/smtp/test",null,null,c);B.status==200?(d.value=!0,f.value=!1):(h.value=e(B.err.message),d.value=!1,f.value=!0),u.value=!1},M=[{id:"HuggingFace",name:"HuggingFace",apiUrl:"Model will be downloaded locally at ./data/models",apiUrlDisabled:!0,showApiKeyInput:!1,models:[{label:"sentence-transformers/all-MiniLM-L6-v2 (91MB)",value:"AllMiniLML6V2",dimenssions:384},{label:"sentence-transformers/paraphrase-MiniLM-L12-v2 (135MB)",value:"ParaphraseMLMiniLML12V2"},{label:"sentence-transformers/paraphrase-multilingual-mpnet-base-v2 (1.11GB)",value:"ParaphraseMLMpnetBaseV2"},{label:"BAAI/bge-small-en-v1.5 (135MB)",value:"BgeSmallEnV1_5"},{label:"BAAI/bge-base-en-v1.5 (439MB)",value:"BgeBaseEnV1_5"},{label:"BAAI/bge-large-en-v1.5 (1.35GB)",value:"BgeLargeEnV1_5"},{label:"BAAI/bge-m3 (2.27GB)",value:"BgeM3"},{label:"nomic-ai/nomic-embed-text-v1.5 (550MB)",value:"NomicEmbedTextV1_5"},{label:"intfloat/multilingual-e5-small (472MB)",value:"MultilingualE5Small"},{label:"intfloat/multilingual-e5-base (1.11GB)",value:"MultilingualE5Base"},{label:"intfloat/multilingual-e5-large (2.24GB)",value:"MultilingualE5Large"},{label:"mixedbread-ai/mxbai-embed-large-v1 (1.34GB)",value:"MxbaiEmbedLargeV1"}]},{id:"OpenAI",name:"OpenAI",apiUrl:"https://api.openai.com/v1/embeddings",apiUrlDisabled:!0,showApiKeyInput:!0,models:[{label:"text-embedding-3-small",value:"text-embedding-3-small"},{label:"text-embedding-3-large",value:"text-embedding-3-large"},{label:"text-embedding-ada-002",value:"text-embedding-ada-002"}]},{id:"Ollama",name:"Ollama",apiUrl:"http://localhost:11434/api/embeddings",apiUrlDisabled:!1,showApiKeyInput:!1,models:[{label:"Meta Llama 3",value:"llama3"},{label:"Phi-3",value:"phi3"},{label:"WizardLM-2",value:"wizardlm2"},{label:"Mistral",value:"mistral"},{label:"Gemma",value:"gemma"},{label:"Mixtral",value:"mixtral"},{label:"Llama 2",value:"llama2"},{label:"Qwen",value:"qwen"},{label:"TinyLlama",value:"tinyllama"},{label:"Yi 1.5",value:"yi"},{label:"All Mini LM",value:"all-minilm"},{label:"Llama 2 Chinese",value:"llama2-chinese"}]}],A=St([]),k=new Map,P=j(""),$=B=>{P.value&&k.set(P.value,c.embeddingProvider.apiUrl);for(let W=0;W<M.length;W++)if(M[W].id==B){M[W].apiUrlDisabled?c.embeddingProvider.apiUrl=M[W].apiUrl:(c.embeddingProvider.apiUrl=k.get(c.embeddingProvider.provider.id),c.embeddingProvider.apiUrl||(c.embeddingProvider.apiUrl=M[W].apiUrl)),c.embeddingProvider.apiUrlDisabled=M[W].apiUrlDisabled,c.embeddingProvider.showApiKeyInput=M[W].showApiKeyInput,P.value=B,A.splice(0,A.length,...M[W].models);break}};return(B,W)=>{const I=mo,R=Fy,U=lr,Q=Pn,q=ir,ee=rg,de=ng,ce=iW,Te=$y,fe=Sn,we=ei,Ee=Qo,G=CO;return N(),X(De,null,[T(I,{title:B.$t("lang.common.back"),onBack:a},{content:O(()=>[H("span",aJ,oe(B.$t("lang.settings.title")),1)]),_:1},8,["title"]),cJ,T(de,null,{default:O(()=>[T(ee,{span:12,offset:1},{default:O(()=>[T(q,{model:c},{default:O(()=>[T(U,{label:B.$t("lang.settings.prompt3"),"label-width":ys},{default:O(()=>[T(R,{modelValue:l.value,"onUpdate:modelValue":W[0]||(W[0]=ne=>l.value=ne),min:2,max:1440,onChange:B.handleChange},null,8,["modelValue","onChange"]),le(" "+oe(B.$t("lang.settings.prompt4")),1)]),_:1},8,["label"]),T(U,{label:"","label-width":ys},{default:O(()=>[T(Q,{type:"primary",onClick:y},{default:O(()=>[le(oe(B.$t("lang.common.save")),1)]),_:1}),T(Q,{onClick:W[1]||(W[1]=ne=>a())},{default:O(()=>[le(oe(B.$t("lang.common.cancel")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),uJ,T(de,null,{default:O(()=>[T(ee,{span:11,offset:1},{default:O(()=>[T(q,{model:c.embeddingProvider,"label-width":ys,style:{"max-width":"600px"}},{default:O(()=>[T(U,{label:"Provider"},{default:O(()=>[T(Te,{modelValue:c.embeddingProvider.provider.id,"onUpdate:modelValue":W[2]||(W[2]=ne=>c.embeddingProvider.provider.id=ne),size:"large",onChange:$},{default:O(()=>[(N(),X(De,null,Ot(M,ne=>T(ce,{id:ne.id,key:ne.id,label:ne.id,value:ne.id},null,8,["id","label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),T(U,{label:"Request address"},{default:O(()=>[T(fe,{modelValue:c.embeddingProvider.apiUrl,"onUpdate:modelValue":W[3]||(W[3]=ne=>c.embeddingProvider.apiUrl=ne),disabled:c.embeddingProvider.apiUrlDisabled},null,8,["modelValue","disabled"])]),_:1}),Ue(T(U,{label:"OpenAI API key"},{default:O(()=>[T(fe,{modelValue:c.embeddingProvider.apiKey,"onUpdate:modelValue":W[4]||(W[4]=ne=>c.embeddingProvider.apiKey=ne)},null,8,["modelValue"])]),_:1},512),[[st,c.embeddingProvider.showApiKeyInput]]),T(U,{label:"Model"},{default:O(()=>[T(Ee,{modelValue:c.embeddingProvider.provider.model,"onUpdate:modelValue":W[5]||(W[5]=ne=>c.embeddingProvider.provider.model=ne),placeholder:"Choose a model"},{default:O(()=>[(N(!0),X(De,null,Ot(A,ne=>(N(),ye(we,{id:ne.value,key:ne.value,label:ne.label,value:ne.value},null,8,["id","label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),Ue(T(U,{label:"Connect timeout"},{default:O(()=>[T(R,{modelValue:c.embeddingProvider.connectTimeoutMillis,"onUpdate:modelValue":W[6]||(W[6]=ne=>c.embeddingProvider.connectTimeoutMillis=ne),min:100,max:5e4},null,8,["modelValue"]),le(" millis ")]),_:1},512),[[st,c.embeddingProvider.provider.id!="HuggingFace"]]),Ue(T(U,{label:"Read timeout"},{default:O(()=>[T(R,{modelValue:c.embeddingProvider.readTimeoutMillis,"onUpdate:modelValue":W[7]||(W[7]=ne=>c.embeddingProvider.readTimeoutMillis=ne),min:1e3,max:65530},null,8,["modelValue"]),le(" millis ")]),_:1},512),[[st,c.embeddingProvider.provider.id!="HuggingFace"]]),Ue(T(U,{label:""},{default:O(()=>[le(" HuggingFace model files were incorrect or missing, please "),T(Q,{type:"primary",text:"",onClick:x},{default:O(()=>[le(" click here to download model files ")]),_:1}),le(", or you can download manually and put them in ./data/model/"+oe(m.value),1)]),_:1},512),[[st,p.value]]),Ue(T(U,{label:""},{default:O(()=>[le(" Downloading: "+oe(v.value)+", "+oe(b.value)+"% ",1)]),_:1},512),[[st,g.value]]),T(U,{label:"","label-width":ys},{default:O(()=>[T(Q,{type:"primary",onClick:y},{default:O(()=>[le(oe(B.$t("lang.common.save")),1)]),_:1}),T(Q,{onClick:W[8]||(W[8]=ne=>a())},{default:O(()=>[le(oe(B.$t("lang.common.cancel")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),dJ,T(de,null,{default:O(()=>[T(ee,{span:11,offset:1},{default:O(()=>[T(q,{model:c},{default:O(()=>[T(U,{label:"Email SMTP","label-width":ys}),T(U,{label:"Host","label-width":ys},{default:O(()=>[T(fe,{modelValue:c.smtpHost,"onUpdate:modelValue":W[9]||(W[9]=ne=>c.smtpHost=ne),placeholder:""},null,8,["modelValue"])]),_:1}),T(U,{label:"Username","label-width":ys},{default:O(()=>[T(fe,{modelValue:c.smtpUsername,"onUpdate:modelValue":W[10]||(W[10]=ne=>c.smtpUsername=ne),placeholder:""},null,8,["modelValue"])]),_:1}),T(U,{label:"Password","label-width":ys},{default:O(()=>[T(fe,{modelValue:c.smtpPassword,"onUpdate:modelValue":W[11]||(W[11]=ne=>c.smtpPassword=ne),placeholder:"",type:"password"},null,8,["modelValue"])]),_:1}),T(U,{label:"Timeout","label-width":ys},{default:O(()=>[T(R,{modelValue:c.smtpTimeoutSec,"onUpdate:modelValue":W[12]||(W[12]=ne=>c.smtpTimeoutSec=ne),min:1,max:600,onChange:B.handleChange},null,8,["modelValue","onChange"]),le(" Seconds ")]),_:1}),T(U,{label:"Email verification regex","label-width":"200px"},{default:O(()=>[T(fe,{modelValue:c.emailVerificationRegex,"onUpdate:modelValue":W[13]||(W[13]=ne=>c.emailVerificationRegex=ne),placeholder:CS},null,8,["modelValue"])]),_:1}),T(U,{label:"","label-width":"200px"},{default:O(()=>[le(" You can customize the email verification regular expression, or leave it blank and the system will automatically use the general verification rules. ")]),_:1}),T(U,{label:"","label-width":ys},{default:O(()=>[T(Q,{loading:u.value,type:"info",onClick:_},{default:O(()=>[le(" Test SMTP settings ")]),_:1},8,["loading"]),d.value?(N(),ye(G,{key:0,title:"SMTP test passed",type:"success"})):ve("",!0),f.value?(N(),ye(G,{key:1,title:h.value,type:"error"},null,8,["title"])):ve("",!0)]),_:1}),T(U,{label:"","label-width":ys},{default:O(()=>[T(Q,{type:"primary",onClick:y},{default:O(()=>[le(oe(B.$t("lang.common.save")),1)]),_:1}),T(Q,{onClick:W[14]||(W[14]=ne=>a())},{default:O(()=>[le(oe(B.$t("lang.common.cancel")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})],64)}}},hJ={class:"text-large font-600 mr-3"},pJ={class:"flex items-center"},gJ="130px",mJ={__name:"MainFlow",setup(r){const{t:e,tm:n,rt:s}=cn(),o=Go(),i=ps(),l=o.params.robotId,a=St({_idx:0,id:"",name:"",enabled:!0}),c=j(!1),u=j([]);nt(async()=>{const y=await rt("GET","mainflow",{robotId:l},null,null);d(y)});const d=y=>{y&&y.status==200&&(u.value=y.data==null?[]:y.data)},f=()=>{i.push({name:"robotDetail",params:{robotId:l}})},h=(y,w)=>{i.push({name:"subflow",params:{robotId:l,id:w.id,name:IA(w.name)}})},p=()=>{a.id="",a.name="",a.enabled=!0,v()},g=(y,w)=>{a._idx=y,a.id=w.id,a.name=w.name,a.enabled=w.enabled,v()},m=async(y,w)=>{Vr.confirm(e("lang.mainflow.delConfirm"),"Warning",{confirmButtonText:e("lang.common.del"),cancelButtonText:e("lang.common.cancel"),type:"warning"}).then(async()=>{a.id=w.id;const x=await rt("DELETE","mainflow",null,null,a);u.value.splice(y,1),b(),tn({type:"success",message:x("lang.common.deleted")})}).catch(()=>{})};function v(){c.value=!0}function b(){c.value=!1}const C=async()=>{const y=a.id,w=await rt(y?"PUT":"POST","mainflow",null,null,a);y?u.value[a._idx]={_idx:a._idx,id:a.id,name:a.name,enabled:a.enabled}:w.status==200&&u.value.push(w.data),b()};return(y,w)=>{const x=Pn,E=mo,_=sf,M=rf,A=Sn,k=lr,P=ir,$=ll;return N(),X(De,null,[T(E,{title:S(e)("lang.common.back"),onBack:f},{content:O(()=>[H("span",hJ,oe(y.$t("lang.mainflow.title")),1)]),extra:O(()=>[H("div",pJ,[T(x,{type:"primary",class:"ml-2",onClick:w[0]||(w[0]=B=>p())},{default:O(()=>[le(oe(y.$t("lang.mainflow.add")),1)]),_:1})])]),_:1},8,["title"]),T(M,{data:u.value,stripe:"",style:{width:"100%"}},{default:O(()=>[T(_,{prop:"id",label:"Id",width:"270"}),T(_,{prop:"name",label:S(n)("lang.mainflow.table")[0],width:"360"},null,8,["label"]),T(_,{fixed:"right",label:S(n)("lang.mainflow.table")[2],width:"270"},{default:O(B=>[T(x,{link:"",type:"primary",size:"small",onClick:W=>h(B.$index,B.row)},{default:O(()=>[le(oe(y.$t("lang.common.edit")),1)]),_:2},1032,["onClick"]),le(" | "),T(x,{link:"",type:"primary",size:"small",onClick:W=>g(B.$index,B.row)},{default:O(()=>[le(oe(y.$t("lang.common.edit"))+" name ",1)]),_:2},1032,["onClick"]),le(" | "),T(x,{link:"",type:"primary",size:"small",onClick:W=>m(B.$index,B.row)},{default:O(()=>[le(oe(y.$t("lang.common.del")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),T($,{modelValue:c.value,"onUpdate:modelValue":w[4]||(w[4]=B=>c.value=B),title:y.$t("lang.mainflow.form.title"),width:"60%"},{footer:O(()=>[T(x,{type:"primary",loading:y.loading,onClick:w[2]||(w[2]=B=>C())},{default:O(()=>[le(oe(y.$t("lang.common.save")),1)]),_:1},8,["loading"]),T(x,{onClick:w[3]||(w[3]=B=>b())},{default:O(()=>[le(oe(y.$t("lang.common.cancel")),1)]),_:1})]),default:O(()=>[T(P,{model:y.nodeData},{default:O(()=>[T(k,{label:y.$t("lang.mainflow.form.name"),"label-width":gJ},{default:O(()=>[T(A,{modelValue:a.name,"onUpdate:modelValue":w[1]||(w[1]=B=>a.name=B),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}},bJ={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},vJ=H("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896a448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768a384 384 0 0 0 0 768m48-176a48 48 0 1 1-96 0a48 48 0 0 1 96 0m-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"},null,-1),yJ=[vJ];function wJ(r,e){return N(),X("svg",bJ,[...yJ])}const ma={name:"ep-warning",render:wJ},Hs=(r,e)=>{const n=r.__vccOpts||r;for(const[s,o]of e)n[s]=o;return n},CJ={class:"nodeBox"},SJ={class:"demo-drawer__footer"},zf="140px",xJ={__name:"CollectNode",setup(r){const{t:e,tm:n,rt:s}=cn(),o=j(!1),i=St({nodeName:e("lang.collectNode.nodeName"),collectTypeName:"",collectType:"",customizeRegex:"",collectSaveVarName:"",valid:!1,invalidMessages:[],branches:[],newNode:!0}),l=j(),a=Ve("getNode"),{robotId:c}=Ve("robotId");a().on("change:data",({current:C})=>{o.value=!0});const d=[{label:n("lang.collectNode.cTypes")[0],value:"UserInput"},{label:n("lang.collectNode.cTypes")[1],value:"Number"},{label:n("lang.collectNode.cTypes")[2],value:"CustomizeRegex"}],f=[];nt(async()=>{const C=a(),y=C.getData();if(sr(y,i),i.newNode){i.nodeName+=y.nodeCnt.toString();const x=l.value.offsetHeight+50,E=l.value.offsetWidth-15;C.addPort({group:"absolute",args:{x:E,y:x},attrs:{text:{text:n("lang.collectNode.branches")[0],fontSize:12}}}),C.addPort({group:"absolute",args:{x:E,y:x+20},attrs:{text:{text:n("lang.collectNode.branches")[1],fontSize:12}}}),i.newNode=!1}const w=await rt("GET","variable",{robotId:c},null,null);w&&w.status==200&&w.data&&(f.splice(0,f.length),w.data.forEach(function(x,E,_){this.push({label:x.varName,value:x.varName})},f)),p()});const h=n("lang.collectNode.errors");function p(){const C=i,y=C.invalidMessages;y.splice(0,y.length),C.nodeName||y.push(h[0]),C.collectType||y.push(h[1]),C.collectSaveVarName||y.push(h[2]),(C.branches==null||C.branches.length==0)&&y.push(h[3]),C.valid=y.length==0}function g(){o.value=!1}function m(){v();const C=a(),y=C.getPorts();i.branches.splice(0,i.branches.length);for(let w=0;w<y.length;w++){const x=Ul();x.branchName=y[w].attrs.text.text,x.branchId=y[w].id,x.branchType=w==0?"InfoCollectedSuccessfully":"GotoAnotherNode",i.branches.push(x)}p(),i.collectType=="CustomizeRegex"?i.collect_type={CustomizeRegex:i.customizeRegex}:i.collect_type=i.collectType,C.setData(i,{silent:!1}),g()}function v(){for(let C=0;C<d.length;C++)i.collectType==d[C].value&&(i.collectTypeName=d[C].label)}const b=n("lang.collectNode.labels");return(C,y)=>{const w=dt,x=gs,E=Sn,_=lr,M=ei,A=Qo,k=ir,P=Pn,$=Zo;return N(),X("div",CJ,[H("div",{ref_key:"nodeName",ref:l,class:"nodeTitle"},[le(oe(i.nodeName)+" ",1),Ue(H("span",null,[T(x,{class:"box-item",effect:"dark",content:i.invalidMessages.join("<br/>"),placement:"bottom","raw-content":""},{default:O(()=>[T(w,{color:"red",size:"16"},{default:O(()=>[T(S(ma))]),_:1})]),_:1},8,["content"])],512),[[st,i.invalidMessages.length>0]])],512),H("div",null,oe(S(e)("lang.collectNode.cTypeName"))+": "+oe(i.collectTypeName),1),H("div",null,oe(S(e)("lang.collectNode.varName"))+": "+oe(i.collectSaveVarName),1),T($,{modelValue:o.value,"onUpdate:modelValue":y[6]||(y[6]=B=>o.value=B),title:i.nodeName,direction:"rtl",size:"70%","append-to-body":!0,"destroy-on-close":!0},{default:O(()=>[T(k,{"label-position":C.labelPosition,"label-width":"100px",model:i,style:{"max-width":"460px"}},{default:O(()=>[T(_,{label:S(e)("lang.common.nodeName"),"label-width":zf},{default:O(()=>[T(E,{modelValue:i.nodeName,"onUpdate:modelValue":y[0]||(y[0]=B=>i.nodeName=B)},null,8,["modelValue"])]),_:1},8,["label"]),T(_,{label:S(b)[0],"label-width":zf},{default:O(()=>[T(A,{modelValue:i.collectType,"onUpdate:modelValue":y[1]||(y[1]=B=>i.collectType=B),placeholder:S(b)[1]},{default:O(()=>[(N(),X(De,null,Ot(d,B=>T(M,{key:B.label,label:B.label,value:B.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),Ue(T(_,{label:S(b)[2],"label-width":zf},{default:O(()=>[T(E,{modelValue:i.customizeRegex,"onUpdate:modelValue":y[2]||(y[2]=B=>i.customizeRegex=B)},null,8,["modelValue"])]),_:1},8,["label"]),[[st,i.collectType=="CustomizeRegex"]]),T(_,{label:S(b)[3],"label-width":zf},{default:O(()=>[T(A,{modelValue:i.collectSaveVarName,"onUpdate:modelValue":y[3]||(y[3]=B=>i.collectSaveVarName=B),placeholder:S(b)[4]},{default:O(()=>[(N(),X(De,null,Ot(f,B=>T(M,{key:B.label,label:B.label,value:B.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["label-position","model"]),H("div",SJ,[T(P,{type:"primary",loading:C.loading,onClick:y[4]||(y[4]=B=>m())},{default:O(()=>[le(oe(S(e)("lang.common.save")),1)]),_:1},8,["loading"]),T(P,{onClick:y[5]||(y[5]=B=>g())},{default:O(()=>[le(oe(S(e)("lang.common.cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"])])}}},EJ=Hs(xJ,[["__scopeId","data-v-9ad43495"]]),TJ={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},_J=H("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"},null,-1),OJ=[_J];function AJ(r,e){return N(),X("svg",TJ,[...OJ])}const Bu={name:"ep-plus",render:AJ},MJ={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},kJ=H("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"},null,-1),PJ=[kJ];function NJ(r,e){return N(),X("svg",MJ,[...PJ])}const IJ={name:"ep-minus",render:NJ},LJ={class:"nodeBox"},RJ={class:"dialog-footer"},fu="85px",$J=!1,DJ={__name:"ConditionNode",setup(r){const{t:e,tm:n,rt:s}=cn(),o=new Map,i=Ve("getNode"),{robotId:l}=Ve("robotId"),a=j(!1),c=j(!1),u=Ul().conditionGroup[0][0];u.conditionType="";const d=Ul();d.branchName=e("lang.common.else"),d.branchType="GotoAnotherNode",d.editable=!1;const f=[[]],h=n("lang.conditionNode.types"),p=[{label:h[0],value:"UserIntent"},{label:"Zero-Shot Classification",value:"TextZeroShotClassification"},{label:h[1],value:"UserInput"},{label:h[2],value:"FlowVariable"}],g={FlowVariable:[]},m=n("lang.conditionNode.compares"),v={UserIntent:[{label:m[0],value:"Eq",inputType:0,showCS:!1}],UserInput:[{label:m[0],value:"Eq",inputType:1,showCS:!0},{label:m[2],value:"Contains",inputType:1,showCS:!0},{label:m[3],value:"Timeout",inputType:0,showCS:!1}],FlowVariable:[{label:"Has value",value:"HasValue",inputType:0,showCS:!1,belongsTo:"StrNum"},{label:"Does not have value",value:"DoesNotHaveValue",inputType:0,showCS:!1,belongsTo:"StrNum"},{label:"Is empty string",value:"EmptyString",inputType:0,showCS:!1,belongsTo:"Str"},{label:m[0],value:"Eq",inputType:1,showCS:!0,belongsTo:"StrNum"},{label:m[1],value:"NotEq",inputType:1,showCS:!0,belongsTo:"StrNum"},{label:"Contains",value:"Contains",inputType:1,showCS:!0,belongsTo:"Str"},{label:"Not contains",value:"NotContains",inputType:1,showCS:!0,belongsTo:"Str"},{label:"Greater than",value:"NGT",inputType:1,showCS:!1,belongsTo:"Num"},{label:"Greater than or equal to",value:"NGTE",inputType:1,showCS:!1,belongsTo:"Num"},{label:"Less than",value:"NLT",inputType:1,showCS:!1,belongsTo:"Num"},{label:"Less than or equal to",value:"NLTE",inputType:1,showCS:!1,belongsTo:"Num"}],TextZeroShotClassification:[]},b={UserIntent:[]};let C=-1;const y=St({nodeName:e("lang.conditionNode.nodeName"),branches:[d],valid:!1,invalidMessages:[],newNode:!0}),w=Ul();w.conditionGroup=[];const x=St(w),E=j();i().on("change:data",({current:fe})=>{a.value=!0}),f[0].push(pi(u)),nt(async()=>{let fe=await rt("GET","intent",null,null,null);if(fe&&fe.status==200&&fe.data){const G=b.UserIntent;G.splice(0,G.length),fe.data.forEach(function(ne,se,me){this.push({label:ne.name,value:ne.name})},G)}if(fe=await rt("GET","variable",{robotId:l},null,null),fe&&fe.status==200&&fe.data){const G=g.FlowVariable;G.splice(0,G.length),fe.data.forEach(function(ne,se,me){this.push({label:ne.varName,value:ne.varName,vtype:ne.varType})},G)}const Ee=i().getData();sr(Ee,y),y.newNode?y.nodeName+=Ee.nodeCnt.toString():y.branches.forEach(function(G,ne){o.set(G.branchId,ne)}),y.newNode=!1,k()});const _=n("lang.conditionNode.errors"),A=St({branchName:[{validator:(fe,we,Ee)=>{if(we=="")Ee(new Error(_[0]));else{for(let G=0;G<y.branches.length;G++)if(y.branches[G].branchName==we){Ee(new Error(_[1]));return}Ee()}},trigger:"blur"}]});function k(){const fe=y,we=fe.invalidMessages;we.splice(0,we.length),fe.nodeName||we.push(_[2]),fe.branches.length==0&&we.push(_[3]);const Ee=ZY(fe.branches);Ee.r||we.push(Ee.m),fe.valid=we.length==0}function P(){C=-1,x.branchName="",x.conditionGroup=pi(f),c.value=!0}function $(){c.value=!1}function B(){if(!x.branchName){tn({message:_[0],type:"warning"});return}C==-1?y.branches.unshift(pi(x)):(y.branches[C].branchName=x.branchName,y.branches[C].conditionGroup=pi(x.conditionGroup)),$()}function W(fe){x.branchName=y.branches[fe].branchName,x.conditionGroup=pi(y.branches[fe].conditionGroup),C=fe,c.value=!0}function I(fe){Vr.confirm("Do you delete this branch?","Warning",{confirmButtonText:e("lang.common.del"),cancelButtonText:e("lang.common.cancel"),type:"warning"}).then(()=>{y.branches.splice(fe,1),$()}).catch(()=>{})}function R(){a.value=!1}function U(){let fe=E.value.offsetHeight;const we=i(),Ee=y.branches.length,G=E.value.offsetWidth-15;let ne,se;const me=new Map;for(let Pe=0;Pe<Ee;Pe++)fe+=20,se=y.branches[Pe].branchId,se?(o.delete(se),ne=we.getPort(se),ne&&we.setPortProp(ne.id,["args","y"],fe)):(we.addPort({group:"absolute",args:{x:G,y:fe},attrs:{text:{text:y.branches[Pe].branchName,fontSize:12}}},{silent:!1}),y.branches[Pe].branchId=we.ports.items[we.ports.items.length-1].id),me.set(y.branches[Pe].branchId,Pe),x.branchType=="GotoAnotherNode"&&(hasFallbackBranch=!0);o.forEach((Pe,Se,D)=>{we.removePort(Se,{silent:!1}),o.delete(Se)});for(const[Pe,Se]of me)o.set(Pe,Se);we.resize(we.size().width,20+fe,{direction:"bottom",silent:!1}),k(),we.setData(y,{silent:!0}),R()}function Q(fe,we,Ee){const G=x.conditionGroup[we][Ee],ne=g[fe];ne?G.refOptions=ne:G.refOptions=[],G.compareOptions=v[fe],G.compareType="";const se=b[fe];se?G.targetOptions=se:G.targetOptions=[]}function q(fe,we,Ee,G){const ne=x.conditionGroup[we][Ee];if(ne.compareOptions[0].belongsTo){const se=g.FlowVariable.filter(function(me,Pe,Se){return me.label===G});se.length==1&&(ne.compareType="",ne.compareOptions=v[fe].filter(function(me,Pe,Se){return me.belongsTo.indexOf(se[0].vtype)>-1}))}}function ee(fe,we,Ee){x.conditionGroup[fe][we].inputVariable=Ee.inputType==1,x.conditionGroup[fe][we].showCaseSensitiveCheckBox=Ee.showCS}function de(fe){const we=pi(u);fe.push(we)}function ce(){x.conditionGroup.push(...pi(f))}function Te(fe){x.conditionGroup.splice(fe,1)}return(fe,we)=>{const Ee=dt,G=gs,ne=Sn,se=lr,me=ei,Pe=Qo,Se=ra,D=Pn,L=RO,te=Vy,he=ir,ge=ll,Ce=Zo;return N(),X("div",LJ,[H("div",{ref_key:"nodeName",ref:E,class:"nodeTitle"},[le(oe(y.nodeName)+" ",1),Ue(H("span",null,[T(G,{class:"box-item",effect:"dark",content:y.invalidMessages.join("<br/>"),placement:"bottom","raw-content":""},{default:O(()=>[T(Ee,{color:"red",size:"16"},{default:O(()=>[T(S(ma))]),_:1})]),_:1},8,["content"])],512),[[st,y.invalidMessages.length>0]])],512),T(ge,{modelValue:c.value,"onUpdate:modelValue":we[5]||(we[5]=xe=>c.value=xe),title:S(e)("lang.conditionNode.newBranch"),width:"75%","append-to-body":!0,"destroy-on-close":!0},{footer:O(()=>[H("span",RJ,[T(D,{type:"primary",onClick:we[2]||(we[2]=xe=>B())},{default:O(()=>[le(oe(S(e)("lang.common.save")),1)]),_:1}),T(D,{onClick:we[3]||(we[3]=xe=>$())},{default:O(()=>[le(oe(S(e)("lang.common.cancel")),1)]),_:1}),T(D,{type:"danger",disabled:S(C)==-1,onClick:we[4]||(we[4]=xe=>I(S(C)))},{default:O(()=>[le(oe(S(e)("lang.common.del")),1)]),_:1},8,["disabled"])])]),default:O(()=>[T(he,{model:x,rules:A},{default:O(()=>[T(se,{label:S(e)("lang.conditionNode.condName"),"label-width":fu,prop:"branchName"},{default:O(()=>[T(ne,{modelValue:x.branchName,"onUpdate:modelValue":we[0]||(we[0]=xe=>x.branchName=xe),autocomplete:"off",minlength:"1",maxlength:"15"},null,8,["modelValue"])]),_:1},8,["label"]),(N(!0),X(De,null,Ot(x.conditionGroup,(xe,V)=>(N(),ye(se,{key:V,label:S(e)("lang.conditionNode.condType"),"label-width":fu},{default:O(()=>[(N(!0),X(De,null,Ot(xe,(F,J)=>(N(),X("div",{key:J},[T(Pe,{modelValue:F.conditionType,"onUpdate:modelValue":ie=>F.conditionType=ie,placeholder:S(e)("lang.conditionNode.condTypePH"),onChange:ie=>Q(ie,V,J),style:{width:"116px"}},{default:O(()=>[(N(),X(De,null,Ot(p,ie=>T(me,{key:ie.label,label:ie.label,value:ie.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"]),Ue(T(Pe,{modelValue:F.refChoice,"onUpdate:modelValue":ie=>F.refChoice=ie,placeholder:S(e)("lang.conditionNode.comparedPH"),class:"optionWidth",onChange:ie=>q(F.conditionType,V,J,ie)},{default:O(()=>[(N(!0),X(De,null,Ot(F.refOptions,ie=>(N(),ye(me,{key:ie.label,label:ie.label,value:ie.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"]),[[st,F.refOptions.length>0]]),Ue(T(Pe,{modelValue:F.compareType,"onUpdate:modelValue":ie=>F.compareType=ie,placeholder:S(e)("lang.conditionNode.compareTypePH"),class:"optionWidth"},{default:O(()=>[(N(!0),X(De,null,Ot(F.compareOptions,ie=>(N(),ye(me,{key:ie.label,label:ie.label,value:ie.value,onClick:Ae=>ee(V,J,ie)},null,8,["label","value","onClick"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),[[st,F.compareOptions.length>0]]),Ue(T(Pe,{modelValue:F.targetValue,"onUpdate:modelValue":ie=>F.targetValue=ie,placeholder:S(e)("lang.conditionNode.targetPH"),class:"optionWidth"},{default:O(()=>[(N(!0),X(De,null,Ot(F.targetOptions,ie=>(N(),ye(me,{key:ie.label,label:ie.label,value:ie.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),[[st,F.targetOptions.length>0]]),Ue(T(Pe,{modelValue:F.targetValueVariant,"onUpdate:modelValue":ie=>F.targetValueVariant=ie,class:"optionWidth"},{default:O(()=>[T(me,{label:"const value",value:"Const"}),T(me,{label:"variable value",value:"Variable"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),[[st,F.inputVariable]]),Ue(T(Pe,{modelValue:F.targetValue,"onUpdate:modelValue":ie=>F.targetValue=ie,placeholder:"Please choose a variable",class:"optionWidth"},{default:O(()=>[(N(!0),X(De,null,Ot(g.FlowVariable,ie=>(N(),ye(me,{key:ie.label,label:ie.label,value:ie.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),[[st,F.inputVariable&&F.targetValueVariant=="Variable"]]),Ue(T(ne,{modelValue:F.targetValue,"onUpdate:modelValue":ie=>F.targetValue=ie,class:"optionWidth"},null,8,["modelValue","onUpdate:modelValue"]),[[st,F.inputVariable&&F.targetValueVariant=="Const"]]),Ue(T(Se,{modelValue:F.caseSensitiveComparison,"onUpdate:modelValue":ie=>F.caseSensitiveComparison=ie,label:"CaseSensitive"},null,8,["modelValue","onUpdate:modelValue"]),[[st,F.showCaseSensitiveCheckBox]]),T(L,null,{default:O(()=>[T(D,{type:"primary",onClick:ie=>de(xe)},{default:O(()=>[T(Ee,null,{default:O(()=>[T(S(Bu))]),_:1})]),_:2},1032,["onClick"]),Ue(T(D,{type:"danger",onClick:ie=>{xe.splice(J,1)}},{default:O(()=>[T(Ee,null,{default:O(()=>[T(S(IJ))]),_:1})]),_:2},1032,["onClick"]),[[st,xe.length>1]])]),_:2},1024),T(te,{"border-style":"dashed"})]))),128)),T(te),Ue(T(D,{type:"danger",onClick:F=>Te(V)},{default:O(()=>[le(" X ")]),_:2},1032,["onClick"]),[[st,x.conditionGroup.length>1]])]),_:2},1032,["label"]))),128)),T(se,{label:"","label-width":fu},{default:O(()=>[T(D,{type:"primary",onClick:we[1]||(we[1]=xe=>ce())},{default:O(()=>[T(Ee,null,{default:O(()=>[T(S(Bu))]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),T(Ce,{modelValue:a.value,"onUpdate:modelValue":we[10]||(we[10]=xe=>a.value=xe),title:y.nodeName,direction:"rtl",size:"70%","append-to-body":!0,"destroy-on-close":!0},{default:O(()=>[T(he,{model:y},{default:O(()=>[T(se,{label:S(e)("lang.common.nodeName"),"label-width":fu},{default:O(()=>[T(ne,{modelValue:y.nodeName,"onUpdate:modelValue":we[6]||(we[6]=xe=>y.nodeName=xe),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),T(se,{label:S(e)("lang.conditionNode.newCond"),"label-width":fu},{default:O(()=>[T(D,{type:"primary",onClick:we[7]||(we[7]=xe=>P())},{default:O(()=>[T(Ee,null,{default:O(()=>[T(S(Bu))]),_:1})]),_:1}),(N(!0),X(De,null,Ot(y.branches,(xe,V)=>(N(),ye(D,{key:V,type:"primary",onClick:F=>W(V),disabled:!xe.editable},{default:O(()=>[le(oe(xe.branchName),1)]),_:2},1032,["onClick","disabled"]))),128))]),_:1},8,["label"])]),_:1},8,["model"]),H("div",null,[T(D,{type:"primary",loading:$J,onClick:we[8]||(we[8]=xe=>U())},{default:O(()=>[le(oe(S(e)("lang.common.save")),1)]),_:1}),T(D,{onClick:we[9]||(we[9]=xe=>R())},{default:O(()=>[le(oe(S(e)("lang.common.cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"])])}}},VJ=Hs(DJ,[["__scopeId","data-v-7702009f"]]);function jn(r){this.content=r}jn.prototype={constructor:jn,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,n){var s=n&&n!=r?this.remove(n):this,o=s.find(r),i=s.content.slice();return o==-1?i.push(n||r,e):(i[o+1]=e,n&&(i[o]=n)),new jn(i)},remove:function(r){var e=this.find(r);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new jn(n)},addToStart:function(r,e){return new jn([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var n=this.remove(r).content.slice();return n.push(r,e),new jn(n)},addBefore:function(r,e,n){var s=this.remove(e),o=s.content.slice(),i=s.find(r);return o.splice(i==-1?o.length:i,0,e,n),new jn(o)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=jn.from(r),r.size?new jn(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=jn.from(r),r.size?new jn(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=jn.from(r);for(var n=0;n<r.content.length;n+=2)e=e.remove(r.content[n]);return e},toObject:function(){var r={};return this.forEach(function(e,n){r[e]=n}),r},get size(){return this.content.length>>1}};jn.from=function(r){if(r instanceof jn)return r;var e=[];if(r)for(var n in r)e.push(n,r[n]);return new jn(e)};function LA(r,e,n){for(let s=0;;s++){if(s==r.childCount||s==e.childCount)return r.childCount==e.childCount?null:n;let o=r.child(s),i=e.child(s);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let l=0;o.text[l]==i.text[l];l++)n++;return n}if(o.content.size||i.content.size){let l=LA(o.content,i.content,n+1);if(l!=null)return l}n+=o.nodeSize}}function RA(r,e,n,s){for(let o=r.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:s};let l=r.child(--o),a=e.child(--i),c=l.nodeSize;if(l==a){n-=c,s-=c;continue}if(!l.sameMarkup(a))return{a:n,b:s};if(l.isText&&l.text!=a.text){let u=0,d=Math.min(l.text.length,a.text.length);for(;u<d&&l.text[l.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,s--;return{a:n,b:s}}if(l.content.size||a.content.size){let u=RA(l.content,a.content,n-1,s-1);if(u)return u}n-=c,s-=c}}class Oe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,n,s,o=0,i){for(let l=0,a=0;a<n;l++){let c=this.content[l],u=a+c.nodeSize;if(u>e&&s(c,o+a,i||null,l)!==!1&&c.content.size){let d=a+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),s,o+d)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,s,o){let i="",l=!0;return this.nodesBetween(e,n,(a,c)=>{let u=a.isText?a.text.slice(Math.max(e,c)-c,n-c):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&s&&(l?l=!1:i+=s),i+=u},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,s=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(s)&&(o[o.length-1]=n.withText(n.text+s.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new Oe(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let s=[],o=0;if(n>e)for(let i=0,l=0;l<n;i++){let a=this.content[i],c=l+a.nodeSize;c>e&&((l<e||c>n)&&(a.isText?a=a.cut(Math.max(0,e-l),Math.min(a.text.length,n-l)):a=a.cut(Math.max(0,e-l-1),Math.min(a.content.size,n-l-1))),s.push(a),o+=a.nodeSize),l=c}return new Oe(s,o)}cutByIndex(e,n){return e==n?Oe.empty:e==0&&n==this.content.length?this:new Oe(this.content.slice(e,n))}replaceChild(e,n){let s=this.content[e];if(s==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-s.nodeSize;return o[e]=n,new Oe(o,i)}addToStart(e){return new Oe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Oe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,s=0;n<this.content.length;n++){let o=this.content[n];e(o,s,n),s+=o.nodeSize}}findDiffStart(e,n=0){return LA(this,e,n)}findDiffEnd(e,n=this.size,s=e.size){return RA(this,e,n,s)}findIndex(e,n=-1){if(e==0)return jf(0,e);if(e==this.size)return jf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let s=0,o=0;;s++){let i=this.child(s),l=o+i.nodeSize;if(l>=e)return l==e||n>0?jf(s+1,l):jf(s,o);o=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Oe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Oe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Oe.empty;let n,s=0;for(let o=0;o<e.length;o++){let i=e[o];s+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new Oe(n||e,s)}static from(e){if(!e)return Oe.empty;if(e instanceof Oe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Oe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Oe.empty=new Oe([],0);const lm={index:0,offset:0};function jf(r,e){return lm.index=r,lm.offset=e,lm}function jh(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(r);if(Array.isArray(e)!=n)return!1;if(n){if(r.length!=e.length)return!1;for(let s=0;s<r.length;s++)if(!jh(r[s],e[s]))return!1}else{for(let s in r)if(!(s in e)||!jh(r[s],e[s]))return!1;for(let s in e)if(!(s in r))return!1}return!0}let Bt=class Bb{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,s=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!s&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),s=!0),n&&n.push(i)}}return n||(n=e.slice()),s||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);return s.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(n[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Bb.none;if(e instanceof Bb)return[e];let n=e.slice();return n.sort((s,o)=>s.type.rank-o.type.rank),n}};Bt.none=[];class Hh extends Error{}class He{constructor(e,n,s){this.content=e,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let s=DA(this.content,e+this.openStart,n);return s&&new He(s,this.openStart,this.openEnd)}removeBetween(e,n){return new He($A(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return He.empty;let s=n.openStart||0,o=n.openEnd||0;if(typeof s!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new He(Oe.fromJSON(e,n.content),s,o)}static maxOpen(e,n=!0){let s=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)s++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new He(e,s,o)}}He.empty=new He(Oe.empty,0,0);function $A(r,e,n){let{index:s,offset:o}=r.findIndex(e),i=r.maybeChild(s),{index:l,offset:a}=r.findIndex(n);if(o==e||i.isText){if(a!=n&&!r.child(l).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(n))}if(s!=l)throw new RangeError("Removing non-flat range");return r.replaceChild(s,i.copy($A(i.content,e-o-1,n-o-1)))}function DA(r,e,n,s){let{index:o,offset:i}=r.findIndex(e),l=r.maybeChild(o);if(i==e||l.isText)return s&&!s.canReplace(o,o,n)?null:r.cut(0,e).append(n).append(r.cut(e));let a=DA(l.content,e-i-1,n);return a&&r.replaceChild(o,l.copy(a))}function FJ(r,e,n){if(n.openStart>r.depth)throw new Hh("Inserted content deeper than insertion position");if(r.depth-n.openStart!=e.depth-n.openEnd)throw new Hh("Inconsistent open depths");return VA(r,e,n,0)}function VA(r,e,n,s){let o=r.index(s),i=r.node(s);if(o==e.index(s)&&s<r.depth-n.openStart){let l=VA(r,e,n,s+1);return i.copy(i.content.replaceChild(o,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&r.depth==s&&e.depth==s){let l=r.parent,a=l.content;return ql(l,a.cut(0,r.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:l,end:a}=BJ(n,r);return ql(i,BA(r,l,a,e,s))}else return ql(i,Uh(r,e,s))}function FA(r,e){if(!e.type.compatibleContent(r.type))throw new Hh("Cannot join "+e.type.name+" onto "+r.type.name)}function zb(r,e,n){let s=r.node(n);return FA(s,e.node(n)),s}function Wl(r,e){let n=e.length-1;n>=0&&r.isText&&r.sameMarkup(e[n])?e[n]=r.withText(e[n].text+r.text):e.push(r)}function zu(r,e,n,s){let o=(e||r).node(n),i=0,l=e?e.index(n):o.childCount;r&&(i=r.index(n),r.depth>n?i++:r.textOffset&&(Wl(r.nodeAfter,s),i++));for(let a=i;a<l;a++)Wl(o.child(a),s);e&&e.depth==n&&e.textOffset&&Wl(e.nodeBefore,s)}function ql(r,e){return r.type.checkContent(e),r.copy(e)}function BA(r,e,n,s,o){let i=r.depth>o&&zb(r,e,o+1),l=s.depth>o&&zb(n,s,o+1),a=[];return zu(null,r,o,a),i&&l&&e.index(o)==n.index(o)?(FA(i,l),Wl(ql(i,BA(r,e,n,s,o+1)),a)):(i&&Wl(ql(i,Uh(r,e,o+1)),a),zu(e,n,o,a),l&&Wl(ql(l,Uh(n,s,o+1)),a)),zu(s,null,o,a),new Oe(a)}function Uh(r,e,n){let s=[];if(zu(null,r,n,s),r.depth>n){let o=zb(r,e,n+1);Wl(ql(o,Uh(r,e,n+1)),s)}return zu(e,null,n,s),new Oe(s)}function BJ(r,e){let n=e.depth-r.openStart,o=e.node(n).copy(r.content);for(let i=n-1;i>=0;i--)o=e.node(i).copy(Oe.from(o));return{start:o.resolveNoCache(r.openStart+n),end:o.resolveNoCache(o.content.size-r.openEnd-n)}}class vd{constructor(e,n,s){this.pos=e,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],o=e.child(n);return s?e.child(n).cut(s):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let s=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)o+=s.child(i).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Bt.none;if(this.textOffset)return e.child(n).marks;let s=e.maybeChild(n-1),o=e.maybeChild(n);if(!s){let a=s;s=o,o=a}let i=s.marks;for(var l=0;l<i.length;l++)i[l].type.spec.inclusive===!1&&(!o||!i[l].isInSet(o.marks))&&(i=i[l--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!o||!s[i].isInSet(o.marks))&&(s=s[i--].removeFromSet(s));return s}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!n||n(this.node(s))))return new Wh(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let s=[],o=0,i=n;for(let l=e;;){let{index:a,offset:c}=l.content.findIndex(i),u=i-c;if(s.push(l,a,o+c),!u||(l=l.child(a),l.isText))break;i=u-1,o+=c+1}return new vd(n,s,i)}static resolveCached(e,n){for(let o=0;o<am.length;o++){let i=am[o];if(i.pos==n&&i.doc==e)return i}let s=am[cm]=vd.resolve(e,n);return cm=(cm+1)%zJ,s}}let am=[],cm=0,zJ=12;class Wh{constructor(e,n,s){this.$from=e,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jJ=Object.create(null);let Gl=class jb{constructor(e,n,s,o=Bt.none){this.type=e,this.attrs=n,this.marks=o,this.content=s||Oe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,s,o=0){this.content.nodesBetween(e,n,s,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,s,o){return this.content.textBetween(e,n,s,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,s){return this.type==e&&jh(this.attrs,n||e.defaultAttrs||jJ)&&Bt.sameSet(this.marks,s||Bt.none)}copy(e=null){return e==this.content?this:new jb(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new jb(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,s=!1){if(e==n)return He.empty;let o=this.resolve(e),i=this.resolve(n),l=s?0:o.sharedDepth(n),a=o.start(l),u=o.node(l).content.cut(o.pos-a,i.pos-a);return new He(u,o.depth-l,i.depth-l)}replace(e,n,s){return FJ(this.resolve(e),this.resolve(n),s)}nodeAt(e){for(let n=this;;){let{index:s,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(s),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(n),index:n,offset:s};let o=this.content.child(n-1);return{node:o,index:n-1,offset:s-o.nodeSize}}resolve(e){return vd.resolveCached(this,e)}resolveNoCache(e){return vd.resolve(this,e)}rangeHasMark(e,n,s){let o=!1;return n>e&&this.nodesBetween(e,n,i=>(s.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),zA(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,s=Oe.empty,o=0,i=s.childCount){let l=this.contentMatchAt(e).matchFragment(s,o,i),a=l&&l.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let c=o;c<i;c++)if(!this.type.allowsMarks(s.child(c).marks))return!1;return!0}canReplaceWith(e,n,s,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(s),l=i&&i.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Bt.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Bt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,s)}let o=Oe.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,o,s)}};Gl.prototype.text=void 0;class qh extends Gl{constructor(e,n,s,o){if(super(e,n,null,o),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):zA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new qh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new qh(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function zA(r,e){for(let n=r.length-1;n>=0;n--)e=r[n].type.name+"("+e+")";return e}class sa{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let s=new HJ(e,n);if(s.next==null)return sa.empty;let o=jA(s);s.next&&s.err("Unexpected trailing text");let i=JJ(YJ(o));return XJ(i,s),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,s=e.childCount){let o=this;for(let i=n;o&&i<s;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let s=0;s<e.next.length;s++)if(this.next[n].type==e.next[s].type)return!0;return!1}fillBefore(e,n=!1,s=0){let o=[this];function i(l,a){let c=l.matchFragment(e,s);if(c&&(!n||c.validEnd))return Oe.from(a.map(u=>u.createAndFill()));for(let u=0;u<l.next.length;u++){let{type:d,next:f}=l.next[u];if(!(d.isText||d.hasRequiredAttrs())&&o.indexOf(f)==-1){o.push(f);let h=i(f,a.concat(d));if(h)return h}}return null}return i(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let o=s.shift(),i=o.match;if(i.matchType(e)){let l=[];for(let a=o;a.type;a=a.via)l.push(a.type);return l.reverse()}for(let l=0;l<i.next.length;l++){let{type:a,next:c}=i.next[l];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||c.validEnd)&&(s.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(s){e.push(s);for(let o=0;o<s.next.length;o++)e.indexOf(s.next[o].next)==-1&&n(s.next[o].next)}return n(this),e.map((s,o)=>{let i=o+(s.validEnd?"*":" ")+" ";for(let l=0;l<s.next.length;l++)i+=(l?", ":"")+s.next[l].type.name+"->"+e.indexOf(s.next[l].next);return i}).join(`
`)}}sa.empty=new sa(!0);class HJ{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function jA(r){let e=[];do e.push(UJ(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function UJ(r){let e=[];do e.push(WJ(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function WJ(r){let e=KJ(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=qJ(r,e);else break;return e}function SS(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function qJ(r,e){let n=SS(r),s=n;return r.eat(",")&&(r.next!="}"?s=SS(r):s=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:e}}function GJ(r,e){let n=r.nodeTypes,s=n[e];if(s)return[s];let o=[];for(let i in n){let l=n[i];l.groups.indexOf(e)>-1&&o.push(l)}return o.length==0&&r.err("No node type or group '"+e+"' found"),o}function KJ(r){if(r.eat("(")){let e=jA(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=GJ(r,r.next).map(n=>(r.inline==null?r.inline=n.isInline:r.inline!=n.isInline&&r.err("Mixing inline and block content"),{type:"name",value:n}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function YJ(r){let e=[[]];return o(i(r,0),n()),e;function n(){return e.push([])-1}function s(l,a,c){let u={term:c,to:a};return e[l].push(u),u}function o(l,a){l.forEach(c=>c.to=a)}function i(l,a){if(l.type=="choice")return l.exprs.reduce((c,u)=>c.concat(i(u,a)),[]);if(l.type=="seq")for(let c=0;;c++){let u=i(l.exprs[c],a);if(c==l.exprs.length-1)return u;o(u,a=n())}else if(l.type=="star"){let c=n();return s(a,c),o(i(l.expr,c),c),[s(c)]}else if(l.type=="plus"){let c=n();return o(i(l.expr,a),c),o(i(l.expr,c),c),[s(c)]}else{if(l.type=="opt")return[s(a)].concat(i(l.expr,a));if(l.type=="range"){let c=a;for(let u=0;u<l.min;u++){let d=n();o(i(l.expr,c),d),c=d}if(l.max==-1)o(i(l.expr,c),c);else for(let u=l.min;u<l.max;u++){let d=n();s(c,d),o(i(l.expr,c),d),c=d}return[s(c)]}else{if(l.type=="name")return[s(a,void 0,l.value)];throw new Error("Unknown expr type")}}}}function HA(r,e){return e-r}function xS(r,e){let n=[];return s(e),n.sort(HA);function s(o){let i=r[o];if(i.length==1&&!i[0].term)return s(i[0].to);n.push(o);for(let l=0;l<i.length;l++){let{term:a,to:c}=i[l];!a&&n.indexOf(c)==-1&&s(c)}}}function JJ(r){let e=Object.create(null);return n(xS(r,0));function n(s){let o=[];s.forEach(l=>{r[l].forEach(({term:a,to:c})=>{if(!a)return;let u;for(let d=0;d<o.length;d++)o[d][0]==a&&(u=o[d][1]);xS(r,c).forEach(d=>{u||o.push([a,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let i=e[s.join(",")]=new sa(s.indexOf(r.length-1)>-1);for(let l=0;l<o.length;l++){let a=o[l][1].sort(HA);i.next.push({type:o[l][0],next:e[a.join(",")]||n(a)})}return i}}function XJ(r,e){for(let n=0,s=[r];n<s.length;n++){let o=s[n],i=!o.validEnd,l=[];for(let a=0;a<o.next.length;a++){let{type:c,next:u}=o.next[a];l.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),s.indexOf(u)==-1&&s.push(u)}i&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function UA(r){let e=Object.create(null);for(let n in r){let s=r[n];if(!s.hasDefault)return null;e[n]=s.default}return e}function WA(r,e){let n=Object.create(null);for(let s in r){let o=e&&e[s];if(o===void 0){let i=r[s];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=o}return n}function qA(r){let e=Object.create(null);if(r)for(let n in r)e[n]=new ZJ(r[n]);return e}let ES=class GA{constructor(e,n,s){this.name=e,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=qA(s.attrs),this.defaultAttrs=UA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==sa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:WA(this.attrs,e)}create(e=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gl(this,this.computeAttrs(e),Oe.from(n),Bt.setFrom(s))}createChecked(e=null,n,s){return n=Oe.from(n),this.checkContent(n),new Gl(this,this.computeAttrs(e),n,Bt.setFrom(s))}createAndFill(e=null,n,s){if(e=this.computeAttrs(e),n=Oe.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(Oe.empty,!0);return i?new Gl(this,e,n.append(i),Bt.setFrom(s)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?n&&n.push(e[s]):n||(n=e.slice(0,s));return n?n.length?n:Bt.none:e}static compile(e,n){let s=Object.create(null);e.forEach((i,l)=>s[i]=new GA(i,n,l));let o=n.spec.topNode||"doc";if(!s[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let i in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};class ZJ{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class ig{constructor(e,n,s,o){this.name=e,this.rank=n,this.schema=s,this.spec=o,this.attrs=qA(o.attrs),this.excluded=null;let i=UA(this.attrs);this.instance=i?new Bt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Bt(this,WA(this.attrs,e))}static compile(e,n){let s=Object.create(null),o=0;return e.forEach((i,l)=>s[i]=new ig(i,o++,n,l)),s}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class QJ{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=jn.from(e.nodes),n.marks=jn.from(e.marks||{}),this.nodes=ES.compile(this.spec.nodes,this),this.marks=ig.compile(this.spec.marks,this);let s=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],l=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=s[l]||(s[l]=sa.parse(l,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?TS(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],l=i.spec.excludes;i.excluded=l==null?[i]:l==""?[]:TS(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,s,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ES){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,s,o)}text(e,n){let s=this.nodes.text;return new qh(s,s.defaultAttrs,e,Bt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Gl.fromJSON(this,e)}markFromJSON(e){return Bt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function TS(r,e){let n=[];for(let s=0;s<e.length;s++){let o=e[s],i=r.marks[o],l=i;if(i)n.push(i);else for(let a in r.marks){let c=r.marks[a];(o=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(l=c)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return n}function eX(r){return r.tag!=null}function tX(r){return r.style!=null}let Wy=class Hb{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(s=>{eX(s)?this.tags.push(s):tX(s)&&this.styles.push(s)}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let s=new OS(this,n,!1);return s.addAll(e,n.from,n.to),s.finish()}parseSlice(e,n={}){let s=new OS(this,n,!0);return s.addAll(e,n.from,n.to),He.maxOpen(s.finish())}matchTag(e,n,s){for(let o=s?this.tags.indexOf(s)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(sX(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let l=i.getAttrs(e);if(l===!1)continue;i.attrs=l||void 0}return i}}}matchStyle(e,n,s,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let l=this.styles[i],a=l.style;if(!(a.indexOf(e)!=0||l.context&&!s.matchesContext(l.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(l.getAttrs){let c=l.getAttrs(n);if(c===!1)continue;l.attrs=c||void 0}return l}}}static schemaRules(e){let n=[];function s(o){let i=o.priority==null?50:o.priority,l=0;for(;l<n.length;l++){let a=n[l];if((a.priority==null?50:a.priority)<i)break}n.splice(l,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(l=>{s(l=AS(l)),l.mark||l.ignore||l.clearMark||(l.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(l=>{s(l=AS(l)),l.node||l.ignore||l.mark||(l.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Hb(e,Hb.schemaRules(e)))}};const KA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nX={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},YA={ol:!0,ul:!0},Gh=1,Kh=2,ju=4;function _S(r,e,n){return e!=null?(e?Gh:0)|(e==="full"?Kh:0):r&&r.whitespace=="pre"?Gh|Kh:n&~ju}class Hf{constructor(e,n,s,o,i,l,a){this.type=e,this.attrs=n,this.marks=s,this.pendingMarks=o,this.solid=i,this.options=a,this.content=[],this.activeMarks=Bt.none,this.stashMarks=[],this.match=l||(a&ju?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Oe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,o;return(o=s.findWrapping(e.type))?(this.match=s,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Gh)){let s=this.content[this.content.length-1],o;if(s&&s.isText&&(o=/[ \t\r\n\u000c]+$/.exec(s.text))){let i=s;s.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=Oe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Oe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,s=this.pendingMarks;n<s.length;n++){let o=s[n];(this.type?this.type.allowsMarkType(o.type):iX(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!KA.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class OS{constructor(e,n,s){this.parser=e,this.options=n,this.isOpen=s,this.open=0;let o=n.topNode,i,l=_S(null,n.preserveWhitespace,0)|(s?ju:0);o?i=new Hf(o.type,o.attrs,Bt.none,Bt.none,!0,n.topMatch||o.type.contentMatch,l):s?i=new Hf(null,null,Bt.none,Bt.none,!0,null,l):i=new Hf(e.schema.topNodeType,null,Bt.none,Bt.none,!0,null,l),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let s=e.getAttribute("style");if(!s)return n();let o=this.readStyles(oX(s));if(!o)return;let[i,l]=o,a=this.top;for(let c=0;c<l.length;c++)this.removePendingMark(l[c],a);for(let c=0;c<i.length;c++)this.addPendingMark(i[c]);n();for(let c=0;c<i.length;c++)this.removePendingMark(i[c],a);for(let c=0;c<l.length;c++)this.addPendingMark(l[c])}addTextNode(e){let n=e.nodeValue,s=this.top;if(s.options&Kh||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s.options&Gh)s.options&Kh?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],i=e.previousSibling;(!o||i&&i.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let s=e.nodeName.toLowerCase(),o;YA.hasOwnProperty(s)&&this.parser.normalizeLists&&rX(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));if(i?i.ignore:nX.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let l,a=this.top,c=this.needsBlock;if(KA.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),l=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),l&&this.sync(a),this.needsBlock=c}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?o:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Bt.none,s=Bt.none;for(let o=0;o<e.length;o+=2)for(let i=void 0;;){let l=this.parser.matchStyle(e[o],e[o+1],this,i);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{l.clearMark(a)&&(s=a.addToSet(s))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)i=l;else break}return[n,s]}addElementByRule(e,n,s){let o,i,l;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(e):o=this.enter(i,n.attrs||null,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(l));let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(s)this.addElement(e,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c)}o&&this.sync(a)&&this.open--,l&&this.removePendingMark(l,a)}addAll(e,n,s){let o=n||0;for(let i=n?e.childNodes[n]:e.firstChild,l=s==null?null:e.childNodes[s];i!=l;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i);this.findAtPoint(e,o)}findPlace(e){let n,s;for(let o=this.open;o>=0;o--){let i=this.nodes[o],l=i.findWrapping(e);if(l&&(!n||n.length>l.length)&&(n=l,s=i,!l.length)||i.solid)break}if(!n)return!1;this.sync(s);for(let o=0;o<n.length;o++)this.enterInner(n[o],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let s=n.activeMarks;for(let o=0;o<e.marks.length;o++)(!n.type||n.type.allowsMarkType(e.marks[o].type))&&(s=e.marks[o].addToSet(s));return n.content.push(e.mark(s)),!0}return!1}enter(e,n,s){let o=this.findPlace(e.create(n));return o&&this.enterInner(e,n,!0,s),o}enterInner(e,n=null,s=!1,o){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let l=_S(e,o,i.options);i.options&ju&&i.content.length==0&&(l|=ju),this.nodes.push(new Hf(e,n,i.activeMarks,i.pendingMarks,s,null,l)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let o=s.length-1;o>=0;o--)e+=s[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,s){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(s?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),s=this.options.context,o=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),i=-(s?s.depth+1:0)+(o?0:1),l=(a,c)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;c>=i;c--)if(l(a-1,c))return!0;return!1}else{let d=c>0||c==0&&o?this.nodes[c].type:s&&c>=i?s.node(c-i).type:null;if(!d||d.name!=u&&d.groups.indexOf(u)==-1)return!1;c--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}addPendingMark(e){let n=lX(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let s=this.open;s>=0;s--){let o=this.nodes[s];if(o.pendingMarks.lastIndexOf(e)>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);let l=o.popFromStashMark(e);l&&o.type&&o.type.allowsMarkType(l.type)&&(o.activeMarks=l.addToSet(o.activeMarks))}if(o==n)break}}}function rX(r){for(let e=r.firstChild,n=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&YA.hasOwnProperty(s)&&n?(n.appendChild(e),e=n):s=="li"?n=e:s&&(n=null)}}function sX(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function oX(r){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,s=[];for(;n=e.exec(r);)s.push(n[1],n[2].trim());return s}function AS(r){let e={};for(let n in r)e[n]=r[n];return e}function iX(r,e){let n=e.schema.nodes;for(let s in n){let o=n[s];if(!o.allowsMarkType(r))continue;let i=[],l=a=>{i.push(a);for(let c=0;c<a.edgeCount;c++){let{type:u,next:d}=a.edge(c);if(u==e||i.indexOf(d)<0&&l(d))return!0}};if(l(o.contentMatch))return!0}}function lX(r,e){for(let n=0;n<e.length;n++)if(r.eq(e[n]))return e[n]}class Qs{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},s){s||(s=um(n).createDocumentFragment());let o=s,i=[];return e.forEach(l=>{if(i.length||l.marks.length){let a=0,c=0;for(;a<i.length&&c<l.marks.length;){let u=l.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(i[a][0])||u.type.spec.spanning===!1)break;a++,c++}for(;a<i.length;)o=i.pop()[1];for(;c<l.marks.length;){let u=l.marks[c++],d=this.serializeMark(u,l.isInline,n);d&&(i.push([u,o]),o.appendChild(d.dom),o=d.contentDOM||d.dom)}}o.appendChild(this.serializeNodeInner(l,n))}),s}serializeNodeInner(e,n){let{dom:s,contentDOM:o}=Qs.renderSpec(um(n),this.nodes[e.type.name](e));if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return s}serializeNode(e,n={}){let s=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let i=this.serializeMark(e.marks[o],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(s),s=i.dom)}return s}serializeMark(e,n,s={}){let o=this.marks[e.type.name];return o&&Qs.renderSpec(um(s),o(e,n))}static renderSpec(e,n,s=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let o=n[0],i=o.indexOf(" ");i>0&&(s=o.slice(0,i),o=o.slice(i+1));let l,a=s?e.createElementNS(s,o):e.createElement(o),c=n[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):a.setAttribute(d,c[d])}}for(let d=u;d<n.length;d++){let f=n[d];if(f===0){if(d<n.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:p}=Qs.renderSpec(e,f,s);if(a.appendChild(h),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:a,contentDOM:l}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Qs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=MS(e.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(e){return MS(e.marks)}}function MS(r){let e={};for(let n in r){let s=r[n].spec.toDOM;s&&(e[n]=s)}return e}function um(r){return r.document||window.document}const JA=65535,XA=Math.pow(2,16);function aX(r,e){return r+e*XA}function kS(r){return r&JA}function cX(r){return(r-(r&JA))/XA}const ZA=1,QA=2,mh=4,eM=8;class Ub{constructor(e,n,s){this.pos=e,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&eM)>0}get deletedBefore(){return(this.delInfo&(ZA|mh))>0}get deletedAfter(){return(this.delInfo&(QA|mh))>0}get deletedAcross(){return(this.delInfo&mh)>0}}class Ir{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ir.empty)return Ir.empty}recover(e){let n=0,s=kS(e);if(!this.inverted)for(let o=0;o<s;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[s*3]+n+cX(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,s){let o=0,i=this.inverted?2:1,l=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?o:0);if(c>e)break;let u=this.ranges[a+i],d=this.ranges[a+l],f=c+u;if(e<=f){let h=u?e==c?-1:e==f?1:n:n,p=c+o+(h<0?0:d);if(s)return p;let g=e==(n<0?c:f)?null:aX(a/3,e-c),m=e==c?QA:e==f?ZA:mh;return(n<0?e!=c:e!=f)&&(m|=eM),new Ub(p,m,g)}o+=d-u}return s?e+o:new Ub(e+o,0,null)}touches(e,n){let s=0,o=kS(n),i=this.inverted?2:1,l=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?s:0);if(c>e)break;let u=this.ranges[a+i],d=c+u;if(e<=d&&a==o*3)return!0;s+=this.ranges[a+l]-u}return!1}forEach(e){let n=this.inverted?2:1,s=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let l=this.ranges[o],a=l-(this.inverted?i:0),c=l+(this.inverted?0:i),u=this.ranges[o+n],d=this.ranges[o+s];e(a,a+u,c,c+d),i+=d-u}}invert(){return new Ir(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ir.empty:new Ir(e<0?[0,-e,0]:[0,0,e])}}Ir.empty=new Ir([]);class qa{constructor(e=[],n,s=0,o=e.length){this.maps=e,this.mirror=n,this.from=s,this.to=o}slice(e=0,n=this.maps.length){return new qa(this.maps,this.mirror,e,n)}copy(){return new qa(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,s=this.maps.length;n<e.maps.length;n++){let o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?s+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,s=this.maps.length+e.maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?s-o-1:void 0)}}invert(){let e=new qa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let s=this.from;s<this.to;s++)e=this.maps[s].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,s){let o=0;for(let i=this.from;i<this.to;i++){let l=this.maps[i],a=l.mapResult(e,n);if(a.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this.maps[c].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return s?e:new Ub(e,o,null)}}const dm=Object.create(null);class ar{getMap(){return Ir.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=dm[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in dm)throw new RangeError("Duplicate use of step JSON ID "+e);return dm[e]=n,n.prototype.jsonID=e,n}}class yn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new yn(e,null)}static fail(e){return new yn(null,e)}static fromReplace(e,n,s,o){try{return yn.ok(e.replace(n,s,o))}catch(i){if(i instanceof Hh)return yn.fail(i.message);throw i}}}function qy(r,e,n){let s=[];for(let o=0;o<r.childCount;o++){let i=r.child(o);i.content.size&&(i=i.copy(qy(i.content,e,i))),i.isInline&&(i=e(i,n,o)),s.push(i)}return Oe.fromArray(s)}class ki extends ar{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=e.resolve(this.from),o=s.node(s.sharedDepth(this.to)),i=new He(qy(n.content,(l,a)=>!l.isAtom||!a.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),o),n.openStart,n.openEnd);return yn.fromReplace(e,this.from,this.to,i)}invert(){return new eo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new ki(n.pos,s.pos,this.mark)}merge(e){return e instanceof ki&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ki(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ki(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("addMark",ki);class eo extends ar{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=new He(qy(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return yn.fromReplace(e,this.from,this.to,s)}invert(){return new ki(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new eo(n.pos,s.pos,this.mark)}merge(e){return e instanceof eo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new eo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new eo(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("removeMark",eo);class Pi extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return yn.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return yn.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(s))return new Pi(this.pos,n.marks[o]);return new Pi(this.pos,this.mark)}}return new wc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Pi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Pi(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("addNodeMark",Pi);class wc extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return yn.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return yn.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Pi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wc(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("removeNodeMark",wc);class Nn extends ar{constructor(e,n,s,o=!1){super(),this.from=e,this.to=n,this.slice=s,this.structure=o}apply(e){return this.structure&&Wb(e,this.from,this.to)?yn.fail("Structure replace would overwrite content"):yn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ir([this.from,this.to-this.from,this.slice.size])}invert(e){return new Nn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new Nn(n.pos,Math.max(n.pos,s.pos),this.slice)}merge(e){if(!(e instanceof Nn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?He.empty:new He(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Nn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?He.empty:new He(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Nn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Nn(n.from,n.to,He.fromJSON(e,n.slice),!!n.structure)}}ar.jsonID("replace",Nn);class $n extends ar{constructor(e,n,s,o,i,l,a=!1){super(),this.from=e,this.to=n,this.gapFrom=s,this.gapTo=o,this.slice=i,this.insert=l,this.structure=a}apply(e){if(this.structure&&(Wb(e,this.from,this.gapFrom)||Wb(e,this.gapTo,this.to)))return yn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return yn.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?yn.fromReplace(e,this.from,this.to,s):yn.fail("Content does not fit in gap")}getMap(){return new Ir([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new $n(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||o<n.pos||i>s.pos?null:new $n(n.pos,s.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new $n(n.from,n.to,n.gapFrom,n.gapTo,He.fromJSON(e,n.slice),n.insert,!!n.structure)}}ar.jsonID("replaceAround",$n);function Wb(r,e,n){let s=r.resolve(e),o=n-e,i=s.depth;for(;o>0&&i>0&&s.indexAfter(i)==s.node(i).childCount;)i--,o--;if(o>0){let l=s.node(i).maybeChild(s.indexAfter(i));for(;o>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,o--}}return!1}function uX(r,e,n,s){let o=[],i=[],l,a;r.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!s.isInSet(f)&&d.type.allowsMarkType(s.type)){let h=Math.max(u,e),p=Math.min(u+c.nodeSize,n),g=s.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(g)||(l&&l.to==h&&l.mark.eq(f[m])?l.to=p:o.push(l=new eo(h,p,f[m])));a&&a.to==h?a.to=p:i.push(a=new ki(h,p,s))}}),o.forEach(c=>r.step(c)),i.forEach(c=>r.step(c))}function dX(r,e,n,s){let o=[],i=0;r.doc.nodesBetween(e,n,(l,a)=>{if(!l.isInline)return;i++;let c=null;if(s instanceof ig){let u=l.marks,d;for(;d=s.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else s?s.isInSet(l.marks)&&(c=[s]):c=l.marks;if(c&&c.length){let u=Math.min(a+l.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],h;for(let p=0;p<o.length;p++){let g=o[p];g.step==i-1&&f.eq(o[p].style)&&(h=g)}h?(h.to=u,h.step=i):o.push({style:f,from:Math.max(a,e),to:u,step:i})}}}),o.forEach(l=>r.step(new eo(l.from,l.to,l.style)))}function tM(r,e,n,s=n.contentMatch,o=!0){let i=r.doc.nodeAt(e),l=[],a=e+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),d=a+u.nodeSize,f=s.matchType(u.type);if(!f)l.push(new Nn(a,d,He.empty));else{s=f;for(let h=0;h<u.marks.length;h++)n.allowsMarkType(u.marks[h].type)||r.step(new eo(a,d,u.marks[h]));if(o&&u.isText&&n.whitespace!="pre"){let h,p=/\r?\n|\r/g,g;for(;h=p.exec(u.text);)g||(g=new He(Oe.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),l.push(new Nn(a+h.index,a+h.index+h[0].length,g))}}a=d}if(!s.validEnd){let c=s.fillBefore(Oe.empty,!0);r.replace(a,a,new He(c,0,0))}for(let c=l.length-1;c>=0;c--)r.step(l[c])}function fX(r,e,n){return(e==0||r.canReplace(e,r.childCount))&&(n==r.childCount||r.canReplace(0,n))}function tu(r){let n=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let s=r.depth;;--s){let o=r.$from.node(s),i=r.$from.index(s),l=r.$to.indexAfter(s);if(s<r.depth&&o.canReplace(i,l,n))return s;if(s==0||o.type.spec.isolating||!fX(o,i,l))break}return null}function hX(r,e,n){let{$from:s,$to:o,depth:i}=e,l=s.before(i+1),a=o.after(i+1),c=l,u=a,d=Oe.empty,f=0;for(let g=i,m=!1;g>n;g--)m||s.index(g)>0?(m=!0,d=Oe.from(s.node(g).copy(d)),f++):c--;let h=Oe.empty,p=0;for(let g=i,m=!1;g>n;g--)m||o.after(g+1)<o.end(g)?(m=!0,h=Oe.from(o.node(g).copy(h)),p++):u++;r.step(new $n(c,u,l,a,new He(d.append(h),f,p),d.size-f,!0))}function Gy(r,e,n=null,s=r){let o=pX(r,e),i=o&&gX(s,e);return i?o.map(PS).concat({type:e,attrs:n}).concat(i.map(PS)):null}function PS(r){return{type:r,attrs:null}}function pX(r,e){let{parent:n,startIndex:s,endIndex:o}=r,i=n.contentMatchAt(s).findWrapping(e);if(!i)return null;let l=i.length?i[0]:e;return n.canReplaceWith(s,o,l)?i:null}function gX(r,e){let{parent:n,startIndex:s,endIndex:o}=r,i=n.child(s),l=e.contentMatch.findWrapping(i.type);if(!l)return null;let c=(l.length?l[l.length-1]:e).contentMatch;for(let u=s;c&&u<o;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:l}function mX(r,e,n){let s=Oe.empty;for(let l=n.length-1;l>=0;l--){if(s.size){let a=n[l].type.contentMatch.matchFragment(s);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=Oe.from(n[l].type.create(n[l].attrs,s))}let o=e.start,i=e.end;r.step(new $n(o,i,o,i,new He(s,0,0),n.length,!0))}function bX(r,e,n,s,o){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=r.steps.length;r.doc.nodesBetween(e,n,(l,a)=>{if(l.isTextblock&&!l.hasMarkup(s,o)&&wX(r.doc,r.mapping.slice(i).map(a),s)){let c=null;if(s.schema.linebreakReplacement){let h=s.whitespace=="pre",p=!!s.contentMatch.matchType(s.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&yX(r,l,a,i),tM(r,r.mapping.slice(i).map(a,1),s,void 0,c===null);let u=r.mapping.slice(i),d=u.map(a,1),f=u.map(a+l.nodeSize,1);return r.step(new $n(d,f,d+1,f-1,new He(Oe.from(s.create(o,null,l.marks)),0,0),1,!0)),c===!0&&vX(r,l,a,i),!1}})}function vX(r,e,n,s){e.forEach((o,i)=>{if(o.isText){let l,a=/\r?\n|\r/g;for(;l=a.exec(o.text);){let c=r.mapping.slice(s).map(n+1+i+l.index);r.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function yX(r,e,n,s){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let l=r.mapping.slice(s).map(n+1+i);r.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function wX(r,e,n){let s=r.resolve(e),o=s.index();return s.parent.canReplaceWith(o,o+1,n)}function CX(r,e,n,s,o){let i=r.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let l=n.create(s,null,o||i.marks);if(i.isLeaf)return r.replaceWith(e,e+i.nodeSize,l);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);r.step(new $n(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new He(Oe.from(l),0,0),1,!0))}function Ga(r,e,n=1,s){let o=r.resolve(e),i=o.depth-n,l=s&&s[s.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!l.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,d=n-2;u>i;u--,d--){let f=o.node(u),h=o.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(h,f.childCount),g=s&&s[d+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let m=s&&s[d]||f;if(!f.canReplace(h+1,f.childCount)||!m.type.validContent(p))return!1}let a=o.indexAfter(i),c=s&&s[0];return o.node(i).canReplaceWith(a,a,c?c.type:o.node(i+1).type)}function SX(r,e,n=1,s){let o=r.doc.resolve(e),i=Oe.empty,l=Oe.empty;for(let a=o.depth,c=o.depth-n,u=n-1;a>c;a--,u--){i=Oe.from(o.node(a).copy(i));let d=s&&s[u];l=Oe.from(d?d.type.create(d.attrs,l):o.node(a).copy(l))}r.step(new Nn(e,e,new He(i.append(l),n,n),!0))}function al(r,e){let n=r.resolve(e),s=n.index();return nM(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function nM(r,e){return!!(r&&e&&!r.isLeaf&&r.canAppend(e))}function lg(r,e,n=-1){let s=r.resolve(e);for(let o=s.depth;;o--){let i,l,a=s.index(o);if(o==s.depth?(i=s.nodeBefore,l=s.nodeAfter):n>0?(i=s.node(o+1),a++,l=s.node(o).maybeChild(a)):(i=s.node(o).maybeChild(a-1),l=s.node(o+1)),i&&!i.isTextblock&&nM(i,l)&&s.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?s.before(o):s.after(o)}}function xX(r,e,n){let s=new Nn(e-n,e+n,He.empty,!0);r.step(s)}function EX(r,e,n){let s=r.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),n))return e;if(s.parentOffset==0)for(let o=s.depth-1;o>=0;o--){let i=s.index(o);if(s.node(o).canReplaceWith(i,i,n))return s.before(o+1);if(i>0)return null}if(s.parentOffset==s.parent.content.size)for(let o=s.depth-1;o>=0;o--){let i=s.indexAfter(o);if(s.node(o).canReplaceWith(i,i,n))return s.after(o+1);if(i<s.node(o).childCount)return null}return null}function rM(r,e,n){let s=r.resolve(e);if(!n.content.size)return e;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let l=s.depth;l>=0;l--){let a=l==s.depth?0:s.pos<=(s.start(l+1)+s.end(l+1))/2?-1:1,c=s.index(l)+(a>0?1:0),u=s.node(l),d=!1;if(i==1)d=u.canReplace(c,c,o);else{let f=u.contentMatchAt(c).findWrapping(o.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return a==0?s.pos:a<0?s.before(l+1):s.after(l+1)}return null}function ag(r,e,n=e,s=He.empty){if(e==n&&!s.size)return null;let o=r.resolve(e),i=r.resolve(n);return sM(o,i,s)?new Nn(e,n,s):new TX(o,i,s).fit()}function sM(r,e,n){return!n.openStart&&!n.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),n.content)}class TX{constructor(e,n,s){this.$from=e,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=Oe.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=Oe.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,o=this.close(e<0?this.$to:s.doc.resolve(e));if(!o)return null;let i=this.placed,l=s.depth,a=o.depth;for(;l&&a&&i.childCount==1;)i=i.firstChild.content,l--,a--;let c=new He(i,l,a);return e>-1?new $n(s.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||s.pos!=this.$to.pos?new Nn(s.pos,o.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,o=this.unplaced.openEnd;s<e;s++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=s){e=s;break}n=i.content}for(let n=1;n<=2;n++)for(let s=n==1?e:this.unplaced.openStart;s>=0;s--){let o,i=null;s?(i=fm(this.unplaced.content,s-1).firstChild,o=i.content):o=this.unplaced.content;let l=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:u}=this.frontier[a],d,f=null;if(n==1&&(l?u.matchType(l.type)||(f=u.fillBefore(Oe.from(l),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:s,frontierDepth:a,parent:i,inject:f};if(n==2&&l&&(d=u.findWrapping(l.type)))return{sliceDepth:s,frontierDepth:a,parent:i,wrap:d};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:s}=this.unplaced,o=fm(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new He(e,n+1,Math.max(s,o.size+n>=e.size-s?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:s}=this.unplaced,o=fm(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new He(bu(e,n-1,1),n-1,i?n-1:s)}else this.unplaced=new He(bu(e,n,1),n,s)}placeNodes({sliceDepth:e,frontierDepth:n,parent:s,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let l=this.unplaced,a=s?s.content:l.content,c=l.openStart-e,u=0,d=[],{match:f,type:h}=this.frontier[n];if(o){for(let m=0;m<o.childCount;m++)d.push(o.child(m));f=f.matchFragment(o)}let p=a.size+e-(l.content.size-l.openEnd);for(;u<a.childCount;){let m=a.child(u),v=f.matchType(m.type);if(!v)break;u++,(u>1||c==0||m.content.size)&&(f=v,d.push(oM(m.mark(h.allowedMarks(m.marks)),u==1?c:0,u==a.childCount?p:-1)))}let g=u==a.childCount;g||(p=-1),this.placed=vu(this.placed,n,Oe.from(d)),this.frontier[n].match=f,g&&p<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,v=a;m<p;m++){let b=v.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),v=b.content}this.unplaced=g?e==0?He.empty:new He(bu(l.content,e-1,1),e-1,p<0?l.openEnd:e-1):new He(bu(l.content,e,u),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!hm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,o=this.$to.after(s);for(;s>1&&o==this.$to.end(--s);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:s,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=hm(e,n,o,s,i);if(l){for(let a=n-1;a>=0;a--){let{match:c,type:u}=this.frontier[a],d=hm(e,a,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:l,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vu(this.placed,n.depth,n.fit)),e=n.move;for(let s=n.depth+1;s<=e.depth;s++){let o=e.node(s),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(s));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,s){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=vu(this.placed,this.depth,Oe.from(e.create(n,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Oe.empty,!0);n.childCount&&(this.placed=vu(this.placed,this.frontier.length,n))}}function bu(r,e,n){return e==0?r.cutByIndex(n,r.childCount):r.replaceChild(0,r.firstChild.copy(bu(r.firstChild.content,e-1,n)))}function vu(r,e,n){return e==0?r.append(n):r.replaceChild(r.childCount-1,r.lastChild.copy(vu(r.lastChild.content,e-1,n)))}function fm(r,e){for(let n=0;n<e;n++)r=r.firstChild.content;return r}function oM(r,e,n){if(e<=0)return r;let s=r.content;return e>1&&(s=s.replaceChild(0,oM(s.firstChild,e-1,s.childCount==1?n-1:0))),e>0&&(s=r.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(r.type.contentMatch.matchFragment(s).fillBefore(Oe.empty,!0)))),r.copy(s)}function hm(r,e,n,s,o){let i=r.node(e),l=o?r.indexAfter(e):r.index(e);if(l==i.childCount&&!n.compatibleContent(i.type))return null;let a=s.fillBefore(i.content,!0,l);return a&&!_X(n,i.content,l)?a:null}function _X(r,e,n){for(let s=n;s<e.childCount;s++)if(!r.allowsMarks(e.child(s).marks))return!0;return!1}function OX(r){return r.spec.defining||r.spec.definingForContent}function AX(r,e,n,s){if(!s.size)return r.deleteRange(e,n);let o=r.doc.resolve(e),i=r.doc.resolve(n);if(sM(o,i,s))return r.step(new Nn(e,n,s));let l=lM(o,r.doc.resolve(n));l[l.length-1]==0&&l.pop();let a=-(o.depth+1);l.unshift(a);for(let h=o.depth,p=o.pos-1;h>0;h--,p--){let g=o.node(h).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;l.indexOf(h)>-1?a=h:o.before(h)==p&&l.splice(1,0,-h)}let c=l.indexOf(a),u=[],d=s.openStart;for(let h=s.content,p=0;;p++){let g=h.firstChild;if(u.push(g),p==s.openStart)break;h=g.content}for(let h=d-1;h>=0;h--){let p=u[h],g=OX(p.type);if(g&&!p.sameMarkup(o.node(Math.abs(a)-1)))d=h;else if(g||!p.type.isTextblock)break}for(let h=s.openStart;h>=0;h--){let p=(h+d+1)%(s.openStart+1),g=u[p];if(g)for(let m=0;m<l.length;m++){let v=l[(m+c)%l.length],b=!0;v<0&&(b=!1,v=-v);let C=o.node(v-1),y=o.index(v-1);if(C.canReplaceWith(y,y,g.type,g.marks))return r.replace(o.before(v),b?i.after(v):n,new He(iM(s.content,0,s.openStart,p),p,s.openEnd))}}let f=r.steps.length;for(let h=l.length-1;h>=0&&(r.replace(e,n,s),!(r.steps.length>f));h--){let p=l[h];p<0||(e=o.before(p),n=i.after(p))}}function iM(r,e,n,s,o){if(e<n){let i=r.firstChild;r=r.replaceChild(0,i.copy(iM(i.content,e+1,n,s,i)))}if(e>s){let i=o.contentMatchAt(0),l=i.fillBefore(r).append(r);r=l.append(i.matchFragment(l).fillBefore(Oe.empty,!0))}return r}function MX(r,e,n,s){if(!s.isInline&&e==n&&r.doc.resolve(e).parent.content.size){let o=EX(r.doc,e,s.type);o!=null&&(e=n=o)}r.replaceRange(e,n,new He(Oe.from(s),0,0))}function kX(r,e,n){let s=r.doc.resolve(e),o=r.doc.resolve(n),i=lM(s,o);for(let l=0;l<i.length;l++){let a=i[l],c=l==i.length-1;if(c&&a==0||s.node(a).type.contentMatch.validEnd)return r.delete(s.start(a),o.end(a));if(a>0&&(c||s.node(a-1).canReplace(s.index(a-1),o.indexAfter(a-1))))return r.delete(s.before(a),o.after(a))}for(let l=1;l<=s.depth&&l<=o.depth;l++)if(e-s.start(l)==s.depth-l&&n>s.end(l)&&o.end(l)-n!=o.depth-l)return r.delete(s.before(l),n);r.delete(e,n)}function lM(r,e){let n=[],s=Math.min(r.depth,e.depth);for(let o=s;o>=0;o--){let i=r.start(o);if(i<r.pos-(r.depth-o)||e.end(o)>e.pos+(e.depth-o)||r.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==r.depth&&o==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}class Ka extends ar{constructor(e,n,s){super(),this.pos=e,this.attr=n,this.value=s}apply(e){let n=e.nodeAt(this.pos);if(!n)return yn.fail("No node at attribute step's position");let s=Object.create(null);for(let i in n.attrs)s[i]=n.attrs[i];s[this.attr]=this.value;let o=n.type.create(s,null,n.marks);return yn.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(o),0,n.isLeaf?0:1))}getMap(){return Ir.empty}invert(e){return new Ka(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ka(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ka(n.pos,n.attr,n.value)}}ar.jsonID("attr",Ka);class yd extends ar{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let s=e.type.create(n,e.content,e.marks);return yn.ok(s)}getMap(){return Ir.empty}invert(e){return new yd(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new yd(n.attr,n.value)}}ar.jsonID("docAttr",yd);let Cc=class extends Error{};Cc=function r(e){let n=Error.call(this,e);return n.__proto__=r.prototype,n};Cc.prototype=Object.create(Error.prototype);Cc.prototype.constructor=Cc;Cc.prototype.name="TransformError";class PX{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new qa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Cc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,s=He.empty){let o=ag(this.doc,e,n,s);return o&&this.step(o),this}replaceWith(e,n,s){return this.replace(e,n,new He(Oe.from(s),0,0))}delete(e,n){return this.replace(e,n,He.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,s){return AX(this,e,n,s),this}replaceRangeWith(e,n,s){return MX(this,e,n,s),this}deleteRange(e,n){return kX(this,e,n),this}lift(e,n){return hX(this,e,n),this}join(e,n=1){return xX(this,e,n),this}wrap(e,n){return mX(this,e,n),this}setBlockType(e,n=e,s,o=null){return bX(this,e,n,s,o),this}setNodeMarkup(e,n,s=null,o){return CX(this,e,n,s,o),this}setNodeAttribute(e,n,s){return this.step(new Ka(e,n,s)),this}setDocAttribute(e,n){return this.step(new yd(e,n)),this}addNodeMark(e,n){return this.step(new Pi(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Bt)){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(n=n.isInSet(s.marks),!n)return this}return this.step(new wc(e,n)),this}split(e,n=1,s){return SX(this,e,n,s),this}addMark(e,n,s){return uX(this,e,n,s),this}removeMark(e,n,s){return dX(this,e,n,s),this}clearIncompatible(e,n,s){return tM(this,e,n,s),this}}const pm=Object.create(null);class Et{constructor(e,n,s){this.$anchor=e,this.$head=n,this.ranges=s||[new NX(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=He.empty){let s=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=s,s=s.lastChild;let i=e.steps.length,l=this.ranges;for(let a=0;a<l.length;a++){let{$from:c,$to:u}=l[a],d=e.mapping.slice(i);e.replaceRange(d.map(c.pos),d.map(u.pos),a?He.empty:n),a==0&&LS(e,i,(s?s.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let s=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:l,$to:a}=o[i],c=e.mapping.slice(s),u=c.map(l.pos),d=c.map(a.pos);i?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),LS(e,s,n.isInline?-1:1))}}static findFrom(e,n,s=!1){let o=e.parent.inlineContent?new yt(e):Na(e.node(0),e.parent,e.pos,e.index(),n,s);if(o)return o;for(let i=e.depth-1;i>=0;i--){let l=n<0?Na(e.node(0),e.node(i),e.before(i+1),e.index(i),n,s):Na(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,s);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ps(e.node(0))}static atStart(e){return Na(e,e,0,0,1)||new Ps(e)}static atEnd(e){return Na(e,e,e.content.size,e.childCount,-1)||new Ps(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=pm[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in pm)throw new RangeError("Duplicate use of selection JSON ID "+e);return pm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return yt.between(this.$anchor,this.$head).getBookmark()}}Et.prototype.visible=!0;class NX{constructor(e,n){this.$from=e,this.$to=n}}let NS=!1;function IS(r){!NS&&!r.parent.inlineContent&&(NS=!0)}class yt extends Et{constructor(e,n=e){IS(e),IS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let s=e.resolve(n.map(this.head));if(!s.parent.inlineContent)return Et.near(s);let o=e.resolve(n.map(this.anchor));return new yt(o.parent.inlineContent?o:s,s)}replace(e,n=He.empty){if(super.replace(e,n),n==He.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof yt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new cg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new yt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,s=n){let o=e.resolve(n);return new this(o,s==n?o:e.resolve(s))}static between(e,n,s){let o=e.pos-n.pos;if((!s||o)&&(s=o>=0?1:-1),!n.parent.inlineContent){let i=Et.findFrom(n,s,!0)||Et.findFrom(n,-s,!0);if(i)n=i.$head;else return Et.near(n,s)}return e.parent.inlineContent||(o==0?e=n:(e=(Et.findFrom(e,-s,!0)||Et.findFrom(e,s,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new yt(e,n)}}Et.jsonID("text",yt);class cg{constructor(e,n){this.anchor=e,this.head=n}map(e){return new cg(e.map(this.anchor),e.map(this.head))}resolve(e){return yt.between(e.resolve(this.anchor),e.resolve(this.head))}}class ot extends Et{constructor(e){let n=e.nodeAfter,s=e.node(0).resolve(e.pos+n.nodeSize);super(e,s),this.node=n}map(e,n){let{deleted:s,pos:o}=n.mapResult(this.anchor),i=e.resolve(o);return s?Et.near(i):new ot(i)}content(){return new He(Oe.from(this.node),0,0)}eq(e){return e instanceof ot&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ky(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ot(e.resolve(n.anchor))}static create(e,n){return new ot(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ot.prototype.visible=!1;Et.jsonID("node",ot);class Ky{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:s}=e.mapResult(this.anchor);return n?new cg(s,s):new Ky(s)}resolve(e){let n=e.resolve(this.anchor),s=n.nodeAfter;return s&&ot.isSelectable(s)?new ot(n):Et.near(n)}}class Ps extends Et{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=He.empty){if(n==He.empty){e.delete(0,e.doc.content.size);let s=Et.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ps(e)}map(e){return new Ps(e)}eq(e){return e instanceof Ps}getBookmark(){return IX}}Et.jsonID("all",Ps);const IX={map(){return this},resolve(r){return new Ps(r)}};function Na(r,e,n,s,o,i=!1){if(e.inlineContent)return yt.create(r,n);for(let l=s-(o>0?0:1);o>0?l<e.childCount:l>=0;l+=o){let a=e.child(l);if(a.isAtom){if(!i&&ot.isSelectable(a))return ot.create(r,n-(o<0?a.nodeSize:0))}else{let c=Na(r,a,n+o,o<0?a.childCount:0,o,i);if(c)return c}n+=a.nodeSize*o}return null}function LS(r,e,n){let s=r.steps.length-1;if(s<e)return;let o=r.steps[s];if(!(o instanceof Nn||o instanceof $n))return;let i=r.mapping.maps[s],l;i.forEach((a,c,u,d)=>{l==null&&(l=d)}),r.setSelection(Et.near(r.doc.resolve(l),n))}const RS=1,Uf=2,$S=4;class LX extends PX{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|RS)&~Uf,this.storedMarks=null,this}get selectionSet(){return(this.updated&RS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Uf,this}ensureMarks(e){return Bt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Uf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Uf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let s=this.selection;return n&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Bt.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,s){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(s==null&&(s=n),s=s??n,!e)return this.deleteRange(n,s);let i=this.storedMarks;if(!i){let l=this.doc.resolve(n);i=s==n?l.marks():l.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,o.text(e,i)),this.selection.empty||this.setSelection(Et.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=$S,this}get scrolledIntoView(){return(this.updated&$S)>0}}function DS(r,e){return!e||!r?r:r.bind(e)}class yu{constructor(e,n,s){this.name=e,this.init=DS(n.init,s),this.apply=DS(n.apply,s)}}const RX=[new yu("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new yu("selection",{init(r,e){return r.selection||Et.atStart(e.doc)},apply(r){return r.selection}}),new yu("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,n,s){return s.selection.$cursor?r.storedMarks:null}}),new yu("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class gm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=RX.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new yu(s.key,s.spec.state,s))})}}class Da{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let o=this.config.plugins[s];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],s=this.applyInner(e),o=null;for(;;){let i=!1;for(let l=0;l<this.config.plugins.length;l++){let a=this.config.plugins[l];if(a.spec.appendTransaction){let c=o?o[l].n:0,u=o?o[l].state:this,d=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,u,s);if(d&&s.filterTransaction(d,l)){if(d.setMeta("appendedTransaction",e),!o){o=[];for(let f=0;f<this.config.plugins.length;f++)o.push(f<l?{state:s,n:n.length}:{state:this,n:0})}n.push(d),s=s.applyInner(d),i=!0}o&&(o[l]={state:s,n:n.length})}}if(!i)return{state:s,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Da(this.config),s=this.config.fields;for(let o=0;o<s.length;o++){let i=s[o];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new LX(this)}static create(e){let n=new gm(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new Da(n);for(let o=0;o<n.fields.length;o++)s[n.fields[o].name]=n.fields[o].init(e,s);return s}reconfigure(e){let n=new gm(this.schema,e.plugins),s=n.fields,o=new Da(n);for(let i=0;i<s.length;i++){let l=s[i].name;o[l]=this.hasOwnProperty(l)?this[l]:s[i].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[s],i=o.spec.state;i&&i.toJSON&&(n[s]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new gm(e.schema,e.plugins),i=new Da(o);return o.fields.forEach(l=>{if(l.name=="doc")i.doc=Gl.fromJSON(e.schema,n.doc);else if(l.name=="selection")i.selection=Et.fromJSON(i.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let a in s){let c=s[a],u=c.spec.state;if(c.key==l.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[l.name]=u.fromJSON.call(c,e,n[a],i);return}}i[l.name]=l.init(e,i)}}),i}}function aM(r,e,n){for(let s in r){let o=r[s];o instanceof Function?o=o.bind(e):s=="handleDOMEvents"&&(o=aM(o,e,{})),n[s]=o}return n}class zr{constructor(e){this.spec=e,this.props={},e.props&&aM(e.props,this,this.props),this.key=e.key?e.key.key:cM("plugin")}getState(e){return e[this.key]}}const mm=Object.create(null);function cM(r){return r in mm?r+"$"+ ++mm[r]:(mm[r]=0,r+"$")}class ti{constructor(e="key"){this.key=cM(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Un=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},wd=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let qb=null;const Ao=function(r,e,n){let s=qb||(qb=document.createRange());return s.setEnd(r,n??r.nodeValue.length),s.setStart(r,e||0),s},$X=function(){qb=null},oa=function(r,e,n,s){return n&&(VS(r,e,n,s,-1)||VS(r,e,n,s,1))},DX=/^(img|br|input|textarea|hr)$/i;function VS(r,e,n,s,o){for(;;){if(r==n&&e==s)return!0;if(e==(o<0?0:Xs(r))){let i=r.parentNode;if(!i||i.nodeType!=1||of(r)||DX.test(r.nodeName)||r.contentEditable=="false")return!1;e=Un(r)+(o<0?0:1),r=i}else if(r.nodeType==1){if(r=r.childNodes[e+(o<0?-1:0)],r.contentEditable=="false")return!1;e=o<0?Xs(r):0}else return!1}}function Xs(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function VX(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=Xs(r)}else if(r.parentNode&&!of(r))e=Un(r),r=r.parentNode;else return null}}function FX(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!of(r))e=Un(r)+1,r=r.parentNode;else return null}}function BX(r,e,n){for(let s=e==0,o=e==Xs(r);s||o;){if(r==n)return!0;let i=Un(r);if(r=r.parentNode,!r)return!1;s=s&&i==0,o=o&&i==Xs(r)}}function of(r){let e;for(let n=r;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const ug=function(r){return r.focusNode&&oa(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Ml(r,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=r,n.key=n.code=e,n}function zX(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function jX(r,e,n){if(r.caretPositionFromPoint)try{let s=r.caretPositionFromPoint(e,n);if(s)return{node:s.offsetNode,offset:s.offset}}catch{}if(r.caretRangeFromPoint){let s=r.caretRangeFromPoint(e,n);if(s)return{node:s.startContainer,offset:s.startOffset}}}const co=typeof navigator<"u"?navigator:null,FS=typeof document<"u"?document:null,cl=co&&co.userAgent||"",Gb=/Edge\/(\d+)/.exec(cl),uM=/MSIE \d/.exec(cl),Kb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cl),Tr=!!(uM||Kb||Gb),Di=uM?document.documentMode:Kb?+Kb[1]:Gb?+Gb[1]:0,Ds=!Tr&&/gecko\/(\d+)/i.test(cl);Ds&&+(/Firefox\/(\d+)/.exec(cl)||[0,0])[1];const Yb=!Tr&&/Chrome\/(\d+)/.exec(cl),fr=!!Yb,HX=Yb?+Yb[1]:0,hr=!Tr&&!!co&&/Apple Computer/.test(co.vendor),Sc=hr&&(/Mobile\/\w+/.test(cl)||!!co&&co.maxTouchPoints>2),Gr=Sc||(co?/Mac/.test(co.platform):!1),UX=co?/Win/.test(co.platform):!1,Cs=/Android \d/.test(cl),lf=!!FS&&"webkitFontSmoothing"in FS.documentElement.style,WX=lf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function qX(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Eo(r,e){return typeof r=="number"?r:r[e]}function GX(r){let e=r.getBoundingClientRect(),n=e.width/r.offsetWidth||1,s=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*n,top:e.top,bottom:e.top+r.clientHeight*s}}function BS(r,e,n){let s=r.someProp("scrollThreshold")||0,o=r.someProp("scrollMargin")||5,i=r.dom.ownerDocument;for(let l=n||r.dom;l;l=wd(l)){if(l.nodeType!=1)continue;let a=l,c=a==i.body,u=c?qX(i):GX(a),d=0,f=0;if(e.top<u.top+Eo(s,"top")?f=-(u.top-e.top+Eo(o,"top")):e.bottom>u.bottom-Eo(s,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Eo(o,"top")-u.top:e.bottom-u.bottom+Eo(o,"bottom")),e.left<u.left+Eo(s,"left")?d=-(u.left-e.left+Eo(o,"left")):e.right>u.right-Eo(s,"right")&&(d=e.right-u.right+Eo(o,"right")),d||f)if(c)i.defaultView.scrollBy(d,f);else{let h=a.scrollLeft,p=a.scrollTop;f&&(a.scrollTop+=f),d&&(a.scrollLeft+=d);let g=a.scrollLeft-h,m=a.scrollTop-p;e={left:e.left-g,top:e.top-m,right:e.right-g,bottom:e.bottom-m}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(l).position))break}}function KX(r){let e=r.dom.getBoundingClientRect(),n=Math.max(0,e.top),s,o;for(let i=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let a=r.root.elementFromPoint(i,l);if(!a||a==r.dom||!r.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=n-20){s=a,o=c.top;break}}return{refDOM:s,refTop:o,stack:dM(r.dom)}}function dM(r){let e=[],n=r.ownerDocument;for(let s=r;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),r!=n);s=wd(s));return e}function YX({refDOM:r,refTop:e,stack:n}){let s=r?r.getBoundingClientRect().top:0;fM(n,s==0?0:s-e)}function fM(r,e){for(let n=0;n<r.length;n++){let{dom:s,top:o,left:i}=r[n];s.scrollTop!=o+e&&(s.scrollTop=o+e),s.scrollLeft!=i&&(s.scrollLeft=i)}}let Ta=null;function JX(r){if(r.setActive)return r.setActive();if(Ta)return r.focus(Ta);let e=dM(r);r.focus(Ta==null?{get preventScroll(){return Ta={preventScroll:!0},!0}}:void 0),Ta||(Ta=!1,fM(e,0))}function hM(r,e){let n,s=2e8,o,i=0,l=e.top,a=e.top,c,u;for(let d=r.firstChild,f=0;d;d=d.nextSibling,f++){let h;if(d.nodeType==1)h=d.getClientRects();else if(d.nodeType==3)h=Ao(d).getClientRects();else continue;for(let p=0;p<h.length;p++){let g=h[p];if(g.top<=l&&g.bottom>=a){l=Math.max(g.bottom,l),a=Math.min(g.top,a);let m=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(m<s){n=d,s=m,o=m&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,d.nodeType==1&&m&&(i=f+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!c&&g.left<=e.left&&g.right>=e.left&&(c=d,u={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(i=f+1)}}return!n&&c&&(n=c,o=u,s=0),n&&n.nodeType==3?XX(n,o):!n||s&&n.nodeType==1?{node:r,offset:i}:hM(n,o)}function XX(r,e){let n=r.nodeValue.length,s=document.createRange();for(let o=0;o<n;o++){s.setEnd(r,o+1),s.setStart(r,o);let i=gi(s,1);if(i.top!=i.bottom&&Yy(e,i))return{node:r,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:r,offset:0}}function Yy(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function ZX(r,e){let n=r.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<r.getBoundingClientRect().left?n:r}function QX(r,e,n){let{node:s,offset:o}=hM(e,n),i=-1;if(s.nodeType==1&&!s.firstChild){let l=s.getBoundingClientRect();i=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return r.docView.posFromDOM(s,o,i)}function eZ(r,e,n,s){let o=-1;for(let i=e,l=!1;i!=r.dom;){let a=r.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let c=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!l&&c.left>s.left||c.top>s.top?o=a.posBefore:(!l&&c.right<s.left||c.bottom<s.top)&&(o=a.posAfter),l=!0),!a.contentDOM&&o<0&&!a.node.isText)return(a.node.isBlock?s.top<(c.top+c.bottom)/2:s.left<(c.left+c.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return o>-1?o:r.docView.posFromDOM(e,n,-1)}function pM(r,e,n){let s=r.childNodes.length;if(s&&n.top<n.bottom)for(let o=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let l=r.childNodes[i];if(l.nodeType==1){let a=l.getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(Yy(e,u))return pM(l,e,u)}}if((i=(i+1)%s)==o)break}return r}function tZ(r,e){let n=r.dom.ownerDocument,s,o=0,i=jX(n,e.left,e.top);i&&({node:s,offset:o}=i);let l=(r.root.elementFromPoint?r.root:n).elementFromPoint(e.left,e.top),a;if(!l||!r.dom.contains(l.nodeType!=1?l.parentNode:l)){let u=r.dom.getBoundingClientRect();if(!Yy(e,u)||(l=pM(r.dom,e,u),!l))return null}if(hr)for(let u=l;s&&u;u=wd(u))u.draggable&&(s=void 0);if(l=ZX(l,e),s){if(Ds&&s.nodeType==1&&(o=Math.min(o,s.childNodes.length),o<s.childNodes.length)){let d=s.childNodes[o],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&o++}let u;lf&&o&&s.nodeType==1&&(u=s.childNodes[o-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&o--,s==r.dom&&o==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?a=r.state.doc.content.size:(o==0||s.nodeType!=1||s.childNodes[o-1].nodeName!="BR")&&(a=eZ(r,s,o,e))}a==null&&(a=QX(r,l,e));let c=r.docView.nearestDesc(l,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function zS(r){return r.top<r.bottom||r.left<r.right}function gi(r,e){let n=r.getClientRects();if(n.length){let s=n[e<0?0:n.length-1];if(zS(s))return s}return Array.prototype.find.call(n,zS)||r.getBoundingClientRect()}const nZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function gM(r,e,n){let{node:s,offset:o,atom:i}=r.docView.domFromPos(e,n<0?-1:1),l=lf||Ds;if(s.nodeType==3)if(l&&(nZ.test(s.nodeValue)||(n<0?!o:o==s.nodeValue.length))){let c=gi(Ao(s,o,o),n);if(Ds&&o&&/\s/.test(s.nodeValue[o-1])&&o<s.nodeValue.length){let u=gi(Ao(s,o-1,o-1),-1);if(u.top==c.top){let d=gi(Ao(s,o,o+1),-1);if(d.top!=c.top)return hu(d,d.left<u.left)}}return c}else{let c=o,u=o,d=n<0?1:-1;return n<0&&!o?(u++,d=-1):n>=0&&o==s.nodeValue.length?(c--,d=1):n<0?c--:u++,hu(gi(Ao(s,c,u),d),d<0)}if(!r.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==Xs(s))){let c=s.childNodes[o-1];if(c.nodeType==1)return bm(c.getBoundingClientRect(),!1)}if(i==null&&o<Xs(s)){let c=s.childNodes[o];if(c.nodeType==1)return bm(c.getBoundingClientRect(),!0)}return bm(s.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==Xs(s))){let c=s.childNodes[o-1],u=c.nodeType==3?Ao(c,Xs(c)-(l?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return hu(gi(u,1),!1)}if(i==null&&o<Xs(s)){let c=s.childNodes[o];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?Ao(c,0,l?0:1):c.nodeType==1?c:null:null;if(u)return hu(gi(u,-1),!0)}return hu(gi(s.nodeType==3?Ao(s):s,-n),n>=0)}function hu(r,e){if(r.width==0)return r;let n=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:n,right:n}}function bm(r,e){if(r.height==0)return r;let n=e?r.top:r.bottom;return{top:n,bottom:n,left:r.left,right:r.right}}function mM(r,e,n){let s=r.state,o=r.root.activeElement;s!=e&&r.updateState(e),o!=r.dom&&r.focus();try{return n()}finally{s!=e&&r.updateState(s),o!=r.dom&&o&&o.focus()}}function rZ(r,e,n){let s=e.selection,o=n=="up"?s.$from:s.$to;return mM(r,e,()=>{let{node:i}=r.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=r.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let l=gM(r,o.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=Ao(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?l.top-d.top>(d.bottom-l.top)*2:d.bottom-l.bottom>(l.bottom-d.top)*2))return!1}}return!0})}const sZ=/[\u0590-\u08ac]/;function oZ(r,e,n){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let o=s.parentOffset,i=!o,l=o==s.parent.content.size,a=r.domSelection();return!sZ.test(s.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:l:mM(r,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=r.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let p=s.depth?r.docView.domAfterPos(s.before()):r.dom,{focusNode:g,focusOffset:m}=r.domSelectionRange(),v=g&&!p.contains(g.nodeType==1?g:g.parentNode)||c==g&&u==m;try{a.collapse(d,f),c&&(c!=d||u!=f)&&a.extend&&a.extend(c,u)}catch{}return h!=null&&(a.caretBidiLevel=h),v})}let jS=null,HS=null,US=!1;function iZ(r,e,n){return jS==e&&HS==n?US:(jS=e,HS=n,US=n=="up"||n=="down"?rZ(r,e,n):oZ(r,e,n))}const rs=0,WS=1,Dl=2,uo=3;class af{constructor(e,n,s,o){this.parent=e,this.children=n,this.dom=s,this.contentDOM=o,this.dirty=rs,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,s=this.posAtStart;;n++){let o=this.children[n];if(o==e)return s;s+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let i,l;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(l)+l.size:this.posAtStart}else{let i,l;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(l):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>Un(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let s=!0,o=e;o;o=o.parentNode){let i=this.getDesc(o),l;if(i&&(!n||i.node))if(s&&(l=i.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))s=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(e,n,s){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,n,s)}return-1}descAt(e){for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],i=s+o.size;if(s==e&&i!=s){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<i)return o.descAt(e-s-o.border);s=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,o=0;for(let i=0;s<this.children.length;s++){let l=this.children[s],a=i+l.size;if(a>e||l instanceof vM){o=e-i;break}i=a}if(o)return this.children[s].domFromPos(o-this.children[s].border,n);for(let i;s&&!(i=this.children[s-1]).size&&i instanceof bM&&i.side>=0;s--);if(n<=0){let i,l=!0;for(;i=s?this.children[s-1]:null,!(!i||i.dom.parentNode==this.contentDOM);s--,l=!1);return i&&n&&l&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Un(i.dom)+1:0}}else{let i,l=!0;for(;i=s<this.children.length?this.children[s]:null,!(!i||i.dom.parentNode==this.contentDOM);s++,l=!1);return i&&l&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Un(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let l=s,a=0;;a++){let c=this.children[a],u=l+c.size;if(o==-1&&e<=u){let d=l+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=l;for(let f=a;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){o=Un(h.dom)+1;break}e-=h.size}o==-1&&(o=0)}if(o>-1&&(u>n||a==this.children.length-1)){n=u;for(let d=a+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=Un(f.dom);break}n+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}l=u}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:s}=this.domFromPos(e,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[s]}setSelection(e,n,s,o=!1){let i=Math.min(e,n),l=Math.max(e,n);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],m=p+g.size;if(i>p&&l<m)return g.setSelection(e-p-g.border,n-p-g.border,s,o);p=m}let a=this.domFromPos(e,e?-1:1),c=n==e?a:this.domFromPos(n,n?-1:1),u=s.getSelection(),d=!1;if((Ds||hr)&&e==n){let{node:h,offset:p}=a;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let g=h,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(a=c={node:m.parentNode,offset:Un(m)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=h.childNodes[p-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Ds&&u.focusNode&&u.focusNode!=c.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(o=!0)}if(!(o||d&&hr)&&oa(a.node,a.offset,u.anchorNode,u.anchorOffset)&&oa(c.node,c.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!d){u.collapse(a.node,a.offset);try{e!=n&&u.extend(c.node,c.offset),f=!0}catch{}}if(!f){if(e>n){let p=a;a=c,c=p}let h=document.createRange();h.setEnd(c.node,c.offset),h.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let s=0,o=0;o<this.children.length;o++){let i=this.children[o],l=s+i.size;if(s==l?e<=l&&n>=s:e<l&&n>s){let a=s+i.border,c=l-i.border;if(e>=a&&n<=c){this.dirty=e==s||n==l?Dl:WS,e==a&&n==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=uo:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Dl:uo}s=l}this.dirty=Dl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let s=e==1?Dl:WS;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class bM extends af{constructor(e,n,s,o){let i,l=n.type.toDOM;if(typeof l=="function"&&(l=l(s,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(l.nodeType!=1){let a=document.createElement("span");a.appendChild(l),l=a}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==rs&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class lZ extends af{constructor(e,n,s,o){super(e,[],n,null),this.textDOM=s,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ia extends af{constructor(e,n,s,o){super(e,[],s,o),this.mark=n}static create(e,n,s,o){let i=o.nodeViews[n.type.name],l=i&&i(n,o,s);return(!l||!l.dom)&&(l=Qs.renderSpec(document,n.type.spec.toDOM(n,s))),new ia(e,n,l.dom,l.contentDOM||l.dom)}parseRule(){return this.dirty&uo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=uo&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=rs){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=rs}}slice(e,n,s){let o=ia.create(this.parent,this.mark,!0,s),i=this.children,l=this.size;n<l&&(i=Zb(i,n,l,s)),e>0&&(i=Zb(i,0,e,s));for(let a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}}class Vi extends af{constructor(e,n,s,o,i,l,a,c,u){super(e,[],i,l),this.node=n,this.outerDeco=s,this.innerDeco=o,this.nodeDOM=a}static create(e,n,s,o,i,l){let a=i.nodeViews[n.type.name],c,u=a&&a(n,i,()=>{if(!c)return l;if(c.parent)return c.parent.posBeforeChild(c)},s,o),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Qs.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let h=d;return d=CM(d,s,n),u?c=new aZ(e,n,s,o,d,f||null,h,u,i,l+1):n.isText?new dg(e,n,s,o,d,h,i):new Vi(e,n,s,o,d,f||null,h,i,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Oe.empty)}return e}matchesNode(e,n,s){return this.dirty==rs&&e.eq(this.node)&&Xb(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let s=this.node.inlineContent,o=n,i=e.composing?this.localCompositionInfo(e,n):null,l=i&&i.pos>-1?i:null,a=i&&i.pos<0,c=new uZ(this,l&&l.node,e);hZ(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,s,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?Bt.none:this.node.child(d).marks,s,e),c.placeWidget(u,e,o)},(u,d,f,h)=>{c.syncToMarks(u.marks,s,e);let p;c.findNodeMatch(u,d,f,h)||a&&e.state.selection.from>o&&e.state.selection.to<o+u.nodeSize&&(p=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(u,d,f,p,e)||c.updateNextNode(u,d,f,e,h,o)||c.addNode(u,d,f,e,o),o+=u.nodeSize}),c.syncToMarks([],s,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Dl)&&(l&&this.protectLocalComposition(e,l),yM(this.contentDOM,this.children,e),Sc&&pZ(this.dom))}localCompositionInfo(e,n){let{from:s,to:o}=e.state.selection;if(!(e.state.selection instanceof yt)||s<n||o>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let l=i.nodeValue,a=gZ(this.node.content,l,s-n,o-n);return a<0?null:{node:i,pos:a,text:l}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:s,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let l=new lZ(this,i,n,o);e.input.compositionNodes.push(l),this.children=Zb(this.children,s,s+o.length,e,l)}update(e,n,s,o){return this.dirty==uo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,s,o),!0)}updateInner(e,n,s,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=rs}updateOuterDeco(e){if(Xb(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=wM(this.dom,this.nodeDOM,Jb(this.outerDeco,this.node,n),Jb(e,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function qS(r,e,n,s,o){CM(s,e,r);let i=new Vi(void 0,r,e,n,s,s,s,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class dg extends Vi{constructor(e,n,s,o,i,l,a){super(e,n,s,o,i,null,l,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,s,o){return this.dirty==uo||this.dirty!=rs&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=rs||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=rs,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,s){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,s){let o=this.node.cut(e,n),i=document.createTextNode(o.text);return new dg(this.parent,o,this.outerDeco,this.innerDeco,i,i,s)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=uo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class vM extends af{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==rs&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class aZ extends Vi{constructor(e,n,s,o,i,l,a,c,u,d){super(e,n,s,o,i,l,a,u,d),this.spec=c}update(e,n,s,o){if(this.dirty==uo)return!1;if(this.spec.update){let i=this.spec.update(e,n,s);return i&&this.updateInner(e,n,s,o),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,s,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,s,o){this.spec.setSelection?this.spec.setSelection(e,n,s):super.setSelection(e,n,s,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function yM(r,e,n){let s=r.firstChild,o=!1;for(let i=0;i<e.length;i++){let l=e[i],a=l.dom;if(a.parentNode==r){for(;a!=s;)s=GS(s),o=!0;s=s.nextSibling}else o=!0,r.insertBefore(a,s);if(l instanceof ia){let c=s?s.previousSibling:r.lastChild;yM(l.contentDOM,l.children,n),s=c?c.nextSibling:r.firstChild}}for(;s;)s=GS(s),o=!0;o&&n.trackWrites==r&&(n.trackWrites=null)}const Hu=function(r){r&&(this.nodeName=r)};Hu.prototype=Object.create(null);const Vl=[new Hu];function Jb(r,e,n){if(r.length==0)return Vl;let s=n?Vl[0]:new Hu,o=[s];for(let i=0;i<r.length;i++){let l=r[i].type.attrs;if(l){l.nodeName&&o.push(s=new Hu(l.nodeName));for(let a in l){let c=l[a];c!=null&&(n&&o.length==1&&o.push(s=new Hu(e.isInline?"span":"div")),a=="class"?s.class=(s.class?s.class+" ":"")+c:a=="style"?s.style=(s.style?s.style+";":"")+c:a!="nodeName"&&(s[a]=c))}}}return o}function wM(r,e,n,s){if(n==Vl&&s==Vl)return e;let o=e;for(let i=0;i<s.length;i++){let l=s[i],a=n[i];if(i){let c;a&&a.nodeName==l.nodeName&&o!=r&&(c=o.parentNode)&&c.nodeName.toLowerCase()==l.nodeName||(c=document.createElement(l.nodeName),c.pmIsDeco=!0,c.appendChild(o),a=Vl[0]),o=c}cZ(o,a||Vl[0],l)}return o}function cZ(r,e,n){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&r.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=e[s]&&r.setAttribute(s,n[s]);if(e.class!=n.class){let s=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<s.length;i++)o.indexOf(s[i])==-1&&r.classList.remove(s[i]);for(let i=0;i<o.length;i++)s.indexOf(o[i])==-1&&r.classList.add(o[i]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=n.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=s.exec(e.style);)r.style.removeProperty(o[1])}n.style&&(r.style.cssText+=n.style)}}function CM(r,e,n){return wM(r,r,Vl,Jb(e,n,r.nodeType!=1))}function Xb(r,e){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!r[n].type.eq(e[n].type))return!1;return!0}function GS(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class uZ{constructor(e,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=dZ(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let s=e;s<n;s++)this.top.children[s].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,s){let o=0,i=this.stack.length>>1,l=Math.min(i,e.length);for(;o<l&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=rs,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[i])&&!this.isLocked(u.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=ia.create(this.top,e[i],n,s);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,s,o){let i=-1,l;if(o>=this.preMatch.index&&(l=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,s))i=this.top.children.indexOf(l,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let u=this.top.children[a];if(u.matchesNode(e,n,s)&&!this.preMatch.matched.has(u)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,s,o,i){let l=this.top.children[o];return l.dirty==uo&&l.dom==l.contentDOM&&(l.dirty=Dl),l.update(e,n,s,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==s)return o}return-1}e=n}}updateNextNode(e,n,s,o,i,l){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Vi){let u=this.preMatch.matched.get(c);if(u!=null&&u!=i)return!1;let d=c.dom,f,h=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=uo&&Xb(n,c.outerDeco));if(!h&&c.update(e,n,s,o))return this.destroyBetween(this.index,a),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(c,e,n,s,o,l)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Dl,f.updateChildren(o,l+1),f.dirty=rs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,s,o,i,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let a=Vi.create(this.top,n,s,o,i,l);if(a.contentDOM){a.children=e.children,e.children=[];for(let c of a.children)c.parent=a}return e.destroy(),a}addNode(e,n,s,o,i){let l=Vi.create(this.top,e,n,s,o,i);l.contentDOM&&l.updateChildren(o,i+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,s){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new bM(this.top,e,n,s);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ia;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof dg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((hr||fr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let o=new vM(this.top,[],s,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function dZ(r,e){let n=e,s=n.children.length,o=r.childCount,i=new Map,l=[];e:for(;o>0;){let a;for(;;)if(s){let u=n.children[s-1];if(u instanceof ia)n=u,s=u.children.length;else{a=u,s--;break}}else{if(n==e)break e;s=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=r.child(o-1))break;--o,i.set(a,o),l.push(a)}}return{index:o,matched:i,matches:l.reverse()}}function fZ(r,e){return r.type.side-e.type.side}function hZ(r,e,n,s){let o=e.locals(r),i=0;if(o.length==0){for(let u=0;u<r.childCount;u++){let d=r.child(u);s(d,o,e.forChild(i,d),u),i+=d.nodeSize}return}let l=0,a=[],c=null;for(let u=0;;){let d,f;for(;l<o.length&&o[l].to==i;){let v=o[l++];v.widget&&(d?(f||(f=[d])).push(v):d=v)}if(d)if(f){f.sort(fZ);for(let v=0;v<f.length;v++)n(f[v],u,!!c)}else n(d,u,!!c);let h,p;if(c)p=-1,h=c,c=null;else if(u<r.childCount)p=u,h=r.child(u++);else break;for(let v=0;v<a.length;v++)a[v].to<=i&&a.splice(v--,1);for(;l<o.length&&o[l].from<=i&&o[l].to>i;)a.push(o[l++]);let g=i+h.nodeSize;if(h.isText){let v=g;l<o.length&&o[l].from<v&&(v=o[l].from);for(let b=0;b<a.length;b++)a[b].to<v&&(v=a[b].to);v<g&&(c=h.cut(v-i),h=h.cut(0,v-i),g=v,p=-1)}else for(;l<o.length&&o[l].to<g;)l++;let m=h.isInline&&!h.isLeaf?a.filter(v=>!v.inline):a.slice();s(h,m,e.forChild(i,h),p),i=g}}function pZ(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function gZ(r,e,n,s){for(let o=0,i=0;o<r.childCount&&i<=s;){let l=r.child(o++),a=i;if(i+=l.nodeSize,!l.isText)continue;let c=l.text;for(;o<r.childCount;){let u=r.child(o++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){if(i>=s&&c.slice(s-e.length-a,s-a)==e)return s-e.length;let u=a<s?c.lastIndexOf(e,s-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==s&&c.length>=s+e.length-a&&c.slice(s-a,s-a+e.length)==e)return s}}return-1}function Zb(r,e,n,s,o){let i=[];for(let l=0,a=0;l<r.length;l++){let c=r[l],u=a,d=a+=c.size;u>=n||d<=e?i.push(c):(u<e&&i.push(c.slice(0,e-u,s)),o&&(i.push(o),o=void 0),d>n&&i.push(c.slice(n-u,c.size,s)))}return i}function Jy(r,e=null){let n=r.domSelectionRange(),s=r.state.doc;if(!n.focusNode)return null;let o=r.docView.nearestDesc(n.focusNode),i=o&&o.size==0,l=r.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let a=s.resolve(l),c,u;if(ug(n)){for(c=a;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&ot.isSelectable(d)&&o.parent&&!(d.isInline&&BX(n.focusNode,n.focusOffset,o.dom))){let f=o.posBefore;u=new ot(l==f?a:s.resolve(f))}}else{let d=r.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;c=s.resolve(d)}if(!u){let d=e=="pointer"||r.state.selection.head<a.pos&&!i?1:-1;u=Xy(r,c,a,d)}return u}function SM(r){return r.editable?r.hasFocus():EM(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function $o(r,e=!1){let n=r.state.selection;if(xM(r,n),!!SM(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&fr){let s=r.domSelectionRange(),o=r.domObserver.currentSelection;if(s.anchorNode&&o.anchorNode&&oa(s.anchorNode,s.anchorOffset,o.anchorNode,o.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)bZ(r);else{let{anchor:s,head:o}=n,i,l;KS&&!(n instanceof yt)&&(n.$from.parent.inlineContent||(i=YS(r,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=YS(r,n.to))),r.docView.setSelection(s,o,r.root,e),KS&&(i&&JS(i),l&&JS(l)),n.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&mZ(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const KS=hr||fr&&HX<63;function YS(r,e){let{node:n,offset:s}=r.docView.domFromPos(e,0),o=s<n.childNodes.length?n.childNodes[s]:null,i=s?n.childNodes[s-1]:null;if(hr&&o&&o.contentEditable=="false")return vm(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return vm(o);if(i)return vm(i)}}function vm(r){return r.contentEditable="true",hr&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function JS(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function mZ(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let n=r.domSelectionRange(),s=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!SM(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function bZ(r){let e=r.domSelection(),n=document.createRange(),s=r.cursorWrapper.dom,o=s.nodeName=="IMG";o?n.setEnd(s.parentNode,Un(s)+1):n.setEnd(s,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!r.state.selection.visible&&Tr&&Di<=11&&(s.disabled=!0,s.disabled=!1)}function xM(r,e){if(e instanceof ot){let n=r.docView.descAt(e.from);n!=r.lastSelectedViewDesc&&(XS(r),n&&n.selectNode(),r.lastSelectedViewDesc=n)}else XS(r)}function XS(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function Xy(r,e,n,s){return r.someProp("createSelectionBetween",o=>o(r,e,n))||yt.between(e,n,s)}function ZS(r){return r.editable&&!r.hasFocus()?!1:EM(r)}function EM(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function vZ(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),n=r.domSelectionRange();return oa(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Qb(r,e){let{$anchor:n,$head:s}=r.selection,o=e>0?n.max(s):n.min(s),i=o.parent.inlineContent?o.depth?r.doc.resolve(e>0?o.after():o.before()):null:o;return i&&Et.findFrom(i,e)}function Ci(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function QS(r,e,n){let s=r.state.selection;if(s instanceof yt)if(n.indexOf("s")>-1){let{$head:o}=s,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let l=r.state.doc.resolve(o.pos+i.nodeSize*(e<0?-1:1));return Ci(r,new yt(s.$anchor,l))}else if(s.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let o=Qb(r.state,e);return o&&o instanceof ot?Ci(r,o):!1}else if(!(Gr&&n.indexOf("m")>-1)){let o=s.$head,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,l;if(!i||i.isText)return!1;let a=e<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(l=r.docView.descAt(a))&&!l.contentDOM?ot.isSelectable(i)?Ci(r,new ot(e<0?r.state.doc.resolve(o.pos-i.nodeSize):o)):lf?Ci(r,new yt(r.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(s instanceof ot&&s.node.isInline)return Ci(r,new yt(e>0?s.$to:s.$from));{let o=Qb(r.state,e);return o?Ci(r,o):!1}}}function Yh(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Uu(r,e){let n=r.pmViewDesc;return n&&n.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function _a(r,e){return e<0?yZ(r):wZ(r)}function yZ(r){let e=r.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let o,i,l=!1;for(Ds&&n.nodeType==1&&s<Yh(n)&&Uu(n.childNodes[s],-1)&&(l=!0);;)if(s>0){if(n.nodeType!=1)break;{let a=n.childNodes[s-1];if(Uu(a,-1))o=n,i=--s;else if(a.nodeType==3)n=a,s=n.nodeValue.length;else break}}else{if(TM(n))break;{let a=n.previousSibling;for(;a&&Uu(a,-1);)o=n.parentNode,i=Un(a),a=a.previousSibling;if(a)n=a,s=Yh(n);else{if(n=n.parentNode,n==r.dom)break;s=0}}}l?ev(r,n,s):o&&ev(r,o,i)}function wZ(r){let e=r.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let o=Yh(n),i,l;for(;;)if(s<o){if(n.nodeType!=1)break;let a=n.childNodes[s];if(Uu(a,1))i=n,l=++s;else break}else{if(TM(n))break;{let a=n.nextSibling;for(;a&&Uu(a,1);)i=a.parentNode,l=Un(a)+1,a=a.nextSibling;if(a)n=a,s=0,o=Yh(n);else{if(n=n.parentNode,n==r.dom)break;s=o=0}}}i&&ev(r,i,l)}function TM(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function CZ(r,e){for(;r&&e==r.childNodes.length&&!of(r);)e=Un(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let n=r.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;r=n,e=0}}function SZ(r,e){for(;r&&!e&&!of(r);)e=Un(r),r=r.parentNode;for(;r&&e;){let n=r.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;r=n,e=r.childNodes.length}}function ev(r,e,n){if(e.nodeType!=3){let i,l;(l=CZ(e,n))?(e=l,n=0):(i=SZ(e,n))&&(e=i,n=i.nodeValue.length)}let s=r.domSelection();if(ug(s)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),s.removeAllRanges(),s.addRange(i)}else s.extend&&s.extend(e,n);r.domObserver.setCurSelection();let{state:o}=r;setTimeout(()=>{r.state==o&&$o(r)},50)}function ex(r,e){let n=r.state.doc.resolve(e);if(!(fr||UX)&&n.parent.inlineContent){let o=r.coordsAtPos(e);if(e>n.start()){let i=r.coordsAtPos(e-1),l=(i.top+i.bottom)/2;if(l>o.top&&l<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(e<n.end()){let i=r.coordsAtPos(e+1),l=(i.top+i.bottom)/2;if(l>o.top&&l<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function tx(r,e,n){let s=r.state.selection;if(s instanceof yt&&!s.empty||n.indexOf("s")>-1||Gr&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=s;if(!o.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let l=Qb(r.state,e);if(l&&l instanceof ot)return Ci(r,l)}if(!o.parent.inlineContent){let l=e<0?o:i,a=s instanceof Ps?Et.near(l,e):Et.findFrom(l,e);return a?Ci(r,a):!1}return!1}function nx(r,e){if(!(r.state.selection instanceof yt))return!0;let{$head:n,$anchor:s,empty:o}=r.state.selection;if(!n.sameParent(s))return!0;if(!o)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let l=r.state.tr;return e<0?l.delete(n.pos-i.nodeSize,n.pos):l.delete(n.pos,n.pos+i.nodeSize),r.dispatch(l),!0}return!1}function rx(r,e,n){r.domObserver.stop(),e.contentEditable=n,r.domObserver.start()}function xZ(r){if(!hr||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=r.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;rx(r,s,"true"),setTimeout(()=>rx(r,s,"false"),20)}return!1}function EZ(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function TZ(r,e){let n=e.keyCode,s=EZ(e);if(n==8||Gr&&n==72&&s=="c")return nx(r,-1)||_a(r,-1);if(n==46&&!e.shiftKey||Gr&&n==68&&s=="c")return nx(r,1)||_a(r,1);if(n==13||n==27)return!0;if(n==37||Gr&&n==66&&s=="c"){let o=n==37?ex(r,r.state.selection.from)=="ltr"?-1:1:-1;return QS(r,o,s)||_a(r,o)}else if(n==39||Gr&&n==70&&s=="c"){let o=n==39?ex(r,r.state.selection.from)=="ltr"?1:-1:1;return QS(r,o,s)||_a(r,o)}else{if(n==38||Gr&&n==80&&s=="c")return tx(r,-1,s)||_a(r,-1);if(n==40||Gr&&n==78&&s=="c")return xZ(r)||tx(r,1,s)||_a(r,1);if(s==(Gr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function _M(r,e){r.someProp("transformCopied",p=>{e=p(e,r)});let n=[],{content:s,openStart:o,openEnd:i}=e;for(;o>1&&i>1&&s.childCount==1&&s.firstChild.childCount==1;){o--,i--;let p=s.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),s=p.content}let l=r.someProp("clipboardSerializer")||Qs.fromSchema(r.state.schema),a=NM(),c=a.createElement("div");c.appendChild(l.serializeFragment(s,{document:a}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=PM[u.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let g=a.createElement(d[p]);for(;c.firstChild;)g.appendChild(c.firstChild);c.appendChild(g),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${o} ${i}${f?` -${f}`:""} ${JSON.stringify(n)}`);let h=r.someProp("clipboardTextSerializer",p=>p(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:h,slice:e}}function OM(r,e,n,s,o){let i=o.parent.type.spec.code,l,a;if(!n&&!e)return null;let c=e&&(s||i||!n);if(c){if(r.someProp("transformPastedText",h=>{e=h(e,i||s,r)}),i)return e?new He(Oe.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):He.empty;let f=r.someProp("clipboardTextParser",h=>h(e,o,s,r));if(f)a=f;else{let h=o.marks(),{schema:p}=r.state,g=Qs.fromSchema(p);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=l.appendChild(document.createElement("p"));m&&v.appendChild(g.serializeNode(p.text(m,h)))})}}else r.someProp("transformPastedHTML",f=>{n=f(n,r)}),l=AZ(n),lf&&MZ(l);let u=l&&l.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let h=l.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;l=h}if(a||(a=(r.someProp("clipboardParser")||r.someProp("domParser")||Wy.fromSchema(r.state.schema)).parseSlice(l,{preserveWhitespace:!!(c||d),context:o,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!_Z.test(h.parentNode.nodeName)?{ignore:!0}:null}})),d)a=kZ(sx(a,+d[1],+d[2]),d[4]);else if(a=He.maxOpen(OZ(a.content,o),!0),a.openStart||a.openEnd){let f=0,h=0;for(let p=a.content.firstChild;f<a.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=sx(a,f,h)}return r.someProp("transformPasted",f=>{a=f(a,r)}),a}const _Z=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function OZ(r,e){if(r.childCount<2)return r;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),i,l=[];if(r.forEach(a=>{if(!l)return;let c=o.findWrapping(a.type),u;if(!c)return l=null;if(u=l.length&&i.length&&MM(c,i,a,l[l.length-1],0))l[l.length-1]=u;else{l.length&&(l[l.length-1]=kM(l[l.length-1],i.length));let d=AM(a,c);l.push(d),o=o.matchType(d.type),i=c}}),l)return Oe.from(l)}return r}function AM(r,e,n=0){for(let s=e.length-1;s>=n;s--)r=e[s].create(null,Oe.from(r));return r}function MM(r,e,n,s,o){if(o<r.length&&o<e.length&&r[o]==e[o]){let i=MM(r,e,n,s.lastChild,o+1);if(i)return s.copy(s.content.replaceChild(s.childCount-1,i));if(s.contentMatchAt(s.childCount).matchType(o==r.length-1?n.type:r[o+1]))return s.copy(s.content.append(Oe.from(AM(n,r,o+1))))}}function kM(r,e){if(e==0)return r;let n=r.content.replaceChild(r.childCount-1,kM(r.lastChild,e-1)),s=r.contentMatchAt(r.childCount).fillBefore(Oe.empty,!0);return r.copy(n.append(s))}function tv(r,e,n,s,o,i){let l=e<0?r.firstChild:r.lastChild,a=l.content;return r.childCount>1&&(i=0),o<s-1&&(a=tv(a,e,n,s,o+1,i)),o>=n&&(a=e<0?l.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(l.contentMatchAt(l.childCount).fillBefore(Oe.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,l.copy(a))}function sx(r,e,n){return e<r.openStart&&(r=new He(tv(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),n<r.openEnd&&(r=new He(tv(r.content,1,n,r.openEnd,0,0),r.openStart,n)),r}const PM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ox=null;function NM(){return ox||(ox=document.implementation.createHTMLDocument("title"))}function AZ(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let n=NM().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(r),o;if((o=s&&PM[s[1].toLowerCase()])&&(r=o.map(i=>"<"+i+">").join("")+r+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=r,o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function MZ(r){let e=r.querySelectorAll(fr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let s=e[n];s.childNodes.length==1&&s.textContent==" "&&s.parentNode&&s.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),s)}}function kZ(r,e){if(!r.size)return r;let n=r.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return r}let{content:o,openStart:i,openEnd:l}=r;for(let a=s.length-2;a>=0;a-=2){let c=n.nodes[s[a]];if(!c||c.hasRequiredAttrs())break;o=Oe.from(c.create(s[a+1],o)),i++,l++}return new He(o,i,l)}const pr={},gr={},PZ={touchstart:!0,touchmove:!0};class NZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function IZ(r){for(let e in pr){let n=pr[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=s=>{RZ(r,s)&&!Zy(r,s)&&(r.editable||!(s.type in gr))&&n(r,s)},PZ[e]?{passive:!0}:void 0)}hr&&r.dom.addEventListener("input",()=>null),nv(r)}function Ni(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function LZ(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function nv(r){r.someProp("handleDOMEvents",e=>{for(let n in e)r.input.eventHandlers[n]||r.dom.addEventListener(n,r.input.eventHandlers[n]=s=>Zy(r,s))})}function Zy(r,e){return r.someProp("handleDOMEvents",n=>{let s=n[e.type];return s?s(r,e)||e.defaultPrevented:!1})}function RZ(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=r.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function $Z(r,e){!Zy(r,e)&&pr[e.type]&&(r.editable||!(e.type in gr))&&pr[e.type](r,e)}gr.keydown=(r,e)=>{let n=e;if(r.input.shiftKey=n.keyCode==16||n.shiftKey,!LM(r,n)&&(r.input.lastKeyCode=n.keyCode,r.input.lastKeyCodeTime=Date.now(),!(Cs&&fr&&n.keyCode==13)))if(n.keyCode!=229&&r.domObserver.forceFlush(),Sc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();r.input.lastIOSEnter=s,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==s&&(r.someProp("handleKeyDown",o=>o(r,Ml(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",s=>s(r,n))||TZ(r,n)?n.preventDefault():Ni(r,"key")};gr.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};gr.keypress=(r,e)=>{let n=e;if(LM(r,n)||!n.charCode||n.ctrlKey&&!n.altKey||Gr&&n.metaKey)return;if(r.someProp("handleKeyPress",o=>o(r,n))){n.preventDefault();return}let s=r.state.selection;if(!(s instanceof yt)||!s.$from.sameParent(s.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!r.someProp("handleTextInput",i=>i(r,s.$from.pos,s.$to.pos,o))&&r.dispatch(r.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function fg(r){return{left:r.clientX,top:r.clientY}}function DZ(r,e){let n=e.x-r.clientX,s=e.y-r.clientY;return n*n+s*s<100}function Qy(r,e,n,s,o){if(s==-1)return!1;let i=r.state.doc.resolve(s);for(let l=i.depth+1;l>0;l--)if(r.someProp(e,a=>l>i.depth?a(r,n,i.nodeAfter,i.before(l),o,!0):a(r,n,i.node(l),i.before(l),o,!1)))return!0;return!1}function Ya(r,e,n){r.focused||r.focus();let s=r.state.tr.setSelection(e);n=="pointer"&&s.setMeta("pointer",!0),r.dispatch(s)}function VZ(r,e){if(e==-1)return!1;let n=r.state.doc.resolve(e),s=n.nodeAfter;return s&&s.isAtom&&ot.isSelectable(s)?(Ya(r,new ot(n),"pointer"),!0):!1}function FZ(r,e){if(e==-1)return!1;let n=r.state.selection,s,o;n instanceof ot&&(s=n.node);let i=r.state.doc.resolve(e);for(let l=i.depth+1;l>0;l--){let a=l>i.depth?i.nodeAfter:i.node(l);if(ot.isSelectable(a)){s&&n.$from.depth>0&&l>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(l);break}}return o!=null?(Ya(r,ot.create(r.state.doc,o),"pointer"),!0):!1}function BZ(r,e,n,s,o){return Qy(r,"handleClickOn",e,n,s)||r.someProp("handleClick",i=>i(r,e,s))||(o?FZ(r,n):VZ(r,n))}function zZ(r,e,n,s){return Qy(r,"handleDoubleClickOn",e,n,s)||r.someProp("handleDoubleClick",o=>o(r,e,s))}function jZ(r,e,n,s){return Qy(r,"handleTripleClickOn",e,n,s)||r.someProp("handleTripleClick",o=>o(r,e,s))||HZ(r,n,s)}function HZ(r,e,n){if(n.button!=0)return!1;let s=r.state.doc;if(e==-1)return s.inlineContent?(Ya(r,yt.create(s,0,s.content.size),"pointer"),!0):!1;let o=s.resolve(e);for(let i=o.depth+1;i>0;i--){let l=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(l.inlineContent)Ya(r,yt.create(s,a+1,a+1+l.content.size),"pointer");else if(ot.isSelectable(l))Ya(r,ot.create(s,a),"pointer");else continue;return!0}}function e0(r){return Jh(r)}const IM=Gr?"metaKey":"ctrlKey";pr.mousedown=(r,e)=>{let n=e;r.input.shiftKey=n.shiftKey;let s=e0(r),o=Date.now(),i="singleClick";o-r.input.lastClick.time<500&&DZ(n,r.input.lastClick)&&!n[IM]&&(r.input.lastClick.type=="singleClick"?i="doubleClick":r.input.lastClick.type=="doubleClick"&&(i="tripleClick")),r.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let l=r.posAtCoords(fg(n));l&&(i=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new UZ(r,l,n,!!s)):(i=="doubleClick"?zZ:jZ)(r,l.pos,l.inside,n)?n.preventDefault():Ni(r,"pointer"))};class UZ{constructor(e,n,s,o){this.view=e,this.pos=n,this.event=s,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[IM],this.allowDefault=s.shiftKey;let i,l;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),l=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,l=d.depth?d.before():0}const a=o?null:s.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:u}=e.state;(s.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof ot&&u.from<=l&&u.to>l)&&(this.mightDrag={node:i,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ds&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ni(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>$o(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(fg(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ni(this.view,"pointer"):BZ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||hr&&this.mightDrag&&!this.mightDrag.node.isAtom||fr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ya(this.view,Et.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Ni(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ni(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}pr.touchstart=r=>{r.input.lastTouch=Date.now(),e0(r),Ni(r,"pointer")};pr.touchmove=r=>{r.input.lastTouch=Date.now(),Ni(r,"pointer")};pr.contextmenu=r=>e0(r);function LM(r,e){return r.composing?!0:hr&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const WZ=Cs?5e3:-1;gr.compositionstart=gr.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||n.marks(),Jh(r,!0),r.markCursor=null;else if(Jh(r),Ds&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=r.domSelectionRange();for(let o=s.focusNode,i=s.focusOffset;o&&o.nodeType==1&&i!=0;){let l=i<0?o.lastChild:o.childNodes[i-1];if(!l)break;if(l.nodeType==3){r.domSelection().collapse(l,l.nodeValue.length);break}else o=l,i=-1}}r.input.composing=!0}RM(r,WZ)};gr.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,RM(r,20))};function RM(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>Jh(r),e))}function $M(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=GZ());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function qZ(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let n=VX(e.focusNode,e.focusOffset),s=FX(e.focusNode,e.focusOffset);if(n&&s&&n!=s){let o=s.pmViewDesc;if(!o||!o.isText(s.nodeValue))return s;if(r.input.compositionNode==s){let i=n.pmViewDesc;if(!(!i||!i.isText(n.nodeValue)))return s}}return n||s}function GZ(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function Jh(r,e=!1){if(!(Cs&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),$M(r),e||r.docView&&r.docView.dirty){let n=Jy(r);return n&&!n.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(n)):r.updateState(r.state),!0}return!1}}function KZ(r,e){if(!r.dom.parentNode)return;let n=r.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),o=document.createRange();o.selectNodeContents(e),r.dom.blur(),s.removeAllRanges(),s.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),r.focus()},50)}const Cd=Tr&&Di<15||Sc&&WX<604;pr.copy=gr.cut=(r,e)=>{let n=e,s=r.state.selection,o=n.type=="cut";if(s.empty)return;let i=Cd?null:n.clipboardData,l=s.content(),{dom:a,text:c}=_M(r,l);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",c)):KZ(r,a),o&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function YZ(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function JZ(r,e){if(!r.dom.parentNode)return;let n=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,s=r.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let o=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),s.parentNode&&s.parentNode.removeChild(s),n?Sd(r,s.value,null,o,e):Sd(r,s.textContent,s.innerHTML,o,e)},50)}function Sd(r,e,n,s,o){let i=OM(r,e,n,s,r.state.selection.$from);if(r.someProp("handlePaste",c=>c(r,o,i||He.empty)))return!0;if(!i)return!1;let l=YZ(i),a=l?r.state.tr.replaceSelectionWith(l,s):r.state.tr.replaceSelection(i);return r.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function DM(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let n=r.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}gr.paste=(r,e)=>{let n=e;if(r.composing&&!Cs)return;let s=Cd?null:n.clipboardData,o=r.input.shiftKey&&r.input.lastKeyCode!=45;s&&Sd(r,DM(s),s.getData("text/html"),o,n)?n.preventDefault():JZ(r,n)};class VM{constructor(e,n,s){this.slice=e,this.move=n,this.node=s}}const FM=Gr?"altKey":"ctrlKey";pr.dragstart=(r,e)=>{let n=e,s=r.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let o=r.state.selection,i=o.empty?null:r.posAtCoords(fg(n)),l;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof ot?o.to-1:o.to))){if(s&&s.mightDrag)l=ot.create(r.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=r.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=r.docView&&(l=ot.create(r.state.doc,f.posBefore))}}let a=(l||r.state.selection).content(),{dom:c,text:u,slice:d}=_M(r,a);n.dataTransfer.clearData(),n.dataTransfer.setData(Cd?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Cd||n.dataTransfer.setData("text/plain",u),r.dragging=new VM(d,!n[FM],l)};pr.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};gr.dragover=gr.dragenter=(r,e)=>e.preventDefault();gr.drop=(r,e)=>{let n=e,s=r.dragging;if(r.dragging=null,!n.dataTransfer)return;let o=r.posAtCoords(fg(n));if(!o)return;let i=r.state.doc.resolve(o.pos),l=s&&s.slice;l?r.someProp("transformPasted",g=>{l=g(l,r)}):l=OM(r,DM(n.dataTransfer),Cd?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(s&&!n[FM]);if(r.someProp("handleDrop",g=>g(r,n,l||He.empty,a))){n.preventDefault();return}if(!l)return;n.preventDefault();let c=l?rM(r.state.doc,i.pos,l):i.pos;c==null&&(c=i.pos);let u=r.state.tr;if(a){let{node:g}=s;g?g.replace(u):u.deleteSelection()}let d=u.mapping.map(c),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,h=u.doc;if(f?u.replaceRangeWith(d,d,l.content.firstChild):u.replaceRange(d,d,l),u.doc.eq(h))return;let p=u.doc.resolve(d);if(f&&ot.isSelectable(l.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(l.content.firstChild))u.setSelection(new ot(p));else{let g=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((m,v,b,C)=>g=C),u.setSelection(Xy(r,p,u.doc.resolve(g)))}r.focus(),r.dispatch(u.setMeta("uiEvent","drop"))};pr.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&$o(r)},20))};pr.blur=(r,e)=>{let n=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),n.relatedTarget&&r.dom.contains(n.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};pr.beforeinput=(r,e)=>{if(fr&&Cs&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:s}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=s||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",i=>i(r,Ml(8,"Backspace")))))return;let{$cursor:o}=r.state.selection;o&&o.pos>0&&r.dispatch(r.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let r in gr)pr[r]=gr[r];function xd(r,e){if(r==e)return!0;for(let n in r)if(r[n]!==e[n])return!1;for(let n in e)if(!(n in r))return!1;return!0}class Xh{constructor(e,n){this.toDOM=e,this.spec=n||Kl,this.side=this.spec.side||0}map(e,n,s,o){let{pos:i,deleted:l}=e.mapResult(n.from+o,this.side<0?-1:1);return l?null:new Qr(i-s,i-s,this)}valid(){return!0}eq(e){return this==e||e instanceof Xh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&xd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Fi{constructor(e,n){this.attrs=e,this.spec=n||Kl}map(e,n,s,o){let i=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-s,l=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-s;return i>=l?null:new Qr(i,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Fi&&xd(this.attrs,e.attrs)&&xd(this.spec,e.spec)}static is(e){return e.type instanceof Fi}destroy(){}}class t0{constructor(e,n){this.attrs=e,this.spec=n||Kl}map(e,n,s,o){let i=e.mapResult(n.from+o,1);if(i.deleted)return null;let l=e.mapResult(n.to+o,-1);return l.deleted||l.pos<=i.pos?null:new Qr(i.pos-s,l.pos-s,this)}valid(e,n){let{index:s,offset:o}=e.content.findIndex(n.from),i;return o==n.from&&!(i=e.child(s)).isText&&o+i.nodeSize==n.to}eq(e){return this==e||e instanceof t0&&xd(this.attrs,e.attrs)&&xd(this.spec,e.spec)}destroy(){}}class Qr{constructor(e,n,s){this.from=e,this.to=n,this.type=s}copy(e,n){return new Qr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,s){return this.type.map(e,this,n,s)}static widget(e,n,s){return new Qr(e,e,new Xh(n,s))}static inline(e,n,s,o){return new Qr(e,n,new Fi(s,o))}static node(e,n,s,o){return new Qr(e,n,new t0(s,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fi}get widget(){return this.type instanceof Xh}}const Ia=[],Kl={};class Tn{constructor(e,n){this.local=e.length?e:Ia,this.children=n.length?n:Ia}static create(e,n){return n.length?Zh(n,e,0,Kl):Qn}find(e,n,s){let o=[];return this.findInner(e??0,n??1e9,o,0,s),o}findInner(e,n,s,o,i){for(let l=0;l<this.local.length;l++){let a=this.local[l];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&s.push(a.copy(a.from+o,a.to+o))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let a=this.children[l]+1;this.children[l+2].findInner(e-a,n-a,s,o+a,i)}}map(e,n,s){return this==Qn||e.maps.length==0?this:this.mapInner(e,n,0,0,s||Kl)}mapInner(e,n,s,o,i){let l;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(e,s,o);c&&c.type.valid(n,c)?(l||(l=[])).push(c):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?XZ(this.children,l||[],e,n,s,o,i):l?new Tn(l.sort(Yl),Ia):Qn}add(e,n){return n.length?this==Qn?Tn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,s){let o,i=0;e.forEach((a,c)=>{let u=c+s,d;if(d=zM(n,a,u)){for(o||(o=this.children.slice());i<o.length&&o[i]<c;)i+=3;o[i]==c?o[i+2]=o[i+2].addInner(a,d,u+1):o.splice(i,0,c,c+a.nodeSize,Zh(d,a,u+1,Kl)),i+=3}});let l=BM(i?jM(n):n,-s);for(let a=0;a<l.length;a++)l[a].type.valid(e,l[a])||l.splice(a--,1);return new Tn(l.length?this.local.concat(l).sort(Yl):this.local,o||this.children)}remove(e){return e.length==0||this==Qn?this:this.removeInner(e,0)}removeInner(e,n){let s=this.children,o=this.local;for(let i=0;i<s.length;i+=3){let l,a=s[i]+n,c=s[i+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>a&&f.to<c&&(e[d]=null,(l||(l=[])).push(f));if(!l)continue;s==this.children&&(s=this.children.slice());let u=s[i+2].removeInner(l,a+1);u!=Qn?s[i+2]=u:(s.splice(i,3),i-=3)}if(o.length){for(let i=0,l;i<e.length;i++)if(l=e[i])for(let a=0;a<o.length;a++)o[a].eq(l,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return s==this.children&&o==this.local?this:o.length||s.length?new Tn(o,s):Qn}forChild(e,n){if(this==Qn)return this;if(n.isLeaf)return Tn.empty;let s,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(s=this.children[a+2]);break}let i=e+1,l=i+n.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<l&&c.to>i&&c.type instanceof Fi){let u=Math.max(i,c.from)-i,d=Math.min(l,c.to)-i;u<d&&(o||(o=[])).push(c.copy(u,d))}}if(o){let a=new Tn(o.sort(Yl),Ia);return s?new Oi([a,s]):a}return s||Qn}eq(e){if(this==e)return!0;if(!(e instanceof Tn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return n0(this.localsInner(e))}localsInner(e){if(this==Qn)return Ia;if(e.inlineContent||!this.local.some(Fi.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Fi||n.push(this.local[s]);return n}}Tn.empty=new Tn([],[]);Tn.removeOverlap=n0;const Qn=Tn.empty;class Oi{constructor(e){this.members=e}map(e,n){const s=this.members.map(o=>o.map(e,n,Kl));return Oi.from(s)}forChild(e,n){if(n.isLeaf)return Tn.empty;let s=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,n);i!=Qn&&(i instanceof Oi?s=s.concat(i.members):s.push(i))}return Oi.from(s)}eq(e){if(!(e instanceof Oi)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,s=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(i.length)if(!n)n=i;else{s&&(n=n.slice(),s=!1);for(let l=0;l<i.length;l++)n.push(i[l])}}return n?n0(s?n:n.sort(Yl)):Ia}static from(e){switch(e.length){case 0:return Qn;case 1:return e[0];default:return new Oi(e.every(n=>n instanceof Tn)?e:e.reduce((n,s)=>n.concat(s instanceof Tn?s:s.members),[]))}}}function XZ(r,e,n,s,o,i,l){let a=r.slice();for(let u=0,d=i;u<n.maps.length;u++){let f=0;n.maps[u].forEach((h,p,g,m)=>{let v=m-g-(p-h);for(let b=0;b<a.length;b+=3){let C=a[b+1];if(C<0||h>C+d-f)continue;let y=a[b]+d-f;p>=y?a[b+1]=h<=y?-2:-1:h>=d&&v&&(a[b]+=v,a[b+1]+=v)}f+=v}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){c=!0,a[u+1]=-1;continue}let d=n.map(r[u]+i),f=d-o;if(f<0||f>=s.content.size){c=!0;continue}let h=n.map(r[u+1]+i,-1),p=h-o,{index:g,offset:m}=s.content.findIndex(f),v=s.maybeChild(g);if(v&&m==f&&m+v.nodeSize==p){let b=a[u+2].mapInner(n,v,d+1,r[u]+i+1,l);b!=Qn?(a[u]=f,a[u+1]=p,a[u+2]=b):(a[u+1]=-2,c=!0)}else c=!0}if(c){let u=ZZ(a,r,e,n,o,i,l),d=Zh(u,s,0,l);e=d.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,h=0;f<d.children.length;f+=3){let p=d.children[f];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Tn(e.sort(Yl),a)}function BM(r,e){if(!e||!r.length)return r;let n=[];for(let s=0;s<r.length;s++){let o=r[s];n.push(new Qr(o.from+e,o.to+e,o.type))}return n}function ZZ(r,e,n,s,o,i,l){function a(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(s,o,u);f?n.push(f):l.onRemove&&l.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)a(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<r.length;c+=3)r[c+1]==-1&&a(r[c+2],e[c]+i+1);return n}function zM(r,e,n){if(e.isLeaf)return null;let s=n+e.nodeSize,o=null;for(let i=0,l;i<r.length;i++)(l=r[i])&&l.from>n&&l.to<s&&((o||(o=[])).push(l),r[i]=null);return o}function jM(r){let e=[];for(let n=0;n<r.length;n++)r[n]!=null&&e.push(r[n]);return e}function Zh(r,e,n,s){let o=[],i=!1;e.forEach((a,c)=>{let u=zM(r,a,c+n);if(u){i=!0;let d=Zh(u,a,n+c+1,s);d!=Qn&&o.push(c,c+a.nodeSize,d)}});let l=BM(i?jM(r):r,-n).sort(Yl);for(let a=0;a<l.length;a++)l[a].type.valid(e,l[a])||(s.onRemove&&s.onRemove(l[a].spec),l.splice(a--,1));return l.length||o.length?new Tn(l,o):Qn}function Yl(r,e){return r.from-e.from||r.to-e.to}function n0(r){let e=r;for(let n=0;n<e.length-1;n++){let s=e[n];if(s.from!=s.to)for(let o=n+1;o<e.length;o++){let i=e[o];if(i.from==s.from){i.to!=s.to&&(e==r&&(e=r.slice()),e[o]=i.copy(i.from,s.to),ix(e,o+1,i.copy(s.to,i.to)));continue}else{i.from<s.to&&(e==r&&(e=r.slice()),e[n]=s.copy(s.from,i.from),ix(e,o,s.copy(i.from,s.to)));break}}}return e}function ix(r,e,n){for(;e<r.length&&Yl(n,r[e])>0;)e++;r.splice(e,0,n)}function ym(r){let e=[];return r.someProp("decorations",n=>{let s=n(r.state);s&&s!=Qn&&e.push(s)}),r.cursorWrapper&&e.push(Tn.create(r.state.doc,[r.cursorWrapper.deco])),Oi.from(e)}const QZ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},eQ=Tr&&Di<=11;class tQ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class nQ{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new tQ,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let o=0;o<s.length;o++)this.queue.push(s[o]);Tr&&Di<=11&&s.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),eQ&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,QZ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ZS(this.view)){if(this.suppressingSelectionUpdates)return $o(this.view);if(Tr&&Di<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&oa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,s;for(let i=e.focusNode;i;i=wd(i))n.add(i);for(let i=e.anchorNode;i;i=wd(i))if(n.has(i)){s=i;break}let o=s&&this.view.docView.nearestDesc(s);if(o&&o.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&ZS(e)&&!this.ignoreSelectionChange(s),i=-1,l=-1,a=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(i=i<0?f.from:Math.min(f.from,i),l=l<0?f.to:Math.max(f.to,l),f.typeOver&&(a=!0))}if(Ds&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,h]=d;f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let h of d){let p=h.parentNode;p&&p.nodeName=="LI"&&(!f||oQ(e,f)!=p)&&h.remove()}}}let u=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ug(s)&&(u=Jy(e))&&u.eq(Et.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,$o(e),this.currentSelection.set(s),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,l),rQ(e)),this.handleDOMChange(i,l,a,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||$o(e),this.currentSelection.set(s))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++)n.push(e.addedNodes[d]);if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let o=e.previousSibling,i=e.nextSibling;if(Tr&&Di<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:h}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h)}let l=o&&o.parentNode==e.target?Un(o)+1:0,a=s.localPosFromDOM(e.target,l,-1),c=i&&i.parentNode==e.target?Un(i):e.target.childNodes.length,u=s.localPosFromDOM(e.target,c,1);return{from:a,to:u}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let lx=new WeakMap,ax=!1;function rQ(r){if(!lx.has(r)&&(lx.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=Ds,ax)return;ax=!0}}function cx(r,e){let n=e.startContainer,s=e.startOffset,o=e.endContainer,i=e.endOffset,l=r.domAtPos(r.state.selection.anchor);return oa(l.node,l.offset,o,i)&&([n,s,o,i]=[o,i,n,s]),{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:i}}function sQ(r,e){if(e.getComposedRanges){let o=e.getComposedRanges(r.root)[0];if(o)return cx(r,o)}let n;function s(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",s,!0),n?cx(r,n):null}function oQ(r,e){for(let n=e.parentNode;n&&n!=r.dom;n=n.parentNode){let s=r.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function iQ(r,e,n){let{node:s,fromOffset:o,toOffset:i,from:l,to:a}=r.docView.parseRange(e,n),c=r.domSelectionRange(),u,d=c.anchorNode;if(d&&r.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],ug(c)||u.push({node:c.focusNode,offset:c.focusOffset})),fr&&r.input.lastKeyCode===8)for(let v=i;v>o;v--){let b=s.childNodes[v-1],C=b.pmViewDesc;if(b.nodeName=="BR"&&!C){i=v;break}if(!C||C.size)break}let f=r.state.doc,h=r.someProp("domParser")||Wy.fromSchema(r.state.schema),p=f.resolve(l),g=null,m=h.parse(s,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:o,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:lQ,context:p});if(u&&u[0].pos!=null){let v=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=v),g={anchor:v+l,head:b+l}}return{doc:m,sel:g,from:l,to:a}}function lQ(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(hr&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(r.parentNode.lastChild==r||hr&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const aQ=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function cQ(r,e,n,s,o){let i=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let A=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,k=Jy(r,A);if(k&&!r.state.selection.eq(k)){if(fr&&Cs&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",$=>$(r,Ml(13,"Enter"))))return;let P=r.state.tr.setSelection(k);A=="pointer"?P.setMeta("pointer",!0):A=="key"&&P.scrollIntoView(),i&&P.setMeta("composition",i),r.dispatch(P)}return}let l=r.state.doc.resolve(e),a=l.sharedDepth(n);e=l.before(a+1),n=r.state.doc.resolve(n).after(a+1);let c=r.state.selection,u=iQ(r,e,n),d=r.state.doc,f=d.slice(u.from,u.to),h,p;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(h=r.state.selection.to,p="end"):(h=r.state.selection.from,p="start"),r.input.lastKeyCode=null;let g=fQ(f.content,u.doc.content,u.from,h,p);if((Sc&&r.input.lastIOSEnter>Date.now()-225||Cs)&&o.some(A=>A.nodeType==1&&!aQ.test(A.nodeName))&&(!g||g.endA>=g.endB)&&r.someProp("handleKeyDown",A=>A(r,Ml(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!g)if(s&&c instanceof yt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!r.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))g={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let A=ux(r,r.state.doc,u.sel);if(A&&!A.eq(r.state.selection)){let k=r.state.tr.setSelection(A);i&&k.setMeta("composition",i),r.dispatch(k)}}return}r.input.domChangeCount++,r.state.selection.from<r.state.selection.to&&g.start==g.endB&&r.state.selection instanceof yt&&(g.start>r.state.selection.from&&g.start<=r.state.selection.from+2&&r.state.selection.from>=u.from?g.start=r.state.selection.from:g.endA<r.state.selection.to&&g.endA>=r.state.selection.to-2&&r.state.selection.to<=u.to&&(g.endB+=r.state.selection.to-g.endA,g.endA=r.state.selection.to)),Tr&&Di<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>u.from&&u.doc.textBetween(g.start-u.from-1,g.start-u.from+1)=="  "&&(g.start--,g.endA--,g.endB--);let m=u.doc.resolveNoCache(g.start-u.from),v=u.doc.resolveNoCache(g.endB-u.from),b=d.resolve(g.start),C=m.sameParent(v)&&m.parent.inlineContent&&b.end()>=g.endA,y;if((Sc&&r.input.lastIOSEnter>Date.now()-225&&(!C||o.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!C&&m.pos<u.doc.content.size&&!m.sameParent(v)&&(y=Et.findFrom(u.doc.resolve(m.pos+1),1,!0))&&y.head==v.pos)&&r.someProp("handleKeyDown",A=>A(r,Ml(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>g.start&&dQ(d,g.start,g.endA,m,v)&&r.someProp("handleKeyDown",A=>A(r,Ml(8,"Backspace")))){Cs&&fr&&r.domObserver.suppressSelectionUpdates();return}fr&&Cs&&g.endB==g.start&&(r.input.lastAndroidDelete=Date.now()),Cs&&!C&&m.start()!=v.start()&&v.parentOffset==0&&m.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==g.endA&&(g.endB-=2,v=u.doc.resolveNoCache(g.endB-u.from),setTimeout(()=>{r.someProp("handleKeyDown",function(A){return A(r,Ml(13,"Enter"))})},20));let w=g.start,x=g.endA,E,_,M;if(C){if(m.pos==v.pos)Tr&&Di<=11&&m.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>$o(r),20)),E=r.state.tr.delete(w,x),_=d.resolve(g.start).marksAcross(d.resolve(g.endA));else if(g.endA==g.endB&&(M=uQ(m.parent.content.cut(m.parentOffset,v.parentOffset),b.parent.content.cut(b.parentOffset,g.endA-b.start()))))E=r.state.tr,M.type=="add"?E.addMark(w,x,M.mark):E.removeMark(w,x,M.mark);else if(m.parent.child(m.index()).isText&&m.index()==v.index()-(v.textOffset?0:1)){let A=m.parent.textBetween(m.parentOffset,v.parentOffset);if(r.someProp("handleTextInput",k=>k(r,w,x,A)))return;E=r.state.tr.insertText(A,w,x)}}if(E||(E=r.state.tr.replace(w,x,u.doc.slice(g.start-u.from,g.endB-u.from))),u.sel){let A=ux(r,E.doc,u.sel);A&&!(fr&&Cs&&r.composing&&A.empty&&(g.start!=g.endB||r.input.lastAndroidDelete<Date.now()-100)&&(A.head==w||A.head==E.mapping.map(x)-1)||Tr&&A.empty&&A.head==w)&&E.setSelection(A)}_&&E.ensureMarks(_),i&&E.setMeta("composition",i),r.dispatch(E.scrollIntoView())}function ux(r,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Xy(r,e.resolve(n.anchor),e.resolve(n.head))}function uQ(r,e){let n=r.firstChild.marks,s=e.firstChild.marks,o=n,i=s,l,a,c;for(let d=0;d<s.length;d++)o=s[d].removeFromSet(o);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],l="add",c=d=>d.mark(a.addToSet(d.marks));else if(o.length==0&&i.length==1)a=i[0],l="remove",c=d=>d.mark(a.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(Oe.from(u).eq(r))return{mark:a,type:l}}function dQ(r,e,n,s,o){if(n-e<=o.pos-s.pos||wm(s,!0,!1)<o.pos)return!1;let i=r.resolve(e);if(!s.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let l=r.resolve(wm(i,!0,!0));return!l.parent.isTextblock||l.pos>n||wm(l,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(l.parent.content)}function wm(r,e,n){let s=r.depth,o=e?r.end():r.pos;for(;s>0&&(e||r.indexAfter(s)==r.node(s).childCount);)s--,o++,e=!1;if(n){let i=r.node(s).maybeChild(r.indexAfter(s));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function fQ(r,e,n,s,o){let i=r.findDiffStart(e,n);if(i==null)return null;let{a:l,b:a}=r.findDiffEnd(e,n+r.size,n+e.size);if(o=="end"){let c=Math.max(0,i-Math.min(l,a));s-=l+c-i}if(l<i&&r.size<e.size){let c=s<=i&&s>=l?i-s:0;i-=c,i&&i<e.size&&dx(e.textBetween(i-1,i+1))&&(i+=c?1:-1),a=i+(a-l),l=i}else if(a<i){let c=s<=i&&s>=a?i-s:0;i-=c,i&&i<r.size&&dx(r.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-a),a=i}return{start:i,endA:l,endB:a}}function dx(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),n=r.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class hQ{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new NZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(mx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=px(this),hx(this),this.nodeViews=gx(this),this.docView=qS(this.state.doc,fx(this),ym(this),this.dom,this),this.domObserver=new nQ(this,(s,o,i,l)=>cQ(this,s,o,i,l)),this.domObserver.start(),IZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(mx),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in e)n[s]=e[s];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var s;let o=this.state,i=!1,l=!1;e.storedMarks&&this.composing&&($M(this),l=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=gx(this);gQ(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&nv(this),this.editable=px(this),hx(this);let c=ym(this),u=fx(this),d=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(o.selection))&&(l=!0);let h=d=="preserve"&&l&&this.dom.style.overflowAnchor==null&&KX(this);if(l){this.domObserver.stop();let p=f&&(Tr||fr)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&pQ(o.selection,e.selection);if(f){let g=fr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=qZ(this)),(i||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=qS(e.doc,u,c,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&vZ(this))?$o(this,p):(xM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((s=this.dragging)===null||s===void 0)&&s.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():h&&YX(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ot){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&BS(this,n.getBoundingClientRect(),e)}else BS(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,e)}}updateDraggedNode(e,n){let s=e.node,o=-1;if(this.state.doc.nodeAt(s.from)==s.node)o=s.from;else{let i=s.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==s.node&&(o=i)}this.dragging=new VM(e.slice,e.move,o<0?void 0:ot.create(this.state.doc,o))}someProp(e,n){let s=this._props&&this._props[e],o;if(s!=null&&(o=n?n(s):s))return o;for(let l=0;l<this.directPlugins.length;l++){let a=this.directPlugins[l].props[e];if(a!=null&&(o=n?n(a):a))return o}let i=this.state.plugins;if(i)for(let l=0;l<i.length;l++){let a=i[l].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(Tr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&JX(this.dom),$o(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return tZ(this,e)}coordsAtPos(e,n=1){return gM(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,s=-1){let o=this.docView.posFromDOM(e,n,s);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return iZ(this,n||this.state,e)}pasteHTML(e,n){return Sd(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Sd(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(LZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ym(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$X())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $Z(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return hr&&this.root.nodeType===11&&zX(this.dom.ownerDocument)==this.dom&&sQ(this,e)||e}domSelection(){return this.root.getSelection()}}function fx(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(r.state)),n)for(let s in n)s=="class"?e.class+=" "+n[s]:s=="style"?e.style=(e.style?e.style+";":"")+n[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(n[s]))}),e.translate||(e.translate="no"),[Qr.node(0,r.state.doc.content.size,e)]}function hx(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:Qr.widget(r.state.selection.head,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function px(r){return!r.someProp("editable",e=>e(r.state)===!1)}function pQ(r,e){let n=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(n)!=e.$anchor.start(n)}function gx(r){let e=Object.create(null);function n(s){for(let o in s)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=s[o])}return r.someProp("nodeViews",n),r.someProp("markViews",n),e}function gQ(r,e){let n=0,s=0;for(let o in r){if(r[o]!=e[o])return!0;n++}for(let o in e)s++;return n!=s}function mx(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Wi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mQ=typeof navigator<"u"&&/Mac/.test(navigator.platform),bQ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Wn=0;Wn<10;Wn++)Wi[48+Wn]=Wi[96+Wn]=String(Wn);for(var Wn=1;Wn<=24;Wn++)Wi[Wn+111]="F"+Wn;for(var Wn=65;Wn<=90;Wn++)Wi[Wn]=String.fromCharCode(Wn+32),Qh[Wn]=String.fromCharCode(Wn);for(var Cm in Wi)Qh.hasOwnProperty(Cm)||(Qh[Cm]=Wi[Cm]);function vQ(r){var e=mQ&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||bQ&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",n=!e&&r.key||(r.shiftKey?Qh:Wi)[r.keyCode]||r.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const yQ=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function wQ(r){let e=r.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let s,o,i,l;for(let a=0;a<e.length-1;a++){let c=e[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))s=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))yQ?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return s&&(n="Alt-"+n),o&&(n="Ctrl-"+n),l&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function CQ(r){let e=Object.create(null);for(let n in r)e[wQ(n)]=r[n];return e}function Sm(r,e,n=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),n&&e.shiftKey&&(r="Shift-"+r),r}function SQ(r){return new zr({props:{handleKeyDown:HM(r)}})}function HM(r){let e=CQ(r);return function(n,s){let o=vQ(s),i,l=e[Sm(o,s)];if(l&&l(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(s.shiftKey){let a=e[Sm(o,s,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((s.shiftKey||s.altKey||s.metaKey||o.charCodeAt(0)>127)&&(i=Wi[s.keyCode])&&i!=o){let a=e[Sm(i,s)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const xQ=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function UM(r,e){let{$cursor:n}=r.selection;return!n||(e?!e.endOfTextblock("backward",r):n.parentOffset>0)?null:n}const EQ=(r,e,n)=>{let s=UM(r,n);if(!s)return!1;let o=r0(s);if(!o){let l=s.blockRange(),a=l&&tu(l);return a==null?!1:(e&&e(r.tr.lift(l,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(!i.type.spec.isolating&&KM(r,o,e))return!0;if(s.parent.content.size==0&&(xc(i,"end")||ot.isSelectable(i))){let l=ag(r.doc,s.before(),s.after(),He.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=r.tr.step(l);a.setSelection(xc(i,"end")?Et.findFrom(a.doc.resolve(a.mapping.map(o.pos,-1)),-1):ot.create(a.doc,o.pos-i.nodeSize)),e(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==s.depth-1?(e&&e(r.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},TQ=(r,e,n)=>{let s=UM(r,n);if(!s)return!1;let o=r0(s);return o?WM(r,o,e):!1},_Q=(r,e,n)=>{let s=qM(r,n);if(!s)return!1;let o=s0(s);return o?WM(r,o,e):!1};function WM(r,e,n){let s=e.nodeBefore,o=s,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let d=o.lastChild;if(!d)return!1;o=d}let l=e.nodeAfter,a=l,c=e.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let u=ag(r.doc,i,c,He.empty);if(!u||u.from!=i||u instanceof Nn&&u.slice.size>=c-i)return!1;if(n){let d=r.tr.step(u);d.setSelection(yt.create(d.doc,i)),n(d.scrollIntoView())}return!0}function xc(r,e,n=!1){for(let s=r;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const OQ=(r,e,n)=>{let{$head:s,empty:o}=r.selection,i=s;if(!o)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",r):s.parentOffset>0)return!1;i=r0(s)}let l=i&&i.nodeBefore;return!l||!ot.isSelectable(l)?!1:(e&&e(r.tr.setSelection(ot.create(r.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)};function r0(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function qM(r,e){let{$cursor:n}=r.selection;return!n||(e?!e.endOfTextblock("forward",r):n.parentOffset<n.parent.content.size)?null:n}const AQ=(r,e,n)=>{let s=qM(r,n);if(!s)return!1;let o=s0(s);if(!o)return!1;let i=o.nodeAfter;if(KM(r,o,e))return!0;if(s.parent.content.size==0&&(xc(i,"start")||ot.isSelectable(i))){let l=ag(r.doc,s.before(),s.after(),He.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=r.tr.step(l);a.setSelection(xc(i,"start")?Et.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):ot.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==s.depth-1?(e&&e(r.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},MQ=(r,e,n)=>{let{$head:s,empty:o}=r.selection,i=s;if(!o)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",r):s.parentOffset<s.parent.content.size)return!1;i=s0(s)}let l=i&&i.nodeAfter;return!l||!ot.isSelectable(l)?!1:(e&&e(r.tr.setSelection(ot.create(r.doc,i.pos)).scrollIntoView()),!0)};function s0(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let n=r.node(e);if(r.index(e)+1<n.childCount)return r.doc.resolve(r.after(e+1));if(n.type.spec.isolating)break}return null}const kQ=(r,e)=>{let n=r.selection,s=n instanceof ot,o;if(s){if(n.node.isTextblock||!al(r.doc,n.from))return!1;o=n.from}else if(o=lg(r.doc,n.from,-1),o==null)return!1;if(e){let i=r.tr.join(o);s&&i.setSelection(ot.create(i.doc,o-r.doc.resolve(o).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},PQ=(r,e)=>{let n=r.selection,s;if(n instanceof ot){if(n.node.isTextblock||!al(r.doc,n.to))return!1;s=n.to}else if(s=lg(r.doc,n.to,1),s==null)return!1;return e&&e(r.tr.join(s).scrollIntoView()),!0},NQ=(r,e)=>{let{$from:n,$to:s}=r.selection,o=n.blockRange(s),i=o&&tu(o);return i==null?!1:(e&&e(r.tr.lift(o,i).scrollIntoView()),!0)},IQ=(r,e)=>{let{$head:n,$anchor:s}=r.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function GM(r){for(let e=0;e<r.edgeCount;e++){let{type:n}=r.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const LQ=(r,e)=>{let{$head:n,$anchor:s}=r.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let o=n.node(-1),i=n.indexAfter(-1),l=GM(o.contentMatchAt(i));if(!l||!o.canReplaceWith(i,i,l))return!1;if(e){let a=n.after(),c=r.tr.replaceWith(a,a,l.createAndFill());c.setSelection(Et.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},RQ=(r,e)=>{let n=r.selection,{$from:s,$to:o}=n;if(n instanceof Ps||s.parent.inlineContent||o.parent.inlineContent)return!1;let i=GM(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let l=(!s.parentOffset&&o.index()<o.parent.childCount?s:o).pos,a=r.tr.insert(l,i.createAndFill());a.setSelection(yt.create(a.doc,l+1)),e(a.scrollIntoView())}return!0},$Q=(r,e)=>{let{$cursor:n}=r.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Ga(r.doc,i))return e&&e(r.tr.split(i).scrollIntoView()),!0}let s=n.blockRange(),o=s&&tu(s);return o==null?!1:(e&&e(r.tr.lift(s,o).scrollIntoView()),!0)},DQ=(r,e)=>{let{$from:n,to:s}=r.selection,o,i=n.sharedDepth(s);return i==0?!1:(o=n.before(i),e&&e(r.tr.setSelection(ot.create(r.doc,o))),!0)};function VQ(r,e,n){let s=e.nodeBefore,o=e.nodeAfter,i=e.index();return!s||!o||!s.type.compatibleContent(o.type)?!1:!s.content.size&&e.parent.canReplace(i-1,i)?(n&&n(r.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||al(r.doc,e.pos))?!1:(n&&n(r.tr.clearIncompatible(e.pos,s.type,s.contentMatchAt(s.childCount)).join(e.pos).scrollIntoView()),!0)}function KM(r,e,n){let s=e.nodeBefore,o=e.nodeAfter,i,l;if(s.type.spec.isolating||o.type.spec.isolating)return!1;if(VQ(r,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(i=(l=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&l.matchType(i[0]||o.type).validEnd){if(n){let f=e.pos+o.nodeSize,h=Oe.empty;for(let m=i.length-1;m>=0;m--)h=Oe.from(i[m].create(null,h));h=Oe.from(s.copy(h));let p=r.tr.step(new $n(e.pos-1,f,e.pos,f,new He(h,1,0),i.length,!0)),g=f+2*i.length;al(p.doc,g)&&p.join(g),n(p.scrollIntoView())}return!0}let c=Et.findFrom(e,1),u=c&&c.$from.blockRange(c.$to),d=u&&tu(u);if(d!=null&&d>=e.depth)return n&&n(r.tr.lift(u,d).scrollIntoView()),!0;if(a&&xc(o,"start",!0)&&xc(s,"end")){let f=s,h=[];for(;h.push(f),!f.isTextblock;)f=f.lastChild;let p=o,g=1;for(;!p.isTextblock;p=p.firstChild)g++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(n){let m=Oe.empty;for(let b=h.length-1;b>=0;b--)m=Oe.from(h[b].copy(m));let v=r.tr.step(new $n(e.pos-h.length,e.pos+o.nodeSize,e.pos+g,e.pos+o.nodeSize-g,new He(m,h.length,0),0,!0));n(v.scrollIntoView())}return!0}}return!1}function YM(r){return function(e,n){let s=e.selection,o=r<0?s.$from:s.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(e.tr.setSelection(yt.create(e.doc,r<0?o.start(i):o.end(i)))),!0):!1}}const FQ=YM(-1),BQ=YM(1);function zQ(r,e=null){return function(n,s){let{$from:o,$to:i}=n.selection,l=o.blockRange(i),a=l&&Gy(l,r,e);return a?(s&&s(n.tr.wrap(l,a).scrollIntoView()),!0):!1}}function bx(r,e=null){return function(n,s){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(l,a,(c,u)=>{if(o)return!1;if(!(!c.isTextblock||c.hasMarkup(r,e)))if(c.type==r)o=!0;else{let d=n.doc.resolve(u),f=d.index();o=d.parent.canReplaceWith(f,f+1,r)}})}if(!o)return!1;if(s){let i=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[l];i.setBlockType(a,c,r,e)}s(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function jQ(r,e=null){return function(n,s){let{$from:o,$to:i}=n.selection,l=o.blockRange(i),a=!1,c=l;if(!l)return!1;if(l.depth>=2&&o.node(l.depth-1).type.compatibleContent(r)&&l.startIndex==0){if(o.index(l.depth-1)==0)return!1;let d=n.doc.resolve(l.start-2);c=new Wh(d,d,l.depth),l.endIndex<l.parent.childCount&&(l=new Wh(o,n.doc.resolve(i.end(l.depth)),l.depth)),a=!0}let u=Gy(c,r,e,l);return u?(s&&s(HQ(n.tr,l,u,a,r).scrollIntoView()),!0):!1}}function HQ(r,e,n,s,o){let i=Oe.empty;for(let d=n.length-1;d>=0;d--)i=Oe.from(n[d].type.create(n[d].attrs,i));r.step(new $n(e.start-(s?2:0),e.end,e.start,e.end,new He(i,0,0),n.length,!0));let l=0;for(let d=0;d<n.length;d++)n[d].type==o&&(l=d+1);let a=n.length-l,c=e.start+n.length-(s?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,h=!0;d<f;d++,h=!1)!h&&Ga(r.doc,c,a)&&(r.split(c,a),c+=2*a),c+=u.child(d).nodeSize;return r}function UQ(r){return function(e,n){let{$from:s,$to:o}=e.selection,i=s.blockRange(o,l=>l.childCount>0&&l.firstChild.type==r);return i?n?s.node(i.depth-1).type==r?WQ(e,n,r,i):qQ(e,n,i):!0:!1}}function WQ(r,e,n,s){let o=r.tr,i=s.end,l=s.$to.end(s.depth);i<l&&(o.step(new $n(i-1,l,i,l,new He(Oe.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new Wh(o.doc.resolve(s.$from.pos),o.doc.resolve(l),s.depth));const a=tu(s);if(a==null)return!1;o.lift(s,a);let c=o.mapping.map(i,-1)-1;return al(o.doc,c)&&o.join(c),e(o.scrollIntoView()),!0}function qQ(r,e,n){let s=r.tr,o=n.parent;for(let p=n.end,g=n.endIndex-1,m=n.startIndex;g>m;g--)p-=o.child(g).nodeSize,s.delete(p-1,p+1);let i=s.doc.resolve(n.start),l=i.nodeAfter;if(s.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,c=n.endIndex==o.childCount,u=i.node(-1),d=i.index(-1);if(!u.canReplace(d+(a?0:1),d+1,l.content.append(c?Oe.empty:Oe.from(o))))return!1;let f=i.pos,h=f+l.nodeSize;return s.step(new $n(f-(a?1:0),h+(c?1:0),f+1,h-1,new He((a?Oe.empty:Oe.from(o.copy(Oe.empty))).append(c?Oe.empty:Oe.from(o.copy(Oe.empty))),a?0:1,c?0:1),a?0:1)),e(s.scrollIntoView()),!0}function GQ(r){return function(e,n){let{$from:s,$to:o}=e.selection,i=s.blockRange(o,u=>u.childCount>0&&u.firstChild.type==r);if(!i)return!1;let l=i.startIndex;if(l==0)return!1;let a=i.parent,c=a.child(l-1);if(c.type!=r)return!1;if(n){let u=c.lastChild&&c.lastChild.type==a.type,d=Oe.from(u?r.create():null),f=new He(Oe.from(r.create(null,Oe.from(a.type.create(null,d)))),u?3:1,0),h=i.start,p=i.end;n(e.tr.step(new $n(h-(u?3:1),p,h,p,f,1,!0)).scrollIntoView())}return!0}}function hg(r){const{state:e,transaction:n}=r;let{selection:s}=n,{doc:o}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return s},get doc(){return o},get tr(){return s=n.selection,o=n.doc,i=n.storedMarks,n}}}class pg{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:s}=this,{view:o}=n,{tr:i}=s,l=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...d)=>{const f=c(...d)(l);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:s,editor:o,state:i}=this,{view:l}=o,a=[],c=!!e,u=e||i.tr,d=()=>(!c&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(u),a.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(s).map(([h,p])=>[h,(...m)=>{const v=this.buildProps(u,n),b=p(...m)(v);return a.push(b),f}])),run:d};return f}createCan(e){const{rawCommands:n,state:s}=this,o=!1,i=e||s.tr,l=this.buildProps(i,o);return{...Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...d)=>u(...d)({...l,dispatch:void 0})])),chain:()=>this.createChain(i,o)}}buildProps(e,n=!0){const{rawCommands:s,editor:o,state:i}=this,{view:l}=o,a={tr:e,editor:o,view:l,state:hg({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(s).map(([c,u])=>[c,(...d)=>u(...d)(a)]))}};return a}}class KQ{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const s=this.callbacks[e];return s&&s.forEach(o=>o.apply(this,n)),this}off(e,n){const s=this.callbacks[e];return s&&(n?this.callbacks[e]=s.filter(o=>o!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Ke(r,e,n){return r.config[e]===void 0&&r.parent?Ke(r.parent,e,n):typeof r.config[e]=="function"?r.config[e].bind({...n,parent:r.parent?Ke(r.parent,e,n):null}):r.config[e]}function gg(r){const e=r.filter(o=>o.type==="extension"),n=r.filter(o=>o.type==="node"),s=r.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:s}}function JM(r){const e=[],{nodeExtensions:n,markExtensions:s}=gg(r),o=[...n,...s],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(l=>{const a={name:l.name,options:l.options,storage:l.storage},c=Ke(l,"addGlobalAttributes",a);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([h,p])=>{e.push({type:f,name:h,attribute:{...i,...p}})})})})}),o.forEach(l=>{const a={name:l.name,options:l.options,storage:l.storage},c=Ke(l,"addAttributes",a);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const h={...i,...f};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:l.name,name:d,attribute:h})})}),e}function Fn(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function pn(...r){return r.filter(e=>!!e).reduce((e,n)=>{const s={...e};return Object.entries(n).forEach(([o,i])=>{if(!s[o]){s[o]=i;return}if(o==="class"){const a=i?i.split(" "):[],c=s[o]?s[o].split(" "):[],u=a.filter(d=>!c.includes(d));s[o]=[...c,...u].join(" ")}else o==="style"?s[o]=[s[o],i].join("; "):s[o]=i}),s},{})}function rv(r,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(r.attrs)||{}:{[n.name]:r.attrs[n.name]}).reduce((n,s)=>pn(n,s),{})}function XM(r){return typeof r=="function"}function xt(r,e=void 0,...n){return XM(r)?e?r.bind(e)(...n):r(...n):r}function YQ(r={}){return Object.keys(r).length===0&&r.constructor===Object}function JQ(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function vx(r,e){return r.style?r:{...r,getAttrs:n=>{const s=r.getAttrs?r.getAttrs(n):r.attrs;if(s===!1)return!1;const o=e.reduce((i,l)=>{const a=l.attribute.parseHTML?l.attribute.parseHTML(n):JQ(n.getAttribute(l.name));return a==null?i:{...i,[l.name]:a}},{});return{...s,...o}}}}function yx(r){return Object.fromEntries(Object.entries(r).filter(([e,n])=>e==="attrs"&&YQ(n)?!1:n!=null))}function XQ(r,e){var n;const s=JM(r),{nodeExtensions:o,markExtensions:i}=gg(r),l=(n=o.find(u=>Ke(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(o.map(u=>{const d=s.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},h=r.reduce((b,C)=>{const y=Ke(C,"extendNodeSchema",f);return{...b,...y?y(u):{}}},{}),p=yx({...h,content:xt(Ke(u,"content",f)),marks:xt(Ke(u,"marks",f)),group:xt(Ke(u,"group",f)),inline:xt(Ke(u,"inline",f)),atom:xt(Ke(u,"atom",f)),selectable:xt(Ke(u,"selectable",f)),draggable:xt(Ke(u,"draggable",f)),code:xt(Ke(u,"code",f)),defining:xt(Ke(u,"defining",f)),isolating:xt(Ke(u,"isolating",f)),attrs:Object.fromEntries(d.map(b=>{var C;return[b.name,{default:(C=b==null?void 0:b.attribute)===null||C===void 0?void 0:C.default}]}))}),g=xt(Ke(u,"parseHTML",f));g&&(p.parseDOM=g.map(b=>vx(b,d)));const m=Ke(u,"renderHTML",f);m&&(p.toDOM=b=>m({node:b,HTMLAttributes:rv(b,d)}));const v=Ke(u,"renderText",f);return v&&(p.toText=v),[u.name,p]})),c=Object.fromEntries(i.map(u=>{const d=s.filter(v=>v.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},h=r.reduce((v,b)=>{const C=Ke(b,"extendMarkSchema",f);return{...v,...C?C(u):{}}},{}),p=yx({...h,inclusive:xt(Ke(u,"inclusive",f)),excludes:xt(Ke(u,"excludes",f)),group:xt(Ke(u,"group",f)),spanning:xt(Ke(u,"spanning",f)),code:xt(Ke(u,"code",f)),attrs:Object.fromEntries(d.map(v=>{var b;return[v.name,{default:(b=v==null?void 0:v.attribute)===null||b===void 0?void 0:b.default}]}))}),g=xt(Ke(u,"parseHTML",f));g&&(p.parseDOM=g.map(v=>vx(v,d)));const m=Ke(u,"renderHTML",f);return m&&(p.toDOM=v=>m({mark:v,HTMLAttributes:rv(v,d)})),[u.name,p]}));return new QJ({topNode:l,nodes:a,marks:c})}function xm(r,e){return e.nodes[r]||e.marks[r]||null}function wx(r,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===r.name):e}const ZQ=(r,e=500)=>{let n="";const s=r.parentOffset;return r.parent.nodesBetween(Math.max(0,s-e),s,(o,i,l,a)=>{var c,u;const d=((u=(c=o.type.spec).toText)===null||u===void 0?void 0:u.call(c,{node:o,pos:i,parent:l,index:a}))||o.textContent||"%leaf%";n+=d.slice(0,Math.max(0,s-i))}),n};function o0(r){return Object.prototype.toString.call(r)==="[object RegExp]"}class mg{constructor(e){this.find=e.find,this.handler=e.handler}}const QQ=(r,e)=>{if(o0(e))return e.exec(r);const n=e(r);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=r,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith),s.push(n.replaceWith)),s};function Wf(r){var e;const{editor:n,from:s,to:o,text:i,rules:l,plugin:a}=r,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(s);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let d=!1;const f=ZQ(u)+i;return l.forEach(h=>{if(d)return;const p=QQ(f,h.find);if(!p)return;const g=c.state.tr,m=hg({state:c.state,transaction:g}),v={from:s-(p[0].length-i.length),to:o},{commands:b,chain:C,can:y}=new pg({editor:n,state:m});h.handler({state:m,range:v,match:p,commands:b,chain:C,can:y})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:s,to:o,text:i}),c.dispatch(g),d=!0)}),d}function eee(r){const{editor:e,rules:n}=r,s=new zr({state:{init(){return null},apply(o,i){const l=o.getMeta(s);if(l)return l;const a=o.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:u,text:d}=a,f=u+d.length;Wf({editor:e,from:u,to:f,text:d,rules:n,plugin:s})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,l,a){return Wf({editor:e,from:i,to:l,text:a,rules:n,plugin:s})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&Wf({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:l}=o.state.selection;return l?Wf({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function tee(r){return typeof r=="number"}class nee{constructor(e){this.find=e.find,this.handler=e.handler}}const ree=(r,e,n)=>{if(o0(e))return[...r.matchAll(e)];const s=e(r,n);return s?s.map(o=>{const i=[o.text];return i.index=o.index,i.input=r,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith),i.push(o.replaceWith)),i}):[]};function see(r){const{editor:e,state:n,from:s,to:o,rule:i,pasteEvent:l,dropEvent:a}=r,{commands:c,chain:u,can:d}=new pg({editor:e,state:n}),f=[];return n.doc.nodesBetween(s,o,(p,g)=>{if(!p.isTextblock||p.type.spec.code)return;const m=Math.max(s,g),v=Math.min(o,g+p.content.size),b=p.textBetween(m-g,v-g,void 0,"￼");ree(b,i.find,l).forEach(y=>{if(y.index===void 0)return;const w=m+y.index+1,x=w+y[0].length,E={from:n.tr.mapping.map(w),to:n.tr.mapping.map(x)},_=i.handler({state:n,range:E,match:y,commands:c,chain:u,can:d,pasteEvent:l,dropEvent:a});f.push(_)})}),f.every(p=>p!==null)}const oee=r=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",r),n};function iee(r){const{editor:e,rules:n}=r;let s=null,o=!1,i=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const c=({state:d,from:f,to:h,rule:p,pasteEvt:g})=>{const m=d.tr,v=hg({state:d,transaction:m});if(!(!see({editor:e,state:v,from:Math.max(f-1,0),to:h.b-1,rule:p,pasteEvent:g,dropEvent:a})||!m.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m};return n.map(d=>new zr({view(f){const h=p=>{var g;s=!((g=f.dom.parentElement)===null||g===void 0)&&g.contains(p.target)?f.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(f,h)=>(i=s===f.dom.parentElement,a=h,!1),paste:(f,h)=>{var p;const g=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return l=h,o=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(f,h,p)=>{const g=f[0],m=g.getMeta("uiEvent")==="paste"&&!o,v=g.getMeta("uiEvent")==="drop"&&!i,b=g.getMeta("applyPasteRules"),C=!!b;if(!m&&!v&&!C)return;if(C){const{from:x,text:E}=b,_=x+E.length,M=oee(E);return c({rule:d,state:p,from:x,to:{b:_},pasteEvt:M})}const y=h.doc.content.findDiffStart(p.doc.content),w=h.doc.content.findDiffEnd(p.doc.content);if(!(!tee(y)||!w||y===w.b))return c({rule:d,state:p,from:y,to:w,pasteEvt:l})}}))}function lee(r){const e=r.filter((n,s)=>r.indexOf(n)!==s);return[...new Set(e)]}class Va{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Va.resolve(e),this.schema=XQ(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Va.sort(Va.flatten(e));return lee(n.map(o=>o.name)).length,n}static flatten(e){return e.map(n=>{const s={name:n.name,options:n.options,storage:n.storage},o=Ke(n,"addExtensions",s);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){return e.sort((s,o)=>{const i=Ke(s,"priority")||100,l=Ke(o,"priority")||100;return i>l?-1:i<l?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const s={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:xm(n.name,this.schema)},o=Ke(n,"addCommands",s);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,n=Va.sort([...this.extensions].reverse()),s=[],o=[],i=n.map(l=>{const a={name:l.name,options:l.options,storage:l.storage,editor:e,type:xm(l.name,this.schema)},c=[],u=Ke(l,"addKeyboardShortcuts",a);let d={};if(l.type==="mark"&&l.config.exitable&&(d.ArrowRight=()=>hs.handleExit({editor:e,mark:l})),u){const m=Object.fromEntries(Object.entries(u()).map(([v,b])=>[v,()=>b({editor:e})]));d={...d,...m}}const f=SQ(d);c.push(f);const h=Ke(l,"addInputRules",a);wx(l,e.options.enableInputRules)&&h&&s.push(...h());const p=Ke(l,"addPasteRules",a);wx(l,e.options.enablePasteRules)&&p&&o.push(...p());const g=Ke(l,"addProseMirrorPlugins",a);if(g){const m=g();c.push(...m)}return c}).flat();return[eee({editor:e,rules:s}),...iee({editor:e,rules:o}),...i]}get attributes(){return JM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=gg(this.extensions);return Object.fromEntries(n.filter(s=>!!Ke(s,"addNodeView")).map(s=>{const o=this.attributes.filter(c=>c.type===s.name),i={name:s.name,options:s.options,storage:s.storage,editor:e,type:Fn(s.name,this.schema)},l=Ke(s,"addNodeView",i);if(!l)return[];const a=(c,u,d,f)=>{const h=rv(c,o);return l()({editor:e,node:c,getPos:d,decorations:f,HTMLAttributes:h,extension:s})};return[s.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const s={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:xm(e.name,this.schema)};e.type==="mark"&&(!((n=xt(Ke(e,"keepOnSplit",s)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const o=Ke(e,"onBeforeCreate",s),i=Ke(e,"onCreate",s),l=Ke(e,"onUpdate",s),a=Ke(e,"onSelectionUpdate",s),c=Ke(e,"onTransaction",s),u=Ke(e,"onFocus",s),d=Ke(e,"onBlur",s),f=Ke(e,"onDestroy",s);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),l&&this.editor.on("update",l),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}}function aee(r){return Object.prototype.toString.call(r).slice(8,-1)}function Em(r){return aee(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function bg(r,e){const n={...r};return Em(r)&&Em(e)&&Object.keys(e).forEach(s=>{Em(e[s])?s in r?n[s]=bg(r[s],e[s]):Object.assign(n,{[s]:e[s]}):Object.assign(n,{[s]:e[s]})}),n}class mr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0,this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(Ke(this,"addOptions",{name:this.name}))),this.storage=xt(Ke(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new mr(e)}configure(e={}){const n=this.extend();return n.parent=this.parent,n.options=bg(this.options,e),n.storage=xt(Ke(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new mr({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions,n.options=xt(Ke(n,"addOptions",{name:n.name})),n.storage=xt(Ke(n,"addStorage",{name:n.name,options:n.options})),n}}function ZM(r,e,n){const{from:s,to:o}=e,{blockSeparator:i=`

`,textSerializers:l={}}=n||{};let a="";return r.nodesBetween(s,o,(c,u,d,f)=>{var h;c.isBlock&&u>s&&(a+=i);const p=l==null?void 0:l[c.type.name];if(p)return d&&(a+=p({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(a+=(h=c==null?void 0:c.text)===null||h===void 0?void 0:h.slice(Math.max(s,u)-u,o-u))}),a}function QM(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const cee=mr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new zr({key:new ti("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:n}=r,{doc:s,selection:o}=e,{ranges:i}=o,l=Math.min(...i.map(d=>d.$from.pos)),a=Math.max(...i.map(d=>d.$to.pos)),c=QM(n);return ZM(s,{from:l,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),uee=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var n;r.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),dee=(r=!1)=>({commands:e})=>e.setContent("",r),fee=()=>({state:r,tr:e,dispatch:n})=>{const{selection:s}=e,{ranges:o}=s;return n&&o.forEach(({$from:i,$to:l})=>{r.doc.nodesBetween(i.pos,l.pos,(a,c)=>{if(a.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),h=u.resolve(d.map(c+a.nodeSize)),p=f.blockRange(h);if(!p)return;const g=tu(p);if(a.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,m)}(g||g===0)&&e.lift(p,g)})}),!0},hee=r=>e=>r(e),pee=()=>({state:r,dispatch:e})=>RQ(r,e),gee=(r,e)=>({editor:n,tr:s})=>{const{state:o}=n,i=o.doc.slice(r.from,r.to);s.deleteRange(r.from,r.to);const l=s.mapping.map(e);return s.insert(l,i.content),s.setSelection(new yt(s.doc.resolve(l-1))),!0},mee=()=>({tr:r,dispatch:e})=>{const{selection:n}=r,s=n.$anchor.node();if(s.content.size>0)return!1;const o=r.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===s.type){if(e){const a=o.before(i),c=o.after(i);r.delete(a,c).scrollIntoView()}return!0}return!1},bee=r=>({tr:e,state:n,dispatch:s})=>{const o=Fn(r,n.schema),i=e.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===o){if(s){const c=i.before(l),u=i.after(l);e.delete(c,u).scrollIntoView()}return!0}return!1},vee=r=>({tr:e,dispatch:n})=>{const{from:s,to:o}=r;return n&&e.delete(s,o),!0},yee=()=>({state:r,dispatch:e})=>xQ(r,e),wee=()=>({commands:r})=>r.keyboardShortcut("Enter"),Cee=()=>({state:r,dispatch:e})=>LQ(r,e);function ep(r,e,n={strict:!0}){const s=Object.keys(e);return s.length?s.every(o=>n.strict?e[o]===r[o]:o0(e[o])?e[o].test(r[o]):e[o]===r[o]):!0}function sv(r,e,n={}){return r.find(s=>s.type===e&&ep(s.attrs,n))}function See(r,e,n={}){return!!sv(r,e,n)}function i0(r,e,n={}){if(!r||!e)return;let s=r.parent.childAfter(r.parentOffset);if(r.parentOffset===s.offset&&s.offset!==0&&(s=r.parent.childBefore(r.parentOffset)),!s.node)return;const o=sv([...s.node.marks],e,n);if(!o)return;let i=s.index,l=r.start()+s.offset,a=i+1,c=l+s.node.nodeSize;for(sv([...s.node.marks],e,n);i>0&&o.isInSet(r.parent.child(i-1).marks);)i-=1,l-=r.parent.child(i).nodeSize;for(;a<r.parent.childCount&&See([...r.parent.child(a).marks],e,n);)c+=r.parent.child(a).nodeSize,a+=1;return{from:l,to:c}}function ul(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const xee=(r,e={})=>({tr:n,state:s,dispatch:o})=>{const i=ul(r,s.schema),{doc:l,selection:a}=n,{$from:c,from:u,to:d}=a;if(o){const f=i0(c,i,e);if(f&&f.from<=u&&f.to>=d){const h=yt.create(l,f.from,f.to);n.setSelection(h)}}return!0},Eee=r=>e=>{const n=typeof r=="function"?r(e):r;for(let s=0;s<n.length;s+=1)if(n[s](e))return!0;return!1};function l0(r){return r instanceof yt}function No(r=0,e=0,n=0){return Math.min(Math.max(r,e),n)}function ek(r,e=null){if(!e)return null;const n=Et.atStart(r),s=Et.atEnd(r);if(e==="start"||e===!0)return n;if(e==="end")return s;const o=n.from,i=s.to;return e==="all"?yt.create(r,No(0,o,i),No(r.content.size,o,i)):yt.create(r,No(e,o,i),No(e,o,i))}function a0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Tee=(r=null,e={})=>({editor:n,view:s,tr:o,dispatch:i})=>{e={scrollIntoView:!0,...e};const l=()=>{a0()&&s.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(s.hasFocus()&&r===null||r===!1)return!0;if(i&&r===null&&!l0(n.state.selection))return l(),!0;const a=ek(o.doc,r)||n.state.selection,c=n.state.selection.eq(a);return i&&(c||o.setSelection(a),c&&o.storedMarks&&o.setStoredMarks(o.storedMarks),l()),!0},_ee=(r,e)=>n=>r.every((s,o)=>e(s,{...n,index:o})),Oee=(r,e)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},r,e),tk=r=>{const e=r.childNodes;for(let n=e.length-1;n>=0;n-=1){const s=e[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?r.removeChild(s):s.nodeType===1&&tk(s)}return r};function Cx(r){const e=`<body>${r}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return tk(n)}function tp(r,e,n){n={slice:!0,parseOptions:{},...n};const s=typeof r=="object"&&r!==null,o=typeof r=="string";if(s)try{return Array.isArray(r)&&r.length>0?Oe.fromArray(r.map(l=>e.nodeFromJSON(l))):e.nodeFromJSON(r)}catch{return tp("",e,n)}if(o){const i=Wy.fromSchema(e);return n.slice?i.parseSlice(Cx(r),n.parseOptions).content:i.parse(Cx(r),n.parseOptions)}return tp("",e,n)}function Aee(r,e,n){const s=r.steps.length-1;if(s<e)return;const o=r.steps[s];if(!(o instanceof Nn||o instanceof $n))return;const i=r.mapping.maps[s];let l=0;i.forEach((a,c,u,d)=>{l===0&&(l=d)}),r.setSelection(Et.near(r.doc.resolve(l),n))}const Mee=r=>r.toString().startsWith("<"),kee=(r,e,n)=>({tr:s,dispatch:o,editor:i})=>{if(o){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};const l=tp(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(l.toString()==="<>")return!0;let{from:a,to:c}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},u=!0,d=!0;if((Mee(l)?l:[l]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),a===c&&d){const{parent:p}=s.doc.resolve(a);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(a-=1,c+=1)}let h;u?(Array.isArray(e)?h=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?h=e.text:h=e,s.insertText(h,a,c)):(h=l,s.replaceWith(a,c,h)),n.updateSelection&&Aee(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:a,text:h}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:a,text:h})}return!0},Pee=()=>({state:r,dispatch:e})=>kQ(r,e),Nee=()=>({state:r,dispatch:e})=>PQ(r,e),Iee=()=>({state:r,dispatch:e})=>EQ(r,e),Lee=()=>({state:r,dispatch:e})=>AQ(r,e),Ree=()=>({tr:r,state:e,dispatch:n})=>{try{const s=lg(e.doc,e.selection.$from.pos,-1);return s==null?!1:(r.join(s,2),n&&n(r),!0)}catch{return!1}},$ee=()=>({state:r,dispatch:e,tr:n})=>{try{const s=lg(r.doc,r.selection.$from.pos,1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},Dee=()=>({state:r,dispatch:e})=>TQ(r,e),Vee=()=>({state:r,dispatch:e})=>_Q(r,e);function nk(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Fee(r){const e=r.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let s,o,i,l;for(let a=0;a<e.length-1;a+=1){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))s=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))a0()||nk()?l=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return s&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const Bee=r=>({editor:e,view:n,tr:s,dispatch:o})=>{const i=Fee(r).split(/-(?!$)/),l=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return c==null||c.steps.forEach(u=>{const d=u.map(s.mapping);d&&o&&s.maybeStep(d)}),!0};function Ed(r,e,n={}){const{from:s,to:o,empty:i}=r.selection,l=e?Fn(e,r.schema):null,a=[];r.doc.nodesBetween(s,o,(f,h)=>{if(f.isText)return;const p=Math.max(s,h),g=Math.min(o,h+f.nodeSize);a.push({node:f,from:p,to:g})});const c=o-s,u=a.filter(f=>l?l.name===f.node.type.name:!0).filter(f=>ep(f.node.attrs,n,{strict:!1}));return i?!!u.length:u.reduce((f,h)=>f+h.to-h.from,0)>=c}const zee=(r,e={})=>({state:n,dispatch:s})=>{const o=Fn(r,n.schema);return Ed(n,o,e)?NQ(n,s):!1},jee=()=>({state:r,dispatch:e})=>$Q(r,e),Hee=r=>({state:e,dispatch:n})=>{const s=Fn(r,e.schema);return UQ(s)(e,n)},Uee=()=>({state:r,dispatch:e})=>IQ(r,e);function vg(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function Sx(r,e){const n=typeof e=="string"?[e]:e;return Object.keys(r).reduce((s,o)=>(n.includes(o)||(s[o]=r[o]),s),{})}const Wee=(r,e)=>({tr:n,state:s,dispatch:o})=>{let i=null,l=null;const a=vg(typeof r=="string"?r:r.name,s.schema);return a?(a==="node"&&(i=Fn(r,s.schema)),a==="mark"&&(l=ul(r,s.schema)),o&&n.selection.ranges.forEach(c=>{s.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{i&&i===u.type&&n.setNodeMarkup(d,void 0,Sx(u.attrs,e)),l&&u.marks.length&&u.marks.forEach(f=>{l===f.type&&n.addMark(d,d+u.nodeSize,l.create(Sx(f.attrs,e)))})})}),!0):!1},qee=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),Gee=()=>({tr:r,commands:e})=>e.setTextSelection({from:0,to:r.doc.content.size}),Kee=()=>({state:r,dispatch:e})=>OQ(r,e),Yee=()=>({state:r,dispatch:e})=>MQ(r,e),Jee=()=>({state:r,dispatch:e})=>DQ(r,e),Xee=()=>({state:r,dispatch:e})=>BQ(r,e),Zee=()=>({state:r,dispatch:e})=>FQ(r,e);function rk(r,e,n={}){return tp(r,e,{slice:!1,parseOptions:n})}const Qee=(r,e=!1,n={})=>({tr:s,editor:o,dispatch:i})=>{const{doc:l}=s,a=rk(r,o.schema,n);return i&&s.replaceWith(0,l.content.size,a).setMeta("preventUpdate",!e),!0};function cf(r,e){const n=ul(e,r.schema),{from:s,to:o,empty:i}=r.selection,l=[];i?(r.storedMarks&&l.push(...r.storedMarks),l.push(...r.selection.$head.marks())):r.doc.nodesBetween(s,o,c=>{l.push(...c.marks)});const a=l.find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function ete(r){for(let e=0;e<r.edgeCount;e+=1){const{type:n}=r.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function tte(r,e){for(let n=r.depth;n>0;n-=1){const s=r.node(n);if(e(s))return{pos:n>0?r.before(n):0,start:r.start(n),depth:n,node:s}}}function c0(r){return e=>tte(e.$from,r)}function nte(r,e){const n=Qs.fromSchema(e).serializeFragment(r),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function rte(r,e){const n={from:0,to:r.content.size};return ZM(r,n,e)}function ste(r,e){const n=Fn(e,r.schema),{from:s,to:o}=r.selection,i=[];r.doc.nodesBetween(s,o,a=>{i.push(a)});const l=i.reverse().find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function ote(r,e){const n=vg(typeof e=="string"?e:e.name,r.schema);return n==="node"?ste(r,e):n==="mark"?cf(r,e):{}}function sk(r,e,n){const s=[];return r===e?n.resolve(r).marks().forEach(o=>{const i=n.resolve(r-1),l=i0(i,o.type);l&&s.push({mark:o,...l})}):n.nodesBetween(r,e,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||s.push(...o.marks.map(l=>({from:i,to:i+o.nodeSize,mark:l})))}),s}function bh(r,e,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const o=r.find(i=>i.type===e&&i.name===s);return o?o.attribute.keepOnSplit:!1}))}function ov(r,e,n={}){const{empty:s,ranges:o}=r.selection,i=e?ul(e,r.schema):null;if(s)return!!(r.storedMarks||r.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>ep(f.attrs,n,{strict:!1}));let l=0;const a=[];if(o.forEach(({$from:f,$to:h})=>{const p=f.pos,g=h.pos;r.doc.nodesBetween(p,g,(m,v)=>{if(!m.isText&&!m.marks.length)return;const b=Math.max(p,v),C=Math.min(g,v+m.nodeSize),y=C-b;l+=y,a.push(...m.marks.map(w=>({mark:w,from:b,to:C})))})}),l===0)return!1;const c=a.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>ep(f.mark.attrs,n,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),u=a.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,h)=>f+h.to-h.from,0);return(c>0?c+u:c)>=l}function ite(r,e,n={}){if(!e)return Ed(r,null,n)||ov(r,null,n);const s=vg(e,r.schema);return s==="node"?Ed(r,e,n):s==="mark"?ov(r,e,n):!1}function xx(r,e){const{nodeExtensions:n}=gg(e),s=n.find(l=>l.name===r);if(!s)return!1;const o={name:s.name,options:s.options,storage:s.storage},i=xt(Ke(s,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function lte(r){var e;const n=(e=r.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),s=r.toJSON();return JSON.stringify(n)===JSON.stringify(s)}function ate(r){return r instanceof ot}function cte(r,e,n){const o=r.state.doc.content.size,i=No(e,0,o),l=No(n,0,o),a=r.coordsAtPos(i),c=r.coordsAtPos(l,-1),u=Math.min(a.top,c.top),d=Math.max(a.bottom,c.bottom),f=Math.min(a.left,c.left),h=Math.max(a.right,c.right),p=h-f,g=d-u,b={top:u,bottom:d,left:f,right:h,width:p,height:g,x:f,y:u};return{...b,toJSON:()=>b}}function ute(r,e,n){var s;const{selection:o}=e;let i=null;if(l0(o)&&(i=o.$cursor),i){const a=(s=r.storedMarks)!==null&&s!==void 0?s:i.marks();return!!n.isInSet(a)||!a.some(c=>c.type.excludes(n))}const{ranges:l}=o;return l.some(({$from:a,$to:c})=>{let u=a.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(n):!1;return r.doc.nodesBetween(a.pos,c.pos,(d,f,h)=>{if(u)return!1;if(d.isInline){const p=!h||h.type.allowsMarkType(n),g=!!n.isInSet(d.marks)||!d.marks.some(m=>m.type.excludes(n));u=p&&g}return!u}),u})}const dte=(r,e={})=>({tr:n,state:s,dispatch:o})=>{const{selection:i}=n,{empty:l,ranges:a}=i,c=ul(r,s.schema);if(o)if(l){const u=cf(s,c);n.addStoredMark(c.create({...u,...e}))}else a.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;s.doc.nodesBetween(d,f,(h,p)=>{const g=Math.max(p,d),m=Math.min(p+h.nodeSize,f);h.marks.find(b=>b.type===c)?h.marks.forEach(b=>{c===b.type&&n.addMark(g,m,c.create({...b.attrs,...e}))}):n.addMark(g,m,c.create(e))})});return ute(s,n,c)},fte=(r,e)=>({tr:n})=>(n.setMeta(r,e),!0),hte=(r,e={})=>({state:n,dispatch:s,chain:o})=>{const i=Fn(r,n.schema);return i.isTextblock?o().command(({commands:l})=>bx(i,e)(n)?!0:l.clearNodes()).command(({state:l})=>bx(i,e)(l,s)).run():!1},pte=r=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,o=No(r,0,s.content.size),i=ot.create(s,o);e.setSelection(i)}return!0},gte=r=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,{from:o,to:i}=typeof r=="number"?{from:r,to:r}:r,l=yt.atStart(s).from,a=yt.atEnd(s).to,c=No(o,l,a),u=No(i,l,a),d=yt.create(s,c,u);e.setSelection(d)}return!0},mte=r=>({state:e,dispatch:n})=>{const s=Fn(r,e.schema);return GQ(s)(e,n)};function Ex(r,e){const n=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(n){const s=n.filter(o=>e==null?void 0:e.includes(o.type.name));r.tr.ensureMarks(s)}}const bte=({keepMarks:r=!0}={})=>({tr:e,state:n,dispatch:s,editor:o})=>{const{selection:i,doc:l}=e,{$from:a,$to:c}=i,u=o.extensionManager.attributes,d=bh(u,a.node().type.name,a.node().attrs);if(i instanceof ot&&i.node.isBlock)return!a.parentOffset||!Ga(l,a.pos)?!1:(s&&(r&&Ex(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(s){const f=c.parentOffset===c.parent.content.size;i instanceof yt&&e.deleteSelection();const h=a.depth===0?void 0:ete(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=f&&h?[{type:h,attrs:d}]:void 0,g=Ga(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!g&&Ga(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(g=!0,p=h?[{type:h,attrs:d}]:void 0),g&&(e.split(e.mapping.map(a.pos),1,p),h&&!f&&!a.parentOffset&&a.parent.type!==h)){const m=e.mapping.map(a.before()),v=e.doc.resolve(m);a.node(-1).canReplaceWith(v.index(),v.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}r&&Ex(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0},vte=r=>({tr:e,state:n,dispatch:s,editor:o})=>{var i;const l=Fn(r,n.schema),{$from:a,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(c))return!1;const d=a.node(-1);if(d.type!==l)return!1;const f=o.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(s){let v=Oe.empty;const b=a.index(-1)?1:a.index(-2)?2:3;for(let _=a.depth-b;_>=a.depth-3;_-=1)v=Oe.from(a.node(_).copy(v));const C=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,y=bh(f,a.node().type.name,a.node().attrs),w=((i=l.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(y))||void 0;v=v.append(Oe.from(l.createAndFill(null,w)||void 0));const x=a.before(a.depth-(b-1));e.replace(x,a.after(-C),new He(v,4-b,0));let E=-1;e.doc.nodesBetween(x,e.doc.content.size,(_,M)=>{if(E>-1)return!1;_.isTextblock&&_.content.size===0&&(E=M+1)}),E>-1&&e.setSelection(yt.near(e.doc.resolve(E))),e.scrollIntoView()}return!0}const h=c.pos===a.end()?d.contentMatchAt(0).defaultType:null,p=bh(f,d.type.name,d.attrs),g=bh(f,a.node().type.name,a.node().attrs);e.delete(a.pos,c.pos);const m=h?[{type:l,attrs:p},{type:h,attrs:g}]:[{type:l,attrs:p}];if(!Ga(e.doc,a.pos,2))return!1;if(s){const{selection:v,storedMarks:b}=n,{splittableMarks:C}=o.extensionManager,y=b||v.$to.parentOffset&&v.$from.marks();if(e.split(a.pos,2,m).scrollIntoView(),!y||!s)return!0;const w=y.filter(x=>C.includes(x.type.name));e.ensureMarks(w)}return!0},Tm=(r,e)=>{const n=c0(l=>l.type===e)(r.selection);if(!n)return!0;const s=r.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const o=r.doc.nodeAt(s);return n.node.type===(o==null?void 0:o.type)&&al(r.doc,n.pos)&&r.join(n.pos),!0},_m=(r,e)=>{const n=c0(l=>l.type===e)(r.selection);if(!n)return!0;const s=r.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const o=r.doc.nodeAt(s);return n.node.type===(o==null?void 0:o.type)&&al(r.doc,s)&&r.join(s),!0},yte=(r,e,n,s={})=>({editor:o,tr:i,state:l,dispatch:a,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:h}=o.extensionManager,p=Fn(r,l.schema),g=Fn(e,l.schema),{selection:m,storedMarks:v}=l,{$from:b,$to:C}=m,y=b.blockRange(C),w=v||m.$to.parentOffset&&m.$from.marks();if(!y)return!1;const x=c0(E=>xx(E.type.name,f))(m);if(y.depth>=1&&x&&y.depth-x.depth<=1){if(x.node.type===p)return u.liftListItem(g);if(xx(x.node.type.name,f)&&p.validContent(x.node.content)&&a)return c().command(()=>(i.setNodeMarkup(x.pos,p),!0)).command(()=>Tm(i,p)).command(()=>_m(i,p)).run()}return!n||!w||!a?c().command(()=>d().wrapInList(p,s)?!0:u.clearNodes()).wrapInList(p,s).command(()=>Tm(i,p)).command(()=>_m(i,p)).run():c().command(()=>{const E=d().wrapInList(p,s),_=w.filter(M=>h.includes(M.type.name));return i.ensureMarks(_),E?!0:u.clearNodes()}).wrapInList(p,s).command(()=>Tm(i,p)).command(()=>_m(i,p)).run()},wte=(r,e={},n={})=>({state:s,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,l=ul(r,s.schema);return ov(s,l,e)?o.unsetMark(l,{extendEmptyMarkRange:i}):o.setMark(l,e)},Cte=(r,e,n={})=>({state:s,commands:o})=>{const i=Fn(r,s.schema),l=Fn(e,s.schema);return Ed(s,i,n)?o.setNode(l):o.setNode(i,n)},Ste=(r,e={})=>({state:n,commands:s})=>{const o=Fn(r,n.schema);return Ed(n,o,e)?s.lift(o):s.wrapIn(o,e)},xte=()=>({state:r,dispatch:e})=>{const n=r.plugins;for(let s=0;s<n.length;s+=1){const o=n[s];let i;if(o.spec.isInputRules&&(i=o.getState(r))){if(e){const l=r.tr,a=i.transform;for(let c=a.steps.length-1;c>=0;c-=1)l.step(a.steps[c].invert(a.docs[c]));if(i.text){const c=l.doc.resolve(i.from).marks();l.replaceWith(i.from,i.to,r.schema.text(i.text,c))}else l.delete(i.from,i.to)}return!0}}return!1},Ete=()=>({tr:r,dispatch:e})=>{const{selection:n}=r,{empty:s,ranges:o}=n;return s||e&&o.forEach(i=>{r.removeMark(i.$from.pos,i.$to.pos)}),!0},Tte=(r,e={})=>({tr:n,state:s,dispatch:o})=>{var i;const{extendEmptyMarkRange:l=!1}=e,{selection:a}=n,c=ul(r,s.schema),{$from:u,empty:d,ranges:f}=a;if(!o)return!0;if(d&&l){let{from:h,to:p}=a;const g=(i=u.marks().find(v=>v.type===c))===null||i===void 0?void 0:i.attrs,m=i0(u,c,g);m&&(h=m.from,p=m.to),n.removeMark(h,p,c)}else f.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,c)});return n.removeStoredMark(c),!0},_te=(r,e={})=>({tr:n,state:s,dispatch:o})=>{let i=null,l=null;const a=vg(typeof r=="string"?r:r.name,s.schema);return a?(a==="node"&&(i=Fn(r,s.schema)),a==="mark"&&(l=ul(r,s.schema)),o&&n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;s.doc.nodesBetween(u,d,(f,h)=>{i&&i===f.type&&n.setNodeMarkup(h,void 0,{...f.attrs,...e}),l&&f.marks.length&&f.marks.forEach(p=>{if(l===p.type){const g=Math.max(h,u),m=Math.min(h+f.nodeSize,d);n.addMark(g,m,l.create({...p.attrs,...e}))}})})}),!0):!1},Ote=(r,e={})=>({state:n,dispatch:s})=>{const o=Fn(r,n.schema);return zQ(o,e)(n,s)},Ate=(r,e={})=>({state:n,dispatch:s})=>{const o=Fn(r,n.schema);return jQ(o,e)(n,s)};var Mte=Object.freeze({__proto__:null,blur:uee,clearContent:dee,clearNodes:fee,command:hee,createParagraphNear:pee,cut:gee,deleteCurrentNode:mee,deleteNode:bee,deleteRange:vee,deleteSelection:yee,enter:wee,exitCode:Cee,extendMarkRange:xee,first:Eee,focus:Tee,forEach:_ee,insertContent:Oee,insertContentAt:kee,joinUp:Pee,joinDown:Nee,joinBackward:Iee,joinForward:Lee,joinItemBackward:Ree,joinItemForward:$ee,joinTextblockBackward:Dee,joinTextblockForward:Vee,keyboardShortcut:Bee,lift:zee,liftEmptyBlock:jee,liftListItem:Hee,newlineInCode:Uee,resetAttributes:Wee,scrollIntoView:qee,selectAll:Gee,selectNodeBackward:Kee,selectNodeForward:Yee,selectParentNode:Jee,selectTextblockEnd:Xee,selectTextblockStart:Zee,setContent:Qee,setMark:dte,setMeta:fte,setNode:hte,setNodeSelection:pte,setTextSelection:gte,sinkListItem:mte,splitBlock:bte,splitListItem:vte,toggleList:yte,toggleMark:wte,toggleNode:Cte,toggleWrap:Ste,undoInputRule:xte,unsetAllMarks:Ete,unsetMark:Tte,updateAttributes:_te,wrapIn:Ote,wrapInList:Ate});const kte=mr.create({name:"commands",addCommands(){return{...Mte}}}),Pte=mr.create({name:"editable",addProseMirrorPlugins(){return[new zr({key:new ti("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Nte=mr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new zr({key:new ti("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{r.isFocused=!0;const s=r.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,n)=>{r.isFocused=!1;const s=r.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),Ite=mr.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:a})=>{const{selection:c,doc:u}=a,{empty:d,$anchor:f}=c,{pos:h,parent:p}=f,g=f.parent.isTextblock&&h>0?a.doc.resolve(h-1):f,m=g.parent.type.spec.isolating,v=f.pos-f.parentOffset,b=m&&g.parent.childCount===1?v===f.pos:Et.atStart(u).from===h;return!d||!p.type.isTextblock||p.textContent.length||!b||b&&f.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...s},i={...s,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return a0()||nk()?i:o},addProseMirrorPlugins(){return[new zr({key:new ti("clearDocument"),appendTransaction:(r,e,n)=>{if(!(r.some(g=>g.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:o,from:i,to:l}=e.selection,a=Et.atStart(e.doc).from,c=Et.atEnd(e.doc).to;if(o||!(i===a&&l===c)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const f=n.tr,h=hg({state:n,transaction:f}),{commands:p}=new pg({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),Lte=mr.create({name:"tabindex",addProseMirrorPlugins(){return[new zr({key:new ti("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});class kl{constructor(e,n,s=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=n,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0)return;n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new kl(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new kl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new kl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,s)=>{const o=n.isBlock&&!n.isTextblock,i=this.pos+s+1,l=this.resolvedPos.doc.resolve(i);if(!o&&l.depth<=this.depth)return;const a=new kl(l,this.editor,o,o?n:null);o&&(a.actualDepth=this.depth+1),e.push(new kl(l,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let s=null,o=this.parent;for(;o&&!s;){if(o.node.type.name===e)if(Object.keys(n).length>0){const i=o.node.attrs,l=Object.keys(n);for(let a=0;a<l.length;a+=1){const c=l[a];if(i[c]!==n[c])break}}else s=o;o=o.parent}return s}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},s=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(l=>{s&&o.length>0||(l.node.type.name===e&&i.every(c=>n[c]===l.node.attrs[c])&&o.push(l),!(s&&o.length>0)&&(o=o.concat(l.querySelectorAll(e,n,s))))}),o}setAttribute(e){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(n.from).run()}}const Rte=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function $te(r,e,n){const s=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(s!==null)return s;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),o.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(o),o}let Dte=class extends KQ{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=$te(Rte,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const s=XM(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:s});this.view.updateState(o)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,s=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(n))});this.view.updateState(s)}createExtensionManager(){var e,n;const o=[...this.options.enableCoreExtensions?[Pte,cee.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),kte,Nte,Ite,Lte]:[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Va(o,this)}createCommandManager(){this.commandManager=new pg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=rk(this.options.content,this.schema,this.options.parseOptions),n=ek(e,this.options.autofocus);this.view=new hQ(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Da.create({doc:e,selection:n||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(l=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(l)});return}const n=this.state.apply(e),s=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),i=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return ote(this.state,e)}isActive(e,n){const s=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return ite(this.state,s,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return nte(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:s={}}=e||{};return rte(this.state.doc,{blockSeparator:n,textSerializers:{...QM(this.schema),...s}})}get isEmpty(){return lte(this.state.doc)}getCharacterCount(){return this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelector(e,n))||null}$nodes(e,n){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new kl(n,this)}get $doc(){return this.$pos(0)}};function Ec(r){return new mg({find:r.find,handler:({state:e,range:n,match:s})=>{const o=xt(r.getAttributes,void 0,s);if(o===!1||o===null)return null;const{tr:i}=e,l=s[s.length-1],a=s[0];if(l){const c=a.search(/\S/),u=n.from+a.indexOf(l),d=u+l.length;if(sk(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===r.type&&m!==p.mark.type)).filter(p=>p.to>u).length)return null;d<n.to&&i.delete(d,n.to),u>n.from&&i.delete(n.from+c,u);const h=n.from+c+l.length;i.addMark(n.from+c,h,r.type.create(o||{})),i.removeStoredMark(r.type)}}})}function Vte(r){return new mg({find:r.find,handler:({state:e,range:n,match:s})=>{const o=xt(r.getAttributes,void 0,s)||{},{tr:i}=e,l=n.from;let a=n.to;const c=r.type.create(o);if(s[1]){const u=s[0].lastIndexOf(s[1]);let d=l+u;d>a?d=a:a=d+s[1].length;const f=s[0][s[0].length-1];i.insertText(f,l+s[0].length-1),i.replaceWith(d,a,c)}else s[0]&&i.insert(l-1,r.type.create(o)).delete(i.mapping.map(l),i.mapping.map(a));i.scrollIntoView()}})}function iv(r){return new mg({find:r.find,handler:({state:e,range:n,match:s})=>{const o=e.doc.resolve(n.from),i=xt(r.getAttributes,void 0,s)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),r.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,r.type,i)}})}function Td(r){return new mg({find:r.find,handler:({state:e,range:n,match:s,chain:o})=>{const i=xt(r.getAttributes,void 0,s)||{},l=e.tr.delete(n.from,n.to),c=l.doc.resolve(n.from).blockRange(),u=c&&Gy(c,r.type,i);if(!u)return null;if(l.wrap(c,u),r.keepMarks&&r.editor){const{selection:f,storedMarks:h}=e,{splittableMarks:p}=r.editor.extensionManager,g=h||f.$to.parentOffset&&f.$from.marks();if(g){const m=g.filter(v=>p.includes(v.type.name));l.ensureMarks(m)}}if(r.keepAttributes){const f=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(f,i).run()}const d=l.doc.resolve(n.from-1).nodeBefore;d&&d.type===r.type&&al(l.doc,n.from-1)&&(!r.joinPredicate||r.joinPredicate(s,d))&&l.join(n.from-1)}})}class hs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0,this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(Ke(this,"addOptions",{name:this.name}))),this.storage=xt(Ke(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new hs(e)}configure(e={}){const n=this.extend();return n.options=bg(this.options,e),n.storage=xt(Ke(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new hs({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions,n.options=xt(Ke(n,"addOptions",{name:n.name})),n.storage=xt(Ke(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:s}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const l=o.marks();if(!!!l.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const c=l.find(u=>(u==null?void 0:u.type.name)===n.name);return c&&s.removeStoredMark(c),s.insertText(" ",o.pos),e.view.dispatch(s),!0}return!1}}let jr=class lv{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0,this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(Ke(this,"addOptions",{name:this.name}))),this.storage=xt(Ke(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new lv(e)}configure(e={}){const n=this.extend();return n.options=bg(this.options,e),n.storage=xt(Ke(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new lv({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions,n.options=xt(Ke(n,"addOptions",{name:n.name})),n.storage=xt(Ke(n,"addStorage",{name:n.name,options:n.options})),n}};function Tc(r){return new nee({find:r.find,handler:({state:e,range:n,match:s,pasteEvent:o})=>{const i=xt(r.getAttributes,void 0,s,o);if(i===!1||i===null)return null;const{tr:l}=e,a=s[s.length-1],c=s[0];let u=n.to;if(a){const d=c.search(/\S/),f=n.from+c.indexOf(a),h=f+a.length;if(sk(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(v=>v===r.type&&v!==g.mark.type)).filter(g=>g.to>f).length)return null;h<n.to&&l.delete(h,n.to),f>n.from&&l.delete(n.from+d,f),u=n.from+d+a.length,l.addMark(n.from+d,u,r.type.create(i||{})),l.removeStoredMark(r.type)}}})}var Fte="tippy-box",ok="tippy-content",Bte="tippy-backdrop",ik="tippy-arrow",lk="tippy-svg-arrow",El={passive:!0,capture:!0},ak=function(){return document.body};function Om(r,e,n){if(Array.isArray(r)){var s=r[e];return s??(Array.isArray(n)?n[e]:n)}return r}function u0(r,e){var n={}.toString.call(r);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function ck(r,e){return typeof r=="function"?r.apply(void 0,e):r}function Tx(r,e){if(e===0)return r;var n;return function(s){clearTimeout(n),n=setTimeout(function(){r(s)},e)}}function zte(r){return r.split(/\s+/).filter(Boolean)}function La(r){return[].concat(r)}function _x(r,e){r.indexOf(e)===-1&&r.push(e)}function jte(r){return r.filter(function(e,n){return r.indexOf(e)===n})}function Hte(r){return r.split("-")[0]}function np(r){return[].slice.call(r)}function Ox(r){return Object.keys(r).reduce(function(e,n){return r[n]!==void 0&&(e[n]=r[n]),e},{})}function Wu(){return document.createElement("div")}function yg(r){return["Element","Fragment"].some(function(e){return u0(r,e)})}function Ute(r){return u0(r,"NodeList")}function Wte(r){return u0(r,"MouseEvent")}function qte(r){return!!(r&&r._tippy&&r._tippy.reference===r)}function Gte(r){return yg(r)?[r]:Ute(r)?np(r):Array.isArray(r)?r:np(document.querySelectorAll(r))}function Am(r,e){r.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Ax(r,e){r.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Kte(r){var e,n=La(r),s=n[0];return s!=null&&(e=s.ownerDocument)!=null&&e.body?s.ownerDocument:document}function Yte(r,e){var n=e.clientX,s=e.clientY;return r.every(function(o){var i=o.popperRect,l=o.popperState,a=o.props,c=a.interactiveBorder,u=Hte(l.placement),d=l.modifiersData.offset;if(!d)return!0;var f=u==="bottom"?d.top.y:0,h=u==="top"?d.bottom.y:0,p=u==="right"?d.left.x:0,g=u==="left"?d.right.x:0,m=i.top-s+f>c,v=s-i.bottom-h>c,b=i.left-n+p>c,C=n-i.right-g>c;return m||v||b||C})}function Mm(r,e,n){var s=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){r[s](o,n)})}function Mx(r,e){for(var n=e;n;){var s;if(r.contains(n))return!0;n=n.getRootNode==null||(s=n.getRootNode())==null?void 0:s.host}return!1}var Ys={isTouch:!1},kx=0;function Jte(){Ys.isTouch||(Ys.isTouch=!0,window.performance&&document.addEventListener("mousemove",uk))}function uk(){var r=performance.now();r-kx<20&&(Ys.isTouch=!1,document.removeEventListener("mousemove",uk)),kx=r}function Xte(){var r=document.activeElement;if(qte(r)){var e=r._tippy;r.blur&&!e.state.isVisible&&r.blur()}}function Zte(){document.addEventListener("touchstart",Jte,El),window.addEventListener("blur",Xte)}var Qte=typeof window<"u"&&typeof document<"u",ene=Qte?!!window.msCrypto:!1,tne={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},nne={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},As=Object.assign({appendTo:ak,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},tne,nne),rne=Object.keys(As),sne=function(e){var n=Object.keys(e);n.forEach(function(s){As[s]=e[s]})};function dk(r){var e=r.plugins||[],n=e.reduce(function(s,o){var i=o.name,l=o.defaultValue;if(i){var a;s[i]=r[i]!==void 0?r[i]:(a=As[i])!=null?a:l}return s},{});return Object.assign({},r,n)}function one(r,e){var n=e?Object.keys(dk(Object.assign({},As,{plugins:e}))):rne,s=n.reduce(function(o,i){var l=(r.getAttribute("data-tippy-"+i)||"").trim();if(!l)return o;if(i==="content")o[i]=l;else try{o[i]=JSON.parse(l)}catch{o[i]=l}return o},{});return s}function Px(r,e){var n=Object.assign({},e,{content:ck(e.content,[r])},e.ignoreAttributes?{}:one(r,e.plugins));return n.aria=Object.assign({},As.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var ine=function(){return"innerHTML"};function av(r,e){r[ine()]=e}function Nx(r){var e=Wu();return r===!0?e.className=ik:(e.className=lk,yg(r)?e.appendChild(r):av(e,r)),e}function Ix(r,e){yg(e.content)?(av(r,""),r.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?av(r,e.content):r.textContent=e.content)}function cv(r){var e=r.firstElementChild,n=np(e.children);return{box:e,content:n.find(function(s){return s.classList.contains(ok)}),arrow:n.find(function(s){return s.classList.contains(ik)||s.classList.contains(lk)}),backdrop:n.find(function(s){return s.classList.contains(Bte)})}}function fk(r){var e=Wu(),n=Wu();n.className=Fte,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var s=Wu();s.className=ok,s.setAttribute("data-state","hidden"),Ix(s,r.props),e.appendChild(n),n.appendChild(s),o(r.props,r.props);function o(i,l){var a=cv(e),c=a.box,u=a.content,d=a.arrow;l.theme?c.setAttribute("data-theme",l.theme):c.removeAttribute("data-theme"),typeof l.animation=="string"?c.setAttribute("data-animation",l.animation):c.removeAttribute("data-animation"),l.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof l.maxWidth=="number"?l.maxWidth+"px":l.maxWidth,l.role?c.setAttribute("role",l.role):c.removeAttribute("role"),(i.content!==l.content||i.allowHTML!==l.allowHTML)&&Ix(u,r.props),l.arrow?d?i.arrow!==l.arrow&&(c.removeChild(d),c.appendChild(Nx(l.arrow))):c.appendChild(Nx(l.arrow)):d&&c.removeChild(d)}return{popper:e,onUpdate:o}}fk.$$tippy=!0;var lne=1,qf=[],km=[];function ane(r,e){var n=Px(r,Object.assign({},As,dk(Ox(e)))),s,o,i,l=!1,a=!1,c=!1,u=!1,d,f,h,p=[],g=Tx(L,n.interactiveDebounce),m,v=lne++,b=null,C=jte(n.plugins),y={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},w={id:v,reference:r,popper:Wu(),popperInstance:b,props:n,state:y,plugins:C,clearDelayTimeouts:Z,setProps:ae,setContent:je,show:Qe,hide:Me,hideWithInteractivity:ke,enable:Ae,disable:re,unmount:Je,destroy:it};if(!n.render)return w;var x=n.render(w),E=x.popper,_=x.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+w.id,w.popper=E,r._tippy=w,E._tippy=w;var M=C.map(function(ue){return ue.fn(w)}),A=r.hasAttribute("aria-expanded");return Pe(),ee(),U(),Q("onCreate",[w]),n.showOnCreate&&J(),E.addEventListener("mouseenter",function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&W().addEventListener("mousemove",g)}),w;function k(){var ue=w.props.touch;return Array.isArray(ue)?ue:[ue,0]}function P(){return k()[0]==="hold"}function $(){var ue;return!!((ue=w.props.render)!=null&&ue.$$tippy)}function B(){return m||r}function W(){var ue=B().parentNode;return ue?Kte(ue):document}function I(){return cv(E)}function R(ue){return w.state.isMounted&&!w.state.isVisible||Ys.isTouch||d&&d.type==="focus"?0:Om(w.props.delay,ue?0:1,As.delay)}function U(ue){ue===void 0&&(ue=!1),E.style.pointerEvents=w.props.interactive&&!ue?"":"none",E.style.zIndex=""+w.props.zIndex}function Q(ue,Ie,Fe){if(Fe===void 0&&(Fe=!0),M.forEach(function(ct){ct[ue]&&ct[ue].apply(ct,Ie)}),Fe){var lt;(lt=w.props)[ue].apply(lt,Ie)}}function q(){var ue=w.props.aria;if(ue.content){var Ie="aria-"+ue.content,Fe=E.id,lt=La(w.props.triggerTarget||r);lt.forEach(function(ct){var xn=ct.getAttribute(Ie);if(w.state.isVisible)ct.setAttribute(Ie,xn?xn+" "+Fe:Fe);else{var Xn=xn&&xn.replace(Fe,"").trim();Xn?ct.setAttribute(Ie,Xn):ct.removeAttribute(Ie)}})}}function ee(){if(!(A||!w.props.aria.expanded)){var ue=La(w.props.triggerTarget||r);ue.forEach(function(Ie){w.props.interactive?Ie.setAttribute("aria-expanded",w.state.isVisible&&Ie===B()?"true":"false"):Ie.removeAttribute("aria-expanded")})}}function de(){W().removeEventListener("mousemove",g),qf=qf.filter(function(ue){return ue!==g})}function ce(ue){if(!(Ys.isTouch&&(c||ue.type==="mousedown"))){var Ie=ue.composedPath&&ue.composedPath()[0]||ue.target;if(!(w.props.interactive&&Mx(E,Ie))){if(La(w.props.triggerTarget||r).some(function(Fe){return Mx(Fe,Ie)})){if(Ys.isTouch||w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else Q("onClickOutside",[w,ue]);w.props.hideOnClick===!0&&(w.clearDelayTimeouts(),w.hide(),a=!0,setTimeout(function(){a=!1}),w.state.isMounted||Ee())}}}function Te(){c=!0}function fe(){c=!1}function we(){var ue=W();ue.addEventListener("mousedown",ce,!0),ue.addEventListener("touchend",ce,El),ue.addEventListener("touchstart",fe,El),ue.addEventListener("touchmove",Te,El)}function Ee(){var ue=W();ue.removeEventListener("mousedown",ce,!0),ue.removeEventListener("touchend",ce,El),ue.removeEventListener("touchstart",fe,El),ue.removeEventListener("touchmove",Te,El)}function G(ue,Ie){se(ue,function(){!w.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&Ie()})}function ne(ue,Ie){se(ue,Ie)}function se(ue,Ie){var Fe=I().box;function lt(ct){ct.target===Fe&&(Mm(Fe,"remove",lt),Ie())}if(ue===0)return Ie();Mm(Fe,"remove",f),Mm(Fe,"add",lt),f=lt}function me(ue,Ie,Fe){Fe===void 0&&(Fe=!1);var lt=La(w.props.triggerTarget||r);lt.forEach(function(ct){ct.addEventListener(ue,Ie,Fe),p.push({node:ct,eventType:ue,handler:Ie,options:Fe})})}function Pe(){P()&&(me("touchstart",D,{passive:!0}),me("touchend",te,{passive:!0})),zte(w.props.trigger).forEach(function(ue){if(ue!=="manual")switch(me(ue,D),ue){case"mouseenter":me("mouseleave",te);break;case"focus":me(ene?"focusout":"blur",he);break;case"focusin":me("focusout",he);break}})}function Se(){p.forEach(function(ue){var Ie=ue.node,Fe=ue.eventType,lt=ue.handler,ct=ue.options;Ie.removeEventListener(Fe,lt,ct)}),p=[]}function D(ue){var Ie,Fe=!1;if(!(!w.state.isEnabled||ge(ue)||a)){var lt=((Ie=d)==null?void 0:Ie.type)==="focus";d=ue,m=ue.currentTarget,ee(),!w.state.isVisible&&Wte(ue)&&qf.forEach(function(ct){return ct(ue)}),ue.type==="click"&&(w.props.trigger.indexOf("mouseenter")<0||l)&&w.props.hideOnClick!==!1&&w.state.isVisible?Fe=!0:J(ue),ue.type==="click"&&(l=!Fe),Fe&&!lt&&ie(ue)}}function L(ue){var Ie=ue.target,Fe=B().contains(Ie)||E.contains(Ie);if(!(ue.type==="mousemove"&&Fe)){var lt=F().concat(E).map(function(ct){var xn,Xn=ct._tippy,Mr=(xn=Xn.popperInstance)==null?void 0:xn.state;return Mr?{popperRect:ct.getBoundingClientRect(),popperState:Mr,props:n}:null}).filter(Boolean);Yte(lt,ue)&&(de(),ie(ue))}}function te(ue){var Ie=ge(ue)||w.props.trigger.indexOf("click")>=0&&l;if(!Ie){if(w.props.interactive){w.hideWithInteractivity(ue);return}ie(ue)}}function he(ue){w.props.trigger.indexOf("focusin")<0&&ue.target!==B()||w.props.interactive&&ue.relatedTarget&&E.contains(ue.relatedTarget)||ie(ue)}function ge(ue){return Ys.isTouch?P()!==ue.type.indexOf("touch")>=0:!1}function Ce(){xe();var ue=w.props,Ie=ue.popperOptions,Fe=ue.placement,lt=ue.offset,ct=ue.getReferenceClientRect,xn=ue.moveTransition,Xn=$()?cv(E).arrow:null,Mr=ct?{getBoundingClientRect:ct,contextElement:ct.contextElement||B()}:r,ri={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(va){var vo=va.state;if($()){var Pg=I(),yo=Pg.box;["placement","reference-hidden","escaped"].forEach(function(ya){ya==="placement"?yo.setAttribute("data-placement",vo.placement):vo.attributes.popper["data-popper-"+ya]?yo.setAttribute("data-"+ya,""):yo.removeAttribute("data-"+ya)}),vo.attributes.popper={}}}},ms=[{name:"offset",options:{offset:lt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!xn}},ri];$()&&Xn&&ms.push({name:"arrow",options:{element:Xn,padding:3}}),ms.push.apply(ms,(Ie==null?void 0:Ie.modifiers)||[]),w.popperInstance=fO(Mr,E,Object.assign({},Ie,{placement:Fe,onFirstUpdate:h,modifiers:ms}))}function xe(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function V(){var ue=w.props.appendTo,Ie,Fe=B();w.props.interactive&&ue===ak||ue==="parent"?Ie=Fe.parentNode:Ie=ck(ue,[Fe]),Ie.contains(E)||Ie.appendChild(E),w.state.isMounted=!0,Ce()}function F(){return np(E.querySelectorAll("[data-tippy-root]"))}function J(ue){w.clearDelayTimeouts(),ue&&Q("onTrigger",[w,ue]),we();var Ie=R(!0),Fe=k(),lt=Fe[0],ct=Fe[1];Ys.isTouch&&lt==="hold"&&ct&&(Ie=ct),Ie?s=setTimeout(function(){w.show()},Ie):w.show()}function ie(ue){if(w.clearDelayTimeouts(),Q("onUntrigger",[w,ue]),!w.state.isVisible){Ee();return}if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ue.type)>=0&&l)){var Ie=R(!1);Ie?o=setTimeout(function(){w.state.isVisible&&w.hide()},Ie):i=requestAnimationFrame(function(){w.hide()})}}function Ae(){w.state.isEnabled=!0}function re(){w.hide(),w.state.isEnabled=!1}function Z(){clearTimeout(s),clearTimeout(o),cancelAnimationFrame(i)}function ae(ue){if(!w.state.isDestroyed){Q("onBeforeUpdate",[w,ue]),Se();var Ie=w.props,Fe=Px(r,Object.assign({},Ie,Ox(ue),{ignoreAttributes:!0}));w.props=Fe,Pe(),Ie.interactiveDebounce!==Fe.interactiveDebounce&&(de(),g=Tx(L,Fe.interactiveDebounce)),Ie.triggerTarget&&!Fe.triggerTarget?La(Ie.triggerTarget).forEach(function(lt){lt.removeAttribute("aria-expanded")}):Fe.triggerTarget&&r.removeAttribute("aria-expanded"),ee(),U(),_&&_(Ie,Fe),w.popperInstance&&(Ce(),F().forEach(function(lt){requestAnimationFrame(lt._tippy.popperInstance.forceUpdate)})),Q("onAfterUpdate",[w,ue])}}function je(ue){w.setProps({content:ue})}function Qe(){var ue=w.state.isVisible,Ie=w.state.isDestroyed,Fe=!w.state.isEnabled,lt=Ys.isTouch&&!w.props.touch,ct=Om(w.props.duration,0,As.duration);if(!(ue||Ie||Fe||lt)&&!B().hasAttribute("disabled")&&(Q("onShow",[w],!1),w.props.onShow(w)!==!1)){if(w.state.isVisible=!0,$()&&(E.style.visibility="visible"),U(),we(),w.state.isMounted||(E.style.transition="none"),$()){var xn=I(),Xn=xn.box,Mr=xn.content;Am([Xn,Mr],0)}h=function(){var ms;if(!(!w.state.isVisible||u)){if(u=!0,E.offsetHeight,E.style.transition=w.props.moveTransition,$()&&w.props.animation){var ba=I(),va=ba.box,vo=ba.content;Am([va,vo],ct),Ax([va,vo],"visible")}q(),ee(),_x(km,w),(ms=w.popperInstance)==null||ms.forceUpdate(),Q("onMount",[w]),w.props.animation&&$()&&ne(ct,function(){w.state.isShown=!0,Q("onShown",[w])})}},V()}}function Me(){var ue=!w.state.isVisible,Ie=w.state.isDestroyed,Fe=!w.state.isEnabled,lt=Om(w.props.duration,1,As.duration);if(!(ue||Ie||Fe)&&(Q("onHide",[w],!1),w.props.onHide(w)!==!1)){if(w.state.isVisible=!1,w.state.isShown=!1,u=!1,l=!1,$()&&(E.style.visibility="hidden"),de(),Ee(),U(!0),$()){var ct=I(),xn=ct.box,Xn=ct.content;w.props.animation&&(Am([xn,Xn],lt),Ax([xn,Xn],"hidden"))}q(),ee(),w.props.animation?$()&&G(lt,w.unmount):w.unmount()}}function ke(ue){W().addEventListener("mousemove",g),_x(qf,g),g(ue)}function Je(){w.state.isVisible&&w.hide(),w.state.isMounted&&(xe(),F().forEach(function(ue){ue._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),km=km.filter(function(ue){return ue!==w}),w.state.isMounted=!1,Q("onHidden",[w]))}function it(){w.state.isDestroyed||(w.clearDelayTimeouts(),w.unmount(),Se(),delete r._tippy,w.state.isDestroyed=!0,Q("onDestroy",[w]))}}function uf(r,e){e===void 0&&(e={});var n=As.plugins.concat(e.plugins||[]);Zte();var s=Object.assign({},e,{plugins:n}),o=Gte(r),i=o.reduce(function(l,a){var c=a&&ane(a,s);return c&&l.push(c),l},[]);return yg(r)?i[0]:i}uf.defaultProps=As;uf.setDefaultProps=sne;uf.currentInput=Ys;Object.assign({},xy,{effect:function(e){var n=e.state,s={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,s.popper),n.styles=s,n.elements.arrow&&Object.assign(n.elements.arrow.style,s.arrow)}});uf.setDefaultProps({render:fk});class cne{constructor({editor:e,element:n,view:s,tippyOptions:o={},updateDelay:i=250,shouldShow:l}){this.preventHide=!1,this.shouldShow=({view:a,state:c,from:u,to:d})=>{const{doc:f,selection:h}=c,{empty:p}=h,g=!f.textBetween(u,d).length&&l0(c.selection),m=this.element.contains(document.activeElement);return!(!(a.hasFocus()||m)||p||g||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var c;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((c=this.element.parentNode)===null||c===void 0)&&c.contains(a.relatedTarget))||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,c)=>{const u=!(c!=null&&c.selection.eq(a.state.selection)),d=!(c!=null&&c.doc.eq(a.state.doc));!u&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,u,d,c)},this.updateDelay))},this.updateHandler=(a,c,u,d)=>{var f,h,p;const{state:g,composing:m}=a,{selection:v}=g;if(m||!c&&!u)return;this.createTooltip();const{ranges:C}=v,y=Math.min(...C.map(E=>E.$from.pos)),w=Math.max(...C.map(E=>E.$to.pos));if(!((f=this.shouldShow)===null||f===void 0?void 0:f.call(this,{editor:this.editor,view:a,state:g,oldState:d,from:y,to:w}))){this.hide();return}(h=this.tippy)===null||h===void 0||h.setProps({getReferenceClientRect:((p=this.tippyOptions)===null||p===void 0?void 0:p.getReferenceClientRect)||(()=>{if(ate(g.selection)){let E=a.nodeDOM(y);const _=E.dataset.nodeViewWrapper?E:E.querySelector("[data-node-view-wrapper]");if(_&&(E=_.firstChild),E)return E.getBoundingClientRect()}return cte(a,y,w)})}),this.show()},this.editor=e,this.element=n,this.view=s,this.updateDelay=i,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=o,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=uf(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:s}=e,o=s.selection.$from.pos!==s.selection.$to.pos;if(this.updateDelay>0&&o){this.handleDebouncedUpdate(e,n);return}const i=!(n!=null&&n.selection.eq(e.state.selection)),l=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,i,l,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const hk=r=>new zr({key:typeof r.pluginKey=="string"?new ti(r.pluginKey):r.pluginKey,view:e=>new cne({view:e,...r})});mr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[hk({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});const une=pe({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(r,{slots:e}){const n=j(null);return nt(()=>{const{updateDelay:s,editor:o,pluginKey:i,shouldShow:l,tippyOptions:a}=r;o.registerPlugin(hk({updateDelay:s,editor:o,element:n.value,pluginKey:i,shouldShow:l,tippyOptions:a}))}),Cn(()=>{const{pluginKey:s,editor:o}=r;o.unregisterPlugin(s)}),()=>{var s;return Ye("div",{ref:n},(s=e.default)===null||s===void 0?void 0:s.call(e))}}});function Lx(r){return qN((e,n)=>({get(){return e(),r},set(s){r=s,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class dne extends Dte{constructor(e={}){return super(e),this.vueRenderers=St(new Map),this.contentComponent=null,this.reactiveState=Lx(this.view.state),this.reactiveExtensionStorage=Lx(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),Zu(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){super.registerPlugin(e,n),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const fne=pe({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(r){const e=j(),n=bt();return to(()=>{const s=r.editor;s&&s.options.element&&e.value&&tt(()=>{if(!e.value||!s.options.element.firstChild)return;const o=S(e.value);e.value.append(...s.options.element.childNodes),s.contentComponent=n.ctx._,s.setOptions({element:o}),s.createNodeViews()})}),Cn(()=>{const s=r.editor;if(!s||(s.isDestroyed||s.view.setProps({nodeViews:{}}),s.contentComponent=null,!s.options.element.firstChild))return;const o=document.createElement("div");o.append(...s.options.element.childNodes),s.setOptions({element:o})}),{rootEl:e}},render(){const r=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const n=Ye(Uc,{to:e.teleportElement,key:e.id},Ye(e.component,{ref:e.id,...e.props}));r.push(n)}),Ye("div",{ref:e=>{this.rootEl=e}},...r)}}),hne=/^\s*>\s$/,pne=jr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Td({find:hne,type:this.type})]}}),gne=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,mne=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,bne=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,vne=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,yne=hs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ec({find:gne,type:this.type}),Ec({find:bne,type:this.type})]},addPasteRules(){return[Tc({find:mne,type:this.type}),Tc({find:vne,type:this.type})]}}),wne=jr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",pn(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Rx=hs.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:r=>r.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["span",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:r,commands:e})=>{const n=cf(r,this.type);return Object.entries(n).some(([,o])=>!!o)?!0:e.unsetMark(this.name)}}}}),$x=/^\s*([-+*])\s$/,Cne=jr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(wne.name,this.editor.getAttributes(Rx.name)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=Td({find:$x,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=Td({find:$x,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Rx.name),editor:this.editor})),[r]}}),Sne=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,xne=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,Ene=hs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ec({find:Sne,type:this.type})]},addPasteRules(){return[Tc({find:xne,type:this.type})]}}),Tne=/^```([a-z]+)?[\s\n]$/,_ne=/^~~~([a-z]+)?[\s\n]$/,One=jr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:r=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=r.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",pn(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!r||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:n}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type)return!1;const i=s.parentOffset===s.parent.nodeSize-2,l=s.parent.textContent.endsWith(`

`);return!i||!l?!1:r.chain().command(({tr:a})=>(a.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:n,doc:s}=e,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();return a===void 0||s.nodeAt(a)?!1:r.commands.exitCode()}}},addInputRules(){return[iv({find:Tne,type:this.type,getAttributes:r=>({language:r[1]})}),iv({find:_ne,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new zr({key:new ti("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),o=s?JSON.parse(s):void 0,i=o==null?void 0:o.mode;if(!n||!i)return!1;const{tr:l}=r.state;return r.state.selection.from===r.state.doc.nodeSize-(1+r.state.selection.$to.depth*2)?l.insert(r.state.selection.from-1,this.type.create({language:i})):l.replaceSelectionWith(this.type.create({language:i})),l.setSelection(yt.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.insertText(n.replace(/\r\n?/g,`
`)),l.setMeta("paste",!0),r.dispatch(l),!0}}})]}}),Ane=jr.create({name:"doc",topNode:!0,content:"block+"});function Mne(r={}){return new zr({view(e){return new kne(e,r)}})}class kne{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=l=>{this[o](l)};return e.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s;if(n){let a=e.nodeBefore,c=e.nodeAfter;if(a||c){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let d=u.getBoundingClientRect(),f=a?d.bottom:d.top;a&&c&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),s={left:d.left,right:d.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!s){let a=this.editorView.coordsAtPos(this.cursorPos);s={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,l;if(!o||o==document.body&&getComputedStyle(o).position=="static")i=-pageXOffset,l=-pageYOffset;else{let a=o.getBoundingClientRect();i=a.left-o.scrollLeft,l=a.top-o.scrollTop}this.element.style.left=s.left-i+"px",this.element.style.top=s.top-l+"px",this.element.style.width=s.right-s.left+"px",this.element.style.height=s.bottom-s.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=s&&s.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!i){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=rM(this.editorView.state.doc,l,this.editorView.dragging.slice);a!=null&&(l=a)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Pne=mr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Mne(this.options)]}});class sn extends Et{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return sn.valid(s)?new sn(s):Et.near(s)}content(){return He.empty}eq(e){return e instanceof sn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new sn(e.resolve(n.pos))}getBookmark(){return new d0(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Nne(e)||!Ine(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&sn.valid(e))return e;let o=e.pos,i=null;for(let l=e.depth;;l--){let a=e.node(l);if(n>0?e.indexAfter(l)<a.childCount:e.index(l)>0){i=a.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;o+=n;let c=e.doc.resolve(o);if(sn.valid(c))return c}for(;;){let l=n>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!ot.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),s=!1;continue e}break}i=l,o+=n;let a=e.doc.resolve(o);if(sn.valid(a))return a}return null}}}sn.prototype.visible=!1;sn.findFrom=sn.findGapCursorFrom;Et.jsonID("gapcursor",sn);class d0{constructor(e){this.pos=e}map(e){return new d0(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return sn.valid(n)?new sn(n):Et.near(n)}}function Nne(r){for(let e=r.depth;e>=0;e--){let n=r.index(e),s=r.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let o=s.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function Ine(r){for(let e=r.depth;e>=0;e--){let n=r.indexAfter(e),s=r.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let o=s.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function Lne(){return new zr({props:{decorations:Vne,createSelectionBetween(r,e,n){return e.pos==n.pos&&sn.valid(n)?new sn(n):null},handleClick:$ne,handleKeyDown:Rne,handleDOMEvents:{beforeinput:Dne}}})}const Rne=HM({ArrowLeft:Gf("horiz",-1),ArrowRight:Gf("horiz",1),ArrowUp:Gf("vert",-1),ArrowDown:Gf("vert",1)});function Gf(r,e){const n=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,o,i){let l=s.selection,a=e>0?l.$to:l.$from,c=l.empty;if(l instanceof yt){if(!i.endOfTextblock(n)||a.depth==0)return!1;c=!1,a=s.doc.resolve(e>0?a.after():a.before())}let u=sn.findGapCursorFrom(a,e,c);return u?(o&&o(s.tr.setSelection(new sn(u))),!0):!1}}function $ne(r,e,n){if(!r||!r.editable)return!1;let s=r.state.doc.resolve(e);if(!sn.valid(s))return!1;let o=r.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&ot.isSelectable(r.state.doc.nodeAt(o.inside))?!1:(r.dispatch(r.state.tr.setSelection(new sn(s))),!0)}function Dne(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof sn))return!1;let{$from:n}=r.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(r.state.schema.nodes.text);if(!s)return!1;let o=Oe.empty;for(let l=s.length-1;l>=0;l--)o=Oe.from(s[l].createAndFill(null,o));let i=r.state.tr.replace(n.pos,n.pos,new He(o,0,0));return i.setSelection(yt.near(i.doc.resolve(n.pos+1))),r.dispatch(i),!1}function Vne(r){if(!(r.selection instanceof sn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Tn.create(r.doc,[Qr.widget(r.selection.head,e,{key:"gapcursor"})])}const Fne=mr.create({name:"gapCursor",addProseMirrorPlugins(){return[Lne()]},extendNodeSchema(r){var e;const n={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=xt(Ke(r,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Bne=jr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",pn(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:n,editor:s})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:a}=s.extensionManager,c=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&l){const f=c.filter(h=>a.includes(h.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),zne=jr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,pn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>iv({find:new RegExp(`^(#{1,${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var rp=200,Dn=function(){};Dn.prototype.append=function(e){return e.length?(e=Dn.from(e),!this.length&&e||e.length<rp&&this.leafAppend(e)||this.length<rp&&e.leafPrepend(this)||this.appendInner(e)):this};Dn.prototype.prepend=function(e){return e.length?Dn.from(e).append(this):this};Dn.prototype.appendInner=function(e){return new jne(this,e)};Dn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Dn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Dn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Dn.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};Dn.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var o=[];return this.forEach(function(i,l){return o.push(e(i,l))},n,s),o};Dn.from=function(e){return e instanceof Dn?e:e&&e.length?new pk(e):Dn.empty};var pk=function(r){function e(s){r.call(this),this.values=s}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,l,a){for(var c=i;c<l;c++)if(o(this.values[c],a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,l,a){for(var c=i-1;c>=l;c--)if(o(this.values[c],a+c)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=rp)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=rp)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Dn);Dn.empty=new pk([]);var jne=function(r){function e(n,s){r.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,o,i,l){var a=this.left.length;if(o<a&&this.left.forEachInner(s,o,Math.min(i,a),l)===!1||i>a&&this.right.forEachInner(s,Math.max(o-a,0),Math.min(this.length,i)-a,l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,i,l){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(s,o-a,Math.max(i,a)-a,l+a)===!1||i<a&&this.left.forEachInvertedInner(s,Math.min(o,a),i,l)===!1)return!1},e.prototype.sliceInner=function(s,o){if(s==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(s,o):s>=i?this.right.slice(s-i,o-i):this.left.slice(s,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(s){var o=this.right.leafAppend(s);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(s){var o=this.left.leafPrepend(s);if(o)return new e(o,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e}(Dn);const Hne=500;class xs{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let o,i;n&&(o=this.remapping(s,this.items.length),i=o.maps.length);let l=e.tr,a,c,u=[],d=[];return this.items.forEach((f,h)=>{if(!f.step){o||(o=this.remapping(s,h+1),i=o.maps.length),i--,d.push(f);return}if(o){d.push(new Gs(f.map));let p=f.step.map(o.slice(i)),g;p&&l.maybeStep(p).doc&&(g=l.mapping.maps[l.mapping.maps.length-1],u.push(new Gs(g,void 0,void 0,u.length+d.length))),i--,g&&o.appendMap(g,i)}else l.maybeStep(f.step);if(f.selection)return a=o?f.selection.map(o.slice(i)):f.selection,c=new xs(this.items.slice(0,s).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:l,selection:a}}addTransform(e,n,s,o){let i=[],l=this.eventCount,a=this.items,c=!o&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),h=new Gs(e.mapping.maps[d],f,n),p;(p=c&&c.merge(h))&&(h=p,d?i.pop():a=a.slice(0,a.length-1)),i.push(h),n&&(l++,n=void 0),o||(c=h)}let u=l-s.depth;return u>Wne&&(a=Une(a,u),l-=u),new xs(a.append(i),l)}remapping(e,n){let s=new qa;return this.items.forEach((o,i)=>{let l=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?s.maps.length-o.mirrorOffset:void 0;s.appendMap(o.map,l)},e,n),s}addMaps(e){return this.eventCount==0?this:new xs(this.items.append(e.map(n=>new Gs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],o=Math.max(0,this.items.length-n),i=e.mapping,l=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},o);let c=n;this.items.forEach(h=>{let p=i.getMirror(--c);if(p==null)return;l=Math.min(l,p);let g=i.maps[p];if(h.step){let m=e.steps[p].invert(e.docs[p]),v=h.selection&&h.selection.map(i.slice(c+1,p));v&&a++,s.push(new Gs(g,m,v))}else s.push(new Gs(g))},o);let u=[];for(let h=n;h<l;h++)u.push(new Gs(i.maps[h]));let d=this.items.slice(0,o).append(u).append(s),f=new xs(d,a);return f.emptyItemCount()>Hne&&(f=f.compress(this.items.length-s.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,o=[],i=0;return this.items.forEach((l,a)=>{if(a>=e)o.push(l),l.selection&&i++;else if(l.step){let c=l.step.map(n.slice(s)),u=c&&c.getMap();if(s--,u&&n.appendMap(u,s),c){let d=l.selection&&l.selection.map(n.slice(s));d&&i++;let f=new Gs(u.invert(),c,d),h,p=o.length-1;(h=o.length&&o[p].merge(f))?o[p]=h:o.push(f)}}else l.map&&s--},this.items.length,0),new xs(Dn.from(o.reverse()),i)}}xs.empty=new xs(Dn.empty,0);function Une(r,e){let n;return r.forEach((s,o)=>{if(s.selection&&e--==0)return n=o,!1}),r.slice(n)}class Gs{constructor(e,n,s,o){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Gs(n.getMap().invert(),n,this.selection)}}}class Si{constructor(e,n,s,o,i){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=o,this.prevComposition=i}}const Wne=20;function qne(r,e,n,s){let o=n.getMeta(Jl),i;if(o)return o.historyState;n.getMeta(Yne)&&(r=new Si(r.done,r.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return r;if(l&&l.getMeta(Jl))return l.getMeta(Jl).redo?new Si(r.done.addTransform(n,void 0,s,vh(e)),r.undone,Dx(n.mapping.maps[n.steps.length-1]),r.prevTime,r.prevComposition):new Si(r.done,r.undone.addTransform(n,void 0,s,vh(e)),null,r.prevTime,r.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),c=r.prevTime==0||!l&&r.prevComposition!=a&&(r.prevTime<(n.time||0)-s.newGroupDelay||!Gne(n,r.prevRanges)),u=l?Pm(r.prevRanges,n.mapping):Dx(n.mapping.maps[n.steps.length-1]);return new Si(r.done.addTransform(n,c?e.selection.getBookmark():void 0,s,vh(e)),xs.empty,u,n.time,a??r.prevComposition)}else return(i=n.getMeta("rebased"))?new Si(r.done.rebased(n,i),r.undone.rebased(n,i),Pm(r.prevRanges,n.mapping),r.prevTime,r.prevComposition):new Si(r.done.addMaps(n.mapping.maps),r.undone.addMaps(n.mapping.maps),Pm(r.prevRanges,n.mapping),r.prevTime,r.prevComposition)}function Gne(r,e){if(!e)return!1;if(!r.docChanged)return!0;let n=!1;return r.mapping.maps[0].forEach((s,o)=>{for(let i=0;i<e.length;i+=2)s<=e[i+1]&&o>=e[i]&&(n=!0)}),n}function Dx(r){let e=[];return r.forEach((n,s,o,i)=>e.push(o,i)),e}function Pm(r,e){if(!r)return null;let n=[];for(let s=0;s<r.length;s+=2){let o=e.map(r[s],1),i=e.map(r[s+1],-1);o<=i&&n.push(o,i)}return n}function Kne(r,e,n){let s=vh(e),o=Jl.get(e).spec.config,i=(n?r.undone:r.done).popEvent(e,s);if(!i)return null;let l=i.selection.resolve(i.transform.doc),a=(n?r.done:r.undone).addTransform(i.transform,e.selection.getBookmark(),o,s),c=new Si(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(l).setMeta(Jl,{redo:n,historyState:c})}let Nm=!1,Vx=null;function vh(r){let e=r.plugins;if(Vx!=e){Nm=!1,Vx=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Nm=!0;break}}return Nm}const Jl=new ti("history"),Yne=new ti("closeHistory");function Jne(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new zr({key:Jl,state:{init(){return new Si(xs.empty,xs.empty,null,0,-1)},apply(e,n,s){return qne(n,s,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,o=s=="historyUndo"?mk:s=="historyRedo"?bk:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function gk(r,e){return(n,s)=>{let o=Jl.getState(n);if(!o||(r?o.undone:o.done).eventCount==0)return!1;if(s){let i=Kne(o,n,r);i&&s(e?i.scrollIntoView():i)}return!0}}const mk=gk(!1,!0),bk=gk(!0,!0),Xne=mr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>mk(r,e),redo:()=>({state:r,dispatch:e})=>bk(r,e)}},addProseMirrorPlugins(){return[Jne(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Zne=jr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",pn(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{const{$to:n}=e.selection,s=r();return n.parentOffset===0?s.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:i})=>{var l;if(i){const{$to:a}=o.selection,c=a.end();if(a.nodeAfter)a.nodeAfter.isTextblock?o.setSelection(yt.create(o.doc,a.pos+1)):a.nodeAfter.isBlock?o.setSelection(ot.create(o.doc,a.pos)):o.setSelection(yt.create(o.doc,a.pos));else{const u=(l=a.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();u&&(o.insert(c,u),o.setSelection(yt.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Vte({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Qne=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,ere=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,tre=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,nre=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,rre=hs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ec({find:Qne,type:this.type}),Ec({find:tre,type:this.type})]},addPasteRules(){return[Tc({find:ere,type:this.type}),Tc({find:nre,type:this.type})]}}),sre=jr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",pn(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ore=jr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",pn(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Fx=hs.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:r=>r.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["span",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:r,commands:e})=>{const n=cf(r,this.type);return Object.entries(n).some(([,o])=>!!o)?!0:e.unsetMark(this.name)}}}}),Bx=/^(\d+)\.\s$/,ire=jr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...n}=r;return e===1?["ol",pn(this.options.HTMLAttributes,n),0]:["ol",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ore.name,this.editor.getAttributes(Fx.name)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=Td({find:Bx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=Td({find:Bx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Fx.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[r]}}),lre=jr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),are=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,cre=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,ure=hs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ec({find:are,type:this.type})]},addPasteRules(){return[Tc({find:cre,type:this.type})]}}),dre=jr.create({name:"text",group:"inline"}),fre=mr.create({name:"starterKit",addExtensions(){var r,e,n,s,o,i,l,a,c,u,d,f,h,p,g,m,v,b;const C=[];return this.options.blockquote!==!1&&C.push(pne.configure((r=this.options)===null||r===void 0?void 0:r.blockquote)),this.options.bold!==!1&&C.push(yne.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&C.push(Cne.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&C.push(Ene.configure((s=this.options)===null||s===void 0?void 0:s.code)),this.options.codeBlock!==!1&&C.push(One.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&C.push(Ane.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&C.push(Pne.configure((l=this.options)===null||l===void 0?void 0:l.dropcursor)),this.options.gapcursor!==!1&&C.push(Fne.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&C.push(Bne.configure((c=this.options)===null||c===void 0?void 0:c.hardBreak)),this.options.heading!==!1&&C.push(zne.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&C.push(Xne.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&C.push(Zne.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&C.push(rre.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&C.push(sre.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&C.push(ire.configure((g=this.options)===null||g===void 0?void 0:g.orderedList)),this.options.paragraph!==!1&&C.push(lre.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&C.push(ure.configure((v=this.options)===null||v===void 0?void 0:v.strike)),this.options.text!==!1&&C.push(dre.configure((b=this.options)===null||b===void 0?void 0:b.text)),C}}),hre=hs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["u",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{setUnderline:()=>({commands:r})=>r.setMark(this.name),toggleUnderline:()=>({commands:r})=>r.toggleMark(this.name),unsetUnderline:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),pre=hs.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:r=>r.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["span",pn(this.options.HTMLAttributes,r),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:r,commands:e})=>{const n=cf(r,this.type);return Object.entries(n).some(([,o])=>!!o)?!0:e.unsetMark(this.name)}}}}),gre=mr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:r=>{var e;return(e=r.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:r=>r.color?{style:`color: ${r.color}`}:{}}}}]},addCommands(){return{setColor:r=>({chain:e})=>e().setMark("textStyle",{color:r}).run(),unsetColor:()=>({chain:r})=>r().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),mre=pe({name:"DialogNode",setup(){const{t:r,tm:e,rt:n}=cn();return{t:r,tm:e,rt:n}},inject:["getGraph","getNode"],data(){return{preview:"",nodeSetFormVisible:!1,varDialogVisible:!1,formLabelWidth:"90px",vars:[],selectedVar:"",nodeData:{nodeName:this.t("lang.dialogNode.nodeName"),dialogText:"",branches:[],nextStep:"WaitUserResponse",valid:!1,invalidMessages:[],newNode:!0},nextSteps:[{label:this.tm("lang.dialogNode.nextSteps")[0],value:"WaitUserResponse"},{label:this.tm("lang.dialogNode.nextSteps")[1],value:"GotoNextNode"}],loading:!1,lastEditRange:null,robotType:"",editor:null}},mounted(){const r=this.getNode(),e=r.getData();if(sr(e,this.nodeData),this.setPreview(),this.nodeData.newNode){this.nodeData.nodeName+=e.nodeCnt.toString();const s=Ul();s.branchType="GotoAnotherNode",this.nodeData.branches.push(s);const o=this.$refs.nodeName.offsetHeight+this.$refs.nodeAnswer.offsetHeight+20,i=this.$refs.nodeName.offsetWidth-15;this.getNode().addPort({group:"absolute",args:{x:i,y:o},markup:[{tagName:"circle",selector:"bopdy"},{tagName:"rect",selector:"bg"}],attrs:{text:{text:this.nextSteps[0].label,fontSize:12},bg:{ref:"text",refWidth:"100%",refHeight:"110%",refX:"-100%",refX2:-15,refY:-5,fill:"rgb(235,238,245)"}}}),this.nodeData.newNode=!1,r.setData(this.nodeData,{silent:!1})}this.validate(),r.on("change:data",({current:s})=>{this.nodeSetFormVisible=!0}),tt(()=>{this.setPortPos()});const{robotId:n}=Ve("robotId");this.robotType=nJ(n),this.robotType=="TextBot"&&(this.editor=new dne({extensions:[gre,fre,hre,pre],content:this.nodeData.dialogText,onUpdate:()=>{this.$emit("update:modelValue",this.editor.getHTML()),this.nodeData.dialogText=this.editor.getHTML()}}),this.$emit("update:modelValue",this.nodeData.dialogText))},beforeUnmount(){this.editor&&this.editor.destroy()},methods:{hideForm(){this.nodeSetFormVisible=!1},validate(){const r=this.nodeData,e=r.invalidMessages;e.splice(0,e.length),r.nodeName||e.push(this.tm("lang.dialogNode.errors")[0]),r.dialogText.length<1&&e.push(this.tm("lang.dialogNode.errors")[1]),r.dialogText.length>200&&e.push(this.tm("lang.dialogNode.errors")[2]),r.valid=e.length==0},getTextWidth(){return this.$refs.nodeAnswer.offsetWidth},setPreview(){let r=this.nodeData.dialogText.replace(/<[^>]+>/g,"").replace(/\r/g,"");if(r){const e=r.split(`
`);e.length>3&&e.splice(3,e.length-3,"......");const n=this.getNode();e.forEach(function(s,o,i){if(this.$refs.nodeAnswer.getBoundingClientRect().width>n.size().width){const l=(this.$refs.nodeAnswer.scrollWidth-n.size().width)/n.size().width;i[o]=s.substring(0,Math.floor(l*s.length)-5)+"..."}},this),r=e.join(`
`),tt(()=>{this.setPortPos()})}this.preview=r},setPortPos(){const r=this.getNode(),e=r.getPortAt(0),n=this.$refs.nodeName.offsetHeight+this.$refs.nodeAnswer.offsetHeight+20;r.setPortProp(e.id,["args","y"],n),r.resize(r.size().width,20+n,{direction:"bottom"})},saveForm(){let r="";for(let o=0;o<this.nextSteps.length;o++)if(this.nodeData.nextStep==this.nextSteps[o].value){r=this.nextSteps[o].label;break}this.setPortPos();const e=this.getNode(),n=e.getPortAt(0);e.setPortProp(n.id,["attrs","text","text"],r);const s=this.nodeData.branches[0];s.branchName=r,s.branchId=n.id,this.validate(),this.setPreview(),e.setData(this.nodeData,{silent:!1}),this.hideForm()},getSel(){const r=window.getSelection();r.rangeCount>0&&(this.lastEditRange=r.getRangeAt(0))},async showVarsForm(){let r=await rt("GET","variable",null,null,null);r&&r.status==200&&r.data&&(this.vars=r.data),this.varDialogVisible=!0},insertVar(){this.nodeData.dialogText+="`"+this.selectedVar+"`",this.varDialogVisible=!1},changeEditorNote(){if(this.nodeData.dialogText)if(this.textEditor=="1")Vr.confirm("Switch to plain text and all styles will be lost. Whether to continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{const r=this.nodeData.dialogText.replace(/<\/p>/g,`
`).trim(),e=/(<([^>]+)>)/ig;this.nodeData.dialogText=r.replace(e,"")}).catch(()=>{this.textEditor="2"});else{const r="<p>"+this.nodeData.dialogText.replace(/\n/g,"</p><p>")+"</p>";this.$refs.editor.setContent(r)}}},components:{EpPlus:Bu,EpWarning:ma,EditorContent:fne,BubbleMenu:une},props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],watch:{modelValue(r){this.editor.getHTML()!==r&&this.editor.commands.setContent(r,!1)}}}),bre={class:"nodeBox"},vre={ref:"nodeName",class:"nodeTitle"},yre={key:2,class:"menubar"},wre=["value"],Cre={class:"demo-drawer__footer"},Sre={class:"dialog-footer"};function xre(r,e,n,s,o,i){const l=Pt("EpWarning"),a=dt,c=gs,u=Sn,d=lr,f=Pt("bubble-menu"),h=Pt("editor-content"),p=Pt("EpPlus"),g=Pn,m=ei,v=Qo,b=ir,C=Zo,y=ll;return N(),X("div",bre,[H("div",vre,[le(oe(r.nodeData.nodeName)+" ",1),Ue(H("span",null,[T(c,{class:"box-item",effect:"dark",content:r.nodeData.invalidMessages.join("<br/>"),placement:"bottom","raw-content":""},{default:O(()=>[T(a,{color:"red",size:"16"},{default:O(()=>[T(l)]),_:1})]),_:1},8,["content"])],512),[[st,r.nodeData.invalidMessages.length>0]])],512),H("div",{ref:"nodeAnswer",style:{"white-space":"pre-wrap","font-size":"12px"}},oe(r.preview),513),T(C,{modelValue:r.nodeSetFormVisible,"onUpdate:modelValue":e[25]||(e[25]=w=>r.nodeSetFormVisible=w),title:r.nodeData.nodeName,direction:"rtl",size:"72%","append-to-body":!0,"destroy-on-close":!0},{default:O(()=>[T(b,{model:r.nodeData},{default:O(()=>[T(d,{label:r.t("lang.common.nodeName"),"label-width":r.formLabelWidth},{default:O(()=>[T(u,{modelValue:r.nodeData.nodeName,"onUpdate:modelValue":e[0]||(e[0]=w=>r.nodeData.nodeName=w),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label","label-width"]),T(d,{label:r.t("lang.dialogNode.form.label"),"label-width":r.formLabelWidth},{default:O(()=>[r.editor==null||r.robotType!="TextBot"?(N(),ye(u,{key:0,ref:"textArea",modelValue:r.nodeData.dialogText,"onUpdate:modelValue":e[1]||(e[1]=w=>r.nodeData.dialogText=w),type:"textarea",onBlur:r.getSel},null,8,["modelValue","onBlur"])):ve("",!0),r.editor&&r.robotType=="TextBot"?(N(),ye(f,{key:1,id:"bubbleMenu",editor:r.editor,"tippy-options":{duration:100}},{default:O(()=>[H("button",{type:"button",class:Y(["inactive",{"is-active":r.editor.isActive("bold")}]),onClick:e[2]||(e[2]=w=>r.editor.chain().focus().toggleBold().run())}," bold ",2),H("button",{type:"button",class:Y(["inactive",{"is-active":r.editor.isActive("italic")}]),onClick:e[3]||(e[3]=w=>r.editor.chain().focus().toggleItalic().run())}," italic ",2),H("button",{type:"button",class:Y(["inactive",{"is-active":r.editor.isActive("strike")}]),onClick:e[4]||(e[4]=w=>r.editor.chain().focus().toggleStrike().run())}," strike ",2)]),_:1},8,["editor"])):ve("",!0),r.editor&&r.robotType=="TextBot"?(N(),X("div",yre,[H("button",{type:"button",class:Y({"is-active":r.editor.isActive("bold")}),onClick:e[5]||(e[5]=w=>r.editor.chain().focus().toggleBold().run())}," B ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("italic")}),onClick:e[6]||(e[6]=w=>r.editor.chain().focus().toggleItalic().run())}," I ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("strike")}),onClick:e[7]||(e[7]=w=>r.editor.chain().focus().toggleStrike().run())}," S ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("underline")}),onClick:e[8]||(e[8]=w=>r.editor.chain().focus().toggleUnderline().run())}," Underline ",2),H("input",{type:"color",onInput:e[9]||(e[9]=w=>r.editor.chain().focus().setColor(w.target.value).run()),value:r.editor.getAttributes("textStyle").color},null,40,wre),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("code")}),onClick:e[10]||(e[10]=w=>r.editor.chain().focus().toggleCode().run())}," Code ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("heading",{level:1})}),onClick:e[11]||(e[11]=w=>r.editor.chain().focus().toggleHeading({level:1}).run())}," H1 ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("heading",{level:2})}),onClick:e[12]||(e[12]=w=>r.editor.chain().focus().toggleHeading({level:2}).run())}," H2 ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("heading",{level:3})}),onClick:e[13]||(e[13]=w=>r.editor.chain().focus().toggleHeading({level:3}).run())}," H3 ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("bulletList")}),onClick:e[14]||(e[14]=w=>r.editor.chain().focus().toggleBulletList().run())}," Ul ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("orderedList")}),onClick:e[15]||(e[15]=w=>r.editor.chain().focus().toggleOrderedList().run())}," Ol ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("blockquote")}),onClick:e[16]||(e[16]=w=>r.editor.chain().focus().toggleBlockquote().run())}," Quote ",2),H("button",{type:"button",class:Y({"is-active":r.editor.isActive("codeBlock")}),onClick:e[17]||(e[17]=w=>r.editor.chain().focus().toggleCodeBlock().run())}," CodeBlock ",2),H("button",{type:"button",onClick:e[18]||(e[18]=w=>r.editor.chain().focus().setHorizontalRule().run())}," HR "),H("button",{type:"button",onClick:e[19]||(e[19]=w=>r.editor.chain().focus().undo().run())}," Undo "),H("button",{type:"button",onClick:e[20]||(e[20]=w=>r.editor.chain().focus().redo().run())}," Redo ")])):ve("",!0),r.editor&&r.robotType=="TextBot"?(N(),ye(h,{key:3,editor:r.editor,style:{width:"100%",border:"#e5e9f2 1px solid"},modelValue:r.nodeData.dialogText,"onUpdate:modelValue":e[21]||(e[21]=w=>r.nodeData.dialogText=w)},null,8,["editor","modelValue"])):ve("",!0)]),_:1},8,["label","label-width"]),T(d,{label:"","label-width":r.formLabelWidth},{default:O(()=>[T(g,{link:"",onClick:r.showVarsForm},{default:O(()=>[T(a,null,{default:O(()=>[T(p)]),_:1}),le(" "+oe(r.t("lang.dialogNode.form.addVar")),1)]),_:1},8,["onClick"])]),_:1},8,["label-width"]),T(d,{label:r.t("lang.dialogNode.form.nextStep"),"label-width":r.formLabelWidth},{default:O(()=>[T(v,{modelValue:r.nodeData.nextStep,"onUpdate:modelValue":e[22]||(e[22]=w=>r.nodeData.nextStep=w),placeholder:r.t("lang.dialogNode.form.choose")},{default:O(()=>[(N(!0),X(De,null,Ot(r.nextSteps,w=>(N(),ye(m,{key:w.label,label:w.label,value:w.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","label-width"])]),_:1},8,["model"]),H("div",Cre,[T(g,{type:"primary",loading:r.loading,onClick:e[23]||(e[23]=w=>r.saveForm())},{default:O(()=>[le(oe(r.t("lang.common.save")),1)]),_:1},8,["loading"]),T(g,{onClick:e[24]||(e[24]=w=>r.hideForm())},{default:O(()=>[le(oe(r.t("lang.common.cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"]),T(y,{modelValue:r.varDialogVisible,"onUpdate:modelValue":e[28]||(e[28]=w=>r.varDialogVisible=w),title:r.t("lang.dialogNode.var.title"),width:"30%","append-to-body":!0,"destroy-on-close":!0},{footer:O(()=>[H("span",Sre,[T(g,{type:"primary",onClick:r.insertVar},{default:O(()=>[le(oe(r.t("lang.common.insert")),1)]),_:1},8,["onClick"]),T(g,{onClick:e[27]||(e[27]=w=>r.varDialogVisible=!1)},{default:O(()=>[le(oe(r.t("lang.common.cancel")),1)]),_:1})])]),default:O(()=>[T(v,{modelValue:r.selectedVar,"onUpdate:modelValue":e[26]||(e[26]=w=>r.selectedVar=w),class:"m-2",placeholder:r.t("lang.dialogNode.var.choose"),size:"large"},{default:O(()=>[(N(!0),X(De,null,Ot(r.vars,w=>(N(),ye(m,{key:w.varName,label:w.varName,value:w.varName},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["modelValue","title"])])}const Ere=Hs(mre,[["render",xre],["__scopeId","data-v-a74fd6be"]]),Tre={class:"nodeBox"},_re={class:"demo-drawer__footer"},zx="90px",Ore={__name:"EndNode",setup(r){const{t:e,tm:n,rt:s}=cn(),o=j(!1),i=St({nodeName:"The end",endingText:"",valid:!1,invalidMessages:[],newNode:!0}),l=j(),a=Ve("getNode");a().on("change:data",({current:p})=>{o.value=!0}),nt(async()=>{const g=a().getData();sr(g,i),i.newNode&&(i.nodeName+=g.nodeCnt.toString(),i.newNode=!1),u()});function u(){const p=i,g=p.invalidMessages;g.splice(0,g.length),p.endingText&&p.endingText.length>1e4&&g.push(""),p.valid=g.length==0}function d(){o.value=!1}const f=j();function h(){const p=a();u(),p.setData(i,{silent:!1}),d();const g=l.value.offsetHeight+f.value.offsetHeight;p.resize(p.size().width,20+g,{direction:"bottom"})}return(p,g)=>{const m=dt,v=gs,b=Sn,C=lr,y=ir,w=Pn,x=Zo;return N(),X("div",Tre,[H("div",{ref_key:"nodeName",ref:l,class:"nodeTitle"},[le(oe(i.nodeName)+" ",1),Ue(H("span",null,[T(v,{class:"box-item",effect:"dark",content:i.invalidMessages.join("<br/>"),placement:"bottom","raw-content":""},{default:O(()=>[T(m,{color:"red",size:"16"},{default:O(()=>[T(S(ma))]),_:1})]),_:1},8,["content"])],512),[[st,i.invalidMessages.length>0]])],512),H("div",{ref_key:"nodeAnswer",ref:f,style:{"white-space":"pre-wrap","font-size":"12px"}},oe(i.endingText),513),T(x,{modelValue:o.value,"onUpdate:modelValue":g[4]||(g[4]=E=>o.value=E),title:i.nodeName,direction:"rtl",size:"70%","append-to-body":!0,"destroy-on-close":!0},{default:O(()=>[T(y,{"label-position":p.labelPosition,"label-width":"100px",model:i,style:{"max-width":"460px"}},{default:O(()=>[T(C,{label:S(e)("lang.common.nodeName"),"label-width":zx},{default:O(()=>[T(b,{modelValue:i.nodeName,"onUpdate:modelValue":g[0]||(g[0]=E=>i.nodeName=E)},null,8,["modelValue"])]),_:1},8,["label"]),T(C,{label:"Ending text","label-width":zx},{default:O(()=>[T(b,{modelValue:i.endingText,"onUpdate:modelValue":g[1]||(g[1]=E=>i.endingText=E),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["label-position","model"]),H("div",_re,[T(w,{type:"primary",loading:p.loading,onClick:g[2]||(g[2]=E=>h())},{default:O(()=>[le(oe(S(e)("lang.common.save")),1)]),_:1},8,["loading"]),T(w,{onClick:g[3]||(g[3]=E=>d())},{default:O(()=>[le(oe(S(e)("lang.common.cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"])])}}},Are=Hs(Ore,[["__scopeId","data-v-42225c28"]]),Mre={class:"nodeBox"},kre={class:"nodeTitle"},pu="110px",Pre={__name:"GotoNode",setup(r){const{t:e,tm:n,rt:s}=cn(),o=Ve("getNode"),{subflowNames:i,updateSubFlowNames:l}=Ve("subFlowNamesFn"),a=j(!1),c=j([]),u=j([]),d=n("lang.gotoNode.types"),f=[{label:d[1],value:"GotoMainFlow",disabled:!1},{label:d[2],value:"GotoSubFlow",disabled:!1},{label:d[3],value:"GotoExternalLink",disabled:!1}],h=St({nodeName:e("lang.gotoNode.nodeName"),brief:"",gotoType:"",gotoMainFlowId:"",gotoSubFlowName:"",gotoSubFlowId:"",externalLink:"",valid:!1,invalidMessages:[],newNode:!0}),p=j(!1);o().on("change:data",({current:x})=>{a.value=!0}),nt(async()=>{const E=o().getData();sr(E,h),g(h.goToType),h.newNode&&(h.nodeName+=E.nodeCnt.toString()),h.newNode=!1,b();const _=await rt("GET","mainflow",null,null,null);_.status==200&&(c.value=_.data),E.gotoSubFlowId&&await m(E.gotoMainFlowId)});async function g(x){x=="GotoMainFlow"||x=="GotoSubFlow"&&(u.value=l(),p.value=!0)}async function m(x){if(x){const E=await rt("GET","subflow/simple",{mainFlowId:x,data:""},null,null);E.status==200&&(u.value=E.data)}else u.value=l();p.value=!0}const v=n("lang.gotoNode.errors");function b(){const x=h,E=x.invalidMessages;E.splice(0,E.length),x.nodeName||E.push(v[0]),x.gotoType||E.push(v[1]),x.gotoType=="GotoSubFlow"&&!x.gotoSubFlowId&&E.push(v[2]),x.gotoType=="GotoExternalLink"&&!x.externalLink&&E.push(v[3]),x.valid=E.length==0}function C(){a.value=!1}const y=n("lang.gotoNode.briefs");function w(){if(h.brief=y[0]+": ",h.gotoType=="Terminate")h.brief+=y[1];else if(h.gotoType=="GotoMainFlow"){h.brief+=y[4]+`
`;for(let E=0;E<c.value.length;E++)if(h.gotoMainFlowId==c.value[E].id){h.brief+=c.value[E].name;break}for(let E=0;E<u.value.length;E++)if(h.gotoSubFlowId==u.value[E].id){h.gotoSubFlowName=u.value[E].name,h.brief+=" - "+h.gotoSubFlowName;break}}else if(h.gotoType=="GotoSubFlow"){for(let E=0;E<u.value.length;E++)if(h.gotoSubFlowId==u.value[E].id){h.gotoSubFlowName=u.value[E].name;break}h.brief+=y[2]+": "+h.gotoSubFlowName}else h.gotoType=="GotoExternalLink"&&(h.brief+=y[3]+": "+h.externalLink);const x=o();b(),x.setData(h,{silent:!1}),C()}return(x,E)=>{const _=dt,M=gs,A=Sn,k=lr,P=ei,$=Qo,B=ir,W=Pn,I=Zo;return N(),X("div",Mre,[H("div",kre,[le(oe(h.nodeName)+" ",1),Ue(H("span",null,[T(M,{class:"box-item",effect:"dark",content:h.invalidMessages.join("<br/>"),placement:"bottom","raw-content":""},{default:O(()=>[T(_,{color:"red",size:"16"},{default:O(()=>[T(S(ma))]),_:1})]),_:1},8,["content"])],512),[[st,h.invalidMessages.length>0]])]),H("div",null,oe(h.brief),1),a.value?(N(),ye(I,{key:0,modelValue:a.value,"onUpdate:modelValue":E[7]||(E[7]=R=>a.value=R),title:h.nodeName,direction:"rtl",size:"70%","append-to-body":!0,"destroy-on-close":!0},{default:O(()=>[T(B,{"label-position":x.labelPosition,"label-width":"70px",model:h,style:{"max-width":"700px"}},{default:O(()=>[T(k,{label:S(e)("lang.common.nodeName"),"label-width":pu},{default:O(()=>[T(A,{modelValue:h.nodeName,"onUpdate:modelValue":E[0]||(E[0]=R=>h.nodeName=R)},null,8,["modelValue"])]),_:1},8,["label"]),T(k,{label:S(e)("lang.gotoNode.gotoType"),"label-width":pu},{default:O(()=>[T($,{modelValue:h.gotoType,"onUpdate:modelValue":E[1]||(E[1]=R=>h.gotoType=R),placeholder:S(e)("lang.gotoNode.gotoTypePH"),onChange:g},{default:O(()=>[(N(),X(De,null,Ot(f,R=>T(P,{key:R.label,label:R.label,value:R.value,disabled:R.disabled},null,8,["label","value","disabled"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),Ue(H("div",null,[T(k,{label:S(e)("lang.gotoNode.gotoMainFlow"),"label-width":pu},{default:O(()=>[T($,{modelValue:h.gotoMainFlowId,"onUpdate:modelValue":E[2]||(E[2]=R=>h.gotoMainFlowId=R),placeholder:S(e)("lang.gotoNode.gotoMainFlowPH"),onChange:m},{default:O(()=>[(N(!0),X(De,null,Ot(c.value,R=>(N(),ye(P,{key:R.id,label:R.name,value:R.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])],512),[[st,h.gotoType==="GotoMainFlow"]]),Ue(H("div",null,[T(k,{label:S(e)("lang.gotoNode.gotoSubFlow"),"label-width":pu},{default:O(()=>[T($,{modelValue:h.gotoSubFlowId,"onUpdate:modelValue":E[3]||(E[3]=R=>h.gotoSubFlowId=R),placeholder:S(e)("lang.gotoNode.gotoSubFlowPH")},{default:O(()=>[(N(!0),X(De,null,Ot(u.value,R=>(N(),ye(P,{key:R.id,label:R.name,value:R.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])],512),[[st,p.value]]),Ue(H("div",null,[T(k,{label:S(e)("lang.gotoNode.externalLink"),"label-width":pu},{default:O(()=>[T(A,{modelValue:h.externalLink,"onUpdate:modelValue":E[4]||(E[4]=R=>h.externalLink=R)},null,8,["modelValue"])]),_:1},8,["label"])],512),[[st,h.gotoType==="GotoExternalLink"]])]),_:1},8,["label-position","model"]),H("div",null,[T(W,{type:"primary",loading:x.loading,onClick:E[5]||(E[5]=R=>w())},{default:O(()=>[le(oe(S(e)("lang.common.save")),1)]),_:1},8,["loading"]),T(W,{onClick:E[6]||(E[6]=R=>C())},{default:O(()=>[le(oe(S(e)("lang.common.cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"])):ve("",!0)])}}},Nre=Hs(Pre,[["__scopeId","data-v-e844225f"]]),f0=r=>(Fd("data-v-cfe08cad"),r=r(),Bd(),r),Ire={class:"nodeBox"},Lre=f0(()=>H("div",null,[H("strong",null,"Please note"),le(" that this is just calling the interface, but the returned data will be ignored.")],-1)),Rre=f0(()=>H("div",null,"If you need to obtain data, please create a variable and select a certain interface as the source of the data.",-1)),$re=f0(()=>H("div",null,"Checkout tutorial.",-1)),Dre={class:"demo-drawer__footer"},Im="100px",Vre={__name:"ExternalHttpNode",setup(r){const{t:e,tm:n,rt:s}=cn(),o=j(!1),i=Ve("getNode"),{robotId:l}=Ve("robotId"),a=i(),c=St([]),u=j(),d=j(),f=St({nodeName:"ExternalHttpNode",httpApiName:"",httpApiId:"",valid:!1,invalidMessages:[],newNode:!0,branches:[]}),h=()=>{const v=f,b=v.invalidMessages;b.splice(0,b.length),(f.httpApiName==""||f.httpApiId=="")&&b.push("Please choose a HTTP interface"),i().getPortAt(0).id==""&&b.push('Please connect "Next" to another node'),v.valid=b.length==0},p=()=>{const v=i().getPortAt(0),b=f.branches[0];b.branchName="Next",b.branchId=v.id,h(),a.setData(f,{silent:!1}),m()},g=v=>{for(var b in c)if(c[b].id==v){f.httpApiName=c[b].name;break}},m=()=>{o.value=!1};return a.on("change:data",({current:v})=>{o.value=!0}),nt(async()=>{const v=await rt("GET","external/http",{robotId:l},null,null);if(v.status==200)for(var b in v.data)v.data.hasOwnProperty(b)&&c.push(v.data[b]);a.addPort({group:"absolute",args:{x:u.value.offsetWidth-15,y:u.value.offsetHeight+50},attrs:{text:{text:"Next",fontSize:12}}}),f.branches.push(Ul())}),(v,b)=>{const C=dt,y=gs,w=Sn,x=lr,E=ei,_=Qo,M=Uy,A=ir,k=Pn,P=Zo;return N(),X("div",Ire,[H("div",{ref_key:"nodeName",ref:u,class:"nodeTitle"},[le(oe(f.nodeName)+" ",1),Ue(H("span",null,[T(y,{class:"box-item",effect:"dark",content:f.invalidMessages.join("<br/>"),placement:"bottom","raw-content":""},{default:O(()=>[T(C,{color:"red",size:"16"},{default:O(()=>[T(S(ma))]),_:1})]),_:1},8,["content"])],512),[[st,f.invalidMessages.length>0]])],512),H("div",null,"Call Http: "+oe(f.httpApiName),1),T(P,{modelValue:o.value,"onUpdate:modelValue":b[5]||(b[5]=$=>o.value=$),title:f.nodeName,direction:"rtl",size:"70%","append-to-body":!0,"destroy-on-close":!0},{default:O(()=>[T(A,{"label-position":v.labelPosition,"label-width":"70px",model:f,style:{"max-width":"850px"}},{default:O(()=>[T(x,{label:S(e)("lang.common.nodeName"),"label-width":Im},{default:O(()=>[T(w,{modelValue:f.nodeName,"onUpdate:modelValue":b[0]||(b[0]=$=>f.nodeName=$)},null,8,["modelValue"])]),_:1},8,["label"]),T(x,{label:"HTTP APIs","label-width":Im},{default:O(()=>[T(_,{ref_key:"apisRef",ref:d,modelValue:f.httpApiId,"onUpdate:modelValue":b[1]||(b[1]=$=>f.httpApiId=$),placeholder:"Choose an http interface",onChange:b[2]||(b[2]=$=>g($))},{default:O(()=>[(N(!0),X(De,null,Ot(c,$=>(N(),ye(E,{key:$.id,label:$.name,value:$.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),T(x,{label:"","label-width":Im},{default:O(()=>[T(M,{size:"large"},{default:O(()=>[Lre,Rre,$re]),_:1})]),_:1})]),_:1},8,["label-position","model"]),H("div",Dre,[T(k,{type:"primary",loading:v.loading,onClick:b[3]||(b[3]=$=>p())},{default:O(()=>[le(oe(S(e)("lang.common.save")),1)]),_:1},8,["loading"]),T(k,{onClick:b[4]||(b[4]=$=>m())},{default:O(()=>[le(oe(S(e)("lang.common.cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"])])}}},Fre=Hs(Vre,[["__scopeId","data-v-cfe08cad"]]),Bre=r=>(Fd("data-v-abe7dc58"),r=r(),Bd(),r),zre={class:"nodeBox"},jre=["checked"],Hre=Bre(()=>H("label",{for:"_asyncSend_"},"Send asynchronously",-1)),Ure={class:"demo-drawer__footer"},Wre={__name:"SendEmailNode",setup(r){const{t:e,tm:n}=cn(),s=St({nodeName:"Send email node",from:"",to:"",toRecipients:[],cc:"",ccRecipients:[],bcc:"",bccRecipients:[],subject:"",content:"",contentType:"TextHtml",asyncSend:!0,valid:!1,invalidMessages:[],branches:[],newNode:!0});let o=!0;const i=j(),l=j(""),a=j(""),c=j(!1),u=Ve("getNode"),d=u(),f=[];d.on("change:data",({current:v})=>{c.value=!0}),nt(async()=>{const v=d.getData();sr(v,s),s.newNode?(s.nodeName+=v.nodeCnt.toString(),h(),s.newNode=!1):o=s.asyncSend;let b=await rt("GET","variable",null,null,null);b&&b.status==200&&b.data&&(f.splice(0,f.length),b.data.forEach(function(C,y,w){this.push({label:C.varName,value:C.varName})},f)),b=await rt("GET","management/settings",null,null,null),b&&b.status==200&&b.data&&(l.value=b.data.smtpHost,a.value=b.data.emailVerificationRegex),p()});const h=()=>{d.removePorts();const v=i.value.offsetHeight+50,b=i.value.offsetWidth-15;s.asyncSend?d.addPort({group:"absolute",args:{x:b,y:v},attrs:{text:{text:n("lang.dialogNode.nextSteps")[1],fontSize:12}}}):(d.addPort({group:"absolute",args:{x:b,y:v},attrs:{text:{text:n("lang.collectNode.branches")[0],fontSize:12}}}),d.addPort({group:"absolute",args:{x:b,y:v+20},attrs:{text:{text:n("lang.collectNode.branches")[1],fontSize:12}}}),d.resize(d.size().width,40+v,{direction:"bottom"}))},p=()=>{const v=s,b=v.invalidMessages;b.splice(0,b.length),l.value||b.push("SMTP host is not configured"),v.nodeName||b.push("Need to fill in the node name");const C=new RegExp(a.value);v.to?v.to.split(";").forEach(function(y){y.match(C)?v.toRecipients.push(y):b.push(y+" is not a valid email format")}):b.push("Need to fill in the email recipient"),v.cc&&v.cc.split(";").forEach(function(y){y.match(C)?v.ccRecipients.push(y):b.push(y+" is not a valid email format")}),v.bcc&&v.bcc.split(";").forEach(function(y){y.match(C)?v.bccRecipients.push(y):b.push(y+" is not a valid email format")}),v.subject||b.push("Need to fill in the email subject"),v.content||b.push("Need to fill in the email content"),(v.branches==null||v.branches.length==0)&&b.push("Wrong node branch information"),v.valid=b.length==0},g=()=>{o!=s.asyncSend&&(o=s.asyncSend,h());const v=u(),b=v.getPorts();s.branches.splice(0,s.branches.length);for(let C=0;C<b.length;C++){const y=Ul();y.branchName=b[C].attrs.text.text,y.branchId=b[C].id,y.branchType=C==0&&b.length>1?"EmailSentSuccessfully":"GotoAnotherNode",s.branches.push(y)}p(),v.setData(s,{silent:!1}),m()},m=()=>{c.value=!1};return(v,b)=>{const C=dt,y=gs,w=Sn,x=lr,E=tA,_=$y,M=ir,A=Pn,k=Zo;return N(),X("div",zre,[H("div",{ref_key:"nodeName",ref:i,class:"nodeTitle"},[le(oe(s.nodeName)+" ",1),Ue(H("span",null,[T(y,{class:"box-item",effect:"dark",content:s.invalidMessages.join("<br/>"),placement:"bottom","raw-content":""},{default:O(()=>[T(C,{color:"yellow",size:"16"},{default:O(()=>[T(S(ma))]),_:1})]),_:1},8,["content"])],512),[[st,s.invalidMessages.length>0]])],512),H("div",null,"To: "+oe(s.to),1),H("div",null,"Subject: "+oe(s.subject),1),T(k,{modelValue:c.value,"onUpdate:modelValue":b[11]||(b[11]=P=>c.value=P),title:s.nodeName,direction:"rtl",size:"70%","append-to-body":!0,"destroy-on-close":!0},{default:O(()=>[T(M,{"label-position":v.labelPosition,"label-width":"100px",model:s,style:{"max-width":"500px"}},{default:O(()=>[T(x,{label:S(e)("lang.common.nodeName")},{default:O(()=>[T(w,{modelValue:s.nodeName,"onUpdate:modelValue":b[0]||(b[0]=P=>s.nodeName=P)},null,8,["modelValue"])]),_:1},8,["label"]),T(x,{label:"From","label-width":v.formLabelWidth},{default:O(()=>[T(w,{modelValue:s.from,"onUpdate:modelValue":b[1]||(b[1]=P=>s.from=P),placeholder:""},null,8,["modelValue"])]),_:1},8,["label-width"]),T(x,{label:"To"},{default:O(()=>[T(w,{modelValue:s.to,"onUpdate:modelValue":b[2]||(b[2]=P=>s.to=P),placeholder:""},null,8,["modelValue"])]),_:1}),T(x,{label:""},{default:O(()=>[le(" Separate multiple recipients with semicolons ")]),_:1}),T(x,{label:"Cc"},{default:O(()=>[T(w,{modelValue:s.cc,"onUpdate:modelValue":b[3]||(b[3]=P=>s.cc=P),placeholder:""},null,8,["modelValue"])]),_:1}),T(x,{label:"Bcc"},{default:O(()=>[T(w,{modelValue:s.bcc,"onUpdate:modelValue":b[4]||(b[4]=P=>s.bcc=P),placeholder:""},null,8,["modelValue"])]),_:1}),T(x,{label:"Subject"},{default:O(()=>[T(w,{modelValue:s.subject,"onUpdate:modelValue":b[5]||(b[5]=P=>s.subject=P),placeholder:""},null,8,["modelValue"])]),_:1}),T(x,{label:"Content"},{default:O(()=>[T(w,{modelValue:s.content,"onUpdate:modelValue":b[6]||(b[6]=P=>s.content=P),rows:2,type:"textarea",placeholder:"Please input"},null,8,["modelValue"])]),_:1}),T(x,{label:"Content type"},{default:O(()=>[T(_,{modelValue:s.contentType,"onUpdate:modelValue":b[7]||(b[7]=P=>s.contentType=P),class:"ml-4"},{default:O(()=>[T(E,{label:"TextHtml",size:"large"},{default:O(()=>[le("text/html")]),_:1}),T(E,{label:"TextPlain",size:"large"},{default:O(()=>[le("text/plain")]),_:1})]),_:1},8,["modelValue"])]),_:1}),T(x,{label:""},{default:O(()=>[Ue(H("input",{type:"checkbox",id:"_asyncSend_","onUpdate:modelValue":b[8]||(b[8]=P=>s.asyncSend=P),checked:s.asyncSend},null,8,jre),[[zi,s.asyncSend]]),Hre]),_:1})]),_:1},8,["label-position","model"]),H("div",Ure,[T(A,{type:"primary",loading:v.loading,onClick:b[9]||(b[9]=P=>g())},{default:O(()=>[le(oe(S(e)("lang.common.save")),1)]),_:1},8,["loading"]),T(A,{onClick:b[10]||(b[10]=P=>m())},{default:O(()=>[le(oe(S(e)("lang.common.cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"])])}}},qre=Hs(Wre,[["__scopeId","data-v-abe7dc58"]]);typeof window=="object"&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);typeof window<"u"&&function(r){r.forEach(e=>{Object.prototype.hasOwnProperty.call(e,"append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value(...n){const s=document.createDocumentFragment();n.forEach(o=>{const i=o instanceof Node;s.appendChild(i?o:document.createTextNode(String(o)))}),this.appendChild(s)}})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);class zo{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(r){function e(){return(n,s,o)=>{const i=o.value,l=n.__proto__;o.value=function(...a){this.disposed||(i.call(this,...a),l.dispose.call(this))}}}r.dispose=e})(zo||(zo={}));class jx{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}(function(r){function e(n){const s=new r;return n.forEach(o=>{s.add(o)}),s}r.from=e})(jx||(jx={}));function vk(r,e,n){if(n)switch(n.length){case 0:return r.call(e);case 1:return r.call(e,n[0]);case 2:return r.call(e,n[0],n[1]);case 3:return r.call(e,n[0],n[1],n[2]);case 4:return r.call(e,n[0],n[1],n[2],n[3]);case 5:return r.call(e,n[0],n[1],n[2],n[3],n[4]);case 6:return r.call(e,n[0],n[1],n[2],n[3],n[4],n[5]);default:return r.apply(e,n)}return r.call(e)}function ht(r,e,...n){return vk(r,e,n)}function Gre(r){return typeof r=="object"&&r.then&&typeof r.then=="function"}function Hx(r){return r!=null&&(r instanceof Promise||Gre(r))}function yk(...r){const e=[];if(r.forEach(s=>{Array.isArray(s)?e.push(...s):e.push(s)}),e.some(s=>Hx(s))){const s=e.map(o=>Hx(o)?o:Promise.resolve(o!==!1));return Promise.all(s).then(o=>o.reduce((i,l)=>l!==!1&&i,!0))}return e.every(s=>s!==!1)}function Lm(r,e){const n=[];for(let s=0;s<r.length;s+=2){const o=r[s],i=r[s+1],l=Array.isArray(e)?e:[e],a=vk(o,i,l);n.push(a)}return yk(n)}class Kre{constructor(){this.listeners={}}on(e,n,s){return n==null?this:(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n,s),this)}once(e,n,s){const o=(...i)=>(this.off(e,o),Lm([n,s],i));return this.on(e,o,this)}off(e,n,s){if(!(e||n||s))return this.listeners={},this;const o=this.listeners;return(e?[e]:Object.keys(o)).forEach(l=>{const a=o[l];if(a){if(!(n||s)){delete o[l];return}for(let c=a.length-2;c>=0;c-=2)n&&a[c]!==n||s&&a[c+1]!==s||a.splice(c,2)}}),this}trigger(e,...n){let s=!0;if(e!=="*"){const i=this.listeners[e];i!=null&&(s=Lm([...i],n))}const o=this.listeners["*"];return o!=null?yk([s,Lm([...o],[e,...n])]):s}emit(e,...n){return this.trigger(e,...n)}}function Yre(r,...e){e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(s=>{s!=="constructor"&&Object.defineProperty(r.prototype,s,Object.getOwnPropertyDescriptor(n.prototype,s))})})}const Jre=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])};function Xre(r,e){Jre(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}class Zre{}const Qre=/^\s*class\s+/.test(`${Zre}`)||/^\s*class\s*\{/.test(`${class{}}`);function h0(r,e){let n;return Qre?n=class extends e{}:(n=function(){return e.apply(this,arguments)},Xre(n,e)),Object.defineProperty(n,"name",{value:r}),n}function Ux(r){return r==="__proto__"}function p0(r,e,n="/"){let s;const o=Array.isArray(e)?e:e.split(n);if(o.length)for(s=r;o.length;){const i=o.shift();if(Object(s)===s&&i&&i in s)s=s[i];else return}return s}function nu(r,e,n,s="/"){const o=Array.isArray(e)?e:e.split(s),i=o.pop();if(i&&!Ux(i)){let l=r;o.forEach(a=>{Ux(a)||(l[a]==null&&(l[a]={}),l=l[a])}),l[i]=n}return r}function Wx(r,e,n="/"){const s=Array.isArray(e)?e.slice():e.split(n),o=s.pop();if(o)if(s.length>0){const i=p0(r,s);i&&delete i[o]}else delete r[o];return r}var ese=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class Fr extends Kre{dispose(){this.off()}}ese([zo.dispose()],Fr.prototype,"dispose",null);(function(r){r.dispose=zo.dispose})(Fr||(Fr={}));Yre(Fr,zo);const wk=r=>{const e=Object.create(null);return n=>e[n]||(e[n]=r(n))},Ck=wk(r=>r.replace(/\B([A-Z])/g,"-$1").toLowerCase()),g0=wk(r=>D5(Up(r)).replace(/ /g,""));function Rm(r){let e=2166136261,n=!1,s=r;for(let o=0,i=s.length;o<i;o+=1){let l=s.charCodeAt(o);l>127&&!n&&(s=unescape(encodeURIComponent(s)),l=s.charCodeAt(o),n=!0),e^=l,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function sp(){let r="";const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let n=0,s=e.length;n<s;n+=1){const o=e[n],i=Math.random()*16|0,l=o==="x"?i:o==="y"?i&3|8:o;r+=l.toString(16)}return r}function tse(r,e,n){const s=Math.min(2,Math.floor(r.length*.34));let o=Math.floor(r.length*.4)+1,i,l=!1;const a=r.toLowerCase();for(const c of e){const u=n(c);if(u!==void 0&&Math.abs(u.length-a.length)<=s){const d=u.toLowerCase();if(d===a){if(u===r)continue;return c}if(l||u.length<3)continue;const f=nse(a,d,o-1);if(f===void 0)continue;f<3?(l=!0,i=c):(o=f,i=c)}}return i}function nse(r,e,n){let s=new Array(e.length+1),o=new Array(e.length+1);const i=n+1;for(let a=0;a<=e.length;a+=1)s[a]=a;for(let a=1;a<=r.length;a+=1){const c=r.charCodeAt(a-1),u=a>n?a-n:1,d=e.length>n+a?n+a:e.length;o[0]=a;let f=a;for(let p=1;p<u;p+=1)o[p]=i;for(let p=u;p<=d;p+=1){const g=c===e.charCodeAt(p-1)?s[p-1]:Math.min(s[p]+1,o[p-1]+1,s[p-1]+2);o[p]=g,f=Math.min(f,g)}for(let p=d+1;p<=e.length;p+=1)o[p]=i;if(f>n)return;const h=s;s=o,o=h}const l=s[e.length];return l>n?void 0:l}function jo(r){return typeof r=="string"&&r.slice(-1)==="%"}function Ns(r,e){if(r==null)return 0;let n;if(typeof r=="string"){if(n=parseFloat(r),jo(r)&&(n/=100,Number.isFinite(n)))return n*e}else n=r;return Number.isFinite(n)?n>0&&n<1?n*e:n:0}function la(r){if(typeof r=="object"){let n=0,s=0,o=0,i=0;return r.vertical!=null&&Number.isFinite(r.vertical)&&(s=i=r.vertical),r.horizontal!=null&&Number.isFinite(r.horizontal)&&(o=n=r.horizontal),r.left!=null&&Number.isFinite(r.left)&&(n=r.left),r.top!=null&&Number.isFinite(r.top)&&(s=r.top),r.right!=null&&Number.isFinite(r.right)&&(o=r.right),r.bottom!=null&&Number.isFinite(r.bottom)&&(i=r.bottom),{top:s,right:o,bottom:i,left:n}}let e=0;return r!=null&&Number.isFinite(r)&&(e=r),{top:e,right:e,bottom:e,left:e}}let m0=!1,Sk=!1,xk=!1,Ek=!1,Tk=!1,_k=!1,Ok=!1,Ak=!1,Mk=!1,kk=!1,Pk=!1,Nk=!1,Ik=!1,Lk=!1,Rk=!1,$k=!1;if(typeof navigator=="object"){const r=navigator.userAgent;m0=r.indexOf("Macintosh")>=0,Sk=!!r.match(/(iPad|iPhone|iPod)/g),xk=r.indexOf("Windows")>=0,Ek=r.indexOf("MSIE")>=0,Tk=!!r.match(/Trident\/7\./),_k=!!r.match(/Edge\//),Ok=r.indexOf("Mozilla/")>=0&&r.indexOf("MSIE")<0&&r.indexOf("Edge/")<0,Mk=r.indexOf("Chrome/")>=0&&r.indexOf("Edge/")<0,kk=r.indexOf("Opera/")>=0||r.indexOf("OPR/")>=0,Pk=r.indexOf("Firefox/")>=0,Nk=r.indexOf("AppleWebKit/")>=0&&r.indexOf("Chrome/")<0&&r.indexOf("Edge/")<0,typeof document=="object"&&($k=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||r.indexOf("Opera/")>=0)}typeof window=="object"&&(Ak=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,Lk=window.PointerEvent!=null&&!m0);if(typeof document=="object"){Ik="ontouchstart"in document.documentElement;try{const r=Object.defineProperty({},"passive",{get(){Rk=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},r)}catch{}}var qi;(function(r){r.IS_MAC=m0,r.IS_IOS=Sk,r.IS_WINDOWS=xk,r.IS_IE=Ek,r.IS_IE11=Tk,r.IS_EDGE=_k,r.IS_NETSCAPE=Ok,r.IS_CHROME_APP=Ak,r.IS_CHROME=Mk,r.IS_OPERA=kk,r.IS_FIREFOX=Pk,r.IS_SAFARI=Nk,r.SUPPORT_TOUCH=Ik,r.SUPPORT_POINTER=Lk,r.SUPPORT_PASSIVE=Rk,r.NO_FOREIGNOBJECT=$k,r.SUPPORT_FOREIGNOBJECT=!r.NO_FOREIGNOBJECT})(qi||(qi={}));(function(r){function e(){const i=window.module;return i!=null&&i.hot!=null&&i.hot.status!=null?i.hot.status():"unkonwn"}r.getHMRStatus=e;function n(){return e()==="apply"}r.isApplyingHMR=n;const s={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function o(i){const l=document.createElement(s[i]||"div"),a=`on${i}`;let c=a in l;return c||(l.setAttribute(a,"return;"),c=typeof l[a]=="function"),c}r.isEventSupported=o})(qi||(qi={}));const b0=/[\t\r\n\f]/g,v0=/\S+/g,_c=r=>` ${r} `;function Oc(r){return r&&r.getAttribute&&r.getAttribute("class")||""}function df(r,e){if(r==null||e==null)return!1;const n=_c(Oc(r)),s=_c(e);return r.nodeType===1?n.replace(b0," ").includes(s):!1}function Nt(r,e){if(!(r==null||e==null)){if(typeof e=="function")return Nt(r,e(Oc(r)));if(typeof e=="string"&&r.nodeType===1){const n=e.match(v0)||[],s=_c(Oc(r)).replace(b0," ");let o=n.reduce((i,l)=>i.indexOf(_c(l))<0?`${i}${l} `:i,s);o=o.trim(),s!==o&&r.setAttribute("class",o)}}}function es(r,e){if(r!=null){if(typeof e=="function")return es(r,e(Oc(r)));if((!e||typeof e=="string")&&r.nodeType===1){const n=(e||"").match(v0)||[],s=_c(Oc(r)).replace(b0," ");let o=n.reduce((i,l)=>{const a=_c(l);return i.indexOf(a)>-1?i.replace(a," "):i},s);o=e?o.trim():"",s!==o&&r.setAttribute("class",o)}}}function Dk(r,e,n){if(!(r==null||e==null)){if(n!=null&&typeof e=="string"){n?Nt(r,e):es(r,e);return}if(typeof e=="function")return Dk(r,e(Oc(r),n),n);typeof e=="string"&&(e.match(v0)||[]).forEach(o=>{df(r,o)?es(r,o):Nt(r,o)})}}let qx=0;function rse(){return qx+=1,`v${qx}`}function y0(r){return(r.id==null||r.id==="")&&(r.id=rse()),r.id}function Gi(r){return r==null?!1:typeof r.getScreenCTM=="function"&&r instanceof SVGElement}const In={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},Gx="1.1";function Kx(r,e=document){return e.createElement(r)}function w0(r,e=In.xhtml,n=document){return n.createElementNS(e,r)}function Us(r,e=document){return w0(r,In.svg,e)}function op(r){if(r){const n=`<svg xmlns="${In.svg}" xmlns:xlink="${In.xlink}" version="${Gx}">${r}</svg>`,{documentElement:s}=sse(n,{async:!1});return s}const e=document.createElementNS(In.svg,"svg");return e.setAttributeNS(In.xmlns,"xmlns:xlink",In.xlink),e.setAttribute("version",Gx),e}function sse(r,e={}){let n;try{const s=new DOMParser;if(e.async!=null){const o=s;o.async=e.async}n=s.parseFromString(r,e.mimeType||"text/xml")}catch{n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${r}`);return n}function ose(r,e=!0){const n=r.nodeName;return e?n.toLowerCase():n.toUpperCase()}function C0(r){let e=0,n=r.previousSibling;for(;n;)n.nodeType===1&&(e+=1),n=n.previousSibling;return e}function ise(r,e){return r.querySelectorAll(e)}function lse(r,e){return r.querySelector(e)}function Vk(r,e,n){const s=r.ownerSVGElement;let o=r.parentNode;for(;o&&o!==n&&o!==s;){if(df(o,e))return o;o=o.parentNode}return null}function Fk(r,e){const n=e&&e.parentNode;return r===n||!!(n&&n.nodeType===1&&r.compareDocumentPosition(n)&16)}function Ac(r){r&&(Array.isArray(r)?r:[r]).forEach(n=>{n.parentNode&&n.parentNode.removeChild(n)})}function ff(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function hf(r,e){(Array.isArray(e)?e:[e]).forEach(s=>{s!=null&&r.appendChild(s)})}function ase(r,e){const n=r.firstChild;return n?S0(n,e):hf(r,e)}function S0(r,e){const n=r.parentNode;n&&(Array.isArray(e)?e:[e]).forEach(o=>{o!=null&&n.insertBefore(o,r)})}function cse(r,e){e!=null&&e.appendChild(r)}function Yx(r){try{return r instanceof HTMLElement}catch{return typeof r=="object"&&r.nodeType===1&&typeof r.style=="object"&&typeof r.ownerDocument=="object"}}const Bk=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust","gradientUnits"];function use(r,e){return r.getAttribute(e)}function zk(r,e){const n=Hk(e);n.ns?r.hasAttributeNS(n.ns,n.local)&&r.removeAttributeNS(n.ns,n.local):r.hasAttribute(e)&&r.removeAttribute(e)}function x0(r,e,n){if(n==null)return zk(r,e);const s=Hk(e);s.ns&&typeof n=="string"?r.setAttributeNS(s.ns,e,n):e==="id"?r.id=`${n}`:r.setAttribute(e,`${n}`)}function jk(r,e){Object.keys(e).forEach(n=>{x0(r,n,e[n])})}function Ut(r,e,n){if(e==null){const s=r.attributes,o={};for(let i=0;i<s.length;i+=1)o[s[i].name]=s[i].value;return o}if(typeof e=="string"&&n===void 0)return r.getAttribute(e);typeof e=="object"?jk(r,e):x0(r,e,n)}function Hk(r){if(r.indexOf(":")!==-1){const e=r.split(":");return{ns:In[e[0]],local:e[1]}}return{ns:null,local:r}}function _d(r){const e={};return Object.keys(r).forEach(n=>{const s=Bk.includes(n)?n:Ck(n);e[s]=r[n]}),e}function Kf(r){const e={};return r.split(";").forEach(s=>{const o=s.trim();if(o){const i=o.split("=");i.length&&(e[i[0].trim()]=i[1]?i[1].trim():"")}}),e}function uv(r,e){return Object.keys(e).forEach(n=>{if(n==="class")r[n]=r[n]?`${r[n]} ${e[n]}`:e[n];else if(n==="style"){const s=typeof r[n]=="object",o=typeof e[n]=="object";let i,l;s&&o?(i=r[n],l=e[n]):s?(i=r[n],l=Kf(e[n])):o?(i=Kf(r[n]),l=e[n]):(i=Kf(r[n]),l=Kf(e[n])),r[n]=uv(i,l)}else r[n]=e[n]}),r}function dse(r,e,n={}){const s=n.offset||0,o=[],i=[];let l,a,c=null;for(let u=0;u<r.length;u+=1){l=i[u]=r[u];for(let d=0,f=e.length;d<f;d+=1){const h=e[d],p=h.start+s,g=h.end+s;u>=p&&u<g&&(typeof l=="string"?l=i[u]={t:r[u],attrs:h.attrs}:l.attrs=uv(uv({},l.attrs),h.attrs),n.includeAnnotationIndices&&(l.annotations==null&&(l.annotations=[]),l.annotations.push(d)))}a=i[u-1],a?ln(l)&&ln(a)?(c=c,JSON.stringify(l.attrs)===JSON.stringify(a.attrs)?c.t+=l.t:(o.push(c),c=l)):ln(l)||ln(a)?(c=c,o.push(c),c=l):c=(c||"")+l:c=l}return c!=null&&o.push(c),o}function fse(r){return r.replace(/ /g," ")}var Jx;(function(r){function e(u){const d="data:";return u.substr(0,d.length)===d}r.isDataUrl=e;function n(u,d){if(!u||e(u)){setTimeout(()=>d(null,u));return}const f=()=>{d(new Error(`Failed to load image: ${u}`))},h=window.FileReader?g=>{if(g.status===200){const m=new FileReader;m.onload=v=>{const b=v.target.result;d(null,b)},m.onerror=f,m.readAsDataURL(g.response)}else f()}:g=>{const m=v=>{const C=[];for(let y=0;y<v.length;y+=32768)C.push(String.fromCharCode.apply(null,v.subarray(y,y+32768)));return C.join("")};if(g.status===200){let v=u.split(".").pop()||"png";v==="svg"&&(v="svg+xml");const b=`data:image/${v};base64,`,C=new Uint8Array(g.response),y=b+btoa(m(C));d(null,y)}else f()},p=new XMLHttpRequest;p.responseType=window.FileReader?"blob":"arraybuffer",p.open("GET",u,!0),p.addEventListener("error",f),p.addEventListener("load",()=>h(p)),p.send()}r.imageToDataUri=n;function s(u){let d=u.replace(/\s/g,"");d=decodeURIComponent(d);const f=d.indexOf(","),h=d.slice(0,f),p=h.split(":")[1].split(";")[0],g=d.slice(f+1);let m;h.indexOf("base64")>=0?m=atob(g):m=unescape(encodeURIComponent(g));const v=new Uint8Array(m.length);for(let b=0;b<m.length;b+=1)v[b]=m.charCodeAt(b);return new Blob([v],{type:p})}r.dataUriToBlob=s;function o(u,d){const f=window.navigator.msSaveBlob;if(f)f(u,d);else{const h=window.URL.createObjectURL(u),p=document.createElement("a");p.href=h,p.download=d,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(h)}}r.downloadBlob=o;function i(u,d){const f=s(u);o(f,d)}r.downloadDataUri=i;function l(u){const d=u.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return d&&d[2]?d[2].replace(/\s+/," ").split(" "):null}function a(u){const d=parseFloat(u);return Number.isNaN(d)?null:d}function c(u,d={}){let f=null;const h=y=>(f==null&&(f=l(u)),f!=null?a(f[y]):null),p=y=>{const w=u.match(y);return w&&w[2]?a(w[2]):null};let g=d.width;if(g==null&&(g=p(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),g==null&&(g=h(2)),g==null)throw new Error("Can not parse width from svg string");let m=d.height;if(m==null&&(m=p(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),m==null&&(m=h(3)),m==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(u).replace(/'/g,"%27").replace(/"/g,"%22")}`}r.svgToDataUrl=c})(Jx||(Jx={}));let Pl;const hse={px(r){return r},mm(r){return Pl*r},cm(r){return Pl*r*10},in(r){return Pl*r*25.4},pt(r){return Pl*(25.4*r/72)},pc(r){return Pl*(25.4*r/6)}};var Xx;(function(r){function e(s,o,i){const l=document.createElement("div"),a=l.style;a.display="inline-block",a.position="absolute",a.left="-15000px",a.top="-15000px",a.width=s+(i||"px"),a.height=o+(i||"px"),document.body.appendChild(l);const c=l.getBoundingClientRect(),u={width:c.width||0,height:c.height||0};return document.body.removeChild(l),u}r.measure=e;function n(s,o){Pl==null&&(Pl=e("1","1","mm").width);const i=o?hse[o]:null;return i?i(s):s}r.toPx=n})(Xx||(Xx={}));const pse=/-(.)/g;function gse(r){return r.replace(pse,(e,n)=>n.toUpperCase())}const $m={},Zx=["webkit","ms","moz","o"],Uk=typeof document<"u"?document.createElement("div").style:{};function mse(r){for(let e=0;e<Zx.length;e+=1){const n=Zx[e]+r;if(n in Uk)return n}return null}function bse(r){const e=gse(r);if($m[e]==null){const n=e.charAt(0).toUpperCase()+e.slice(1);$m[e]=e in Uk?e:mse(n)}return $m[e]}function Qx(r,e){const n=r.ownerDocument&&r.ownerDocument.defaultView&&r.ownerDocument.defaultView.opener?r.ownerDocument.defaultView.getComputedStyle(r,null):window.getComputedStyle(r,null);return n&&e?n.getPropertyValue(e)||n[e]:n}const vse={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function yse(r){return/^--/.test(r)}function wse(r,e,n){const s=window.getComputedStyle(r,null);return n?s.getPropertyValue(e)||void 0:s[e]||r.style[e]}function Cse(r,e){return!vse[r]&&typeof e=="number"?`${e}px`:e}function pf(r,e,n){if(typeof e=="string"){const s=yse(e);if(s||(e=bse(e)),n===void 0)return wse(r,e,s);s||(n=Cse(e,n));const o=r.style;s?o.setProperty(e,n):o[e]=n;return}for(const s in e)pf(r,s,e[s])}const ip=new WeakMap;function eE(r,e){const n=Up(e),s=ip.get(r);if(s)return s[n]}function Sse(r,e,n){const s=Up(e),o=ip.get(r);o?o[s]=n:ip.set(r,{[s]:n})}function aa(r,e,n){if(!e){const s={};return Object.keys(ip).forEach(o=>{s[o]=eE(r,o)}),s}if(typeof e=="string"){if(n===void 0)return eE(r,e);Sse(r,e,n);return}for(const s in e)aa(r,s,e[s])}class ut{get[Symbol.toStringTag](){return ut.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}constructor(e,n,s){if(!e)throw new TypeError("Invalid element to create vector");let o;if(ut.isVector(e))o=e.node;else if(typeof e=="string")if(e.toLowerCase()==="svg")o=op();else if(e[0]==="<"){const i=op(e);o=document.importNode(i.firstChild,!0)}else o=document.createElementNS(In.svg,e);else o=e;this.node=o,n&&this.setAttributes(n),s&&this.append(s)}transform(e,n){return e==null?Mc(this.node):(Mc(this.node,e,n),this)}translate(e,n=0,s={}){return e==null?nE(this.node):(nE(this.node,e,n,s),this)}rotate(e,n,s,o={}){return e==null?hv(this.node):(hv(this.node,e,n,s,o),this)}scale(e,n){return e==null?pv(this.node):(pv(this.node,e,n),this)}getTransformToElement(e){const n=ut.toNode(e);return Gu(this.node,n)}removeAttribute(e){return zk(this.node,e),this}getAttribute(e){return use(this.node,e)}setAttribute(e,n){return x0(this.node,e,n),this}setAttributes(e){return jk(this.node,e),this}attr(e,n){return e==null?Ut(this.node):typeof e=="string"&&n===void 0?Ut(this.node,e):(typeof e=="object"?Ut(this.node,e):Ut(this.node,e,n),this)}svg(){return this.node instanceof SVGSVGElement?this:ut.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,n=e.node.getElementsByTagName("defs")[0];return n?ut.create(n):ut.create("defs").appendTo(e)}text(e,n={}){return qk(this.node,e,n),this}tagName(){return ose(this.node)}clone(){return ut.create(this.node.cloneNode(!0))}remove(){return Ac(this.node),this}empty(){return ff(this.node),this}append(e){return hf(this.node,ut.toNodes(e)),this}appendTo(e){return cse(this.node,ut.isVector(e)?e.node:e),this}prepend(e){return ase(this.node,ut.toNodes(e)),this}before(e){return S0(this.node,ut.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(ut.toNode(e),this.node),ut.create(e)}first(){return this.node.firstChild?ut.create(this.node.firstChild):null}last(){return this.node.lastChild?ut.create(this.node.lastChild):null}get(e){const n=this.node.childNodes[e];return n?ut.create(n):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(ut.toNode(e))}find(e){const n=[],s=ise(this.node,e);if(s)for(let o=0,i=s.length;o<i;o+=1)n.push(ut.create(s[o]));return n}findOne(e){const n=lse(this.node,e);return n?ut.create(n):null}findParentByClass(e,n){const s=Vk(this.node,e,n);return s?ut.create(s):null}matches(e){const n=this.node;this.node.matches;const s=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return s&&s.call(n,e)}contains(e){return Fk(this.node,ut.isVector(e)?e.node:e)}wrap(e){const n=ut.create(e),s=this.node.parentNode;return s!=null&&s.insertBefore(n.node,this.node),n.append(this)}parent(e){let n=this;if(n.node.parentNode==null)return null;if(n=ut.create(n.node.parentNode),e==null)return n;do if(typeof e=="string"?n.matches(e):n instanceof e)return n;while(n=ut.create(n.node.parentNode));return n}children(){const e=this.node.childNodes,n=[];for(let s=0;s<e.length;s+=1)e[s].nodeType===1&&n.push(ut.create(e[s]));return n}eachChild(e,n){const s=this.children();for(let o=0,i=s.length;o<i;o+=1)e.call(s[o],s[o],o,s),n&&s[o].eachChild(e,n);return this}index(){return C0(this.node)}hasClass(e){return df(this.node,e)}addClass(e){return Nt(this.node,e),this}removeClass(e){return es(this.node,e),this}toggleClass(e,n){return Dk(this.node,e,n),this}toLocalPoint(e,n){return jse(this.node,e,n)}sample(e=1){return this.node instanceof SVGPathElement?_se(this.node,e):[]}toPath(){return ut.create(Ise(this.node))}toPathData(){return Jk(this.node)}}(function(r){r.toStringTag=`X6.${r.name}`;function e(l){if(l==null)return!1;if(l instanceof r)return!0;const a=l[Symbol.toStringTag],c=l;return(a==null||a===r.toStringTag)&&c.node instanceof SVGElement&&typeof c.sample=="function"&&typeof c.toPath=="function"}r.isVector=e;function n(l,a,c){return new r(l,a,c)}r.create=n;function s(l){if(l[0]==="<"){const a=op(l),c=[];for(let u=0,d=a.childNodes.length;u<d;u+=1){const f=a.childNodes[u];c.push(n(document.importNode(f,!0)))}return c}return[n(l)]}r.createVectors=s;function o(l){return e(l)?l.node:l}r.toNode=o;function i(l){return Array.isArray(l)?l.map(a=>o(a)):[o(l)]}r.toNodes=i})(ut||(ut={}));function xse(r,e){const n=ut.create(e),s=ut.create("textPath"),o=r.d;if(o&&r["xlink:href"]===void 0){const i=ut.create("path").attr("d",o).appendTo(n.defs());s.attr("xlink:href",`#${i.id}`)}return typeof r=="object"&&s.attr(r),s.node}function Ese(r,e,n){const s=n.eol,o=n.baseSize,i=n.lineHeight;let l=0,a;const c={},u=e.length-1;for(let d=0;d<=u;d+=1){let f=e[d],h=null;if(typeof f=="object"){const p=f.attrs,g=ut.create("tspan",p);a=g.node;let m=f.t;s&&d===u&&(m+=s),a.textContent=m;const v=p.class;v&&g.addClass(v),n.includeAnnotationIndices&&g.attr("annotations",f.annotations.join(",")),h=parseFloat(p["font-size"]),h===void 0&&(h=o),h&&h>l&&(l=h)}else s&&d===u&&(f+=s),a=document.createTextNode(f||" "),o&&o>l&&(l=o);r.appendChild(a)}return l&&(c.maxFontSize=l),i?c.lineHeight=i:l&&(c.lineHeight=l*1.2),c}const Wk=/em$/;function Yf(r,e){const n=parseFloat(r);return Wk.test(r)?n*e:n}function Tse(r,e,n,s){if(!Array.isArray(e))return 0;const o=e.length;if(!o)return 0;let i=e[0];const l=Yf(i.maxFontSize,n)||n;let a=0;const c=Yf(s,n);for(let f=1;f<o;f+=1){i=e[f];const h=Yf(i.lineHeight,n)||c;a+=h}const u=Yf(i.maxFontSize,n)||n;let d;switch(r){case"middle":d=l/2-.15*u-a/2;break;case"bottom":d=-(.25*u)-a;break;case"top":default:d=.8*l;break}return d}function qk(r,e,n={}){e=fse(e);const s=n.eol;let o=n.textPath;const i=n.textVerticalAnchor,l=i==="middle"||i==="bottom"||i==="top";let a=n.x;a===void 0&&(a=r.getAttribute("x")||0);const c=n.includeAnnotationIndices;let u=n.annotations;u&&!Array.isArray(u)&&(u=[u]);const d=n.lineHeight,f=d==="auto",h=f?"1.5em":d||"1em";let p=!0;const g=r.childNodes;if(g.length===1){const A=g[0];A&&A.tagName.toUpperCase()==="TITLE"&&(p=!1)}p&&ff(r),Ut(r,{"xml:space":"preserve",display:e||n.displayEmpty?null:"none"});const m=Ut(r,"font-size");let v=parseFloat(m);v||(v=16,(l||u)&&!m&&Ut(r,"font-size",`${v}`));let b;o?(typeof o=="string"&&(o={d:o}),b=xse(o,r)):b=document.createDocumentFragment();let C,y=0,w;const x=e.split(`
`),E=[],_=x.length-1;for(let A=0;A<=_;A+=1){C=h;let k="v-line";const P=Us("tspan");let $,B=x[A];if(B)if(u){const W=dse(B,u,{offset:-y,includeAnnotationIndices:c});$=Ese(P,W,{eol:A!==_&&s,baseSize:v,lineHeight:f?null:h,includeAnnotationIndices:c});const I=$.lineHeight;I&&f&&A!==0&&(C=I),A===0&&(w=$.maxFontSize*.8)}else s&&A!==_&&(B+=s),P.textContent=B;else{P.textContent="-",k+=" v-empty-line";const W=P.style;W.fillOpacity=0,W.strokeOpacity=0,u&&($={})}$&&E.push($),A>0&&P.setAttribute("dy",C),(A>0||o)&&P.setAttribute("x",a),P.className.baseVal=k,b.appendChild(P),y+=B.length+1}if(l)if(u)C=Tse(i,E,v,h);else if(i==="top")C="0.8em";else{let A;switch(_>0?(A=parseFloat(h)||1,A*=_,Wk.test(h)||(A/=v)):A=0,i){case"middle":C=`${.3-A/2}em`;break;case"bottom":C=`${-A-.3}em`;break}}else i===0?C="0em":i?C=i:(C=0,r.getAttribute("y")==null&&r.setAttribute("y",`${w||"0.8em"}`));b.firstChild.setAttribute("dy",C),r.appendChild(b)}function qu(r,e={}){const n=document.createElement("canvas").getContext("2d");if(!r)return{width:0};const s=[],o=e["font-size"]?`${parseFloat(e["font-size"])}px`:"14px";return s.push(e["font-style"]||"normal"),s.push(e["font-variant"]||"normal"),s.push(e["font-weight"]||400),s.push(o),s.push(e["font-family"]||"sans-serif"),n.font=s.join(" "),n.measureText(r)}function tE(r,e,n,s={}){if(e>=n)return[r,""];const o=r.length,i={};let l=Math.round(e/n*o-1);for(l<0&&(l=0);l>=0&&l<o;){const a=r.slice(0,l),c=i[a]||qu(a,s).width,u=r.slice(0,l+1),d=i[u]||qu(u,s).width;if(i[a]=c,i[u]=d,c>e)l-=1;else if(d<=e)l+=1;else break}return[r.slice(0,l),r.slice(l)]}function Gk(r,e,n={},s={}){const o=e.width,i=e.height,l=s.eol||`
`,a=n.fontSize||14,c=n.lineHeight?parseFloat(n.lineHeight):Math.ceil(a*1.4),u=Math.floor(i/c);if(r.indexOf(l)>-1){const v=sp(),b=[];return r.split(l).map(C=>{const y=Gk(C,Object.assign(Object.assign({},e),{height:Number.MAX_SAFE_INTEGER}),n,Object.assign(Object.assign({},s),{eol:v}));y&&b.push(...y.split(v))}),b.slice(0,u).join(l)}const{width:d}=qu(r,n);if(d<o)return r;const f=[];let h=r,p=d,g=s.ellipsis,m=0;g&&(typeof g!="string"&&(g="…"),m=qu(g,n).width);for(let v=0;v<u;v+=1)if(p>o)if(v===u-1){const[C]=tE(h,o-m,p,n);f.push(g?`${C}${g}`:C)}else{const[C,y]=tE(h,o,p,n);f.push(C),h=y,p=qu(h,n).width}else{f.push(h);break}return f.join(l)}const dv=.551784;function qn(r,e,n=NaN){const s=r.getAttribute(e);if(s==null)return n;const o=parseFloat(s);return Number.isNaN(o)?n:o}function _se(r,e=1){const n=r.getTotalLength(),s=[];let o=0,i;for(;o<n;)i=r.getPointAtLength(o),s.push({distance:o,x:i.x,y:i.y}),o+=e;return s}function Ose(r){return["M",qn(r,"x1"),qn(r,"y1"),"L",qn(r,"x2"),qn(r,"y2")].join(" ")}function Ase(r){const e=lp(r);return e.length===0?null:`${Kk(e)} Z`}function Mse(r){const e=lp(r);return e.length===0?null:Kk(e)}function Kk(r){return`M ${r.map(n=>`${n.x} ${n.y}`).join(" L")}`}function lp(r){const e=[],n=r.points;if(n)for(let s=0,o=n.numberOfItems;s<o;s+=1)e.push(n.getItem(s));return e}function kse(r){const e=qn(r,"cx",0),n=qn(r,"cy",0),s=qn(r,"r"),o=s*dv;return["M",e,n-s,"C",e+o,n-s,e+s,n-o,e+s,n,"C",e+s,n+o,e+o,n+s,e,n+s,"C",e-o,n+s,e-s,n+o,e-s,n,"C",e-s,n-o,e-o,n-s,e,n-s,"Z"].join(" ")}function Pse(r){const e=qn(r,"cx",0),n=qn(r,"cy",0),s=qn(r,"rx"),o=qn(r,"ry")||s,i=s*dv,l=o*dv;return["M",e,n-o,"C",e+i,n-o,e+s,n-l,e+s,n,"C",e+s,n+l,e+i,n+o,e,n+o,"C",e-i,n+o,e-s,n+l,e-s,n,"C",e-s,n-l,e-i,n-o,e,n-o,"Z"].join(" ")}function Nse(r){return Yk({x:qn(r,"x",0),y:qn(r,"y",0),width:qn(r,"width",0),height:qn(r,"height",0),rx:qn(r,"rx",0),ry:qn(r,"ry",0)})}function Yk(r){let e;const n=r.x,s=r.y,o=r.width,i=r.height,l=Math.min(r.rx||r["top-rx"]||0,o/2),a=Math.min(r.rx||r["bottom-rx"]||0,o/2),c=Math.min(r.ry||r["top-ry"]||0,i/2),u=Math.min(r.ry||r["bottom-ry"]||0,i/2);return l||a||c||u?e=["M",n,s+c,"v",i-c-u,"a",a,u,0,0,0,a,u,"h",o-2*a,"a",a,u,0,0,0,a,-u,"v",-(i-u-c),"a",l,c,0,0,0,-l,-c,"h",-(o-2*l),"a",l,c,0,0,0,-l,c,"Z"]:e=["M",n,s,"H",n+o,"V",s+i,"H",n,"V",s,"Z"],e.join(" ")}function Ise(r){const e=Us("path");Ut(e,Ut(r));const n=Jk(r);return n&&e.setAttribute("d",n),e}function Jk(r){const e=r.tagName.toLowerCase();switch(e){case"path":return r.getAttribute("d");case"line":return Ose(r);case"polygon":return Ase(r);case"polyline":return Mse(r);case"ellipse":return Pse(r);case"circle":return kse(r);case"rect":return Nse(r)}throw new Error(`"${e}" cannot be converted to svg path element.`)}const Lse=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,Xk=/[ ,]+/,Rse=/^(\w+)\((.*)\)/;function $se(r,e){const s=Us("svg").createSVGPoint();return s.x=r,s.y=e,s}function Bn(r){const n=Us("svg").createSVGMatrix();if(r!=null){const s=r,o=n;for(const i in s)o[i]=s[i]}return n}function wu(r){const e=Us("svg");return r!=null?(r instanceof DOMMatrix||(r=Bn(r)),e.createSVGTransformFromMatrix(r)):e.createSVGTransform()}function Od(r){let e=Bn();const n=r!=null&&r.match(Lse);if(!n)return e;for(let s=0,o=n.length;s<o;s+=1){const l=n[s].match(Rse);if(l){let a,c,u,d,f,h=Bn();const p=l[2].split(Xk);switch(l[1].toLowerCase()){case"scale":a=parseFloat(p[0]),c=p[1]===void 0?a:parseFloat(p[1]),h=h.scaleNonUniform(a,c);break;case"translate":u=parseFloat(p[0]),d=parseFloat(p[1]),h=h.translate(u,d);break;case"rotate":f=parseFloat(p[0]),u=parseFloat(p[1])||0,d=parseFloat(p[2])||0,u!==0||d!==0?h=h.translate(u,d).rotate(f).translate(-u,-d):h=h.rotate(f);break;case"skewx":f=parseFloat(p[0]),h=h.skewX(f);break;case"skewy":f=parseFloat(p[0]),h=h.skewY(f);break;case"matrix":h.a=parseFloat(p[0]),h.b=parseFloat(p[1]),h.c=parseFloat(p[2]),h.d=parseFloat(p[3]),h.e=parseFloat(p[4]),h.f=parseFloat(p[5]);break;default:continue}e=e.multiply(h)}}return e}function ru(r){const e=r||{},n=e.a!=null?e.a:1,s=e.b!=null?e.b:0,o=e.c!=null?e.c:0,i=e.d!=null?e.d:1,l=e.e!=null?e.e:0,a=e.f!=null?e.f:0;return`matrix(${n},${s},${o},${i},${l},${a})`}function wg(r){let e,n,s;if(r){const i=Xk;if(r.trim().indexOf("matrix")>=0){const l=Od(r),a=Dse(l);e=[a.translateX,a.translateY],n=[a.rotation],s=[a.scaleX,a.scaleY];const c=[];(e[0]!==0||e[1]!==0)&&c.push(`translate(${e.join(",")})`),(s[0]!==1||s[1]!==1)&&c.push(`scale(${s.join(",")})`),n[0]!==0&&c.push(`rotate(${n[0]})`),r=c.join(" ")}else{const l=r.match(/translate\((.*?)\)/);l&&(e=l[1].split(i));const a=r.match(/rotate\((.*?)\)/);a&&(n=a[1].split(i));const c=r.match(/scale\((.*?)\)/);c&&(s=c[1].split(i))}}const o=s&&s[0]?parseFloat(s[0]):1;return{raw:r||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:o,sy:s&&s[1]?parseFloat(s[1]):o}}}function fv(r,e){const n=e.x*r.a+e.y*r.c+0,s=e.x*r.b+e.y*r.d+0;return{x:n,y:s}}function Dse(r){const e=fv(r,{x:0,y:1}),n=fv(r,{x:1,y:0}),s=180/Math.PI*Math.atan2(e.y,e.x)-90,o=180/Math.PI*Math.atan2(n.y,n.x);return{skewX:s,skewY:o,translateX:r.e,translateY:r.f,scaleX:Math.sqrt(r.a*r.a+r.b*r.b),scaleY:Math.sqrt(r.c*r.c+r.d*r.d),rotation:s}}function Vse(r){let e,n,s,o;return r?(e=r.a==null?1:r.a,o=r.d==null?1:r.d,n=r.b,s=r.c):e=o=1,{sx:n?Math.sqrt(e*e+n*n):e,sy:s?Math.sqrt(s*s+o*o):o}}function Fse(r){let e={x:0,y:1};r&&(e=fv(r,e));const n=180*Math.atan2(e.y,e.x)/Math.PI%360-90;return{angle:n%360+(n<0?360:0)}}function Bse(r){return{tx:r&&r.e||0,ty:r&&r.f||0}}function Mc(r,e,n={}){if(e==null)return Od(Ut(r,"transform"));if(n.absolute){r.setAttribute("transform",ru(e));return}const s=r.transform,o=wu(e);s.baseVal.appendItem(o)}function nE(r,e,n=0,s={}){let o=Ut(r,"transform");const i=wg(o);if(e==null)return i.translation;o=i.raw,o=o.replace(/translate\([^)]*\)/g,"").trim();const l=s.absolute?e:i.translation.tx+e,a=s.absolute?n:i.translation.ty+n,c=`translate(${l},${a})`;r.setAttribute("transform",`${c} ${o}`.trim())}function hv(r,e,n,s,o={}){let i=Ut(r,"transform");const l=wg(i);if(e==null)return l.rotation;i=l.raw,i=i.replace(/rotate\([^)]*\)/g,"").trim(),e%=360;const a=o.absolute?e:l.rotation.angle+e,c=n!=null&&s!=null?`,${n},${s}`:"",u=`rotate(${a}${c})`;r.setAttribute("transform",`${i} ${u}`.trim())}function pv(r,e,n){let s=Ut(r,"transform");const o=wg(s);if(e==null)return o.scale;n=n??e,s=o.raw,s=s.replace(/scale\([^)]*\)/g,"").trim();const i=`scale(${e},${n})`;r.setAttribute("transform",`${s} ${i}`.trim())}function Gu(r,e){if(Gi(e)&&Gi(r)){const n=e.getScreenCTM(),s=r.getScreenCTM();if(n&&s)return n.inverse().multiply(s)}return Bn()}function zse(r,e){let n=Bn();if(Gi(e)&&Gi(r)){let s=r;const o=[];for(;s&&s!==e;){const i=s.getAttribute("transform")||null,l=Od(i);o.push(l),s=s.parentNode}o.reverse().forEach(i=>{n=n.multiply(i)})}return n}function jse(r,e,n){const s=r instanceof SVGSVGElement?r:r.ownerSVGElement,o=s.createSVGPoint();o.x=e,o.y=n;try{const i=s.getScreenCTM(),l=o.matrixTransform(i.inverse()),a=Gu(r,s).inverse();return l.matrixTransform(a)}catch{return o}}var Jr;(function(r){const e={};function n(i){return e[i]||{}}r.get=n;function s(i,l){e[i]=l}r.register=s;function o(i){delete e[i]}r.unregister=o})(Jr||(Jr={}));var Fl;(function(r){const e=new WeakMap;function n(i){return e.has(i)||e.set(i,{events:Object.create(null)}),e.get(i)}r.ensure=n;function s(i){return e.get(i)}r.get=s;function o(i){return e.delete(i)}r.remove=o})(Fl||(Fl={}));var mt;(function(r){r.returnTrue=()=>!0,r.returnFalse=()=>!1;function e(o){o.stopPropagation()}r.stopPropagationCallback=e;function n(o,i,l){o.addEventListener!=null&&o.addEventListener(i,l)}r.addEventListener=n;function s(o,i,l){o.removeEventListener!=null&&o.removeEventListener(i,l)}r.removeEventListener=s})(mt||(mt={}));(function(r){const e=/[^\x20\t\r\n\f]+/g,n=/^([^.]*)(?:\.(.+)|)/;function s(a){return(a||"").match(e)||[""]}r.splitType=s;function o(a){const c=n.exec(a)||[];return{originType:c[1]?c[1].trim():c[1],namespaces:c[2]?c[2].split(".").map(u=>u.trim()).sort():[]}}r.normalizeType=o;function i(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType}r.isValidTarget=i;function l(a,c){if(c){const u=a;return u.querySelector!=null&&u.querySelector(c)!=null}return!0}r.isValidSelector=l})(mt||(mt={}));(function(r){let e=0;const n=new WeakMap;function s(a){return n.has(a)||(n.set(a,e),e+=1),n.get(a)}r.ensureHandlerId=s;function o(a){return n.get(a)}r.getHandlerId=o;function i(a){return n.delete(a)}r.removeHandlerId=i;function l(a,c){return n.set(a,c)}r.setHandlerId=l})(mt||(mt={}));(function(r){function e(n,s){const o=[],i=Fl.get(n),l=i&&i.events&&i.events[s.type],a=l&&l.handlers||[],c=l?l.delegateCount:0;if(c>0&&!(s.type==="click"&&typeof s.button=="number"&&s.button>=1)){for(let u=s.target;u!==n;u=u.parentNode||n)if(u.nodeType===1&&!(s.type==="click"&&u.disabled===!0)){const d=[],f={};for(let h=0;h<c;h+=1){const p=a[h],g=p.selector;if(g!=null&&f[g]==null){const m=n,v=[];m.querySelectorAll(g).forEach(b=>{v.push(b)}),f[g]=v.includes(u)}f[g]&&d.push(p)}d.length&&o.push({elem:u,handlers:d})}}return c<a.length&&o.push({elem:n,handlers:a.slice(c)}),o}r.getHandlerQueue=e})(mt||(mt={}));(function(r){function e(n){return n!=null&&n===n.window}r.isWindow=e})(mt||(mt={}));(function(r){function e(n,s){const o=n.nodeType===9?n.documentElement:n,i=s&&s.parentNode;return n===i||!!(i&&i.nodeType===1&&(o.contains?o.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}r.contains=e})(mt||(mt={}));class so{constructor(e,n){this.isDefaultPrevented=mt.returnFalse,this.isPropagationStopped=mt.returnFalse,this.isImmediatePropagationStopped=mt.returnFalse,this.isSimulated=!1,this.preventDefault=()=>{const s=this.originalEvent;this.isDefaultPrevented=mt.returnTrue,s&&!this.isSimulated&&s.preventDefault()},this.stopPropagation=()=>{const s=this.originalEvent;this.isPropagationStopped=mt.returnTrue,s&&!this.isSimulated&&s.stopPropagation()},this.stopImmediatePropagation=()=>{const s=this.originalEvent;this.isImmediatePropagationStopped=mt.returnTrue,s&&!this.isSimulated&&s.stopImmediatePropagation(),this.stopPropagation()},typeof e=="string"?this.type=e:e.type&&(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?mt.returnTrue:mt.returnFalse,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.timeStamp=e.timeStamp),n&&Object.assign(this,n),this.timeStamp||(this.timeStamp=Date.now())}}(function(r){function e(n){return n instanceof r?n:new r(n)}r.create=e})(so||(so={}));(function(r){function e(n,s){Object.defineProperty(r.prototype,n,{enumerable:!0,configurable:!0,get:typeof s=="function"?function(){if(this.originalEvent)return s(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set(o){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:o})}})}r.addProperty=e})(so||(so={}));(function(r){const e={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(e).forEach(n=>r.addProperty(n,e[n]))})(so||(so={}));(function(r){Jr.register("load",{noBubble:!0})})();(function(r){Jr.register("beforeunload",{postDispatch(e,n){n.result!==void 0&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}})})();(function(r){Jr.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle(e,n){let s;const o=n.relatedTarget,i=n.handleObj;return(!o||o!==e&&!mt.contains(e,o))&&(n.type=i.originType,s=i.handler.call(e,n),n.type="mouseover"),s}}),Jr.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle(e,n){let s;const o=n.relatedTarget,i=n.handleObj;return(!o||o!==e&&!mt.contains(e,o))&&(n.type=i.originType,s=i.handler.call(e,n),n.type="mouseout"),s}})})();var Hse=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},Ad;(function(r){let e;function n(l,a,c,u,d){if(!mt.isValidTarget(l))return;let f;if(typeof c!="function"){const{handler:m,selector:v}=c,b=Hse(c,["handler","selector"]);c=m,d=v,f=b}const h=Fl.ensure(l);let p=h.handler;p==null&&(p=h.handler=function(m,...v){return e!==m.type?o(l,m,...v):void 0});const g=mt.ensureHandlerId(c);mt.splitType(a).forEach(m=>{const{originType:v,namespaces:b}=mt.normalizeType(m);if(!v)return;let C=v,y=Jr.get(C);C=(d?y.delegateType:y.bindType)||C,y=Jr.get(C);const w=Object.assign({type:C,originType:v,data:u,selector:d,guid:g,handler:c,namespace:b.join(".")},f),x=h.events;let E=x[C];E||(E=x[C]={handlers:[],delegateCount:0},(!y.setup||y.setup(l,u,b,p)===!1)&&mt.addEventListener(l,C,p)),y.add&&(mt.removeHandlerId(w.handler),y.add(l,w),mt.setHandlerId(w.handler,g)),d?(E.handlers.splice(E.delegateCount,0,w),E.delegateCount+=1):E.handlers.push(w)})}r.on=n;function s(l,a,c,u,d){const f=Fl.get(l);if(!f)return;const h=f.events;h&&(mt.splitType(a).forEach(p=>{const{originType:g,namespaces:m}=mt.normalizeType(p);if(!g){Object.keys(h).forEach(x=>{s(l,x+p,c,u,!0)});return}let v=g;const b=Jr.get(v);v=(u?b.delegateType:b.bindType)||v;const C=h[v];if(!C)return;const y=m.length>0?new RegExp(`(^|\\.)${m.join("\\.(?:.*\\.|)")}(\\.|$)`):null,w=C.handlers.length;for(let x=C.handlers.length-1;x>=0;x-=1){const E=C.handlers[x];(d||g===E.originType)&&(!c||mt.getHandlerId(c)===E.guid)&&(y==null||E.namespace&&y.test(E.namespace))&&(u==null||u===E.selector||u==="**"&&E.selector)&&(C.handlers.splice(x,1),E.selector&&(C.delegateCount-=1),b.remove&&b.remove(l,E))}w&&C.handlers.length===0&&((!b.teardown||b.teardown(l,m,f.handler)===!1)&&mt.removeEventListener(l,v,f.handler),delete h[v])}),Object.keys(h).length===0&&Fl.remove(l))}r.off=s;function o(l,a,...c){const u=so.create(a);u.delegateTarget=l;const d=Jr.get(u.type);if(d.preDispatch&&d.preDispatch(l,u)===!1)return;const f=mt.getHandlerQueue(l,u);for(let h=0,p=f.length;h<p&&!u.isPropagationStopped();h+=1){const g=f[h];u.currentTarget=g.elem;for(let m=0,v=g.handlers.length;m<v&&!u.isImmediatePropagationStopped();m+=1){const b=g.handlers[m];if(u.rnamespace==null||b.namespace&&u.rnamespace.test(b.namespace)){u.handleObj=b,u.data=b.data;const C=Jr.get(b.originType).handle,y=C?C(g.elem,u,...c):b.handler.call(g.elem,u,...c);y!==void 0&&(u.result=y,y===!1&&(u.preventDefault(),u.stopPropagation()))}}}return d.postDispatch&&d.postDispatch(l,u),u.result}r.dispatch=o;function i(l,a,c,u){let d=l,f=typeof l=="string"?l:l.type,h=typeof l=="string"||d.namespace==null?[]:d.namespace.split(".");const p=c;if(p.nodeType===3||p.nodeType===8)return;f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort());const g=f.indexOf(":")<0&&`on${f}`;d=l instanceof so?l:new so(f,typeof l=="object"?l:null),d.namespace=h.join("."),d.rnamespace=d.namespace?new RegExp(`(^|\\.)${h.join("\\.(?:.*\\.|)")}(\\.|$)`):null,d.result=void 0,d.target||(d.target=p);const m=[d];Array.isArray(a)?m.push(...a):m.push(a);const v=Jr.get(f);if(!u&&v.trigger&&v.trigger(p,d,a)===!1)return;let b;const C=[p];if(!u&&!v.noBubble&&!mt.isWindow(p)){b=v.delegateType||f;let w=p,x=p.parentNode;for(;x!=null;)C.push(x),w=x,x=x.parentNode;const E=p.ownerDocument||document;if(w===E){const _=w.defaultView||w.parentWindow||window;C.push(_)}}let y=p;for(let w=0,x=C.length;w<x&&!d.isPropagationStopped();w+=1){const E=C[w];y=E,d.type=w>1?b:v.bindType||f;const _=Fl.get(E);_&&_.events[d.type]&&_.handler&&_.handler.call(E,...m);const M=g&&E[g]||null;M&&mt.isValidTarget(E)&&(d.result=M.call(E,...m),d.result===!1&&d.preventDefault())}if(d.type=f,!u&&!d.isDefaultPrevented()){const w=v.preventDefault;if((w==null||w(C.pop(),d,a)===!1)&&mt.isValidTarget(p)&&g&&typeof p[f]=="function"&&!mt.isWindow(p)){const x=p[g];x&&(p[g]=null),e=f,d.isPropagationStopped()&&y.addEventListener(f,mt.stopPropagationCallback),p[f](),d.isPropagationStopped()&&y.removeEventListener(f,mt.stopPropagationCallback),e=void 0,x&&(p[g]=x)}}return d.result}r.trigger=i})(Ad||(Ad={}));var Hn;(function(r){function e(i,l,a,c,u){return Ku.on(i,l,a,c,u),i}r.on=e;function n(i,l,a,c,u){return Ku.on(i,l,a,c,u,!0),i}r.once=n;function s(i,l,a,c){return Ku.off(i,l,a,c),i}r.off=s;function o(i,l,a,c){return Ad.trigger(l,a,i,c),i}r.trigger=o})(Hn||(Hn={}));var Ku;(function(r){function e(s,o,i,l,a,c){if(typeof o=="object"){typeof i!="string"&&(l=l||i,i=void 0),Object.keys(o).forEach(u=>e(s,u,i,l,o[u],c));return}if(l==null&&a==null?(a=i,l=i=void 0):a==null&&(typeof i=="string"?(a=l,l=void 0):(a=l,l=i,i=void 0)),a===!1)a=mt.returnFalse;else if(!a)return;if(c){const u=a;a=function(d,...f){return r.off(s,d),u.call(this,d,...f)},mt.setHandlerId(a,mt.ensureHandlerId(u))}Ad.on(s,o,a,l,i)}r.on=e;function n(s,o,i,l){const a=o;if(a&&a.preventDefault!=null&&a.handleObj!=null){const c=a.handleObj;n(a.delegateTarget,c.namespace?`${c.originType}.${c.namespace}`:c.originType,c.selector,c.handler);return}if(typeof o=="object"){const c=o;Object.keys(c).forEach(u=>n(s,u,i,c[u]));return}(i===!1||typeof i=="function")&&(l=i,i=void 0),l===!1&&(l=mt.returnFalse),Ad.off(s,o,l,i)}r.off=n})(Ku||(Ku={}));class Zk{constructor(e,n,s){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=qi.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=n,this.onWheelGuard=s,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}disable(){this.target.removeEventListener(this.eventName,this.onWheel)}onWheel(e){if(this.onWheelGuard!=null&&!this.onWheelGuard(e))return;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault();let n;(this.deltaX!==0||this.deltaY!==0)&&(e.stopPropagation(),n=!0),n===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}function Qk(r,e=60){let n=null;return(...s)=>{n&&clearTimeout(n),n=window.setTimeout(()=>{r.apply(this,s)},e)}}function Use(r){let e=null,n=[];const s=()=>{if(getComputedStyle(r).position==="static"){const u=r.style;u.position="relative"}const c=document.createElement("object");return c.onload=()=>{c.contentDocument.defaultView.addEventListener("resize",o),o()},c.style.display="block",c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.height="100%",c.style.width="100%",c.style.overflow="hidden",c.style.pointerEvents="none",c.style.zIndex="-1",c.style.opacity="0",c.setAttribute("tabindex","-1"),c.type="text/html",r.appendChild(c),c.data="about:blank",c},o=Qk(()=>{n.forEach(c=>c(r))}),i=c=>{e||(e=s()),n.indexOf(c)===-1&&n.push(c)},l=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",o),e.parentNode.removeChild(e),e=null,n=[])};return{element:r,bind:i,destroy:l,unbind:c=>{const u=n.indexOf(c);u!==-1&&n.splice(u,1),n.length===0&&e&&l()}}}function Wse(r){let e=null,n=[];const s=Qk(()=>{n.forEach(c=>{c(r)})}),o=()=>{const c=new ResizeObserver(s);return c.observe(r),s(),c},i=c=>{e||(e=o()),n.indexOf(c)===-1&&n.push(c)},l=()=>{e&&(e.disconnect(),n=[],e=null)};return{element:r,bind:i,destroy:l,unbind:c=>{const u=n.indexOf(c);u!==-1&&n.splice(u,1),n.length===0&&e&&l()}}}const qse=typeof ResizeObserver<"u"?Wse:Use;var ap;(function(r){const e=new WeakMap;function n(o){let i=e.get(o);return i||(i=qse(o),e.set(o,i),i)}function s(o){o.destroy(),e.delete(o.element)}r.bind=(o,i)=>{const l=n(o);return l.bind(i),()=>l.unbind(i)},r.clear=o=>{const i=n(o);s(i)}})(ap||(ap={}));class Md{constructor(e={}){this.comparator=e.comparator||Md.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(e,n,s){const o={priority:e,value:n},i=this.data.length;return s&&(o.id=s,this.index[s]=i),this.data.push(o),this.bubbleUp(i),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,n){const s=this.index[e];if(typeof s>"u")throw new Error(`Node with id '${e}' was not found in the heap.`);const o=this.data,i=o[s].priority,l=this.comparator(n,i);l<0?(o[s].priority=n,this.bubbleUp(s)):l>0&&(o[s].priority=n,this.bubbleDown(s))}remove(){const e=this.data,n=e[0],s=e.pop();return n.id&&delete this.index[n.id],e.length>0&&(e[0]=s,s.id&&(this.index[s.id]=0),this.bubbleDown(0)),n?n.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const n=this.data;let s,o,i=e;for(;i>0&&(o=i-1>>>1,this.comparator(n[i].priority,n[o].priority)<0);){s=n[o],n[o]=n[i];let l=n[i].id;l!=null&&(this.index[l]=o),n[i]=s,l=n[i].id,l!=null&&(this.index[l]=i),i=o}}bubbleDown(e){const n=this.data,s=n.length-1;let o=e;for(;;){const i=(o<<1)+1,l=i+1;let a=o;if(i<=s&&this.comparator(n[i].priority,n[a].priority)<0&&(a=i),l<=s&&this.comparator(n[l].priority,n[a].priority)<0&&(a=l),a!==o){const c=n[a];n[a]=n[o];let u=n[o].id;u!=null&&(this.index[u]=a),n[o]=c,u=n[o].id,u!=null&&(this.index[u]=o),o=a}else break}}}(function(r){r.defaultComparator=(e,n)=>e-n})(Md||(Md={}));var gv;(function(r){function e(n,s,o=(i,l)=>1){const i={},l={},a={},c=new Md;for(i[s]=0,Object.keys(n).forEach(u=>{u!==s&&(i[u]=1/0),c.insert(i[u],u,u)});!c.isEmpty();){const u=c.remove();a[u]=!0;const d=n[u]||[];for(let f=0;f<d.length;f+=1){const h=d[f];if(!a[h]){const p=i[u]+o(u,h);p<i[h]&&(i[h]=p,l[h]=u,c.updatePriority(h,p))}}}return l}r.run=e})(gv||(gv={}));class Io{constructor(e,n,s,o){if(e==null)return this.set(255,255,255,1);if(typeof e=="number")return this.set(e,n,s,o);if(typeof e=="string")return Io.fromString(e)||this;if(Array.isArray(e))return this.set(e);this.set(e.r,e.g,e.b,e.a==null?1:e.a)}blend(e,n,s){this.set(e.r+(n.r-e.r)*s,e.g+(n.g-e.g)*s,e.b+(n.b-e.b)*s,e.a+(n.a-e.a)*s)}lighten(e){const n=Io.lighten(this.toArray(),e);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}darken(e){this.lighten(-e)}set(e,n,s,o){const i=Array.isArray(e)?e[0]:e,l=Array.isArray(e)?e[1]:n,a=Array.isArray(e)?e[2]:s,c=Array.isArray(e)?e[3]:o;return this.r=Math.round(Zr(i,0,255)),this.g=Math.round(Zr(l,0,255)),this.b=Math.round(Zr(a,0,255)),this.a=c==null?1:Zr(c,0,1),this}toHex(){return`#${["r","g","b"].map(n=>{const s=this[n].toString(16);return s.length<2?`0${s}`:s}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return Io.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const n=`${this.r},${this.g},${this.b},`;return e?`rgb(${n})`:`rgba(${n},${this.a})`}toGrey(){return Io.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(r){function e(y){return new r(y)}r.fromArray=e;function n(y){return new r([...g(y),1])}r.fromHex=n;function s(y){const w=y.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(w){const x=w[1].split(/\s*,\s*/).map(E=>parseInt(E,10));return new r(x)}return null}r.fromRGBA=s;function o(y,w,x){x<0&&++x,x>1&&--x;const E=6*x;return E<1?y+(w-y)*E:2*x<1?w:3*x<2?y+(w-y)*(2/3-x)*6:y}function i(y){const w=y.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(w){const x=w[2].split(/\s*,\s*/),E=(parseFloat(x[0])%360+360)%360/360,_=parseFloat(x[1])/100,M=parseFloat(x[2])/100,A=x[3]==null?1:parseInt(x[3],10);return new r(u(E,_,M,A))}return null}r.fromHSLA=i;function l(y){if(y.startsWith("#"))return n(y);if(y.startsWith("rgb"))return s(y);const w=r.named[y];return w?n(w):i(y)}r.fromString=l;function a(y,w){return r.fromArray([y,y,y,w])}r.makeGrey=a;function c(y,w,x,E){const _=Array.isArray(y)?y[0]:y,M=Array.isArray(y)?y[1]:w,A=Array.isArray(y)?y[2]:x,k=Array.isArray(y)?y[3]:E,P=Math.max(_,M,A),$=Math.min(_,M,A),B=(P+$)/2;let W=0,I=0;if($!==P){const R=P-$;switch(I=B>.5?R/(2-P-$):R/(P+$),P){case _:W=(M-A)/R+(M<A?6:0);break;case M:W=(A-_)/R+2;break;case A:W=(_-M)/R+4;break}W/=6}return[W,I,B,k??1]}r.rgba2hsla=c;function u(y,w,x,E){const _=Array.isArray(y)?y[0]:y,M=Array.isArray(y)?y[1]:w,A=Array.isArray(y)?y[2]:x,k=Array.isArray(y)?y[3]:E,P=A<=.5?A*(M+1):A+M-A*M,$=2*A-P;return[o($,P,_+1/3)*256,o($,P,_)*256,o($,P,_-1/3)*256,k??1]}r.hsla2rgba=u;function d(y){return new r(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),y?void 0:parseFloat(Math.random().toFixed(2)))}r.random=d;function f(){const y="0123456789ABCDEF";let w="#";for(let x=0;x<6;x+=1)w+=y[Math.floor(Math.random()*16)];return w}r.randomHex=f;function h(y){return d(y).toString()}r.randomRGBA=h;function p(y,w){if(typeof y=="string"){const A=y[0]==="#",[k,P,$]=g(y);return w?k*.299+P*.587+$*.114>186?"#000000":"#ffffff":`${A?"#":""}${m(255-k,255-P,255-$)}`}const x=y[0],E=y[1],_=y[2],M=y[3];return w?x*.299+E*.587+_*.114>186?[0,0,0,M]:[255,255,255,M]:[255-x,255-E,255-_,M]}r.invert=p;function g(y){const w=y.indexOf("#")===0?y:`#${y}`;let x=+`0x${w.substr(1)}`;if(!(w.length===4||w.length===7)||Number.isNaN(x))throw new Error("Invalid hex color.");const E=w.length===4?4:8,_=(1<<E)-1,M=["b","g","r"].map(()=>{const A=x&_;return x>>=E,E===4?17*A:A});return[M[2],M[1],M[0]]}function m(y,w,x){const E=_=>_.length<2?`0${_}`:_;return`${E(y.toString(16))}${E(w.toString(16))}${E(x.toString(16))}`}function v(y,w){return C(y,w)}r.lighten=v;function b(y,w){return C(y,-w)}r.darken=b;function C(y,w){if(typeof y=="string"){const _=y[0]==="#",M=parseInt(_?y.substr(1):y,16),A=Zr((M>>16)+w,0,255),k=Zr((M>>8&255)+w,0,255),P=Zr((M&255)+w,0,255);return`${_?"#":""}${(P|k<<8|A<<16).toString(16)}`}const x=m(y[0],y[1],y[2]),E=g(C(x,w));return[E[0],E[1],E[2],y[3]]}})(Io||(Io={}));(function(r){r.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(Io||(Io={}));class mv{constructor(){this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,n){this.map.set(e,n),this.arr.push(e)}delete(e){const n=this.arr.indexOf(e);n>=0&&this.arr.splice(n,1);const s=this.map.get(e);return this.map.delete(e),s}each(e){this.arr.forEach(n=>{const s=this.map.get(n);e(s,n)})}dispose(){this.clear()}}var kc;(function(r){function e(o){const i=[],l=[];return Array.isArray(o)?i.push(...o):o.split("|").forEach(a=>{a.indexOf("&")===-1?i.push(a):l.push(...a.split("&"))}),{or:i,and:l}}r.parse=e;function n(o,i){if(o!=null&&i!=null){const l=e(o),a=e(i),c=l.or.sort(),u=a.or.sort(),d=l.and.sort(),f=a.and.sort(),h=(p,g)=>p.length===g.length&&(p.length===0||p.every((m,v)=>m===g[v]));return h(c,u)&&h(d,f)}return o==null&&i==null}r.equals=n;function s(o,i,l){if(i==null||Array.isArray(i)&&i.length===0)return l?o.altKey!==!0&&o.ctrlKey!==!0&&o.metaKey!==!0&&o.shiftKey!==!0:!0;const{or:a,and:c}=e(i),u=d=>{const f=`${d.toLowerCase()}Key`;return o[f]===!0};return a.some(d=>u(d))&&c.every(d=>u(d))}r.isMatch=s})(kc||(kc={}));var ca;(function(r){r.linear=e=>e,r.quad=e=>e*e,r.cubic=e=>e*e*e,r.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const n=e*e,s=n*e;return 4*(e<.5?s:3*(e-n)+s-.75)},r.exponential=e=>Math.pow(2,10*(e-1)),r.bounce=e=>{for(let n=0,s=1;;n+=s,s/=2)if(e>=(7-4*n)/11){const o=(11-6*n-11*e)/4;return-o*o+s*s}}})(ca||(ca={}));(function(r){r.decorators={reverse(e){return n=>1-e(1-n)},reflect(e){return n=>.5*(n<.5?e(2*n):2-e(2-2*n))},clamp(e,n=0,s=1){return o=>{const i=e(o);return i<n?n:i>s?s:i}},back(e=1.70158){return n=>n*n*((e+1)*n-e)},elastic(e=1.5){return n=>Math.pow(2,10*(n-1))*Math.cos(20*Math.PI*e/3*n)}}})(ca||(ca={}));(function(r){function e(I){return-1*Math.cos(I*(Math.PI/2))+1}r.easeInSine=e;function n(I){return Math.sin(I*(Math.PI/2))}r.easeOutSine=n;function s(I){return-.5*(Math.cos(Math.PI*I)-1)}r.easeInOutSine=s;function o(I){return I*I}r.easeInQuad=o;function i(I){return I*(2-I)}r.easeOutQuad=i;function l(I){return I<.5?2*I*I:-1+(4-2*I)*I}r.easeInOutQuad=l;function a(I){return I*I*I}r.easeInCubic=a;function c(I){const R=I-1;return R*R*R+1}r.easeOutCubic=c;function u(I){return I<.5?4*I*I*I:(I-1)*(2*I-2)*(2*I-2)+1}r.easeInOutCubic=u;function d(I){return I*I*I*I}r.easeInQuart=d;function f(I){const R=I-1;return 1-R*R*R*R}r.easeOutQuart=f;function h(I){const R=I-1;return I<.5?8*I*I*I*I:1-8*R*R*R*R}r.easeInOutQuart=h;function p(I){return I*I*I*I*I}r.easeInQuint=p;function g(I){const R=I-1;return 1+R*R*R*R*R}r.easeOutQuint=g;function m(I){const R=I-1;return I<.5?16*I*I*I*I*I:1+16*R*R*R*R*R}r.easeInOutQuint=m;function v(I){return I===0?0:Math.pow(2,10*(I-1))}r.easeInExpo=v;function b(I){return I===1?1:-Math.pow(2,-10*I)+1}r.easeOutExpo=b;function C(I){if(I===0||I===1)return I;const R=I*2,U=R-1;return R<1?.5*Math.pow(2,10*U):.5*(-Math.pow(2,-10*U)+2)}r.easeInOutExpo=C;function y(I){const R=I/1;return-1*(Math.sqrt(1-R*I)-1)}r.easeInCirc=y;function w(I){const R=I-1;return Math.sqrt(1-R*R)}r.easeOutCirc=w;function x(I){const R=I*2,U=R-2;return R<1?-.5*(Math.sqrt(1-R*R)-1):.5*(Math.sqrt(1-U*U)+1)}r.easeInOutCirc=x;function E(I,R=1.70158){return I*I*((R+1)*I-R)}r.easeInBack=E;function _(I,R=1.70158){const U=I/1-1;return U*U*((R+1)*U+R)+1}r.easeOutBack=_;function M(I,R=1.70158){const U=I*2,Q=U-2,q=R*1.525;return U<1?.5*U*U*((q+1)*U-q):.5*(Q*Q*((q+1)*Q+q)+2)}r.easeInOutBack=M;function A(I,R=.7){if(I===0||I===1)return I;const Q=I/1-1,q=1-R,ee=q/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*Q)*Math.sin((Q-ee)*(2*Math.PI)/q))}r.easeInElastic=A;function k(I,R=.7){const U=1-R,Q=I*2;if(I===0||I===1)return I;const q=U/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*Q)*Math.sin((Q-q)*(2*Math.PI)/U)+1}r.easeOutElastic=k;function P(I,R=.65){const U=1-R;if(I===0||I===1)return I;const Q=I*2,q=Q-1,ee=U/(2*Math.PI)*Math.asin(1);return Q<1?-.5*(Math.pow(2,10*q)*Math.sin((q-ee)*(2*Math.PI)/U)):Math.pow(2,-10*q)*Math.sin((q-ee)*(2*Math.PI)/U)*.5+1}r.easeInOutElastic=P;function $(I){const R=I/1;if(R<1/2.75)return 7.5625*R*R;if(R<2/2.75){const U=R-.5454545454545454;return 7.5625*U*U+.75}if(R<2.5/2.75){const U=R-.8181818181818182;return 7.5625*U*U+.9375}{const U=R-.9545454545454546;return 7.5625*U*U+.984375}}r.easeOutBounce=$;function B(I){return 1-$(1-I)}r.easeInBounce=B;function W(I){return I<.5?B(I*2)*.5:$(I*2-1)*.5+.5}r.easeInOutBounce=W})(ca||(ca={}));var Bl;(function(r){r.number=(e,n)=>{const s=n-e;return o=>e+s*o},r.object=(e,n)=>{const s=Object.keys(e);return o=>{const i={};for(let l=s.length-1;l!==-1;l-=1){const a=s[l];i[a]=e[a]+(n[a]-e[a])*o}return i}},r.unit=(e,n)=>{const s=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,o=s.exec(e),i=s.exec(n),l=i?i[1]:"",a=o?+o[1]:0,c=i?+i[1]:0,u=l.indexOf("."),d=u>0?l[1].length-u-1:0,f=c-a,h=o?o[2]:"";return p=>(a+f*p).toFixed(d)+h},r.color=(e,n)=>{const s=parseInt(e.slice(1),16),o=parseInt(n.slice(1),16),i=s&255,l=(o&255)-i,a=s&65280,c=(o&65280)-a,u=s&16711680,d=(o&16711680)-u;return f=>{const h=i+l*f&255,p=a+c*f&65280,g=u+d*f&16711680;return`#${(1<<24|h|p|g).toString(16).slice(1)}`}}})(Bl||(Bl={}));const Yu=[];function Gse(r,e){const n=Yu.find(s=>s.name===r);if(!(n&&(n.loadTimes+=1,n.loadTimes>1))&&!qi.isApplyingHMR()){const s=document.createElement("style");s.setAttribute("type","text/css"),s.textContent=e;const o=document.querySelector("head");o&&o.insertBefore(s,o.firstChild),Yu.push({name:r,loadTimes:1,styleElement:s})}}function Kse(r){const e=Yu.findIndex(n=>n.name===r);if(e>-1){const n=Yu[e];if(n.loadTimes-=1,n.loadTimes>0)return;let s=n.styleElement;s&&s.parentNode&&s.parentNode.removeChild(s),s=null,Yu.splice(e,1)}}var Ht;(function(r){function e(s){return 180*s/Math.PI%360}r.toDeg=e,r.toRad=function(s,o=!1){return(o?s:s%360)*Math.PI/180};function n(s){return s%360+(s<0?360:0)}r.normalize=n})(Ht||(Ht={}));var zt;(function(r){function e(a,c=0){return Number.isInteger(a)?a:+a.toFixed(c)}r.round=e;function n(a,c){let u,d;if(c==null?(d=a??1,u=0):(d=c,u=a??0),d<u){const f=u;u=d,d=f}return Math.floor(Math.random()*(d-u+1)+u)}r.random=n;function s(a,c,u){return Number.isNaN(a)?NaN:Number.isNaN(c)||Number.isNaN(u)?0:c<u?a<c?c:a>u?u:a:a<u?u:a>c?c:a}r.clamp=s;function o(a,c){return c*Math.round(a/c)}r.snapToGrid=o;function i(a,c){return c!=null&&a!=null&&c.x>=a.x&&c.x<=a.x+a.width&&c.y>=a.y&&c.y<=a.y+a.height}r.containsPoint=i;function l(a,c){const u=a.x-c.x,d=a.y-c.y;return u*u+d*d}r.squaredLength=l})(zt||(zt={}));class dl{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class K extends dl{constructor(e,n){super(),this.x=e??0,this.y=n??0}round(e=0){return this.x=zt.round(this.x,e),this.y=zt.round(this.y,e),this}add(e,n){const s=K.create(e,n);return this.x+=s.x,this.y+=s.y,this}update(e,n){const s=K.create(e,n);return this.x=s.x,this.y=s.y,this}translate(e,n){const s=K.create(e,n);return this.x+=s.x,this.y+=s.y,this}rotate(e,n){const s=K.rotate(this,e,n);return this.x=s.x,this.y=s.y,this}scale(e,n,s=new K){const o=K.create(s);return this.x=o.x+e*(this.x-o.x),this.y=o.y+n*(this.y-o.y),this}closest(e){if(e.length===1)return K.create(e[0]);let n=null,s=1/0;return e.forEach(o=>{const i=this.squaredDistance(o);i<s&&(n=o,s=i)}),n?K.create(n):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const n=K.create(e),s=this.x-n.x,o=this.y-n.y;return s*s+o*o}manhattanDistance(e){const n=K.create(e);return Math.abs(n.x-this.x)+Math.abs(n.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new K){const n=K.create(e),s=-(n.y-this.y),o=n.x-this.x;let i=Math.atan2(s,o);return i<0&&(i=2*Math.PI+i),180*i/Math.PI}angleBetween(e,n){if(this.equals(e)||this.equals(n))return NaN;let s=this.theta(n)-this.theta(e);return s<0&&(s+=360),s}vectorAngle(e){return new K(0,0).angleBetween(this,e)}toPolar(e){return this.update(K.toPolar(this,e)),this}changeInAngle(e,n,s=new K){return this.clone().translate(-e,-n).theta(s)-this.theta(s)}adhereToRect(e){return zt.containsPoint(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const n=K.create(e),s=Ht.toRad(this.y),o=Ht.toRad(n.y),i=this.x,l=n.x,a=Ht.toRad(l-i),c=Math.sin(a)*Math.cos(o),u=Math.cos(s)*Math.sin(o)-Math.sin(s)*Math.cos(o)*Math.cos(a),d=Ht.toDeg(Math.atan2(c,u)),f=["NE","E","SE","S","SW","W","NW","N"];let h=d-22.5;return h<0&&(h+=360),h=parseInt(h/45,10),f[h]}cross(e,n){if(e!=null&&n!=null){const s=K.create(e),o=K.create(n);return(o.x-this.x)*(s.y-this.y)-(o.y-this.y)*(s.x-this.x)}return NaN}dot(e){const n=K.create(e);return this.x*n.x+this.y*n.y}diff(e,n){if(typeof e=="number")return new K(this.x-e,this.y-n);const s=K.create(e);return new K(this.x-s.x,this.y-s.y)}lerp(e,n){const s=K.create(e);return new K((1-n)*this.x+n*s.x,(1-n)*this.y+n*s.y)}normalize(e=1){const n=e/this.magnitude();return this.scale(n,n)}move(e,n){const s=K.create(e),o=Ht.toRad(s.theta(this));return this.translate(Math.cos(o)*n,-Math.sin(o)*n)}reflection(e){return K.create(e).move(this,this.distance(e))}snapToGrid(e,n){return this.x=zt.snapToGrid(this.x,e),this.y=zt.snapToGrid(this.y,n??e),this}equals(e){const n=K.create(e);return n!=null&&n.x===this.x&&n.y===this.y}clone(){return K.clone(this)}toJSON(){return K.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(r){function e(n){return n!=null&&n instanceof r}r.isPoint=e})(K||(K={}));(function(r){function e(s){return s!=null&&typeof s=="object"&&typeof s.x=="number"&&typeof s.y=="number"}r.isPointLike=e;function n(s){return s!=null&&Array.isArray(s)&&s.length===2&&typeof s[0]=="number"&&typeof s[1]=="number"}r.isPointData=n})(K||(K={}));(function(r){function e(f,h){return f==null||typeof f=="number"?new r(f,h):n(f)}r.create=e;function n(f){return r.isPoint(f)?new r(f.x,f.y):Array.isArray(f)?new r(f[0],f[1]):new r(f.x,f.y)}r.clone=n;function s(f){return r.isPoint(f)?{x:f.x,y:f.y}:Array.isArray(f)?{x:f[0],y:f[1]}:{x:f.x,y:f.y}}r.toJSON=s;function o(f,h,p=new r){let g=Math.abs(f*Math.cos(h)),m=Math.abs(f*Math.sin(h));const v=n(p),b=Ht.normalize(Ht.toDeg(h));return b<90?m=-m:b<180?(g=-g,m=-m):b<270&&(g=-g),new r(v.x+g,v.y+m)}r.fromPolar=o;function i(f,h=new r){const p=n(f),g=n(h),m=p.x-g.x,v=p.y-g.y;return new r(Math.sqrt(m*m+v*v),Ht.toRad(g.theta(p)))}r.toPolar=i;function l(f,h){return f===h?!0:f!=null&&h!=null?f.x===h.x&&f.y===h.y:!1}r.equals=l;function a(f,h){if(f==null&&h!=null||f!=null&&h==null||f!=null&&h!=null&&f.length!==h.length)return!1;if(f!=null&&h!=null){for(let p=0,g=f.length;p<g;p+=1)if(!l(f[p],h[p]))return!1}return!0}r.equalPoints=a;function c(f,h,p,g){return new r(zt.random(f,h),zt.random(p,g))}r.random=c;function u(f,h,p){const g=Ht.toRad(Ht.normalize(-h)),m=Math.sin(g),v=Math.cos(g);return d(f,v,m,p)}r.rotate=u;function d(f,h,p,g=new r){const m=n(f),v=n(g),b=m.x-v.x,C=m.y-v.y,y=b*h-C*p,w=C*h+b*p;return new r(y+v.x,w+v.y)}r.rotateEx=d})(K||(K={}));class Ne extends dl{get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new K(this.x,this.y)}get topLeft(){return new K(this.x,this.y)}get topCenter(){return new K(this.x+this.width/2,this.y)}get topRight(){return new K(this.x+this.width,this.y)}get center(){return new K(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new K(this.x,this.y+this.height)}get bottomCenter(){return new K(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new K(this.x+this.width,this.y+this.height)}get corner(){return new K(this.x+this.width,this.y+this.height)}get rightMiddle(){return new K(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new K(this.x,this.y+this.height/2)}get topLine(){return new We(this.topLeft,this.topRight)}get rightLine(){return new We(this.topRight,this.bottomRight)}get bottomLine(){return new We(this.bottomLeft,this.bottomRight)}get leftLine(){return new We(this.topLeft,this.bottomLeft)}constructor(e,n,s,o){super(),this.x=e??0,this.y=n??0,this.width=s??0,this.height=o??0}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const n=Ht.toRad(e),s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),i=this.width*o+this.height*s,l=this.width*s+this.height*o;return new Ne(this.x+(this.width-i)/2,this.y+(this.height-l)/2,i,l)}round(e=0){return this.x=zt.round(this.x,e),this.y=zt.round(this.y,e),this.width=zt.round(this.width,e),this.height=zt.round(this.height,e),this}add(e,n,s,o){const i=Ne.create(e,n,s,o),l=Math.min(this.x,i.x),a=Math.min(this.y,i.y),c=Math.max(this.x+this.width,i.x+i.width),u=Math.max(this.y+this.height,i.y+i.height);return this.x=l,this.y=a,this.width=c-l,this.height=u-a,this}update(e,n,s,o){const i=Ne.create(e,n,s,o);return this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height,this}inflate(e,n){const s=e,o=n??e;return this.x-=s,this.y-=o,this.width+=2*s,this.height+=2*o,this}snapToGrid(e,n){const s=this.origin.snapToGrid(e,n),o=this.corner.snapToGrid(e,n);return this.x=s.x,this.y=s.y,this.width=o.x-s.x,this.height=o.y-s.y,this}translate(e,n){const s=K.create(e,n);return this.x+=s.x,this.y+=s.y,this}scale(e,n,s=new K){const o=this.origin.scale(e,n,s);return this.x=o.x,this.y=o.y,this.width*=e,this.height*=n,this}rotate(e,n=this.getCenter()){if(e!==0){const s=Ht.toRad(e),o=Math.cos(s),i=Math.sin(s);let l=this.getOrigin(),a=this.getTopRight(),c=this.getBottomRight(),u=this.getBottomLeft();l=K.rotateEx(l,o,i,n),a=K.rotateEx(a,o,i,n),c=K.rotateEx(c,o,i,n),u=K.rotateEx(u,o,i,n);const d=new Ne(l.x,l.y,0,0);d.add(a.x,a.y,0,0),d.add(c.x,c.y,0,0),d.add(u.x,u.y,0,0),this.update(d)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const n=this.width;return this.width=this.height,this.height=n,this}moveAndExpand(e){const n=Ne.clone(e);return this.x+=n.x||0,this.y+=n.y||0,this.width+=n.width||0,this.height+=n.height||0,this}getMaxScaleToFit(e,n=this.center){const s=Ne.clone(e),o=n.x,i=n.y;let l=1/0,a=1/0,c=1/0,u=1/0,d=1/0,f=1/0,h=1/0,p=1/0;const g=s.topLeft;g.x<o&&(l=(this.x-o)/(g.x-o)),g.y<i&&(d=(this.y-i)/(g.y-i));const m=s.bottomRight;m.x>o&&(a=(this.x+this.width-o)/(m.x-o)),m.y>i&&(f=(this.y+this.height-i)/(m.y-i));const v=s.topRight;v.x>o&&(c=(this.x+this.width-o)/(v.x-o)),v.y<i&&(h=(this.y-i)/(v.y-i));const b=s.bottomLeft;return b.x<o&&(u=(this.x-o)/(b.x-o)),b.y>i&&(p=(this.y+this.height-i)/(b.y-i)),{sx:Math.min(l,a,c,u),sy:Math.min(d,f,h,p)}}getMaxUniformScaleToFit(e,n=this.center){const s=this.getMaxScaleToFit(e,n);return Math.min(s.sx,s.sy)}containsPoint(e,n){return zt.containsPoint(this,K.create(e,n))}containsRect(e,n,s,o){const i=Ne.create(e,n,s,o),l=this.x,a=this.y,c=this.width,u=this.height,d=i.x,f=i.y,h=i.width,p=i.height;return c===0||u===0||h===0||p===0?!1:d>=l&&f>=a&&d+h<=l+c&&f+p<=a+u}intersectsWithLine(e){const n=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],s=[],o=[];return n.forEach(i=>{const l=e.intersectsWithLine(i);l!==null&&o.indexOf(l.toString())<0&&(s.push(l),o.push(l.toString()))}),s.length>0?s:null}intersectsWithLineFromCenterToPoint(e,n){const s=K.clone(e),o=this.center;let i=null;n!=null&&n!==0&&s.rotate(n,o);const l=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new We(o,s);for(let c=l.length-1;c>=0;c-=1){const u=l[c].intersectsWithLine(a);if(u!==null){i=u;break}}return i&&n!=null&&n!==0&&i.rotate(-n,o),i}intersectsWithRect(e,n,s,o){const i=Ne.create(e,n,s,o);if(!this.isIntersectWithRect(i))return null;const l=this.origin,a=this.corner,c=i.origin,u=i.corner,d=Math.max(l.x,c.x),f=Math.max(l.y,c.y);return new Ne(d,f,Math.min(a.x,u.x)-d,Math.min(a.y,u.y)-f)}isIntersectWithRect(e,n,s,o){const i=Ne.create(e,n,s,o),l=this.origin,a=this.corner,c=i.origin,u=i.corner;return!(u.x<=l.x||u.y<=l.y||c.x>=a.x||c.y>=a.y)}normalize(){let e=this.x,n=this.y,s=this.width,o=this.height;return this.width<0&&(e=this.x+this.width,s=-this.width),this.height<0&&(n=this.y+this.height,o=-this.height),this.x=e,this.y=n,this.width=s,this.height=o,this}union(e){const n=Ne.clone(e),s=this.origin,o=this.corner,i=n.origin,l=n.corner,a=Math.min(s.x,i.x),c=Math.min(s.y,i.y),u=Math.max(o.x,l.x),d=Math.max(o.y,l.y);return new Ne(a,c,u-a,d-c)}getNearestSideToPoint(e){const n=K.clone(e),s=n.x-this.x,o=this.x+this.width-n.x,i=n.y-this.y,l=this.y+this.height-n.y;let a=s,c="left";return o<a&&(a=o,c="right"),i<a&&(a=i,c="top"),l<a&&(c="bottom"),c}getNearestPointToPoint(e){const n=K.clone(e);if(this.containsPoint(n)){const s=this.getNearestSideToPoint(n);if(s==="left")return new K(this.x,n.y);if(s==="top")return new K(n.x,this.y);if(s==="right")return new K(this.x+this.width,n.y);if(s==="bottom")return new K(n.x,this.y+this.height)}return n.adhereToRect(this)}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new Ne(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(r){function e(n){return n!=null&&n instanceof r}r.isRectangle=e})(Ne||(Ne={}));(function(r){function e(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.width=="number"&&typeof n.height=="number"}r.isRectangleLike=e})(Ne||(Ne={}));(function(r){function e(l,a,c,u){return l==null||typeof l=="number"?new r(l,a,c,u):n(l)}r.create=e;function n(l){return r.isRectangle(l)?l.clone():Array.isArray(l)?new r(l[0],l[1],l[2],l[3]):new r(l.x,l.y,l.width,l.height)}r.clone=n;function s(l){return new r(l.x-l.a,l.y-l.b,2*l.a,2*l.b)}r.fromEllipse=s;function o(l){return new r(0,0,l.width,l.height)}r.fromSize=o;function i(l,a){return new r(l.x,l.y,a.width,a.height)}r.fromPositionAndSize=i})(Ne||(Ne={}));class We extends dl{get center(){return new K((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}constructor(e,n,s,o){super(),typeof e=="number"&&typeof n=="number"?(this.start=new K(e,n),this.end=new K(s,o)):(this.start=K.create(e),this.end=K.create(n))}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,n){return typeof e=="number"?(this.start.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,n){return this.start.rotate(e,n),this.end.rotate(e,n),this}scale(e,n,s){return this.start.scale(e,n,s),this.end.scale(e,n,s),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,n=this.start.y-this.end.y;return e*e+n*n}setLength(e){const n=this.length();if(!n)return this;const s=e/n;return this.scale(s,s,this.start)}parallel(e){const n=this.clone();if(!n.isDifferentiable())return n;const{start:s,end:o}=n,i=s.clone().rotate(270,o),l=o.clone().rotate(90,s);return s.move(l,e),o.move(i,e),n}vector(){return new K(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new K(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),n=Math.min(this.start.y,this.end.y),s=Math.max(this.start.x,this.end.x),o=Math.max(this.start.y,this.end.y);return new Ne(e,n,s-e,o-n)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const n=this.vector().dot(new We(this.start,e).vector()),s=Math.min(1,Math.max(0,n/this.squaredLength()));return Number.isNaN(s)?0:s}pointAt(e){const n=this.start,s=this.end;return e<=0?n.clone():e>=1?s.clone():n.lerp(s,e)}pointAtLength(e){const n=this.start,s=this.end;let o=!0;e<0&&(o=!1,e=-e);const i=this.length();if(e>=i)return o?s.clone():n.clone();const l=(o?e:i-e)/i;return this.pointAt(l)}divideAt(e){const n=this.pointAt(e);return[new We(this.start,n),new We(n,this.end)]}divideAtLength(e){const n=this.pointAtLength(e);return[new We(this.start,n),new We(n,this.end)]}containsPoint(e){const n=this.start,s=this.end;if(n.cross(e,s)!==0)return!1;const o=this.length();return!(new We(n,e).length()>o||new We(e,s).length()>o)}intersect(e,n){const s=e.intersectsWithLine(this,n);return s?Array.isArray(s)?s:[s]:null}intersectsWithLine(e){const n=new K(this.end.x-this.start.x,this.end.y-this.start.y),s=new K(e.end.x-e.start.x,e.end.y-e.start.y),o=n.x*s.y-n.y*s.x,i=new K(e.start.x-this.start.x,e.start.y-this.start.y),l=i.x*s.y-i.y*s.x,a=i.x*n.y-i.y*n.x;if(o===0||l*o<0||a*o<0)return null;if(o>0){if(l>o||a>o)return null}else if(l<o||a<o)return null;return new K(this.start.x+l*n.x/o,this.start.y+l*n.y/o)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const n=K.clone(e),s=this.start,o=this.end;return((o.x-s.x)*(n.y-s.y)-(o.y-s.y)*(n.x-s.x))/this.length()}pointSquaredDistance(e,n){const s=K.create(e,n);return this.closestPoint(s).squaredDistance(s)}pointDistance(e,n){const s=K.create(e,n);return this.closestPoint(s).distance(s)}tangentAt(e){if(!this.isDifferentiable())return null;const n=this.start,s=this.end,o=this.pointAt(e),i=new We(n,s);return i.translate(o.x-n.x,o.y-n.y),i}tangentAtLength(e){if(!this.isDifferentiable())return null;const n=this.start,s=this.end,o=this.pointAtLength(e),i=new We(n,s);return i.translate(o.x-n.x,o.y-n.y),i}relativeCcw(e,n){const s=K.create(e,n);let o=s.x-this.start.x,i=s.y-this.start.y;const l=this.end.x-this.start.x,a=this.end.y-this.start.y;let c=o*a-i*l;return c===0&&(c=o*l+i*a,c>0&&(o-=l,i-=a,c=o*l+i*a,c<0&&(c=0))),c<0?-1:c>0?1:0}equals(e){return e!=null&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new We(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(r){function e(n){return n!=null&&n instanceof r}r.isLine=e})(We||(We={}));class Vs extends dl{get center(){return new K(this.x,this.y)}constructor(e,n,s,o){super(),this.x=e??0,this.y=n??0,this.a=s??0,this.b=o??0}bbox(){return Ne.fromEllipse(this)}getCenter(){return this.center}inflate(e,n){const s=e,o=n??e;return this.a+=2*s,this.b+=2*o,this}normalizedDistance(e,n){const s=K.create(e,n),o=s.x-this.x,i=s.y-this.y,l=this.a,a=this.b;return o*o/(l*l)+i*i/(a*a)}containsPoint(e,n){return this.normalizedDistance(e,n)<=1}intersectsWithLine(e){const n=[],s=this.a,o=this.b,i=e.start,l=e.end,a=e.vector(),c=i.diff(new K(this.x,this.y)),u=new K(a.x/(s*s),a.y/(o*o)),d=new K(c.x/(s*s),c.y/(o*o)),f=a.dot(u),h=a.dot(d),p=c.dot(d)-1,g=h*h-f*p;if(g<0)return null;if(g>0){const m=Math.sqrt(g),v=(-h-m)/f,b=(-h+m)/f;if((v<0||v>1)&&(b<0||b>1))return null;v>=0&&v<=1&&n.push(i.lerp(l,v)),b>=0&&b<=1&&n.push(i.lerp(l,b))}else{const m=-h/f;if(m>=0&&m<=1)n.push(i.lerp(l,m));else return null}return n}intersectsWithLineFromCenterToPoint(e,n=0){const s=K.clone(e);n&&s.rotate(n,this.getCenter());const o=s.x-this.x,i=s.y-this.y;let l;if(o===0)return l=this.bbox().getNearestPointToPoint(s),n?l.rotate(-n,this.getCenter()):l;const a=i/o,c=a*a,u=this.a*this.a,d=this.b*this.b;let f=Math.sqrt(1/(1/u+c/d));f=o<0?-f:f;const h=a*f;return l=new K(this.x+f,this.y+h),n?l.rotate(-n,this.getCenter()):l}tangentTheta(e){const n=K.clone(e),s=n.x,o=n.y,i=this.a,l=this.b,a=this.bbox().center,c=a.x,u=a.y,d=30,f=s>a.x+i/2,h=s<a.x-i/2;let p,g;return f||h?(g=s>a.x?o-d:o+d,p=i*i/(s-c)-i*i*(o-u)*(g-u)/(l*l*(s-c))+c):(p=o>a.y?s+d:s-d,g=l*l/(o-u)-l*l*(s-c)*(p-c)/(i*i*(o-u))+u),new K(p,g).theta(n)}scale(e,n){return this.a*=e,this.b*=n,this}rotate(e,n){const s=Ne.fromEllipse(this);s.rotate(e,n);const o=Vs.fromRect(s);return this.a=o.a,this.b=o.b,this.x=o.x,this.y=o.y,this}translate(e,n){const s=K.create(e,n);return this.x+=s.x,this.y+=s.y,this}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new Vs(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(r){function e(n){return n!=null&&n instanceof r}r.isEllipse=e})(Vs||(Vs={}));(function(r){function e(o,i,l,a){return o==null||typeof o=="number"?new r(o,i,l,a):n(o)}r.create=e;function n(o){return r.isEllipse(o)?o.clone():Array.isArray(o)?new r(o[0],o[1],o[2],o[3]):new r(o.x,o.y,o.a,o.b)}r.parse=n;function s(o){const i=o.center;return new r(i.x,i.y,o.width/2,o.height/2)}r.fromRect=s})(Vs||(Vs={}));const Yse=new RegExp("^[\\s\\dLMCZz,.]*$");function Jse(r){return typeof r!="string"?!1:Yse.test(r)}function Dm(r,e){return(r%e+e)%e}function Xse(r,e,n,s,o){const i=[],l=r[r.length-1],a=e!=null&&e>0,c=e||0;if(s&&a){r=r.slice();const f=r[0],h=new K(l.x+(f.x-l.x)/2,l.y+(f.y-l.y)/2);r.splice(0,0,h)}let u=r[0],d=1;for(n?i.push("M",u.x,u.y):i.push("L",u.x,u.y);d<(s?r.length:r.length-1);){let f=r[Dm(d,r.length)],h=u.x-f.x,p=u.y-f.y;if(a&&(h!==0||p!==0)&&(o==null||o.indexOf(d-1)<0)){let g=Math.sqrt(h*h+p*p);const m=h*Math.min(c,g/2)/g,v=p*Math.min(c,g/2)/g,b=f.x+m,C=f.y+v;i.push("L",b,C);let y=r[Dm(d+1,r.length)];for(;d<r.length-2&&Math.round(y.x-f.x)===0&&Math.round(y.y-f.y)===0;)y=r[Dm(d+2,r.length)],d+=1;h=y.x-f.x,p=y.y-f.y,g=Math.max(1,Math.sqrt(h*h+p*p));const w=h*Math.min(c,g/2)/g,x=p*Math.min(c,g/2)/g,E=f.x+w,_=f.y+x;i.push("Q",f.x,f.y,E,_),f=new K(E,_)}else i.push("L",f.x,f.y);u=f,d+=1}return s?i.push("Z"):i.push("L",l.x,l.y),i.map(f=>typeof f=="string"?f:+f.toFixed(3)).join(" ")}function eP(r,e={}){const n=[];return r&&r.length&&r.forEach(s=>{Array.isArray(s)?n.push({x:s[0],y:s[1]}):n.push({x:s.x,y:s.y})}),Xse(n,e.round,e.initialMove==null||e.initialMove,e.close,e.exclude)}function cp(r,e,n,s,o=0,i=0,l=0,a,c){if(n===0||s===0)return[];a-=r,c-=e,n=Math.abs(n),s=Math.abs(s);const u=-a/2,d=-c/2,f=Math.cos(o*Math.PI/180),h=Math.sin(o*Math.PI/180),p=f*u+h*d,g=-1*h*u+f*d,m=p*p,v=g*g,b=n*n,C=s*s,y=m/b+v/C;let w;if(y>1)n=Math.sqrt(y)*n,s=Math.sqrt(y)*s,w=0;else{let G=1;i===l&&(G=-1),w=G*Math.sqrt((b*C-b*v-C*m)/(b*v+C*m))}const x=w*n*g/s,E=-1*w*s*p/n,_=f*x-h*E+a/2,M=h*x+f*E+c/2;let A=Math.atan2((g-E)/s,(p-x)/n)-Math.atan2(0,1),k=A>=0?A:2*Math.PI+A;A=Math.atan2((-g-E)/s,(-p-x)/n)-Math.atan2((g-E)/s,(p-x)/n);let P=A>=0?A:2*Math.PI+A;l===0&&P>0?P-=2*Math.PI:l!==0&&P<0&&(P+=2*Math.PI);const $=P*2/Math.PI,B=Math.ceil($<0?-1*$:$),W=P/B,I=8/3*Math.sin(W/4)*Math.sin(W/4)/Math.sin(W/2),R=f*n,U=f*s,Q=h*n,q=h*s;let ee=Math.cos(k),de=Math.sin(k),ce=-I*(R*de+q*ee),Te=-I*(Q*de-U*ee),fe=0,we=0;const Ee=[];for(let G=0;G<B;G+=1){k+=W,ee=Math.cos(k),de=Math.sin(k),fe=R*ee-q*de+_,we=Q*ee+U*de+M;const ne=-I*(R*de+q*ee),se=-I*(Q*de-U*ee),me=G*6;Ee[me]=Number(ce+r),Ee[me+1]=Number(Te+e),Ee[me+2]=Number(fe-ne+r),Ee[me+3]=Number(we-se+e),Ee[me+4]=Number(fe+r),Ee[me+5]=Number(we+e),ce=fe+ne,Te=we+se}return Ee.map(G=>+G.toFixed(2))}function Zse(r,e,n,s,o=0,i=0,l=0,a,c){const u=[],d=cp(r,e,n,s,o,i,l,a,c);if(d!=null)for(let f=0,h=d.length;f<h;f+=6)u.push("C",d[f],d[f+1],d[f+2],d[f+3],d[f+4],d[f+5]);return u.join(" ")}class dn extends dl{get start(){return this.points[0]||null}get end(){return this.points[this.points.length-1]||null}constructor(e){if(super(),e!=null){if(typeof e=="string")return dn.parse(e);this.points=e.map(n=>K.create(n))}else this.points=[]}scale(e,n,s=new K){return this.points.forEach(o=>o.scale(e,n,s)),this}rotate(e,n){return this.points.forEach(s=>s.rotate(e,n)),this}translate(e,n){const s=K.create(e,n);return this.points.forEach(o=>o.translate(s.x,s.y)),this}round(e=0){return this.points.forEach(n=>n.round(e)),this}bbox(){if(this.points.length===0)return new Ne;let e=1/0,n=-1/0,s=1/0,o=-1/0;const i=this.points;for(let l=0,a=i.length;l<a;l+=1){const c=i[l],u=c.x,d=c.y;u<e&&(e=u),u>n&&(n=u),d<s&&(s=d),d>o&&(o=d)}return new Ne(e,s,n-e,o-s)}closestPoint(e){const n=this.closestPointLength(e);return this.pointAtLength(n)}closestPointLength(e){const n=this.points,s=n.length;if(s===0||s===1)return 0;let o=0,i=0,l=1/0;for(let a=0,c=s-1;a<c;a+=1){const u=new We(n[a],n[a+1]),d=u.length(),f=u.closestPointNormalizedLength(e),p=u.pointAt(f).squaredDistance(e);p<l&&(l=p,i=o+f*d),o+=d}return i}closestPointNormalizedLength(e){const n=this.length();return n===0?0:this.closestPointLength(e)/n}closestPointTangent(e){const n=this.closestPointLength(e);return this.tangentAtLength(n)}containsPoint(e){if(this.points.length===0)return!1;const n=K.clone(e),s=n.x,o=n.y,i=this.points,l=i.length;let a=l-1,c=0;for(let u=0;u<l;u+=1){const d=i[a],f=i[u];if(n.equals(d))return!0;const h=new We(d,f);if(h.containsPoint(e))return!0;if(o<=d.y&&o>f.y||o>d.y&&o<=f.y){const p=d.x-s>f.x-s?d.x-s:f.x-s;if(p>=0){const g=new K(s+p,o),m=new We(e,g);h.intersectsWithLine(m)&&(c+=1)}}a=u}return c%2===1}intersectsWithLine(e){const n=[];for(let s=0,o=this.points.length-1;s<o;s+=1){const i=this.points[s],l=this.points[s+1],a=e.intersectsWithLine(new We(i,l));a&&n.push(a)}return n.length>0?n:null}isDifferentiable(){for(let e=0,n=this.points.length-1;e<n;e+=1){const s=this.points[e],o=this.points[e+1];if(new We(s,o).isDifferentiable())return!0}return!1}length(){let e=0;for(let n=0,s=this.points.length-1;n<s;n+=1){const o=this.points[n],i=this.points[n+1];e+=o.distance(i)}return e}pointAt(e){const n=this.points,s=n.length;if(s===0)return null;if(s===1||e<=0)return n[0].clone();if(e>=1)return n[s-1].clone();const i=this.length()*e;return this.pointAtLength(i)}pointAtLength(e){const n=this.points,s=n.length;if(s===0)return null;if(s===1)return n[0].clone();let o=!0;e<0&&(o=!1,e=-e);let i=0;for(let a=0,c=s-1;a<c;a+=1){const u=o?a:c-1-a,d=n[u],f=n[u+1],h=new We(d,f),p=d.distance(f);if(e<=i+p)return h.pointAtLength((o?1:-1)*(e-i));i+=p}return(o?n[s-1]:n[0]).clone()}tangentAt(e){const s=this.points.length;if(s===0||s===1)return null;e<0&&(e=0),e>1&&(e=1);const i=this.length()*e;return this.tangentAtLength(i)}tangentAtLength(e){const n=this.points,s=n.length;if(s===0||s===1)return null;let o=!0;e<0&&(o=!1,e=-e);let i,l=0;for(let a=0,c=s-1;a<c;a+=1){const u=o?a:c-1-a,d=n[u],f=n[u+1],h=new We(d,f),p=d.distance(f);if(h.isDifferentiable()){if(e<=l+p)return h.tangentAtLength((o?1:-1)*(e-l));i=h}l+=p}if(i){const a=o?1:0;return i.tangentAt(a)}return null}simplify(e={}){const n=this.points;if(n.length<3)return this;const s=e.threshold||0;let o=0;for(;n[o+2];){const i=o,l=o+1,a=o+2,c=n[i],u=n[l],d=n[a];new We(c,d).closestPoint(u).distance(u)<=s?n.splice(l,1):o+=1}return this}toHull(){const e=this.points,n=e.length;if(n===0)return new dn;let s=e[0];for(let h=1;h<n;h+=1)(e[h].y<s.y||e[h].y===s.y&&e[h].x>s.x)&&(s=e[h]);const o=[];for(let h=0;h<n;h+=1){let p=s.theta(e[h]);p===0&&(p=360),o.push([e[h],h,p])}if(o.sort((h,p)=>{let g=h[2]-p[2];return g===0&&(g=p[1]-h[1]),g}),o.length>2){const h=o[o.length-1];o.unshift(h)}const i={},l=[],a=h=>`${h[0].toString()}@${h[1]}`;for(;o.length!==0;){const h=o.pop(),p=h[0];if(i[a(h)])continue;let g=!1;for(;!g;)if(l.length<2)l.push(h),g=!0;else{const m=l.pop(),v=m[0],b=l.pop(),C=b[0],y=C.cross(v,p);if(y<0)l.push(b),l.push(m),l.push(h),g=!0;else if(y===0){const x=v.angleBetween(C,p);Math.abs(x-180)<1e-10||v.equals(p)||C.equals(v)?(i[a(m)]=v,l.push(b)):Math.abs((x+1)%360-1)<1e-10&&(l.push(b),o.push(m))}else i[a(m)]=v,l.push(b)}}l.length>2&&l.pop();let c,u=-1;for(let h=0,p=l.length;h<p;h+=1){const g=l[h][1];(c===void 0||g<c)&&(c=g,u=h)}let d=[];if(u>0){const h=l.slice(u),p=l.slice(0,u);d=h.concat(p)}else d=l;const f=[];for(let h=0,p=d.length;h<p;h+=1)f.push(d[h][0]);return new dn(f)}equals(e){return e==null||e.points.length!==this.points.length?!1:e.points.every((n,s)=>n.equals(this.points[s]))}clone(){return new dn(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.serialize()}`).join(" ")}}(function(r){function e(n){return n!=null&&n instanceof r}r.isPolyline=e})(dn||(dn={}));(function(r){function e(n){const s=n.trim();if(s==="")return new r;const o=[],i=s.split(/\s*,\s*|\s+/);for(let l=0,a=i.length;l<a;l+=2)o.push({x:+i[l],y:+i[l+1]});return new r(o)}r.parse=e})(dn||(dn={}));class nn extends dl{constructor(e,n,s,o){super(),this.PRECISION=3,this.start=K.create(e),this.controlPoint1=K.create(n),this.controlPoint2=K.create(s),this.end=K.create(o)}bbox(){const e=this.start,n=this.controlPoint1,s=this.controlPoint2,o=this.end,i=e.x,l=e.y,a=n.x,c=n.y,u=s.x,d=s.y,f=o.x,h=o.y,p=[],g=[[],[]];let m,v,b,C,y,w,x,E;for(let R=0;R<2;R+=1){if(R===0?(v=6*i-12*a+6*u,m=-3*i+9*a-9*u+3*f,b=3*a-3*i):(v=6*l-12*c+6*d,m=-3*l+9*c-9*d+3*h,b=3*c-3*l),Math.abs(m)<1e-12){if(Math.abs(v)<1e-12)continue;C=-b/v,C>0&&C<1&&p.push(C);continue}x=v*v-4*b*m,E=Math.sqrt(x),!(x<0)&&(y=(-v+E)/(2*m),y>0&&y<1&&p.push(y),w=(-v-E)/(2*m),w>0&&w<1&&p.push(w))}let _,M,A,k=p.length;const P=k;for(;k;)k-=1,C=p[k],A=1-C,_=A*A*A*i+3*A*A*C*a+3*A*C*C*u+C*C*C*f,g[0][k]=_,M=A*A*A*l+3*A*A*C*c+3*A*C*C*d+C*C*C*h,g[1][k]=M;p[P]=0,p[P+1]=1,g[0][P]=i,g[1][P]=l,g[0][P+1]=f,g[1][P+1]=h,p.length=P+2,g[0].length=P+2,g[1].length=P+2;const $=Math.min.apply(null,g[0]),B=Math.min.apply(null,g[1]),W=Math.max.apply(null,g[0]),I=Math.max.apply(null,g[1]);return new Ne($,B,W-$,I-B)}closestPoint(e,n={}){return this.pointAtT(this.closestPointT(e,n))}closestPointLength(e,n={}){const s=this.getOptions(n);return this.lengthAtT(this.closestPointT(e,s),s)}closestPointNormalizedLength(e,n={}){const s=this.getOptions(n),o=this.closestPointLength(e,s);if(!o)return 0;const i=this.length(s);return i===0?0:o/i}closestPointT(e,n={}){const s=this.getPrecision(n),o=this.getDivisions(n),i=Math.pow(10,-s);let l=null,a=0,c=0,u=0,d=0,f=0,h=null;const p=o.length;let g=p>0?1/p:0;for(o.forEach((m,v)=>{const b=m.start.distance(e),C=m.end.distance(e),y=b+C;(h==null||y<h)&&(l=m,a=v*g,c=(v+1)*g,u=b,d=C,h=y,f=m.endpointDistance())});;){const m=u?Math.abs(u-d)/u:0,v=d!=null?Math.abs(u-d)/d:0,b=m<i||v<i,C=u?u<f*i:!0,y=d?d<f*i:!0;if(b||(C||y))return u<=d?a:c;const x=l.divide(.5);g/=2;const E=x[0].start.distance(e),_=x[0].end.distance(e),M=E+_,A=x[1].start.distance(e),k=x[1].end.distance(e),P=A+k;M<=P?(l=x[0],c-=g,u=E,d=_):(l=x[1],a+=g,u=A,d=k)}}closestPointTangent(e,n={}){return this.tangentAtT(this.closestPointT(e,n))}containsPoint(e,n={}){return this.toPolyline(n).containsPoint(e)}divideAt(e,n={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const s=this.tAt(e,n);return this.divideAtT(s)}divideAtLength(e,n={}){const s=this.tAtLength(e,n);return this.divideAtT(s)}divide(e){return this.divideAtT(e)}divideAtT(e){const n=this.start,s=this.controlPoint1,o=this.controlPoint2,i=this.end;if(e<=0)return[new nn(n,n,n,n),new nn(n,s,o,i)];if(e>=1)return[new nn(n,s,o,i),new nn(i,i,i,i)];const l=this.getSkeletonPoints(e),a=l.startControlPoint1,c=l.startControlPoint2,u=l.divider,d=l.dividerControlPoint1,f=l.dividerControlPoint2;return[new nn(n,a,c,u),new nn(u,d,f,i)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const n=this.start,s=this.controlPoint1,o=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:n.clone(),startControlPoint2:n.clone(),divider:n.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:o.clone()};if(e>=1)return{startControlPoint1:s.clone(),startControlPoint2:o.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};const l=new We(n,s).pointAt(e),a=new We(s,o).pointAt(e),c=new We(o,i).pointAt(e),u=new We(l,a).pointAt(e),d=new We(a,c).pointAt(e),f=new We(u,d).pointAt(e);return{startControlPoint1:l,startControlPoint2:u,divider:f,dividerControlPoint1:d,dividerControlPoint2:c}}getSubdivisions(e={}){const n=this.getPrecision(e);let s=[new nn(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(n===0)return s;let o=this.endpointDistance();const i=Math.pow(10,-n);let l=0;for(;;){l+=1;const a=[];s.forEach(d=>{const f=d.divide(.5);a.push(f[0],f[1])});const c=a.reduce((d,f)=>d+f.endpointDistance(),0),u=c!==0?(c-o)/c:0;if(l>1&&u<i)return a;s=a,o=c}}length(e={}){return this.getDivisions(e).reduce((s,o)=>s+o.endpointDistance(),0)}lengthAtT(e,n={}){if(e<=0)return 0;const s=n.precision===void 0?this.PRECISION:n.precision;return this.divide(e)[0].length({precision:s})}pointAt(e,n={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const s=this.tAt(e,n);return this.pointAtT(s)}pointAtLength(e,n={}){const s=this.tAtLength(e,n);return this.pointAtT(s)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const e=this.start,n=this.controlPoint1,s=this.controlPoint2,o=this.end;return!(e.equals(n)&&n.equals(s)&&s.equals(o))}tangentAt(e,n={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const s=this.tAt(e,n);return this.tangentAtT(s)}tangentAtLength(e,n={}){if(!this.isDifferentiable())return null;const s=this.tAtLength(e,n);return this.tangentAtT(s)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const n=this.getSkeletonPoints(e),s=n.startControlPoint2,o=n.dividerControlPoint1,i=n.divider,l=new We(s,o);return l.translate(i.x-s.x,i.y-s.y),l}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getDivisions(e={}){if(e.subdivisions!=null)return e.subdivisions;const n=this.getPrecision(e);return this.getSubdivisions({precision:n})}getOptions(e={}){const n=this.getPrecision(e),s=this.getDivisions(e);return{precision:n,subdivisions:s}}tAt(e,n={}){if(e<=0)return 0;if(e>=1)return 1;const s=this.getOptions(n),i=this.length(s)*e;return this.tAtLength(i,s)}tAtLength(e,n={}){let s=!0;e<0&&(s=!1,e=-e);const o=this.getPrecision(n),i=this.getDivisions(n),l={precision:o,subdivisions:i};let a=null,c,u,d=0,f=0,h=0;const p=i.length;let g=p>0?1/p:0;for(let b=0;b<p;b+=1){const C=s?b:p-1-b,y=i[b],w=y.endpointDistance();if(e<=h+w){a=y,c=C*g,u=(C+1)*g,d=s?e-h:w+h-e,f=s?w+h-e:e-h;break}h+=w}if(a==null)return s?1:0;const m=this.length(l),v=Math.pow(10,-o);for(;;){let b;if(b=m!==0?d/m:0,b<v)return c;if(b=m!==0?f/m:0,b<v)return u;let C,y;const w=a.divide(.5);g/=2;const x=w[0].endpointDistance(),E=w[1].endpointDistance();d<=x?(a=w[0],u-=g,C=d,y=x-C):(a=w[1],c+=g,C=d-x,y=E-C),d=C,f=y}}toPoints(e={}){const n=this.getDivisions(e),s=[n[0].start.clone()];return n.forEach(o=>s.push(o.end.clone())),s}toPolyline(e={}){return new dn(this.toPoints(e))}scale(e,n,s){return this.start.scale(e,n,s),this.controlPoint1.scale(e,n,s),this.controlPoint2.scale(e,n,s),this.end.scale(e,n,s),this}rotate(e,n){return this.start.rotate(e,n),this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?(this.start.translate(e,n),this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return e!=null&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new nn(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(r){function e(n){return n!=null&&n instanceof r}r.isCurve=e})(nn||(nn={}));(function(r){function e(o){const i=o.length,l=[],a=[];let c=2;l[0]=o[0]/c;for(let u=1;u<i;u+=1)a[u]=1/c,c=(u<i-1?4:3.5)-a[u],l[u]=(o[u]-l[u-1])/c;for(let u=1;u<i;u+=1)l[i-u-1]-=a[i-u]*l[i-u];return l}function n(o){const i=o.map(h=>K.clone(h)),l=[],a=[],c=i.length-1;if(c===1)return l[0]=new K((2*i[0].x+i[1].x)/3,(2*i[0].y+i[1].y)/3),a[0]=new K(2*l[0].x-i[0].x,2*l[0].y-i[0].y),[l,a];const u=[];for(let h=1;h<c-1;h+=1)u[h]=4*i[h].x+2*i[h+1].x;u[0]=i[0].x+2*i[1].x,u[c-1]=(8*i[c-1].x+i[c].x)/2;const d=e(u);for(let h=1;h<c-1;h+=1)u[h]=4*i[h].y+2*i[h+1].y;u[0]=i[0].y+2*i[1].y,u[c-1]=(8*i[c-1].y+i[c].y)/2;const f=e(u);for(let h=0;h<c;h+=1)l.push(new K(d[h],f[h])),h<c-1?a.push(new K(2*i[h+1].x-d[h+1],2*i[h+1].y-f[h+1])):a.push(new K((i[c].x+d[c-1])/2,(i[c].y+f[c-1])/2));return[l,a]}function s(o){if(o==null||Array.isArray(o)&&o.length<2)throw new Error("At least 2 points are required");const i=n(o),l=[];for(let a=0,c=i[0].length;a<c;a+=1){const u=new K(i[0][a].x,i[0][a].y),d=new K(i[1][a].x,i[1][a].y);l.push(new r(o[a],u,d,o[a+1]))}return l}r.throughPoints=s})(nn||(nn={}));class Cg extends dl{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,n){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,n){if(e<=0)return 0;const s=this.length();return e>=1?s:s*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class nr extends Cg{constructor(e,n){super(),We.isLine(e)?this.endPoint=e.end.clone().round(2):this.endPoint=K.create(e,n).round(2)}get type(){return"L"}get line(){return new We(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[new nr(n[0]),new nr(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[new nr(n[0]),new nr(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new nr(this.end)}scale(e,n,s){return this.end.scale(e,n,s),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?this.end.translate(e,n):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(r){function e(...n){const s=n.length,o=n[0];if(We.isLine(o))return new r(o);if(K.isPointLike(o))return s===1?new r(o):n.map(l=>new r(l));if(s===2)return new r(+n[0],+n[1]);const i=[];for(let l=0;l<s;l+=2){const a=+n[l],c=+n[l+1];i.push(new r(a,c))}return i}r.create=e})(nr||(nr={}));class Pc extends Cg{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new We(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[n[1].isDifferentiable()?new nr(n[0]):this.clone(),new nr(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[n[1].isDifferentiable()?new nr(n[0]):this.clone(),new nr(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new Pc}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(r){function e(){return new r}r.create=e})(Pc||(Pc={}));class Nc extends Cg{constructor(e,n){super(),this.isVisible=!1,this.isSubpathStart=!0,We.isLine(e)||nn.isCurve(e)?this.endPoint=e.end.clone().round(2):this.endPoint=K.create(e,n).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,n,s){return this.end.scale(e,n,s),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?this.end.translate(e,n):this.end.translate(e),this}clone(){return new Nc(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(r){function e(...n){const s=n.length,o=n[0];if(We.isLine(o))return new r(o);if(nn.isCurve(o))return new r(o);if(K.isPointLike(o)){if(s===1)return new r(o);const l=[];for(let a=0;a<s;a+=1)a===0?l.push(new r(n[a])):l.push(new nr(n[a]));return l}if(s===2)return new r(+n[0],+n[1]);const i=[];for(let l=0;l<s;l+=2){const a=+n[l],c=+n[l+1];l===0?i.push(new r(a,c)):i.push(new nr(a,c))}return i}r.create=e})(Nc||(Nc={}));class Kr extends Cg{constructor(e,n,s,o,i,l){super(),nn.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):typeof e=="number"?(this.controlPoint1=new K(e,n).round(2),this.controlPoint2=new K(s,o).round(2),this.endPoint=new K(i,l).round(2)):(this.controlPoint1=K.create(e).round(2),this.controlPoint2=K.create(n).round(2),this.endPoint=K.create(s).round(2))}get type(){return"C"}get curve(){return new nn(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,n={}){const s=this.curve.divideAt(e,n);return[new Kr(s[0]),new Kr(s[1])]}divideAtLength(e,n={}){const s=this.curve.divideAtLength(e,n);return[new Kr(s[0]),new Kr(s[1])]}divideAtT(e){const n=this.curve.divideAtT(e);return[new Kr(n[0]),new Kr(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const e=this.start,n=this.controlPoint1,s=this.controlPoint2,o=this.end;return!(e.equals(n)&&n.equals(s)&&s.equals(o))}scale(e,n,s){return this.controlPoint1.scale(e,n,s),this.controlPoint2.scale(e,n,s),this.end.scale(e,n,s),this}rotate(e,n){return this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?(this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new Kr(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,n=this.controlPoint2,s=this.end;return[this.type,e.x,e.y,n.x,n.y,s.x,s.y].join(" ")}}(function(r){function e(...n){const s=n.length,o=n[0];if(nn.isCurve(o))return new r(o);if(K.isPointLike(o)){if(s===3)return new r(n[0],n[1],n[2]);const l=[];for(let a=0;a<s;a+=3)l.push(new r(n[a],n[a+1],n[a+2]));return l}if(s===6)return new r(n[0],n[1],n[2],n[3],n[4],n[5]);const i=[];for(let l=0;l<s;l+=6)i.push(new r(n[l],n[l+1],n[l+2],n[l+3],n[l+4],n[l+5]));return i}r.create=e})(Kr||(Kr={}));function Jf(r,e,n){return{x:r*Math.cos(n)-e*Math.sin(n),y:r*Math.sin(n)+e*Math.cos(n)}}function rE(r,e,n,s,o,i){const l=.3333333333333333,a=2/3;return[l*r+a*n,l*e+a*s,l*o+a*n,l*i+a*s,o,i]}function tP(r,e,n,s,o,i,l,a,c,u){const d=Math.PI*120/180,f=Math.PI/180*(+o||0);let h=[],p,g,m,v,b;if(u)g=u[0],m=u[1],v=u[2],b=u[3];else{p=Jf(r,e,-f),r=p.x,e=p.y,p=Jf(a,c,-f),a=p.x,c=p.y;const W=(r-a)/2,I=(e-c)/2;let R=W*W/(n*n)+I*I/(s*s);R>1&&(R=Math.sqrt(R),n=R*n,s=R*s);const U=n*n,Q=s*s,q=(i===l?-1:1)*Math.sqrt(Math.abs((U*Q-U*I*I-Q*W*W)/(U*I*I+Q*W*W)));v=q*n*I/s+(r+a)/2,b=q*-s*W/n+(e+c)/2,g=Math.asin((e-b)/s),m=Math.asin((c-b)/s),g=r<v?Math.PI-g:g,m=a<v?Math.PI-m:m,g<0&&(g=Math.PI*2+g),m<0&&(m=Math.PI*2+m),l&&g>m&&(g-=Math.PI*2),!l&&m>g&&(m-=Math.PI*2)}let C=m-g;if(Math.abs(C)>d){const W=m,I=a,R=c;m=g+d*(l&&m>g?1:-1),a=v+n*Math.cos(m),c=b+s*Math.sin(m),h=tP(a,c,n,s,o,0,l,I,R,[m,W,v,b])}C=m-g;const y=Math.cos(g),w=Math.sin(g),x=Math.cos(m),E=Math.sin(m),_=Math.tan(C/4),M=4/3*(n*_),A=4/3*(s*_),k=[r,e],P=[r+M*w,e-A*y],$=[a+M*E,c-A*x],B=[a,c];if(P[0]=2*k[0]-P[0],P[1]=2*k[1]-P[1],u)return[P,$,B].concat(h);{h=[P,$,B].concat(h).join().split(",");const W=[],I=h.length;for(let R=0;R<I;R+=1)W[R]=R%2?Jf(+h[R-1],+h[R],f).y:Jf(+h[R],+h[R+1],f).x;return W}}function Qse(r){if(!r)return null;const e=`	
\v\f\r   ᠎             　\u2028\u2029`,n=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),s=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),o={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return r.replace(n,(l,a,c)=>{const u=[];let d=a.toLowerCase();c.replace(s,(h,p)=>(p&&u.push(+p),h)),d==="m"&&u.length>2&&(i.push([a,...u.splice(0,2)]),d="l",a=a==="m"?"l":"L");const f=o[d];for(;u.length>=f&&(i.push([a,...u.splice(0,f)]),!!f););return l}),i}function eoe(r){const e=Qse(r);if(!e||!e.length)return[["M",0,0]];let n=0,s=0,o=0,i=0;const l=[];for(let a=0,c=e.length;a<c;a+=1){const u=[];l.push(u);const d=e[a],f=d[0];if(f!==f.toUpperCase())switch(u[0]=f.toUpperCase(),u[0]){case"A":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+d[6]+n,u[7]=+d[7]+s;break;case"V":u[1]=+d[1]+s;break;case"H":u[1]=+d[1]+n;break;case"M":o=+d[1]+n,i=+d[2]+s;for(let h=1,p=d.length;h<p;h+=1)u[h]=+d[h]+(h%2?n:s);break;default:for(let h=1,p=d.length;h<p;h+=1)u[h]=+d[h]+(h%2?n:s);break}else for(let h=0,p=d.length;h<p;h+=1)u[h]=d[h];switch(u[0]){case"Z":n=+o,s=+i;break;case"H":n=u[1];break;case"V":s=u[1];break;case"M":o=u[u.length-2],i=u[u.length-1],n=u[u.length-2],s=u[u.length-1];break;default:n=u[u.length-2],s=u[u.length-1];break}}return l}function toe(r){const e=eoe(r),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function s(c,u,d){let f,h;if(!c)return["C",u.x,u.y,u.x,u.y,u.x,u.y];switch(c[0]in{T:1,Q:1}||(u.qx=null,u.qy=null),c[0]){case"M":u.X=c[1],u.Y=c[2];break;case"A":return parseFloat(c[1])===0||parseFloat(c[2])===0?["L",c[6],c[7]]:["C"].concat(tP.apply(0,[u.x,u.y].concat(c.slice(1))));case"S":return d==="C"||d==="S"?(f=u.x*2-u.bx,h=u.y*2-u.by):(f=u.x,h=u.y),["C",f,h].concat(c.slice(1));case"T":return d==="Q"||d==="T"?(u.qx=u.x*2-u.qx,u.qy=u.y*2-u.qy):(u.qx=u.x,u.qy=u.y),["C"].concat(rE(u.x,u.y,u.qx,u.qy,c[1],c[2]));case"Q":return u.qx=c[1],u.qy=c[2],["C"].concat(rE(u.x,u.y,c[1],c[2],c[3],c[4]));case"H":return["L"].concat(c[1],u.y);case"V":return["L"].concat(u.x,c[1])}return c}function o(c,u){if(c[u].length>7){c[u].shift();const d=c[u];for(;d.length;)i[u]="A",u+=1,c.splice(u,0,["C"].concat(d.splice(0,6)));c.splice(u,1),a=e.length}}const i=[];let l="",a=e.length;for(let c=0;c<a;c+=1){let u="";e[c]&&(u=e[c][0]),u!=="C"&&(i[c]=u,c>0&&(l=i[c-1])),e[c]=s(e[c],n,l),i[c]!=="A"&&u==="C"&&(i[c]="C"),o(e,c);const d=e[c],f=d.length;n.x=d[f-2],n.y=d[f-1],n.bx=parseFloat(d[f-4])||n.x,n.by=parseFloat(d[f-3])||n.y}return(!e[0][0]||e[0][0]!=="M")&&e.unshift(["M",0,0]),e}function noe(r){return toe(r).map(e=>e.map(n=>typeof n=="string"?n:zt.round(n,2))).join(",").split(",").join(" ")}class Ze extends dl{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(We.isLine(e[0])||nn.isCurve(e[0])){let n=null;e.forEach((o,i)=>{i===0&&this.appendSegment(Ze.createSegment("M",o.start)),n!=null&&!n.end.equals(o.start)&&this.appendSegment(Ze.createSegment("M",o.start)),We.isLine(o)?this.appendSegment(Ze.createSegment("L",o.end)):nn.isCurve(o)&&this.appendSegment(Ze.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),n=o})}else e.forEach(s=>{s.isSegment&&this.appendSegment(s)});else e!=null&&(We.isLine(e)?(this.appendSegment(Ze.createSegment("M",e.start)),this.appendSegment(Ze.createSegment("L",e.end))):nn.isCurve(e)?(this.appendSegment(Ze.createSegment("M",e.start)),this.appendSegment(Ze.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):dn.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((n,s)=>{const o=s===0?Ze.createSegment("M",n):Ze.createSegment("L",n);this.appendSegment(o)}):e.isSegment&&this.appendSegment(e))}get start(){const e=this.segments,n=e.length;if(n===0)return null;for(let s=0;s<n;s+=1){const o=e[s];if(o.isVisible)return o.start}return e[n-1].end}get end(){const e=this.segments,n=e.length;if(n===0)return null;for(let s=n-1;s>=0;s-=1){const o=e[s];if(o.isVisible)return o.end}return e[n-1].end}moveTo(...e){return this.appendSegment(Nc.create.call(null,...e))}lineTo(...e){return this.appendSegment(nr.create.call(null,...e))}curveTo(...e){return this.appendSegment(Kr.create.call(null,...e))}arcTo(e,n,s,o,i,l,a){const c=this.end||new K,u=typeof l=="number"?cp(c.x,c.y,e,n,s,o,i,l,a):cp(c.x,c.y,e,n,s,o,i,l.x,l.y);if(u!=null)for(let d=0,f=u.length;d<f;d+=6)this.curveTo(u[d],u[d+1],u[d+2],u[d+3],u[d+4],u[d+5]);return this}quadTo(e,n,s,o){const i=this.end||new K,l=["M",i.x,i.y];if(typeof e=="number")l.push("Q",e,n,s,o);else{const c=n;l.push("Q",e.x,e.y,c.x,c.y)}const a=Ze.parse(l.join(" "));return this.appendSegment(a.segments.slice(1)),this}close(){return this.appendSegment(Pc.create())}drawPoints(e,n={}){const s=eP(e,n),o=Ze.parse(s);o&&o.segments&&this.appendSegment(o.segments)}bbox(){const e=this.segments,n=e.length;if(n===0)return null;let s;for(let i=0;i<n;i+=1){const l=e[i];if(l.isVisible){const a=l.bbox();a!=null&&(s=s?s.union(a):a)}}if(s!=null)return s;const o=e[n-1];return new Ne(o.end.x,o.end.y,0,0)}appendSegment(e){const n=this.segments.length;let s=n!==0?this.segments[n-1]:null,o;const i=null;if(Array.isArray(e))for(let l=0,a=e.length;l<a;l+=1){const c=e[l];o=this.prepareSegment(c,s,i),this.segments.push(o),s=o}else e!=null&&e.isSegment&&(o=this.prepareSegment(e,s,i),this.segments.push(o));return this}insertSegment(e,n){const s=this.segments.length;if(e<0&&(e=s+e+1),e>s||e<0)throw new Error("Index out of range.");let o,i=null,l=null;if(s!==0&&(e>=1?(i=this.segments[e-1],l=i.nextSegment):(i=null,l=this.segments[0])),!Array.isArray(n))o=this.prepareSegment(n,i,l),this.segments.splice(e,0,o);else for(let a=0,c=n.length;a<c;a+=1){const u=n[a];o=this.prepareSegment(u,i,l),this.segments.splice(e+a,0,o),i=o}return this}removeSegment(e){const n=this.fixIndex(e),s=this.segments.splice(n,1)[0],o=s.previousSegment,i=s.nextSegment;return o&&(o.nextSegment=i),i&&(i.previousSegment=o),s.isSubpathStart&&i&&this.updateSubpathStartSegment(i),s}replaceSegment(e,n){const s=this.fixIndex(e);let o;const i=this.segments[s];let l=i.previousSegment;const a=i.nextSegment;let c=i.isSubpathStart;if(!Array.isArray(n))o=this.prepareSegment(n,l,a),this.segments.splice(s,1,o),c&&o.isSubpathStart&&(c=!1);else{this.segments.splice(e,1);for(let u=0,d=n.length;u<d;u+=1){const f=n[u];o=this.prepareSegment(f,l,a),this.segments.splice(e+u,0,o),l=o,c&&o.isSubpathStart&&(c=!1)}}c&&a&&this.updateSubpathStartSegment(a)}getSegment(e){const n=this.fixIndex(e);return this.segments[n]}fixIndex(e){const n=this.segments.length;if(n===0)throw new Error("Path has no segments.");let s=e;for(;s<0;)s=n+s;if(s>=n||s<0)throw new Error("Index out of range.");return s}segmentAt(e,n={}){const s=this.segmentIndexAt(e,n);return s?this.getSegment(s):null}segmentAtLength(e,n={}){const s=this.segmentIndexAtLength(e,n);return s?this.getSegment(s):null}segmentIndexAt(e,n={}){if(this.segments.length===0)return null;const s=zt.clamp(e,0,1),o=this.getOptions(n),l=this.length(o)*s;return this.segmentIndexAtLength(l,o)}segmentIndexAtLength(e,n={}){const s=this.segments.length;if(s===0)return null;let o=!0;e<0&&(o=!1,e=-e);const i=this.getPrecision(n),l=this.getSubdivisions(n);let a=0,c=null;for(let u=0;u<s;u+=1){const d=o?u:s-1-u,f=this.segments[d],h=l[d],p=f.length({precision:i,subdivisions:h});if(f.isVisible){if(e<=a+p)return d;c=d}a+=p}return c}getSegmentSubdivisions(e={}){const n=this.getPrecision(e),s=[];for(let o=0,i=this.segments.length;o<i;o+=1){const a=this.segments[o].getSubdivisions({precision:n});s.push(a)}return s}updateSubpathStartSegment(e){let n=e.previousSegment,s=e;for(;s&&!s.isSubpathStart;)n!=null?s.subpathStartSegment=n.subpathStartSegment:s.subpathStartSegment=null,n=s,s=s.nextSegment}prepareSegment(e,n,s){e.previousSegment=n,e.nextSegment=s,n!=null&&(n.nextSegment=e),s!=null&&(s.previousSegment=e);let o=e;return e.isSubpathStart&&(e.subpathStartSegment=e,o=s),o!=null&&this.updateSubpathStartSegment(o),e}closestPoint(e,n={}){const s=this.closestPointT(e,n);return s?this.pointAtT(s):null}closestPointLength(e,n={}){const s=this.getOptions(n),o=this.closestPointT(e,s);return o?this.lengthAtT(o,s):0}closestPointNormalizedLength(e,n={}){const s=this.getOptions(n),o=this.closestPointLength(e,s);if(o===0)return 0;const i=this.length(s);return i===0?0:o/i}closestPointT(e,n={}){if(this.segments.length===0)return null;const s=this.getPrecision(n),o=this.getSubdivisions(n);let i,l=1/0;for(let a=0,c=this.segments.length;a<c;a+=1){const u=this.segments[a],d=o[a];if(u.isVisible){const f=u.closestPointT(e,{precision:s,subdivisions:d}),h=u.pointAtT(f),p=zt.squaredLength(h,e);p<l&&(i={segmentIndex:a,value:f},l=p)}}return i||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,n={}){if(this.segments.length===0)return null;const s=this.getPrecision(n),o=this.getSubdivisions(n);let i,l=1/0;for(let a=0,c=this.segments.length;a<c;a+=1){const u=this.segments[a],d=o[a];if(u.isDifferentiable()){const f=u.closestPointT(e,{precision:s,subdivisions:d}),h=u.pointAtT(f),p=zt.squaredLength(h,e);p<l&&(i=u.tangentAtT(f),l=p)}}return i||null}containsPoint(e,n={}){const s=this.toPolylines(n);if(!s)return!1;let o=0;for(let i=0,l=s.length;i<l;i+=1)s[i].containsPoint(e)&&(o+=1);return o%2===1}pointAt(e,n={}){if(this.segments.length===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const s=this.getOptions(n),i=this.length(s)*e;return this.pointAtLength(i,s)}pointAtLength(e,n={}){if(this.segments.length===0)return null;if(e===0)return this.start.clone();let s=!0;e<0&&(s=!1,e=-e);const o=this.getPrecision(n),i=this.getSubdivisions(n);let l,a=0;for(let u=0,d=this.segments.length;u<d;u+=1){const f=s?u:d-1-u,h=this.segments[f],p=i[f],g=h.length({precision:o,subdivisions:p});if(h.isVisible){if(e<=a+g)return h.pointAtLength((s?1:-1)*(e-a),{precision:o,subdivisions:p});l=h}a+=g}return l?s?l.end:l.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const n=this.segments,s=n.length;if(s===0)return null;const o=e.segmentIndex;if(o<0)return n[0].pointAtT(0);if(o>=s)return n[s-1].pointAtT(1);const i=zt.clamp(e.value,0,1);return n[o].pointAtT(i)}divideAt(e,n={}){if(this.segments.length===0)return null;const s=zt.clamp(e,0,1),o=this.getOptions(n),l=this.length(o)*s;return this.divideAtLength(l,o)}divideAtLength(e,n={}){if(this.segments.length===0)return null;let s=!0;e<0&&(s=!1,e=-e);const o=this.getPrecision(n),i=this.getSubdivisions(n);let l=0,a,c,u,d,f;for(let x=0,E=this.segments.length;x<E;x+=1){const _=s?x:E-1-x,M=this.getSegment(_),A=i[_],k={precision:o,subdivisions:A},P=M.length(k);if(M.isDifferentiable()&&(u=M,d=_,e<=l+P)){c=_,a=M.divideAtLength((s?1:-1)*(e-l),k);break}l+=P}if(!u)return null;a||(c=d,f=s?1:0,a=u.divideAtT(f));const h=this.clone(),p=c;h.replaceSegment(p,a);const g=p;let m=p+1,v=p+2;a[0].isDifferentiable()||(h.removeSegment(g),m-=1,v-=1);const b=h.getSegment(m).start;h.insertSegment(m,Ze.createSegment("M",b)),v+=1,a[1].isDifferentiable()||(h.removeSegment(v-1),v-=1);const C=v-g-1;for(let x=v,E=h.segments.length;x<E;x+=1){const _=this.getSegment(x-C),M=h.getSegment(x);if(M.type==="Z"&&!_.subpathStartSegment.end.equals(M.subpathStartSegment.end)){const A=Ze.createSegment("L",_.end);h.replaceSegment(x,A)}}const y=new Ze(h.segments.slice(0,m)),w=new Ze(h.segments.slice(m));return[y,w]}intersectsWithLine(e,n={}){const s=this.toPolylines(n);if(s==null)return null;let o=null;for(let i=0,l=s.length;i<l;i+=1){const a=s[i],c=e.intersect(a);c&&(o==null&&(o=[]),Array.isArray(c)?o.push(...c):o.push(c))}return o}isDifferentiable(){for(let e=0,n=this.segments.length;e<n;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return e.length===0||e[0].type==="M"}length(e={}){if(this.segments.length===0)return 0;const n=this.getSubdivisions(e);let s=0;for(let o=0,i=this.segments.length;o<i;o+=1){const l=this.segments[o],a=n[o];s+=l.length({subdivisions:a})}return s}lengthAtT(e,n={}){const s=this.segments.length;if(s===0)return 0;let o=e.segmentIndex;if(o<0)return 0;let i=zt.clamp(e.value,0,1);o>=s&&(o=s-1,i=1);const l=this.getPrecision(n),a=this.getSubdivisions(n);let c=0;for(let f=0;f<o;f+=1){const h=this.segments[f],p=a[f];c+=h.length({precision:l,subdivisions:p})}const u=this.segments[o],d=a[o];return c+=u.lengthAtT(i,{precision:l,subdivisions:d}),c}tangentAt(e,n={}){if(this.segments.length===0)return null;const s=zt.clamp(e,0,1),o=this.getOptions(n),l=this.length(o)*s;return this.tangentAtLength(l,o)}tangentAtLength(e,n={}){if(this.segments.length===0)return null;let s=!0;e<0&&(s=!1,e=-e);const o=this.getPrecision(n),i=this.getSubdivisions(n);let l,a=0;for(let c=0,u=this.segments.length;c<u;c+=1){const d=s?c:u-1-c,f=this.segments[d],h=i[d],p=f.length({precision:o,subdivisions:h});if(f.isDifferentiable()){if(e<=a+p)return f.tangentAtLength((s?1:-1)*(e-a),{precision:o,subdivisions:h});l=f}a+=p}if(l){const c=s?1:0;return l.tangentAtT(c)}return null}tangentAtT(e){const n=this.segments.length;if(n===0)return null;const s=e.segmentIndex;if(s<0)return this.segments[0].tangentAtT(0);if(s>=n)return this.segments[n-1].tangentAtT(1);const o=zt.clamp(e.value,0,1);return this.segments[s].tangentAtT(o)}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getSubdivisions(e={}){if(e.segmentSubdivisions==null){const n=this.getPrecision(e);return this.getSegmentSubdivisions({precision:n})}return e.segmentSubdivisions}getOptions(e={}){const n=this.getPrecision(e),s=this.getSubdivisions(e);return{precision:n,segmentSubdivisions:s}}toPoints(e={}){const n=this.segments,s=n.length;if(s===0)return null;const o=this.getSubdivisions(e),i=[];let l=[];for(let a=0;a<s;a+=1){const c=n[a];if(c.isVisible){const u=o[a];u.length>0?u.forEach(d=>l.push(d.start)):l.push(c.start)}else l.length>0&&(l.push(n[a-1].end),i.push(l),l=[])}return l.length>0&&(l.push(this.end),i.push(l)),i}toPolylines(e={}){const n=this.toPoints(e);return n?n.map(s=>new dn(s)):null}scale(e,n,s){return this.segments.forEach(o=>o.scale(e,n,s)),this}rotate(e,n){return this.segments.forEach(s=>s.rotate(e,n)),this}translate(e,n){return typeof e=="number"?this.segments.forEach(s=>s.translate(e,n)):this.segments.forEach(s=>s.translate(e)),this}clone(){const e=new Ze;return this.segments.forEach(n=>e.appendSegment(n.clone())),e}equals(e){if(e==null)return!1;const n=this.segments,s=e.segments,o=n.length;if(s.length!==o)return!1;for(let i=0;i<o;i+=1){const l=n[i],a=s[i];if(l.type!==a.type||!l.equals(a))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}}(function(r){function e(n){return n!=null&&n instanceof r}r.isPath=e})(Ze||(Ze={}));(function(r){function e(s){if(!s)return new r;const o=new r,i=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,l=r.normalize(s).match(i);if(l!=null)for(let a=0,c=l.length;a<c;a+=1){const u=l[a],d=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,f=u.match(d);if(f!=null){const h=f[0],p=f.slice(1).map(m=>+m),g=n.call(null,h,...p);o.appendSegment(g)}}return o}r.parse=e;function n(s,...o){if(s==="M")return Nc.create.call(null,...o);if(s==="L")return nr.create.call(null,...o);if(s==="C")return Kr.create.call(null,...o);if(s==="z"||s==="Z")return Pc.create();throw new Error(`Invalid path segment type "${s}"`)}r.createSegment=n})(Ze||(Ze={}));(function(r){r.normalize=noe,r.isValid=Jse,r.drawArc=Zse,r.drawPoints=eP,r.arcToCurves=cp})(Ze||(Ze={}));class gn{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,n,s=!1){if(typeof e=="object"){Object.entries(e).forEach(([l,a])=>{this.register(l,a,n)});return}this.exist(e)&&!s&&!qi.isApplyingHMR()&&this.onDuplicated(e);const o=this.options.process,i=o?ht(o,this,e,n):n;return this.data[e]=i,i}unregister(e){const n=e?this.data[e]:null;return delete this.data[e],n}get(e){return e?this.data[e]:null}exist(e){return e?this.data[e]!=null:!1}onDuplicated(e){try{throw this.options.onConflict&&ht(this.options.onConflict,this,e),new Error(`${Ih(this.options.type)} with name '${e}' already registered.`)}catch(n){throw n}}onNotFound(e,n){throw new Error(this.getSpellingSuggestion(e,n))}getSpellingSuggestion(e,n){const s=this.getSpellingSuggestionForName(e),o=n?`${n} ${b5(this.options.type)}`:this.options.type;return`${Ih(o)} with name '${e}' does not exist.${s?` Did you mean '${s}'?`:""}`}getSpellingSuggestionForName(e){return tse(e,Object.keys(this.data),n=>n)}}(function(r){function e(n){return new r(n)}r.create=e})(gn||(gn={}));const roe={color:"#aaaaaa",thickness:1,markup:"rect",update(r,e){const n=e.thickness*e.sx,s=e.thickness*e.sy;Ut(r,{width:n,height:s,rx:n,ry:s,fill:e.color})}},soe={color:"#aaaaaa",thickness:1,markup:"rect",update(r,e){const n=e.sx<=1?e.thickness*e.sx:e.thickness;Ut(r,{width:n,height:n,rx:n,ry:n,fill:e.color})}},ooe={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(r,e){let n;const s=e.width,o=e.height,i=e.thickness;s-i>=0&&o-i>=0?n=["M",s,0,"H0 M0 0 V0",o].join(" "):n="M 0 0 0 0",Ut(r,{d:n,stroke:e.color,"stroke-width":e.thickness})}},ioe=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(r,e){let n;const s=e.width,o=e.height,i=e.thickness;s-i>=0&&o-i>=0?n=["M",s,0,"H0 M0 0 V0",o].join(" "):n="M 0 0 0 0",Ut(r,{d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(r,e){let n;const s=e.factor||1,o=e.width*s,i=e.height*s,l=e.thickness;o-l>=0&&i-l>=0?n=["M",o,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",e.width=o,e.height=i,Ut(r,{d:n,stroke:e.color,"stroke-width":e.thickness})}}],loe=Object.freeze(Object.defineProperty({__proto__:null,dot:roe,doubleMesh:ioe,fixedDot:soe,mesh:ooe},Symbol.toStringTag,{value:"Module"}));class Ii{constructor(){this.patterns={},this.root=ut.create(op(),{width:"100%",height:"100%"},[Us("defs")]).node}add(e,n){const s=this.root.childNodes[0];s&&s.appendChild(n),this.patterns[e]=n,ut.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return this.patterns[e]!=null}}(function(r){r.presets=loe,r.registry=gn.create({type:"grid"}),r.registry.register(r.presets,!0)})(Ii||(Ii={}));const nP=function(r){const e=document.createElement("canvas"),n=r.width,s=r.height;e.width=n*2,e.height=s;const o=e.getContext("2d");return o.drawImage(r,0,0,n,s),o.translate(2*n,0),o.scale(-1,1),o.drawImage(r,0,0,n,s),e},rP=function(r){const e=document.createElement("canvas"),n=r.width,s=r.height;e.width=n,e.height=s*2;const o=e.getContext("2d");return o.drawImage(r,0,0,n,s),o.translate(0,2*s),o.scale(1,-1),o.drawImage(r,0,0,n,s),e},sP=function(r){const e=document.createElement("canvas"),n=r.width,s=r.height;e.width=2*n,e.height=2*s;const o=e.getContext("2d");return o.drawImage(r,0,0,n,s),o.setTransform(-1,0,0,-1,e.width,e.height),o.drawImage(r,0,0,n,s),o.setTransform(-1,0,0,1,e.width,0),o.drawImage(r,0,0,n,s),o.setTransform(1,0,0,-1,0,e.height),o.drawImage(r,0,0,n,s),e},aoe=function(r,e){const n=r.width,s=r.height,o=document.createElement("canvas");o.width=n*3,o.height=s*3;const i=o.getContext("2d"),l=e.angle!=null?-e.angle:-20,a=Ht.toRad(l),c=o.width/4,u=o.height/4;for(let d=0;d<4;d+=1)for(let f=0;f<4;f+=1)(d+f)%2>0&&(i.setTransform(1,0,0,1,(2*d-1)*c,(2*f-1)*u),i.rotate(a),i.drawImage(r,-n/2,-s/2,n,s));return o},coe=Object.freeze(Object.defineProperty({__proto__:null,flipX:nP,flipXY:sP,flipY:rP,watermark:aoe},Symbol.toStringTag,{value:"Module"}));var kd;(function(r){r.presets=Object.assign({},coe),r.presets["flip-x"]=nP,r.presets["flip-y"]=rP,r.presets["flip-xy"]=sP,r.registry=gn.create({type:"background pattern"}),r.registry.register(r.presets,!0)})(kd||(kd={}));function E0(r,e){return r??e}function Ln(r,e){return r!=null&&Number.isFinite(r)?r:e}function uoe(r={}){const e=E0(r.color,"blue"),n=Ln(r.width,1),s=Ln(r.margin,2),o=Ln(r.opacity,1),i=s,l=s+n;return`
    <filter>
      <feFlood flood-color="${e}" flood-opacity="${o}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${l}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${i}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function doe(r={}){const e=E0(r.color,"red"),n=Ln(r.blur,0),s=Ln(r.width,1),o=Ln(r.opacity,1);return`
      <filter>
        <feFlood flood-color="${e}" flood-opacity="${o}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${s}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${n}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function foe(r={}){const e=Ln(r.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${r.y!=null&&Number.isFinite(r.y)?[e,r.y]:e}"/>
    </filter>
  `.trim()}function hoe(r={}){const e=Ln(r.dx,0),n=Ln(r.dy,0),s=E0(r.color,"black"),o=Ln(r.blur,4),i=Ln(r.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${o}" dx="${e}" dy="${n}" flood-color="${s}" flood-opacity="${i}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${o}" />
         <feOffset dx="${e}" dy="${n}" result="offsetblur" />
         <feFlood flood-color="${s}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${i}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function poe(r={}){const e=Ln(r.amount,1),n=.2126+.7874*(1-e),s=.7152-.7152*(1-e),o=.0722-.0722*(1-e),i=.2126-.2126*(1-e),l=.7152+.2848*(1-e),a=.0722-.0722*(1-e),c=.2126-.2126*(1-e),u=.0722+.9278*(1-e);return`
    <filter>
      <feColorMatrix type="matrix" values="${n} ${s} ${o} 0 0 ${i} ${l} ${a} 0 0 ${c} ${s} ${u} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function goe(r={}){const e=Ln(r.amount,1),n=.393+.607*(1-e),s=.769-.769*(1-e),o=.189-.189*(1-e),i=.349-.349*(1-e),l=.686+.314*(1-e),a=.168-.168*(1-e),c=.272-.272*(1-e),u=.534-.534*(1-e),d=.131+.869*(1-e);return`
      <filter>
        <feColorMatrix type="matrix" values="${n} ${s} ${o} 0 0 ${i} ${l} ${a} 0 0 ${c} ${u} ${d} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function moe(r={}){return`
      <filter>
        <feColorMatrix type="saturate" values="${1-Ln(r.amount,1)}"/>
      </filter>
    `.trim()}function boe(r={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${Ln(r.angle,0)}"/>
      </filter>
    `.trim()}function voe(r={}){const e=Ln(r.amount,1),n=1-e;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${e} ${n}"/>
          <feFuncG type="table" tableValues="${e} ${n}"/>
          <feFuncB type="table" tableValues="${e} ${n}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function yoe(r={}){const e=Ln(r.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${e}"/>
        <feFuncG type="linear" slope="${e}"/>
        <feFuncB type="linear" slope="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function woe(r={}){const e=Ln(r.amount,1),n=.5-e/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${e}" intercept="${n}"/>
        <feFuncG type="linear" slope="${e}" intercept="${n}"/>
        <feFuncB type="linear" slope="${e}" intercept="${n}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}const Coe=Object.freeze(Object.defineProperty({__proto__:null,blur:foe,brightness:yoe,contrast:woe,dropShadow:hoe,grayScale:poe,highlight:doe,hueRotate:boe,invert:voe,outline:uoe,saturate:moe,sepia:goe},Symbol.toStringTag,{value:"Module"}));var Ic;(function(r){r.presets=Coe,r.registry=gn.create({type:"filter"}),r.registry.register(r.presets,!0)})(Ic||(Ic={}));const Soe={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},xoe={},oP={position:Sg("x","width","origin")},iP={position:Sg("y","height","origin")},Eoe={position:Sg("x","width","corner")},Toe={position:Sg("y","height","corner")},lP={set:Ki("width","width")},aP={set:Ki("height","height")},_oe={set:Ki("rx","width")},Ooe={set:Ki("ry","height")},cP={set:(r=>{const e=Ki(r,"width"),n=Ki(r,"height");return function(s,o){const i=o.refBBox,l=i.height>i.width?e:n;return ht(l,this,s,o)}})("r")},Aoe={set(r,{refBBox:e}){let n=parseFloat(r);const s=jo(r);s&&(n/=100);const o=Math.sqrt(e.height*e.height+e.width*e.width);let i;return Number.isFinite(n)&&(s||n>=0&&n<=1?i=n*o:i=Math.max(n+o,0)),{r:i}}},Moe={set:Ki("cx","width")},koe={set:Ki("cy","height")},uP={set:hP({resetOffset:!0})},Poe={set:hP({resetOffset:!1})},dP={set:pP({resetOffset:!0})},Noe={set:pP({resetOffset:!1})},Ioe=cP,Loe=uP,Roe=dP,$oe=oP,Doe=iP,Voe=lP,Foe=aP;function Sg(r,e,n){return(s,{refBBox:o})=>{if(s==null)return null;let i=parseFloat(s);const l=jo(s);l&&(i/=100);let a;if(Number.isFinite(i)){const u=o[n];l||i>0&&i<1?a=u[r]+o[e]*i:a=u[r]+i}const c=new K;return c[r]=a||0,c}}function Ki(r,e){return function(n,{refBBox:s}){let o=parseFloat(n);const i=jo(n);i&&(o/=100);const l={};if(Number.isFinite(o)){const a=i||o>=0&&o<=1?o*s[e]:Math.max(o+s[e],0);l[r]=a}return l}}function fP(r,e){const n="x6-shape",s=e&&e.resetOffset;return function(o,{elem:i,refBBox:l}){let a=aa(i,n);if(!a||a.value!==o){const m=r(o);a={value:o,shape:m,shapeBBox:m.bbox()},aa(i,n,a)}const c=a.shape.clone(),u=a.shapeBBox.clone(),d=u.getOrigin(),f=l.getOrigin();u.x=f.x,u.y=f.y;const h=l.getMaxScaleToFit(u,f),p=u.width===0||l.width===0?1:h.sx,g=u.height===0||l.height===0?1:h.sy;return c.scale(p,g,d),s&&c.translate(-d.x,-d.y),c}}function hP(r){function e(s){return Ze.parse(s)}const n=fP(e,r);return(s,o)=>({d:n(s,o).serialize()})}function pP(r){const e=fP(n=>new dn(n),r);return(n,s)=>({points:e(n,s).serialize()})}const Boe={qualify:po,set(r,{view:e}){return`url(#${e.graph.defineGradient(r)})`}},zoe={qualify:po,set(r,{view:e}){const n=e.cell,s=Object.assign({},r);if(n.isEdge()&&s.type==="linearGradient"){const o=e,i=o.sourcePoint,l=o.targetPoint;s.id=`gradient-${s.type}-${n.id}`,s.attrs=Object.assign(Object.assign({},s.attrs),{x1:i.x,y1:i.y,x2:l.x,y2:l.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(s.id)}return`url(#${e.graph.defineGradient(s)})`}},gP={qualify(r,{attrs:e}){return e.textWrap==null||!po(e.textWrap)},set(r,{view:e,elem:n,attrs:s}){const o="x6-text",i=aa(n,o),l=d=>{try{return JSON.parse(d)}catch{return d}},a={x:s.x,eol:s.eol,annotations:l(s.annotations),textPath:l(s["text-path"]||s.textPath),textVerticalAnchor:s["text-vertical-anchor"]||s.textVerticalAnchor,displayEmpty:(s["display-empty"]||s.displayEmpty)==="true",lineHeight:s["line-height"]||s.lineHeight},c=s["font-size"]||s.fontSize,u=JSON.stringify([r,a]);if(c&&n.setAttribute("font-size",c),i==null||i!==u){const d=a.textPath;if(d!=null&&typeof d=="object"){const f=d.selector;if(typeof f=="string"){const h=e.find(f)[0];h instanceof SVGPathElement&&(y0(h),a.textPath=Object.assign({"xlink:href":`#${h.id}`},d))}}qk(n,`${r}`,a),aa(n,o,u)}}},joe={qualify:po,set(r,{view:e,elem:n,attrs:s,refBBox:o}){const i=r,l=i.width||0;jo(l)?o.width*=parseFloat(l)/100:l<=0?o.width+=l:o.width=l;const a=i.height||0;jo(a)?o.height*=parseFloat(a)/100:a<=0?o.height+=a:o.height=a;let c,u=i.text;u==null&&(u=s.text||(n==null?void 0:n.textContent)),u!=null?c=Gk(`${u}`,o,{"font-weight":s["font-weight"]||s.fontWeight,"font-size":s["font-size"]||s.fontSize,"font-family":s["font-family"]||s.fontFamily,lineHeight:s.lineHeight},{ellipsis:i.ellipsis}):c="",ht(gP.set,this,c,{view:e,elem:n,attrs:s,refBBox:o,cell:e.cell})}},su=(r,{attrs:e})=>e.text!==void 0,Hoe={qualify:su},Uoe={qualify:su},Woe={qualify:su},qoe={qualify:su},Goe={qualify:su},Koe={qualify:su},Yoe={qualify(r,{elem:e}){return e instanceof SVGElement},set(r,{elem:e}){const n="x6-title",s=`${r}`,o=aa(e,n);if(o==null||o!==s){aa(e,n,s);const i=e.firstChild;if(i&&i.tagName.toUpperCase()==="TITLE"){const l=i;l.textContent=s}else{const l=document.createElementNS(e.namespaceURI,"title");l.textContent=s,e.insertBefore(l,i)}}}},Joe={offset:mP("x","width","right")},Xoe={offset:mP("y","height","bottom")},Zoe={offset(r,{refBBox:e}){return r?{x:-e.x,y:-e.y}:{x:0,y:0}}};function mP(r,e,n){return(s,{refBBox:o})=>{const i=new K;let l;return s==="middle"?l=o[e]/2:s===n?l=o[e]:typeof s=="number"&&Number.isFinite(s)?l=s>-1&&s<1?-o[e]*s:-s:jo(s)?l=o[e]*parseFloat(s)/100:l=0,i[r]=-(o[r]+l),i}}const Qoe={qualify:po,set(r,{elem:e}){pf(e,r)}},eie={set(r,{elem:e}){e.innerHTML=`${r}`}},tie={qualify:po,set(r,{view:e}){return`url(#${e.graph.defineFilter(r)})`}},nie={set(r){return r!=null&&typeof r=="object"&&r.id?r.id:r}};function fl(r,e,n){let s,o;typeof e=="object"?(s=e.x,o=e.y):(s=e,o=n);const i=Ze.parse(r),l=i.bbox();if(l){let a=-l.height/2-l.y,c=-l.width/2-l.x;typeof s=="number"&&(c-=s),typeof o=="number"&&(a-=o),i.translate(c,a)}return i.serialize()}var bP=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const rie=r=>{var{size:e,width:n,height:s,offset:o,open:i}=r,l=bP(r,["size","width","height","offset","open"]);return vP({size:e,width:n,height:s,offset:o},i===!0,!0,void 0,l)},sie=r=>{var{size:e,width:n,height:s,offset:o,factor:i}=r,l=bP(r,["size","width","height","offset","factor"]);return vP({size:e,width:n,height:s,offset:o},!1,!1,i,l)};function vP(r,e,n,s=3/4,o={}){const i=r.size||10,l=r.width||i,a=r.height||i,c=new Ze,u={};if(e)c.moveTo(l,0).lineTo(0,a/2).lineTo(l,a),u.fill="none";else{if(c.moveTo(0,a/2),c.lineTo(l,0),!n){const d=Zr(s,0,1);c.lineTo(l*d,a/2)}c.lineTo(l,a),c.close()}return Object.assign(Object.assign(Object.assign({},u),o),{tagName:"path",d:fl(c.serialize(),{x:r.offset!=null?r.offset:-l/2})})}var oie=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const iie=r=>{var{size:e,width:n,height:s,offset:o}=r,i=oie(r,["size","width","height","offset"]);const l=e||10,a=n||l,c=s||l,u=new Ze;return u.moveTo(0,c/2).lineTo(a/2,0).lineTo(a,c/2).lineTo(a/2,c).close(),Object.assign(Object.assign({},i),{tagName:"path",d:fl(u.serialize(),o??-a/2)})};var lie=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const aie=r=>{var{d:e,offsetX:n,offsetY:s}=r,o=lie(r,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},o),{tagName:"path",d:fl(e,n,s)})};var cie=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const uie=r=>{var{size:e,width:n,height:s,offset:o}=r,i=cie(r,["size","width","height","offset"]);const l=e||10,a=n||l,c=s||l,u=new Ze;return u.moveTo(0,0).lineTo(a,c).moveTo(0,c).lineTo(a,0),Object.assign(Object.assign({},i),{tagName:"path",fill:"none",d:fl(u.serialize(),o||-a/2)})};var die=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const fie=r=>{var{width:e,height:n,offset:s,open:o,flip:i}=r,l=die(r,["width","height","offset","open","flip"]);let a=n||6;const c=e||10,u=o===!0,d=i===!0,f=Object.assign(Object.assign({},l),{tagName:"path"});d&&(a=-a);const h=new Ze;return h.moveTo(0,a).lineTo(c,0),u?f.fill="none":(h.lineTo(c,a),h.close()),f.d=fl(h.serialize(),{x:s||-c/2,y:a/2}),f};var yP=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const wP=r=>{var{r:e}=r,n=yP(r,["r"]);const s=e||5;return Object.assign(Object.assign({cx:s},n),{tagName:"circle",r:s})},hie=r=>{var{r:e}=r,n=yP(r,["r"]);const s=e||5,o=new Ze;return o.moveTo(s,0).lineTo(s,s*2),o.moveTo(0,s).lineTo(s*2,s),{children:[Object.assign(Object.assign({},wP({r:s})),{fill:"none"}),Object.assign(Object.assign({},n),{tagName:"path",d:fl(o.serialize(),-s)})]}};var pie=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const gie=r=>{var{rx:e,ry:n}=r,s=pie(r,["rx","ry"]);const o=e||5,i=n||5;return Object.assign(Object.assign({cx:o},s),{tagName:"ellipse",rx:o,ry:i})},mie=Object.freeze(Object.defineProperty({__proto__:null,async:fie,block:rie,circle:wP,circlePlus:hie,classic:sie,cross:uie,diamond:iie,ellipse:gie,path:aie},Symbol.toStringTag,{value:"Module"}));var Yi;(function(r){r.presets=mie,r.registry=gn.create({type:"marker"}),r.registry.register(r.presets,!0)})(Yi||(Yi={}));(function(r){r.normalize=fl})(Yi||(Yi={}));var bie=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function T0(r){return typeof r=="string"||po(r)}const vie={qualify:T0,set(r,{view:e,attrs:n}){return _0("marker-start",r,e,n)}},yie={qualify:T0,set(r,{view:e,attrs:n}){return _0("marker-end",r,e,n,{transform:"rotate(180)"})}},wie={qualify:T0,set(r,{view:e,attrs:n}){return _0("marker-mid",r,e,n)}};function _0(r,e,n,s,o={}){const i=typeof e=="string"?{name:e}:e,{name:l,args:a}=i,c=bie(i,["name","args"]);let u=c;if(l&&typeof l=="string"){const f=Yi.registry.get(l);if(f)u=f(Object.assign(Object.assign({},c),a));else return Yi.registry.onNotFound(l)}const d=Object.assign(Object.assign(Object.assign({},Cie(s,r)),o),u);return{[r]:`url(#${n.graph.defineMarker(d)})`}}function Cie(r,e){const n={},s=r.stroke;typeof s=="string"&&(n.stroke=s,n.fill=s);let o=r.strokeOpacity;if(o==null&&(o=r["stroke-opacity"]),o==null&&(o=r.opacity),o!=null&&(n["stroke-opacity"]=o,n["fill-opacity"]=o),e!=="marker-mid"){const i=parseFloat(r.strokeWidth||r["stroke-width"]);if(Number.isFinite(i)&&i>1){const l=Math.ceil(i/2);n.refX=e==="marker-start"?l:-l}}return n}const gf=(r,{view:e})=>e.cell.isEdge(),Sie={qualify:gf,set(r,e){var n,s,o,i;const l=e.view,a=r.reverse||!1,c=r.stubs||0;let u;if(Number.isFinite(c)&&c!==0)if(a){let d,f;const h=l.getConnectionLength()||0;c<0?(d=(h+c)/2,f=-c):(d=c,f=h-c*2);const p=l.getConnection();u=(i=(o=(s=(n=p==null?void 0:p.divideAtLength(d))===null||n===void 0?void 0:n[1])===null||s===void 0?void 0:s.divideAtLength(f))===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.serialize()}else{let d;c<0?d=((l.getConnectionLength()||0)+c)/2:d=c;const f=l.getConnection();if(f){const h=f.divideAtLength(d),p=f.divideAtLength(-d);h&&p&&(u=`${h[0].serialize()} ${p[1].serialize()}`)}}return{d:u||l.getConnectionPathData()}}},CP={qualify:gf,set:xg("getTangentAtLength",{rotate:!0})},xie={qualify:gf,set:xg("getTangentAtLength",{rotate:!1})},SP={qualify:gf,set:xg("getTangentAtRatio",{rotate:!0})},Eie={qualify:gf,set:xg("getTangentAtRatio",{rotate:!1})},Tie=CP,_ie=SP;function xg(r,e){const n={x:1,y:0};return(s,o)=>{let i,l;const a=o.view,c=a[r](Number(s));return c?(l=e.rotate?c.vector().vectorAngle(n):0,i=c.start):(i=a.path.start,l=0),l===0?{transform:`translate(${i.x},${i.y}')`}:{transform:`translate(${i.x},${i.y}') rotate(${l})`}}}const Oie=Object.freeze(Object.defineProperty({__proto__:null,annotations:qoe,atConnectionLength:Tie,atConnectionLengthIgnoreGradient:xie,atConnectionLengthKeepGradient:CP,atConnectionRatio:_ie,atConnectionRatioIgnoreGradient:Eie,atConnectionRatioKeepGradient:SP,connection:Sie,displayEmpty:Koe,eol:Goe,fill:Boe,filter:tie,html:eie,lineHeight:Hoe,port:nie,ref:xoe,refCx:Moe,refCy:koe,refD:Loe,refDKeepOffset:Poe,refDResetOffset:uP,refDx:Eoe,refDy:Toe,refHeight:aP,refHeight2:Foe,refPoints:Roe,refPointsKeepOffset:Noe,refPointsResetOffset:dP,refR:Ioe,refRCircumscribed:Aoe,refRInscribed:cP,refRx:_oe,refRy:Ooe,refWidth:lP,refWidth2:Voe,refX:oP,refX2:$oe,refY:iP,refY2:Doe,resetOffset:Zoe,sourceMarker:vie,stroke:zoe,style:Qoe,targetMarker:yie,text:gP,textPath:Woe,textVerticalAnchor:Uoe,textWrap:joe,title:Yoe,vertexMarker:wie,xAlign:Joe,yAlign:Xoe},Symbol.toStringTag,{value:"Module"}));var fo;(function(r){function e(n,s,o){return!!(n!=null&&(typeof n=="string"||typeof n.qualify!="function"||ht(n.qualify,this,s,o)))}r.isValidDefinition=e})(fo||(fo={}));(function(r){r.presets=Object.assign(Object.assign({},Soe),Oie),r.registry=gn.create({type:"attribute definition"}),r.registry.register(r.presets,!0)})(fo||(fo={}));const Fs={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix(r){return`${Fs.prefixCls}-${r}`}},sE=Fs.prefix("highlighted"),Aie={highlight(r,e,n){const s=n&&n.className||sE;Nt(e,s)},unhighlight(r,e,n){const s=n&&n.className||sE;es(e,s)}},oE=Fs.prefix("highlight-opacity"),Mie={highlight(r,e){Nt(e,oE)},unhighlight(r,e){es(e,oE)}};var Vt;(function(r){r.normalizeMarker=fl;function e(h,p){const g=$se(h.x,h.y).matrixTransform(p);return new K(g.x,g.y)}r.transformPoint=e;function n(h,p){return new We(e(h.start,p),e(h.end,p))}r.transformLine=n;function s(h,p){let g=h instanceof dn?h.points:h;return Array.isArray(g)||(g=[]),new dn(g.map(m=>e(m,p)))}r.transformPolyline=s;function o(h,p){const m=Us("svg").createSVGPoint();m.x=h.x,m.y=h.y;const v=m.matrixTransform(p);m.x=h.x+h.width,m.y=h.y;const b=m.matrixTransform(p);m.x=h.x+h.width,m.y=h.y+h.height;const C=m.matrixTransform(p);m.x=h.x,m.y=h.y+h.height;const y=m.matrixTransform(p),w=Math.min(v.x,b.x,C.x,y.x),x=Math.max(v.x,b.x,C.x,y.x),E=Math.min(v.y,b.y,C.y,y.y),_=Math.max(v.y,b.y,C.y,y.y);return new Ne(w,E,x-w,_-E)}r.transformRectangle=o;function i(h,p,g){let m;const v=h.ownerSVGElement;if(!v)return new Ne(0,0,0,0);try{m=h.getBBox()}catch{m={x:h.clientLeft,y:h.clientTop,width:h.clientWidth,height:h.clientHeight}}if(p)return Ne.create(m);const b=Gu(h,g||v);return o(m,b)}r.bbox=i;function l(h,p={}){let g;if(!h.ownerSVGElement||!Gi(h)){if(Yx(h)){const{left:C,top:y,width:w,height:x}=a(h);return new Ne(C,y,w,x)}return new Ne(0,0,0,0)}let v=p.target;if(!p.recursive){try{g=h.getBBox()}catch{g={x:h.clientLeft,y:h.clientTop,width:h.clientWidth,height:h.clientHeight}}if(!v)return Ne.create(g);const C=Gu(h,v);return o(g,C)}{const C=h.childNodes,y=C.length;if(y===0)return l(h,{target:v});v||(v=h);for(let w=0;w<y;w+=1){const x=C[w];let E;x.childNodes.length===0?E=l(x,{target:v}):E=l(x,{target:v,recursive:!0}),g?g=g.union(E):g=E}return g}}r.getBBox=l;function a(h){let p=0,g=0,m=0,v=0;if(h){let b=h;for(;b;)p+=b.offsetLeft,g+=b.offsetTop,b=b.offsetParent,b&&(p+=parseInt(Qx(b,"borderLeft"),10),g+=parseInt(Qx(b,"borderTop"),10));m=h.offsetWidth,v=h.offsetHeight}return{left:p,top:g,width:m,height:v}}r.getBoundingOffsetRect=a;function c(h){const p=g=>{const m=h.getAttribute(g),v=m?parseFloat(m):0;return Number.isNaN(v)?0:v};switch(h instanceof SVGElement&&h.nodeName.toLowerCase()){case"rect":return new Ne(p("x"),p("y"),p("width"),p("height"));case"circle":return new Vs(p("cx"),p("cy"),p("r"),p("r"));case"ellipse":return new Vs(p("cx"),p("cy"),p("rx"),p("ry"));case"polyline":{const g=lp(h);return new dn(g)}case"polygon":{const g=lp(h);return g.length>1&&g.push(g[0]),new dn(g)}case"path":{let g=h.getAttribute("d");return Ze.isValid(g)||(g=Ze.normalize(g)),Ze.parse(g)}case"line":return new We(p("x1"),p("y1"),p("x2"),p("y2"))}return l(h)}r.toGeometryShape=c;function u(h,p,g,m){const v=K.create(p),b=K.create(g);m||(m=h instanceof SVGSVGElement?h:h.ownerSVGElement);const C=pv(h);h.setAttribute("transform","");const y=l(h,{target:m}).scale(C.sx,C.sy),w=wu();w.setTranslate(-y.x-y.width/2,-y.y-y.height/2);const x=wu(),E=v.angleBetween(b,v.clone().translate(1,0));E&&x.setRotate(E,0,0);const _=wu(),M=v.clone().move(b,y.width/2);_.setTranslate(2*v.x-M.x,2*v.y-M.y);const A=Gu(h,m),k=wu();k.setMatrix(_.matrix.multiply(x.matrix.multiply(w.matrix.multiply(A.scale(C.sx,C.sy))))),h.setAttribute("transform",ru(k.matrix))}r.translateAndAutoOrient=u;function d(h){if(h==null)return null;let p=h;do{let g=p.tagName;if(typeof g!="string")return null;if(g=g.toUpperCase(),df(p,"x6-port"))p=p.nextElementSibling;else if(g==="G")p=p.firstElementChild;else if(g==="TITLE")p=p.nextElementSibling;else break}while(p);return p}r.findShapeNode=d;function f(h){const p=d(h);if(!Gi(p)){if(Yx(h)){const{left:v,top:b,width:C,height:y}=a(h);return new Ne(v,b,C,y)}return new Ne(0,0,0,0)}return c(p).bbox()||Ne.create()}r.getBBoxV2=f})(Vt||(Vt={}));const kie={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},Pie={highlight(r,e,n){const s=xi.getHighlighterId(e,n);if(xi.hasCache(s))return;n=M_({},n,kie);const o=ut.create(e);let i,l;try{i=o.toPathData()}catch{l=Vt.bbox(o.node,!0),i=Yk(Object.assign(Object.assign({},n),l))}const a=Us("path");if(Ut(a,Object.assign({d:i,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},n.attrs?_d(n.attrs):null)),r.isEdgeElement(e))Ut(a,"d",r.getConnectionPathData());else{let d=o.getTransformToElement(r.container);const f=n.padding;if(f){l==null&&(l=Vt.bbox(o.node,!0));const h=l.x+l.width/2,p=l.y+l.height/2;l=Vt.transformRectangle(l,d);const g=Math.max(l.width,1),m=Math.max(l.height,1),v=(g+f)/g,b=(m+f)/m,C=Bn({a:v,b:0,c:0,d:b,e:h-v*h,f:p-b*p});d=d.multiply(C)}Mc(a,d)}Nt(a,Fs.prefix("highlight-stroke"));const c=r.cell,u=()=>xi.removeHighlighter(s);c.on("removed",u),c.model&&c.model.on("reseted",u),r.container.appendChild(a),xi.setCache(s,a)},unhighlight(r,e,n){xi.removeHighlighter(xi.getHighlighterId(e,n))}};var xi;(function(r){function e(l,a){return y0(l),l.id+JSON.stringify(a)}r.getHighlighterId=e;const n={};function s(l,a){n[l]=a}r.setCache=s;function o(l){return n[l]!=null}r.hasCache=o;function i(l){const a=n[l];a&&(Ac(a),delete n[l])}r.removeHighlighter=i})(xi||(xi={}));const Nie=Object.freeze(Object.defineProperty({__proto__:null,className:Aie,opacity:Mie,stroke:Pie},Symbol.toStringTag,{value:"Module"}));var Do;(function(r){function e(n,s){if(typeof s.highlight!="function")throw new Error(`Highlighter '${n}' is missing required \`highlight()\` method`);if(typeof s.unhighlight!="function")throw new Error(`Highlighter '${n}' is missing required \`unhighlight()\` method`)}r.check=e})(Do||(Do={}));(function(r){r.presets=Nie,r.registry=gn.create({type:"highlighter"}),r.registry.register(r.presets,!0)})(Do||(Do={}));function bv(r,e={}){return new K(Ns(e.x,r.width),Ns(e.y,r.height))}function O0(r,e,n){return Object.assign({angle:e,position:r.toJSON()},n)}const Iie=(r,e)=>r.map(({x:n,y:s,angle:o})=>O0(bv(e,{x:n,y:s}),o||0)),Lie=(r,e,n)=>{const s=n.start||0,o=n.step||20;return xP(r,e,s,(i,l)=>(i+.5-l/2)*o)},Rie=(r,e,n)=>{const s=n.start||0,o=n.step||360/r.length;return xP(r,e,s,i=>i*o)};function xP(r,e,n,s){const o=e.getCenter(),i=e.getTopCenter(),l=e.width/e.height,a=Vs.fromRect(e),c=r.length;return r.map((u,d)=>{const f=n+s(d,c),h=i.clone().rotate(-f,o).scale(l,1,o),p=u.compensateRotate?-a.tangentTheta(h):0;return(u.dx||u.dy)&&h.translate(u.dx||0,u.dy||0),u.dr&&h.move(o,u.dr),O0(h.round(),p,u)})}var $ie=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const Die=(r,e,n)=>{const s=bv(e,n.start||e.getOrigin()),o=bv(e,n.end||e.getCorner());return mf(r,s,o,n)},Vie=(r,e,n)=>mf(r,e.getTopLeft(),e.getBottomLeft(),n),Fie=(r,e,n)=>mf(r,e.getTopRight(),e.getBottomRight(),n),Bie=(r,e,n)=>mf(r,e.getTopLeft(),e.getTopRight(),n),zie=(r,e,n)=>mf(r,e.getBottomLeft(),e.getBottomRight(),n);function mf(r,e,n,s){const o=new We(e,n),i=r.length;return r.map((l,a)=>{var{strict:c}=l,u=$ie(l,["strict"]);const d=c||s.strict?(a+1)/(i+1):(a+.5)/i,f=o.pointAt(d);return(u.dx||u.dy)&&f.translate(u.dx||0,u.dy||0),O0(f.round(),0,u)})}const jie=Object.freeze(Object.defineProperty({__proto__:null,absolute:Iie,bottom:zie,ellipse:Lie,ellipseSpread:Rie,left:Vie,line:Die,right:Fie,top:Bie},Symbol.toStringTag,{value:"Module"}));var Xl;(function(r){r.presets=jie,r.registry=gn.create({type:"port layout"}),r.registry.register(r.presets,!0)})(Xl||(Xl={}));const Hie={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function hl(r,e){const{x:n,y:s,angle:o,attrs:i}=e||{};return M_({},{angle:o,attrs:i,position:{x:n,y:s}},r,Hie)}const Uie=(r,e,n)=>hl({position:e.getTopLeft()},n),Wie=(r,e,n)=>hl({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},n),qie=(r,e,n)=>hl({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},n),Gie=(r,e,n)=>hl({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},n),Kie=(r,e,n)=>hl({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},n),Yie=(r,e,n)=>EP(r,e,!1,n),Jie=(r,e,n)=>EP(r,e,!0,n),Xie=(r,e,n)=>TP(r,e,!1,n),Zie=(r,e,n)=>TP(r,e,!0,n);function EP(r,e,n,s){const o=s.offset!=null?s.offset:15,i=e.getCenter().theta(r),l=_P(e);let a,c,u,d,f=0;return i<l[1]||i>l[2]?(a=".3em",c=o,u=0,d="start"):i<l[0]?(a="0",c=0,u=-o,n?(f=-90,d="start"):d="middle"):i<l[3]?(a=".3em",c=-o,u=0,d="end"):(a=".6em",c=0,u=o,n?(f=90,d="start"):d="middle"),hl({position:{x:Math.round(c),y:Math.round(u)},angle:f,attrs:{".":{y:a,"text-anchor":d}}},s)}function TP(r,e,n,s){const o=s.offset!=null?s.offset:15,i=e.getCenter().theta(r),l=_P(e);let a,c,u,d,f=0;return i<l[1]||i>l[2]?(a=".3em",c=-o,u=0,d="end"):i<l[0]?(a=".6em",c=0,u=o,n?(f=90,d="start"):d="middle"):i<l[3]?(a=".3em",c=o,u=0,d="start"):(a="0em",c=0,u=-o,n?(f=-90,d="start"):d="middle"),hl({position:{x:Math.round(c),y:Math.round(u)},angle:f,attrs:{".":{y:a,"text-anchor":d}}},s)}function _P(r){const e=r.getCenter(),n=e.theta(r.getTopLeft()),s=e.theta(r.getBottomLeft()),o=e.theta(r.getBottomRight()),i=e.theta(r.getTopRight());return[n,i,o,s]}const Qie=(r,e,n)=>OP(r.diff(e.getCenter()),!1,n),ele=(r,e,n)=>OP(r.diff(e.getCenter()),!0,n);function OP(r,e,n){const s=n.offset!=null?n.offset:20,o=new K(0,0),i=-r.theta(o),l=r.clone().move(o,s).diff(r).round();let a=".3em",c,u=i;return(i+90)%180===0?(c=e?"end":"middle",!e&&i===-270&&(a="0em")):i>-270&&i<-90?(c="start",u=i-180):c="end",hl({position:l.round().toJSON(),angle:e?u:0,attrs:{".":{y:a,"text-anchor":c}}},n)}const tle=Object.freeze(Object.defineProperty({__proto__:null,bottom:Kie,inside:Xie,insideOriented:Zie,left:Wie,manual:Uie,outside:Yie,outsideOriented:Jie,radial:Qie,radialOriented:ele,right:qie,top:Gie},Symbol.toStringTag,{value:"Module"}));var Lc;(function(r){r.presets=tle,r.registry=gn.create({type:"port label layout"}),r.registry.register(r.presets,!0)})(Lc||(Lc={}));var nle=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class Qt extends Fr{get priority(){return 2}get disposeContainer(){return!0}constructor(){super(),this.cid=vv.uniqueId(),Qt.views[this.cid]=this}confirmUpdate(e,n){return 0}empty(e=this.container){return ff(e),this}unmount(e=this.container){return Ac(e),this}remove(e=this.container){return e===this.container?(this.removeEventListeners(document),this.onRemove(),delete Qt.views[this.cid],this.disposeContainer&&this.unmount(e)):this.unmount(e),this}onRemove(){}setClass(e,n=this.container){n.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,n=this.container){return Nt(n,Array.isArray(e)?e.join(" "):e),this}removeClass(e,n=this.container){return es(n,Array.isArray(e)?e.join(" "):e),this}setStyle(e,n=this.container){return pf(n,e),this}setAttrs(e,n=this.container){return e!=null&&n!=null&&Ut(n,e),this}findAttr(e,n=this.container){let s=n;for(;s&&s.nodeType===1;){const o=s.getAttribute(e);if(o!=null)return o;if(s===this.container)return null;s=s.parentNode}return null}find(e,n=this.container,s=this.selectors){return Qt.find(e,n,s).elems}findOne(e,n=this.container,s=this.selectors){const o=this.find(e,n,s);return o.length>0?o[0]:null}findByAttr(e,n=this.container){let s=n;for(;s&&s.getAttribute;){const o=s.getAttribute(e);if((o!=null||s===this.container)&&o!=="false")return s;s=s.parentNode}return null}getSelector(e,n){let s;if(e===this.container)return typeof n=="string"&&(s=`> ${n}`),s;if(e){const o=C0(e)+1;s=`${e.tagName.toLowerCase()}:nth-child(${o})`,n&&(s+=` > ${n}`),s=this.getSelector(e.parentNode,s)}return s}prefixClassName(e){return Fs.prefix(e)}delegateEvents(e,n){if(e==null)return this;n||this.undelegateEvents();const s=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(o=>{const i=o.match(s);if(i==null)return;const l=this.getEventHandler(e[o]);typeof l=="function"&&this.delegateEvent(i[1],i[2],l)}),this}undelegateEvents(){return Hn.off(this.container,this.getEventNamespace()),this}delegateDocumentEvents(e,n){return this.addEventListeners(document,e,n),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,n,s){return Hn.on(this.container,e+this.getEventNamespace(),n,s),this}undelegateEvent(e,n,s){const o=e+this.getEventNamespace();return n==null?Hn.off(this.container,o):typeof n=="string"?Hn.off(this.container,o,n,s):Hn.off(this.container,o,n),this}addEventListeners(e,n,s){if(n==null)return this;const o=this.getEventNamespace();return Object.keys(n).forEach(i=>{const l=this.getEventHandler(n[i]);typeof l=="function"&&Hn.on(e,i+o,s,l)}),this}removeEventListeners(e){return e!=null&&Hn.off(e,this.getEventNamespace()),this}getEventNamespace(){return`.${Fs.prefixCls}-event-${this.cid}`}getEventHandler(e){let n;if(typeof e=="string"){const s=this[e];typeof s=="function"&&(n=(...o)=>s.call(this,...o))}else n=(...s)=>e.call(this,...s);return n}getEventTarget(e,n={}){const{target:s,type:o,clientX:i=0,clientY:l=0}=e;return n.fromPoint||o==="touchmove"||o==="touchend"?document.elementFromPoint(i,l):s}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return this.getEventData(e).propagationStopped===!0}getEventData(e){return this.eventData(e)}setEventData(e,n){return this.eventData(e,n)}eventData(e,n){if(e==null)throw new TypeError("Event object required");let s=e.data;const o=`__${this.cid}__`;return n==null?s==null?{}:s[o]||{}:(s==null&&(s=e.data={}),s[o]==null?s[o]=Object.assign({},n):s[o]=Object.assign(Object.assign({},s[o]),n),s[o])}normalizeEvent(e){return Qt.normalizeEvent(e)}dispose(){this.remove()}}nle([Qt.dispose()],Qt.prototype,"dispose",null);(function(r){function e(o,i){return i?Us(o||"g"):w0(o||"div")}r.createElement=e;function n(o,i,l){if(!o||o===".")return{elems:[i]};if(l){const a=l[o];if(a)return{elems:Array.isArray(a)?a:[a]}}{const a=o.includes(">")?`:scope ${o}`:o;return{isCSSSelector:!0,elems:Array.prototype.slice.call(i.querySelectorAll(a))}}}r.find=n;function s(o){let i=o;const l=o.originalEvent,a=l&&l.changedTouches&&l.changedTouches[0];if(a){for(const c in o)a[c]===void 0&&(a[c]=o[c]);i=a}return i}r.normalizeEvent=s})(Qt||(Qt={}));(function(r){r.views={};function e(n){return r.views[n]||null}r.getView=e})(Qt||(Qt={}));var vv;(function(r){let e=0;function n(){const s=`v${e}`;return e+=1,s}r.uniqueId=n})(vv||(vv={}));class rle{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new mv,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const n=this.get(e);return n.data||(n.data={}),n.data}getMatrix(e){const n=this.get(e);if(n.matrix==null){const s=this.view.container;n.matrix=zse(e,s)}return Bn(n.matrix)}getShape(e){const n=this.get(e);return n.shape==null&&(n.shape=Vt.toGeometryShape(e)),n.shape.clone()}getBoundingRect(e){const n=this.get(e);return n.boundingRect==null&&(n.boundingRect=Vt.getBBoxV2(e)),n.boundingRect.clone()}}var Yt;(function(r){function e(u){return u!=null&&!n(u)}r.isJSONMarkup=e;function n(u){return u!=null&&typeof u=="string"}r.isStringMarkup=n;function s(u){return u==null||n(u)?u:rn(u)}r.clone=s;function o(u){return`${u}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}r.sanitize=o;function i(u,d={ns:In.svg}){const f=document.createDocumentFragment(),h={},p={},g=[{markup:Array.isArray(u)?u:[u],parent:f,ns:d.ns}];for(;g.length>0;){const m=g.pop();let v=m.ns||In.svg;const b=m.markup,C=m.parent;b.forEach(y=>{const w=y.tagName;if(!w)throw new TypeError("Invalid tagName");y.ns&&(v=y.ns);const x=v?w0(w,v):Kx(w),E=y.attrs;E&&Ut(x,_d(E));const _=y.style;_&&pf(x,_);const M=y.className;M!=null&&x.setAttribute("class",Array.isArray(M)?M.join(" "):M),y.textContent&&(x.textContent=y.textContent);const A=y.selector;if(A!=null){if(p[A])throw new TypeError("Selector must be unique");p[A]=x}if(y.groupSelector){let P=y.groupSelector;Array.isArray(P)||(P=[P]),P.forEach($=>{h[$]||(h[$]=[]),h[$].push(x)})}C.appendChild(x);const k=y.children;Array.isArray(k)&&g.push({ns:v,markup:k,parent:x})})}return Object.keys(h).forEach(m=>{if(p[m])throw new Error("Ambiguous group selector");p[m]=h[m]}),{fragment:f,selectors:p,groups:h}}r.parseJSONMarkup=i;function l(u){return u instanceof SVGElement?Us("g"):Kx("div")}function a(u){if(n(u)){const p=ut.createVectors(u),g=p.length;if(g===1)return{elem:p[0].node};if(g>1){const m=l(p[0].node);return p.forEach(v=>{m.appendChild(v.node)}),{elem:m}}return{}}const d=i(u),f=d.fragment;let h=null;return f.childNodes.length>1?(h=l(f.firstChild),h.appendChild(f)):h=f.firstChild,{elem:h,selectors:d.selectors}}r.renderMarkup=a;function c(u){const d=ut.createVectors(u),f=document.createDocumentFragment();for(let h=0,p=d.length;h<p;h+=1){const g=d[h].node;f.appendChild(g)}return{fragment:f,selectors:{}}}r.parseLabelStringMarkup=c})(Yt||(Yt={}));(function(r){function e(n,s,o){if(n!=null){let i;const l=n.tagName.toLowerCase();if(n===s)return typeof o=="string"?i=`> ${l} > ${o}`:i=`> ${l}`,i;const a=n.parentNode;if(a&&a.childNodes.length>1){const c=C0(n)+1;i=`${l}:nth-child(${c})`}else i=l;return o&&(i+=` > ${o}`),e(n.parentNode,s,i)}return o}r.getSelector=e})(Yt||(Yt={}));(function(r){function e(){return"g"}r.getPortContainerMarkup=e;function n(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}r.getPortMarkup=n;function s(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}r.getPortLabelMarkup=s})(Yt||(Yt={}));(function(r){function e(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}r.getEdgeMarkup=e})(Yt||(Yt={}));(function(r){function e(n=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:In.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:In.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:n?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}r.getForeignObjectMarkup=e})(Yt||(Yt={}));class AP{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,n){let s,o,i,l;const a=[];return Object.keys(n).forEach(c=>{const u=n[c],d=this.getDefinition(c),f=ht(fo.isValidDefinition,this.view,d,u,{elem:e,attrs:n,cell:this.cell,view:this.view});if(d&&f)typeof d=="string"?(s==null&&(s={}),s[d]=u):u!==null&&a.push({name:c,definition:d});else{s==null&&(s={});const h=Bk.includes(c)?c:Ck(c);s[h]=u}}),a.forEach(({name:c,definition:u})=>{const d=n[c];typeof u.set=="function"&&(o==null&&(o={}),o[c]=d),typeof u.offset=="function"&&(i==null&&(i={}),i[c]=d),typeof u.position=="function"&&(l==null&&(l={}),l[c]=d)}),{raw:n,normal:s,set:o,offset:i,position:l}}mergeProcessedAttrs(e,n){e.set=Object.assign(Object.assign({},e.set),n.set),e.position=Object.assign(Object.assign({},e.position),n.position),e.offset=Object.assign(Object.assign({},e.offset),n.offset);const s=e.normal&&e.normal.transform;s!=null&&n.normal&&(n.normal.transform=s),e.normal=n.normal}findAttrs(e,n,s,o){const i=[],l=new mv;return Object.keys(e).forEach(a=>{const c=e[a];if(!po(c))return;const{isCSSSelector:u,elems:d}=Qt.find(a,n,o);s[a]=d;for(let f=0,h=d.length;f<h;f+=1){const p=d[f],g=o&&o[a]===p,m=l.get(p);if(m){m.array||(i.push(p),m.array=!0,m.attrs=[m.attrs],m.priority=[m.priority]);const v=m.attrs,b=m.priority;if(g)v.unshift(c),b.unshift(-1);else{const C=R5(b,u?-1:h);v.splice(C,0,c),b.splice(C,0,h)}}else l.set(p,{elem:p,attrs:c,priority:g?-1:h,array:!1})}}),i.forEach(a=>{const c=l.get(a),u=c.attrs;c.attrs=u.reduceRight((d,f)=>on(d,f),{})}),l}updateRelativeAttrs(e,n,s){const o=n.raw||{};let i=n.normal||{};const l=n.set,a=n.position,c=n.offset,u=()=>({elem:e,cell:this.cell,view:this.view,attrs:o,refBBox:s.clone()});if(l!=null&&Object.keys(l).forEach(v=>{const b=l[v],C=this.getDefinition(v);if(C!=null){const y=ht(C.set,this.view,b,u());typeof y=="object"?i=Object.assign(Object.assign({},i),y):y!=null&&(i[v]=y)}}),e instanceof HTMLElement){this.view.setAttrs(i,e);return}const d=i.transform,f=d?`${d}`:null,h=Od(f),p=new K(h.e,h.f);d&&(delete i.transform,h.e=0,h.f=0);let g=!1;a!=null&&Object.keys(a).forEach(v=>{const b=a[v],C=this.getDefinition(v);if(C!=null){const y=ht(C.position,this.view,b,u());y!=null&&(g=!0,p.translate(K.create(y)))}}),this.view.setAttrs(i,e);let m=!1;if(c!=null){const v=this.view.getBoundingRectOfElement(e);if(v.width>0&&v.height>0){const b=Vt.transformRectangle(v,h);Object.keys(c).forEach(C=>{const y=c[C],w=this.getDefinition(C);if(w!=null){const x=ht(w.offset,this.view,y,{elem:e,cell:this.cell,view:this.view,attrs:o,refBBox:b});x!=null&&(m=!0,p.translate(K.create(x)))}})}}(d!=null||g||m)&&(p.round(1),h.e=p.x,h.f=p.y,e.setAttribute("transform",ru(h)))}update(e,n,s){const o={},i=this.findAttrs(s.attrs||n,e,o,s.selectors),l=s.attrs?this.findAttrs(n,e,o,s.selectors):i,a=[];i.each(d=>{const f=d.elem,h=d.attrs,p=this.processAttrs(f,h);if(p.set==null&&p.position==null&&p.offset==null)this.view.setAttrs(p.normal,f);else{const g=l.get(f),m=g?g.attrs:null,v=m&&h.ref==null?m.ref:h.ref;let b;if(v){if(b=(o[v]||this.view.find(v,e,s.selectors))[0],!b)throw new Error(`"${v}" reference does not exist.`)}else b=null;const C={node:f,refNode:b,attributes:m,processedAttributes:p},y=a.findIndex(w=>w.refNode===f);y>-1?a.splice(y,0,C):a.push(C)}});const c=new mv;let u;a.forEach(d=>{const f=d.node,h=d.refNode;let p;const g=h!=null&&s.rotatableNode!=null&&Fk(s.rotatableNode,h);if(h&&(p=c.get(h)),!p){const b=g?s.rotatableNode:e;p=h?Vt.getBBox(h,{target:b}):s.rootBBox,h&&c.set(h,p)}let m;s.attrs&&d.attributes?(m=this.processAttrs(f,d.attributes),this.mergeProcessedAttrs(m,d.processedAttributes)):m=d.processedAttributes;let v=p;g&&s.rotatableNode!=null&&!s.rotatableNode.contains(f)&&(u||(u=Od(Ut(s.rotatableNode,"transform"))),v=Vt.transformRectangle(p,u)),this.updateRelativeAttrs(f,m,v)})}}class MP{get cell(){return this.view.cell}constructor(e,n,s=[]){this.view=e;const o={},i={};let l=0;Object.keys(n).forEach(c=>{let u=n[c];Array.isArray(u)||(u=[u]),u.forEach(d=>{let f=o[d];f||(l+=1,f=o[d]=1<<l),i[c]|=f})});let a=s;if(Array.isArray(a)||(a=[a]),a.forEach(c=>{o[c]||(l+=1,o[c]=1<<l)}),l>25)throw new Error("Maximum number of flags exceeded.");this.flags=o,this.attrs=i,this.bootstrap=s}getFlag(e){const n=this.flags;return n==null?0:Array.isArray(e)?e.reduce((s,o)=>s|n[o],0):n[e]|0}hasAction(e,n){return e&this.getFlag(n)}removeAction(e,n){return e^e&this.getFlag(n)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(n=>{this.cell.hasChanged(n)&&(e|=this.attrs[n])}),e}}var sle=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},ole=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class fn extends Qt{static getDefaults(){return this.defaults}static config(e){this.defaults=this.getOptions(e)}static getOptions(e){const n=(u,d)=>d!=null?V_([...Array.isArray(u)?u:[u],...Array.isArray(d)?d:[d]]):Array.isArray(u)?[...u]:[u],s=rn(this.getDefaults()),{bootstrap:o,actions:i,events:l,documentEvents:a}=e,c=ole(e,["bootstrap","actions","events","documentEvents"]);return o&&(s.bootstrap=n(s.bootstrap,o)),i&&Object.entries(i).forEach(([u,d])=>{const f=s.actions[u];d&&f?s.actions[u]=n(f,d):d&&(s.actions[u]=n(d))}),l&&(s.events=Object.assign(Object.assign({},s.events),l)),e.documentEvents&&(s.documentEvents=Object.assign(Object.assign({},s.documentEvents),a)),on(s,c)}get[Symbol.toStringTag](){return fn.toStringTag}constructor(e,n={}){super(),this.cell=e,this.options=this.ensureOptions(n),this.graph=this.options.graph,this.attr=new AP(this),this.flag=new MP(this,this.options.actions,this.options.bootstrap),this.cache=new rle(this),this.setContainer(this.ensureContainer()),this.setup(),this.init()}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(e){return this.getConstructor().getOptions(e)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return Qt.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(e){if(this.container!==e){this.undelegateEvents(),this.container=e,this.options.events!=null&&this.delegateEvents(this.options.events);const n=this.getContainerAttrs();n!=null&&this.setAttrs(n,e);const s=this.getContainerStyle();s!=null&&this.setStyle(s,e);const o=this.getContainerClassName();o!=null&&this.addClass(o,e)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(e,n={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(e){return this.flag.getFlag(e)}hasAction(e,n){return this.flag.hasAction(e,n)}removeAction(e,n){return this.flag.removeAction(e,n)}handleAction(e,n,s,o){if(this.hasAction(e,n)){s();const i=[n];return o&&(typeof o=="string"?i.push(o):i.push(...o)),this.removeAction(e,i)}return e}setup(){this.cell.on("changed",this.onCellChanged,this)}onCellChanged({options:e}){this.onAttrsChange(e)}onAttrsChange(e){let n=this.flag.getChangedFlag();e.updated||!n||(e.dirty&&this.hasAction(n,"update")&&(n|=this.getFlag("render")),e.toolId&&(e.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,n,e))}parseJSONMarkup(e,n){const s=Yt.parseJSONMarkup(e),o=s.selectors,i=this.rootSelector;if(n&&i){if(o[i])throw new Error("Invalid root selector");o[i]=n}return s}can(e){let n=this.graph.options.interacting;if(typeof n=="function"&&(n=ht(n,this.graph,this)),typeof n=="object"){let s=n[e];return typeof s=="function"&&(s=ht(s,this.graph,this)),s!==!1}return typeof n=="boolean"?n:!1}cleanCache(){return this.cache.clean(),this}getCache(e){return this.cache.get(e)}getDataOfElement(e){return this.cache.getData(e)}getMatrixOfElement(e){return this.cache.getMatrix(e)}getShapeOfElement(e){return this.cache.getShape(e)}getBoundingRectOfElement(e){return this.cache.getBoundingRect(e)}getBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),s=this.getMatrixOfElement(e),o=this.getRootRotatedMatrix(),i=this.getRootTranslatedMatrix();return Vt.transformRectangle(n,i.multiply(o).multiply(s))}getUnrotatedBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),s=this.getMatrixOfElement(e),o=this.getRootTranslatedMatrix();return Vt.transformRectangle(n,o.multiply(s))}getBBox(e={}){let n;if(e.useCellGeometry){const s=this.cell,o=s.isNode()?s.getAngle():0;n=s.getBBox().bbox(o)}else n=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(n)}getRootTranslatedMatrix(){const e=this.cell,n=e.isNode()?e.getPosition():{x:0,y:0};return Bn().translate(n.x,n.y)}getRootRotatedMatrix(){let e=Bn();const n=this.cell,s=n.isNode()?n.getAngle():0;if(s){const o=n.getBBox(),i=o.width/2,l=o.height/2;e=e.translate(i,l).rotate(s).translate(-i,-l)}return e}findMagnet(e=this.container){return this.findByAttr("magnet",e)}updateAttrs(e,n,s={}){s.rootBBox==null&&(s.rootBBox=new Ne),s.selectors==null&&(s.selectors=this.selectors),this.attr.update(e,n,s)}isEdgeElement(e){return this.cell.isEdge()&&(e==null||e===this.container)}prepareHighlight(e,n={}){const s=e||this.container;return n.partial=s===this.container,s}highlight(e,n={}){const s=this.prepareHighlight(e,n);return this.notify("cell:highlight",{magnet:s,options:n,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:s,options:n,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:s,options:n,view:this,node:this.cell,cell:this.cell}),this}unhighlight(e,n={}){const s=this.prepareHighlight(e,n);return this.notify("cell:unhighlight",{magnet:s,options:n,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:s,options:n,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:s,options:n,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(e,n){}getEdgeTerminal(e,n,s,o,i){const l=this.cell,a=this.findAttr("port",e),c=e.getAttribute("data-selector"),u={cell:l.id};return c!=null&&(u.magnet=c),a!=null?(u.port=a,l.isNode()&&!l.hasPort(a)&&c==null&&(u.selector=this.getSelector(e))):c==null&&this.container!==e&&(u.selector=this.getSelector(e)),u}getMagnetFromEdgeTerminal(e){const n=this.cell,s=this.container,o=e.port;let i=e.magnet,l;return o!=null&&n.isNode()&&n.hasPort(o)?l=this.findPortElem(o,i)||s:(i||(i=e.selector),!i&&o!=null&&(i=`[port="${o}"]`),l=this.findOne(i,s,this.selectors)),l}hasTools(e){const n=this.tools;return n==null?!1:e==null?!0:n.name===e}addTools(e){if(this.removeTools(),e){if(!this.can("toolsAddable"))return this;const n=wn.isToolsView(e)?e:new wn(e);this.tools=n,n.config({view:this}),n.mount()}return this}updateTools(e={}){return this.tools&&this.tools.update(e),this}removeTools(){return this.tools&&(this.tools.remove(),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}notify(e,n){return this.trigger(e,n),this.graph.trigger(e,n),this}getEventArgs(e,n,s){const o=this,i=o.cell;return n==null||s==null?{e,view:o,cell:i}:{e,x:n,y:s,view:o,cell:i}}onClick(e,n,s){this.notify("cell:click",this.getEventArgs(e,n,s))}onDblClick(e,n,s){this.notify("cell:dblclick",this.getEventArgs(e,n,s))}onContextMenu(e,n,s){this.notify("cell:contextmenu",this.getEventArgs(e,n,s))}onMouseDown(e,n,s){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,n,s))}onMouseUp(e,n,s){this.notify("cell:mouseup",this.getEventArgs(e,n,s)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(e,n,s){this.notify("cell:mousemove",this.getEventArgs(e,n,s))}onMouseOver(e){this.notify("cell:mouseover",this.getEventArgs(e))}onMouseOut(e){this.notify("cell:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.notify("cell:mouseenter",this.getEventArgs(e))}onMouseLeave(e){this.notify("cell:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,s,o){this.notify("cell:mousewheel",Object.assign({delta:o},this.getEventArgs(e,n,s)))}onCustomEvent(e,n,s,o){this.notify("cell:customevent",Object.assign({name:n},this.getEventArgs(e,s,o))),this.notify(n,Object.assign({},this.getEventArgs(e,s,o)))}onMagnetMouseDown(e,n,s,o){}onMagnetDblClick(e,n,s,o){}onMagnetContextMenu(e,n,s,o){}onLabelMouseDown(e,n,s){}checkMouseleave(e){const n=this.getEventTarget(e,{fromPoint:!0}),s=this.graph.findViewByElem(n);s!==this&&(this.onMouseLeave(e),s&&s.onMouseEnter(e))}dispose(){this.cell.off("changed",this.onCellChanged,this)}}fn.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}};sle([fn.dispose()],fn.prototype,"dispose",null);(function(r){r.Flag=MP,r.Attr=AP})(fn||(fn={}));(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag],o=n;return(s==null||s===r.toStringTag)&&typeof o.isNodeView=="function"&&typeof o.isEdgeView=="function"&&typeof o.confirmUpdate=="function"}r.isCellView=e})(fn||(fn={}));(function(r){function e(s){return function(o){o.config({priority:s})}}r.priority=e;function n(s){return function(o){o.config({bootstrap:s})}}r.bootstrap=n})(fn||(fn={}));(function(r){r.registry=gn.create({type:"view"})})(fn||(fn={}));class wn extends Qt{get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return wn.toStringTag}constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}createContainer(e,n){const s=e?Qt.createElement("g",!0):Qt.createElement("div",!1);return Nt(s,this.prefixClassName("cell-tools")),n.className&&Nt(s,n.className),s}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!fn.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(Nt(this.svgContainer,this.prefixClassName("edge-tools")),Nt(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(Nt(this.svgContainer,this.prefixClassName("node-tools")),Nt(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const n=this.options.items;if(!Array.isArray(n))return this;this.tools=[];const s=[];n.forEach(o=>{wn.ToolItem.isToolItem(o)?o.name==="vertices"?s.unshift(o):s.push(o):(typeof o=="object"?o.name:o)==="vertices"?s.unshift(o):s.push(o)});for(let o=0;o<s.length;o+=1){const i=s[o];let l;if(wn.ToolItem.isToolItem(i))l=i;else{const a=typeof i=="object"?i.name:i,c=typeof i=="object"?i.args||{}:{};if(a){if(this.cell.isNode()){const u=$c.registry.get(a);if(u)l=new u(c);else return $c.registry.onNotFound(a)}else if(this.cell.isEdge()){const u=Dc.registry.get(a);if(u)l=new u(c);else return Dc.registry.onNotFound(a)}}}l&&(l.config(this.cellView,this),l.render(),(l.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(l.container),this.tools.push(l))}return this}update(e={}){const n=this.tools;return n&&n.forEach(s=>{e.toolId!==s.cid&&s.isVisible()&&s.update()}),this}focus(e){const n=this.tools;return n&&n.forEach(s=>{e===s?s.show():s.hide()}),this}blur(e){const n=this.tools;return n&&n.forEach(s=>{s!==e&&!s.isVisible()&&(s.show(),s.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(n=>n.remove()),this.tools=null),Ac(this.svgContainer),Ac(this.htmlContainer),super.remove()}mount(){const e=this.tools,n=this.cellView;if(n&&e){const s=e.some(i=>i.options.isSVGElement!==!1),o=e.some(i=>i.options.isSVGElement===!1);s&&(this.options.local?n.container:n.graph.view.decorator).appendChild(this.svgContainer),o&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag],o=n;return(s==null||s===r.toStringTag)&&o.graph!=null&&o.cell!=null&&typeof o.config=="function"&&typeof o.update=="function"&&typeof o.focus=="function"&&typeof o.blur=="function"&&typeof o.show=="function"&&typeof o.hide=="function"}r.isToolsView=e})(wn||(wn={}));(function(r){class e extends Qt{static getDefaults(){return this.defaults}static config(s){this.defaults=this.getOptions(s)}static getOptions(s){return on(rn(this.getDefaults()),s)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return e.toStringTag}constructor(s={}){super(),this.visible=!0,this.options=this.getOptions(s),this.container=Qt.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),Nt(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&Nt(this.container,this.options.className),this.init()}init(){}getOptions(s){return this.constructor.getOptions(s)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(s,o){return this.cellView=s,this.parent=o,this.stamp(this.container),this.cell.isEdge()?Nt(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&Nt(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const s=this.options.markup;if(s){const o=Yt.parseJSONMarkup(s);this.container.appendChild(o.fragment),this.childNodes=o.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(s){s&&s.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const s=this.options.focusOpacity;return s!=null&&Number.isFinite(s)&&(this.container.style.opacity=`${s}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(s){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(s,this.cellView)}}e.defaults={isSVGElement:!0,tagName:"g"},r.ToolItem=e,function(n){let s=0;function o(l){return l?g0(l):(s+=1,`CustomTool${s}`)}function i(l){const a=h0(o(l.name),this);return a.config(l),a}n.define=i}(e=r.ToolItem||(r.ToolItem={})),function(n){n.toStringTag=`X6.${n.name}`;function s(o){if(o==null)return!1;if(o instanceof n)return!0;const i=o[Symbol.toStringTag],l=o;return(i==null||i===n.toStringTag)&&l.graph!=null&&l.cell!=null&&typeof l.config=="function"&&typeof l.update=="function"&&typeof l.focus=="function"&&typeof l.blur=="function"&&typeof l.show=="function"&&typeof l.hide=="function"&&typeof l.isVisible=="function"}n.isToolItem=s}(e=r.ToolItem||(r.ToolItem={}))})(wn||(wn={}));const ile=r=>r;function iE(r,e){return e===0?"0%":`${Math.round(r/e*100)}%`}function kP(r){return(n,s,o,i)=>s.isEdgeElement(o)?ale(r,n,s,o,i):lle(r,n,s,o,i)}function lle(r,e,n,s,o){const i=n.cell,l=i.getAngle(),a=n.getUnrotatedBBoxOfElement(s),c=i.getBBox().getCenter(),u=K.create(o).rotate(l,c);let d=u.x-a.x,f=u.y-a.y;return r&&(d=iE(d,a.width),f=iE(f,a.height)),e.anchor={name:"topLeft",args:{dx:d,dy:f,rotate:!0}},e}function ale(r,e,n,s,o){const i=n.getConnection();if(!i)return e;const l=i.closestPointLength(o);if(r){const a=i.length();e.anchor={name:"ratio",args:{ratio:l/a}}}else e.anchor={name:"length",args:{length:l}};return e}const cle=kP(!0),ule=kP(!1),dle=Object.freeze(Object.defineProperty({__proto__:null,noop:ile,pinAbsolute:ule,pinRelative:cle},Symbol.toStringTag,{value:"Module"}));var yv;(function(r){r.presets=dle,r.registry=gn.create({type:"connection strategy"}),r.registry.register(r.presets,!0)})(yv||(yv={}));function PP(r,e,n,s){return ht(yv.presets.pinRelative,this.graph,{},e,n,r,this.cell,s,{}).anchor}function NP(r,e){return e?r.cell.getBBox():r.cell.isEdge()?r.getConnection().bbox():r.getUnrotatedBBoxOfElement(r.container)}class Ji extends wn.ToolItem{onRender(){Nt(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const n=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Mc(this.container,n,{absolute:!0})}getNodeMatrix(){const e=this.cellView,n=this.options;let{x:s=0,y:o=0}=n;const{offset:i,useCellGeometry:l,rotate:a}=n;let c=NP(e,l);const u=e.cell.getAngle();a||(c=c.bbox(u));let d=0,f=0;typeof i=="number"?(d=i,f=i):typeof i=="object"&&(d=i.x,f=i.y),s=Ns(s,c.width),o=Ns(o,c.height);let h=Bn().translate(c.x+c.width/2,c.y+c.height/2);return a&&(h=h.rotate(u)),h=h.translate(s+d-c.width/2,o+f-c.height/2),h}getEdgeMatrix(){const e=this.cellView,n=this.options,{offset:s=0,distance:o=0,rotate:i}=n;let l,a,c;const u=Ns(o,1);u>=0&&u<=1?l=e.getTangentAtRatio(u):l=e.getTangentAtLength(u),l?(a=l.start,c=l.vector().vectorAngle(new K(1,0))||0):(a=e.getConnection().start,c=0);let d=Bn().translate(a.x,a.y).rotate(c);return typeof s=="object"?d=d.translate(s.x||0,s.y||0):d=d.translate(0,s),i||(d=d.rotate(-c)),d}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.options.onClick;typeof n=="function"&&ht(n,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(r){r.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Ji||(Ji={}));(function(r){r.Remove=r.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick({view:e,btn:n}){n.parent.remove(),e.cell.remove({ui:!0,toolId:n.cid})}})})(Ji||(Ji={}));var fle=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class up extends wn.ToolItem{onRender(){if(Nt(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:n}=e,s=fle(e,["class"]);Ut(this.container,_d(s)),n&&Nt(this.container,n)}this.update()}update(){const e=this.cellView,n=this.options,{useCellGeometry:s,rotate:o}=n,i=la(n.padding);let l=NP(e,s).moveAndExpand({x:-i.left,y:-i.top,width:i.left+i.right,height:i.top+i.bottom});const a=e.cell;if(a.isNode()){const c=a.getAngle();if(c)if(o){const u=a.getBBox().getCenter();hv(this.container,c,u.x,u.y,{absolute:!0})}else l=l.bbox(c)}return Ut(this.container,l.toJSON()),this}}(function(r){r.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(up||(up={}));class Pd extends wn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}renderHandles(){const e=this.vertices;for(let n=0,s=e.length;n<s;n+=1){const o=e[n],i=this.options.createHandle,l=this.options.processHandle,a=i({index:n,graph:this.graph,guard:c=>this.guard(c),attrs:this.options.attrs||{}});l&&l(a),a.updatePosition(o.x,o.y),this.stamp(a.container),this.container.appendChild(a.container),this.handles.push(a),this.startHandleListening(a)}}updateHandles(){const e=this.vertices;for(let n=0,s=e.length;n<s;n+=1){const o=e[n],i=this.handles[n];i&&i.updatePosition(o.x,o.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const n=this.cellView,s=this.vertices,o=e>0?s[e-1]:n.sourceAnchor,i=e<s.length-1?s[e+1]:n.targetAnchor;return{prev:K.create(o),next:K.create(i)}}getMouseEventArgs(e){const n=this.normalizeEvent(e),{x:s,y:o}=this.graph.snapToGrid(n.clientX,n.clientY);return{e:n,x:s,y:o}}onHandleChange({e}){this.focus();const n=this.cellView;if(n.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:s,x:o,y:i}=this.getMouseEventArgs(e);this.eventData(s,{start:{x:o,y:i}}),n.notifyMouseDown(s,o,i)}}onHandleChanging({handle:e,e:n}){const s=this.cellView,o=e.options.index,{e:i,x:l,y:a}=this.getMouseEventArgs(n),c={x:l,y:a};this.snapVertex(c,o),s.cell.setVertexAt(o,c,{ui:!0,toolId:this.cid}),e.updatePosition(c.x,c.y),this.options.stopPropagation||s.notifyMouseMove(i,l,a)}stopBatch(e){this.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),e&&this.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid})}onHandleChanged({e}){const n=this.options,s=this.cellView;if(n.addable&&this.updatePath(),!n.removeRedundancies){this.stopBatch(this.eventData(e).vertexAdded);return}s.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),this.stopBatch(this.eventData(e).vertexAdded);const{e:i,x:l,y:a}=this.getMouseEventArgs(e);if(!this.options.stopPropagation){s.notifyMouseUp(i,l,a);const{start:c}=this.eventData(i);if(c){const{x:u,y:d}=c;u===l&&d===a&&s.onClick(i,l,a)}}s.checkMouseleave(i),n.onChanged&&n.onChanged({edge:s.cell,edgeView:s})}snapVertex(e,n){const s=this.options.snapRadius||0;if(s>0){const o=this.getNeighborPoints(n),i=o.prev,l=o.next;Math.abs(e.x-i.x)<s?e.x=i.x:Math.abs(e.x-l.x)<s&&(e.x=l.x),Math.abs(e.y-i.y)<s?e.y=o.prev.y:Math.abs(e.y-l.y)<s&&(e.y=l.y)}}onHandleRemove({handle:e,e:n}){if(this.options.removable){const s=e.options.index,o=this.cellView;o.cell.removeVertexAt(s,{ui:!0}),this.options.addable&&this.updatePath(),o.checkMouseleave(this.normalizeEvent(n))}}allowAddVertex(e){const n=this.guard(e),s=this.options.addable&&this.cellView.can("vertexAddable"),o=this.options.modifiers?kc.isMatch(e,this.options.modifiers):!0;return!n&&s&&o}onPathMouseDown(e){const n=this.cellView;if(!this.allowAddVertex(e))return;e.stopPropagation(),e.preventDefault();const s=this.normalizeEvent(e),o=this.graph.snapToGrid(s.clientX,s.clientY).toJSON();n.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const i=n.getVertexIndex(o.x,o.y);this.snapVertex(o,i),n.cell.insertVertex(o,i,{ui:!0,toolId:this.cid}),this.render();const l=this.handles[i];this.eventData(s,{vertexAdded:!0}),l.onMouseDown(s)}onRemove(){this.resetHandles()}}(function(r){class e extends Qt{get graph(){return this.options.graph}constructor(s){super(),this.options=s,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}render(){this.container=Qt.createElement("circle",!0);const s=this.options.attrs;if(typeof s=="function"){const o=r.getDefaults();this.setAttrs(Object.assign(Object.assign({},o.attrs),s(this)))}else this.setAttrs(s);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(s,o){this.setAttrs({cx:s,cy:o})}onMouseDown(s){this.options.guard(s)||(s.stopPropagation(),s.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},s.data),this.emit("change",{e:s,handle:this}))}onMouseMove(s){this.emit("changing",{e:s,handle:this})}onMouseUp(s){this.emit("changed",{e:s,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(s){this.emit("remove",{e:s,handle:this})}}r.Handle=e})(Pd||(Pd={}));(function(r){const e=Fs.prefix("edge-tool-vertex-path");r.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:n=>new r.Handle(n),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})})(Pd||(Pd={}));class Nd extends wn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){Nt(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,n=[...this.vertices];n.unshift(e.sourcePoint),n.push(e.targetPoint);for(let s=0,o=n.length;s<o-1;s+=1){const i=n[s],l=n[s+1],a=this.renderHandle(i,l,s);this.stamp(a.container),this.handles.push(a)}return this}renderHandle(e,n,s){const o=this.options.createHandle({index:s,graph:this.graph,guard:i=>this.guard(i),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(o),this.updateHandle(o,e,n),this.container.appendChild(o.container),this.startHandleListening(o),o}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}shiftHandleIndexes(e){const n=this.handles;for(let s=0,o=n.length;s<o;s+=1)n[s].options.index+=e}resetAnchor(e,n){const s=this.cellView.cell,o={ui:!0,toolId:this.cid};n?s.prop([e,"anchor"],n,o):s.removeProp([e,"anchor"],o)}snapHandle(e,n,s){const o=e.options.axis,i=e.options.index,c=this.cellView.cell.getVertices(),u=c[i-2]||s.sourceAnchor,d=c[i+1]||s.targetAnchor,f=this.options.snapRadius;return Math.abs(n[o]-u[o])<f?n[o]=u[o]:Math.abs(n[o]-d[o])<f&&(n[o]=d[o]),n}onHandleChanging({handle:e,e:n}){const s=this.graph,o=this.options,i=this.cellView,l=o.anchor,a=e.options.axis,c=e.options.index-1,u=this.getEventData(n),d=this.normalizeEvent(n),f=s.snapToGrid(d.clientX,d.clientY),h=this.snapHandle(e,f.clone(),u),p=rn(this.vertices);let g=p[c],m=p[c+1];const v=i.sourceView,b=i.sourceBBox;let C=!1,y=!1;if(g?c===0?b.containsPoint(g)?(p.shift(),this.shiftHandleIndexes(-1),C=!0):(g[a]=h[a],y=!0):g[a]=h[a]:(g=i.sourceAnchor.toJSON(),g[a]=h[a],b.containsPoint(g)?C=!0:(p.unshift(g),this.shiftHandleIndexes(1),y=!0)),typeof l=="function"&&v){if(C){const M=u.sourceAnchor.clone();M[a]=h[a];const A=ht(l,i,M,v,i.sourceMagnet||v.container,"source",i,this);this.resetAnchor("source",A)}y&&this.resetAnchor("source",u.sourceAnchorDef)}const w=i.targetView,x=i.targetBBox;let E=!1,_=!1;if(m?c===p.length-2?x.containsPoint(m)?(p.pop(),E=!0):(m[a]=h[a],_=!0):m[a]=h[a]:(m=i.targetAnchor.toJSON(),m[a]=h[a],x.containsPoint(m)?E=!0:(p.push(m),_=!0)),typeof l=="function"&&w){if(E){const M=u.targetAnchor.clone();M[a]=h[a];const A=ht(l,i,M,w,i.targetMagnet||w.container,"target",i,this);this.resetAnchor("target",A)}_&&this.resetAnchor("target",u.targetAnchorDef)}K.equalPoints(p,this.vertices)||this.cellView.cell.setVertices(p,{ui:!0,toolId:this.cid}),this.updateHandle(e,g,m,0),o.stopPropagation||i.notifyMouseMove(d,f.x,f.y)}onHandleChange({handle:e,e:n}){const s=this.options,o=this.handles,i=this.cellView,l=e.options.index;if(Array.isArray(o)){for(let a=0,c=o.length;a<c;a+=1)a!==l&&o[a].hide();if(this.focus(),this.setEventData(n,{sourceAnchor:i.sourceAnchor.clone(),targetAnchor:i.targetAnchor.clone(),sourceAnchorDef:rn(this.cell.prop(["source","anchor"])),targetAnchorDef:rn(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!s.stopPropagation){const a=this.normalizeEvent(n),c=this.graph.snapToGrid(a.clientX,a.clientY);i.notifyMouseDown(a,c.x,c.y)}}}onHandleChanged({e}){const n=this.options,s=this.cellView;n.removeRedundancies&&s.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const o=this.normalizeEvent(e),i=this.graph.snapToGrid(o.clientX,o.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),n.stopPropagation||s.notifyMouseUp(o,i.x,i.y),s.checkMouseleave(o),n.onChanged&&n.onChanged({edge:s.cell,edgeView:s})}updateHandle(e,n,s,o=0){const i=this.options.precision||0,l=Math.abs(n.x-s.x)<i,a=Math.abs(n.y-s.y)<i;if(l||a){const c=new We(n,s);if(c.length()<this.options.threshold)e.hide();else{const d=c.getCenter(),f=l?"x":"y";d[f]+=o||0;const h=c.vector().vectorAngle(new K(1,0));e.updatePosition(d.x,d.y,h,this.cellView),e.show(),e.options.axis=f}}else e.hide()}onRemove(){this.resetHandles()}}(function(r){class e extends Qt{constructor(s){super(),this.options=s,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=Qt.createElement("rect",!0);const s=this.options.attrs;if(typeof s=="function"){const o=r.getDefaults();this.setAttrs(Object.assign(Object.assign({},o.attrs),s(this)))}else this.setAttrs(s);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(s,o,i,l){const a=l.getClosestPoint(new K(s,o))||new K(s,o);let c=Bn().translate(a.x,a.y);if(a.equals({x:s,y:o}))c=c.rotate(i);else{let d=new We(s,o,a.x,a.y).vector().vectorAngle(new K(1,0));d!==0&&(d+=90),c=c.rotate(d)}this.setAttrs({transform:ru(c),cursor:i%180===0?"row-resize":"col-resize"})}onMouseDown(s){this.options.guard(s)||(this.trigger("change",{e:s,handle:this}),s.stopPropagation(),s.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},s.data))}onMouseMove(s){this.emit("changing",{e:s,handle:this})}onMouseUp(s){this.emit("changed",{e:s,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}r.Handle=e})(Nd||(Nd={}));(function(r){r.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new r.Handle(e),anchor:PP})})(Nd||(Nd={}));class dp extends wn.ToolItem{get type(){return this.options.type}onRender(){Nt(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const e=this.type;return this.cellView.getTerminalView(e)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const n=e.anchor;if(!n)return;const s=this.type,o=this.cellView,i=this.options,l=o.getTerminalAnchor(s),a=o.cell.prop([s,"anchor"]);n.setAttribute("transform",`translate(${l.x}, ${l.y})`);const c=a?i.customAnchorAttrs:i.defaultAnchorAttrs;c&&Object.keys(c).forEach(u=>{n.setAttribute(u,c[u])})}updateArea(){const e=this.childNodes;if(!e)return;const n=e.area;if(!n)return;const s=this.type,o=this.cellView,i=o.getTerminalView(s);if(i){const l=i.cell,a=o.getTerminalMagnet(s);let c=this.options.areaPadding||0;Number.isFinite(c)||(c=0);let u,d,f;i.isEdgeElement(a)?(u=i.getBBox(),d=0,f=u.getCenter()):(u=i.getUnrotatedBBoxOfElement(a),d=l.getAngle(),f=u.getCenter(),d&&f.rotate(-d,l.getBBox().getCenter())),u.inflate(c),Ut(n,{x:-u.width/2,y:-u.height/2,width:u.width,height:u.height,transform:`translate(${f.x}, ${f.y}) rotate(${d})`})}}toggleArea(e){if(this.childNodes){const n=this.childNodes.area;n&&(n.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const n=this.type,s=this.cell;e?s.prop([n,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):s.removeProp([n,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const n=this.type,s=this.cellView,o=s.getTerminalView(n);if(o==null)return;const i=this.normalizeEvent(e),l=o.cell,a=s.getTerminalMagnet(n);let c=this.graph.coord.clientToLocalPoint(i.clientX,i.clientY);const u=this.options.snap;if(typeof u=="function"){const h=ht(u,s,c,o,a,n,s,this);c=K.create(h)}if(this.options.restrictArea)if(o.isEdgeElement(a)){const h=o.getClosestPoint(c);h&&(c=h)}else{const h=o.getUnrotatedBBoxOfElement(a),p=l.getAngle(),g=l.getBBox().getCenter(),m=c.clone().rotate(p,g);h.containsPoint(m)||(c=h.getNearestPointToPoint(m).rotate(-p,g))}let d;const f=this.options.anchor;typeof f=="function"&&(d=ht(f,s,c,o,a,n,s,this)),this.resetAnchor(d),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const n=this.cellView;this.options.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(e===!0?void 0:e),this.update()}}(function(r){r.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:PP,snap(e,n,s,o,i,l){const a=l.options.snapRadius||0,c=o==="source",u=c?0:-1,d=this.cell.getVertexAt(u)||this.getTerminalAnchor(c?"target":"source");return d&&(Math.abs(d.x-e.x)<a&&(e.x=d.x),Math.abs(d.y-e.y)<a&&(e.y=d.y)),e}})})(dp||(dp={}));const hle=dp.define({name:"source-anchor",type:"source"}),ple=dp.define({name:"target-anchor",type:"target"});var gle=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class fp extends wn.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:n}=e,s=gle(e,["class"]);this.setAttrs(s,this.container),n&&Nt(this.container,n)}}onRender(){Nt(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,n=this.cellView,s=n.getTangentAtRatio(e),o=s?s.start:n.getPointAtRatio(e),i=s&&s.vector().vectorAngle(new K(1,0))||0;if(!o)return this;const l=Bn().translate(o.x,o.y).rotate(i);return Mc(this.container,l,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.cellView;if(n.can("arrowheadMovable")){n.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const s=this.graph.snapToGrid(e.clientX,e.clientY),o=n.prepareArrowheadDragging(this.type,{x:s.x,y:s.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(e,o),this.delegateDocumentEvents(this.options.documentEvents,e.data),n.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const n=this.normalizeEvent(e),s=this.graph.snapToGrid(n.clientX,n.clientY);this.cellView.onMouseMove(n,s.x,s.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),s=this.cellView,o=this.graph.snapToGrid(n.clientX,n.clientY);s.onMouseUp(n,o.x,o.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",s.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(r){r.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(fp||(fp={}));const mle=fp.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),ble=fp.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class Rc extends wn.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5,this.dblClick=this.onCellDblClick.bind(this)}onRender(){const e=this.cellView;e&&e.on("cell:dblclick",this.dblClick)}createElement(){const e=[this.prefixClassName(`${this.cell.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=wn.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}removeElement(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}updateEditor(){const{cell:e,editor:n}=this;if(!n)return;const{style:s}=n;e.isNode()?this.updateNodeEditorTransform():e.isEdge()&&this.updateEdgeEditorTransform();const{attrs:o}=this.options;s.fontSize=`${o.fontSize}px`,s.fontFamily=o.fontFamily,s.color=o.color,s.backgroundColor=o.backgroundColor;const i=this.getCellText()||"";return n.innerText=i,this.setCellText(""),this}updateNodeEditorTransform(){const{graph:e,cell:n,editor:s}=this;if(!s)return;let o=K.create(),i=20,l="",{x:a,y:c}=this.options;const{width:u,height:d}=this.options;if(typeof a<"u"&&typeof c<"u"){const p=n.getBBox();a=Ns(a,p.width),c=Ns(c,p.height),o=p.topLeft.translate(a,c),i=p.width-a*2}else{const p=n.getBBox();o=p.center,i=p.width-4,l="translate(-50%, -50%)"}const f=e.scale(),{style:h}=s;o=e.localToGraph(o),h.left=`${o.x}px`,h.top=`${o.y}px`,h.transform=`scale(${f.sx}, ${f.sy}) ${l}`,h.minWidth=`${i}px`,typeof u=="number"&&(h.width=`${u}px`),typeof d=="number"&&(h.height=`${d}px`)}updateEdgeEditorTransform(){if(!this.event)return;const{graph:e,editor:n}=this;if(!n)return;let s=K.create(),o=20;const{style:i}=n,l=this.event.target,a=l.parentElement;if(a&&df(a,this.prefixClassName("edge-label"))){const d=a.getAttribute("data-index")||"0";this.labelIndex=parseInt(d,10);const f=a.getAttribute("transform"),{translation:h}=wg(f);s=new K(h.tx,h.ty),o=Vt.getBBox(l).width}else{if(!this.options.labelAddable)return this;s=e.clientToLocal(K.create(this.event.clientX,this.event.clientY));const f=this.cellView.path.closestPointLength(s);this.distance=f,this.labelIndex=-1}s=e.localToGraph(s);const u=e.scale();i.left=`${s.x}px`,i.top=`${s.y}px`,i.minWidth=`${o}px`,i.transform=`scale(${u.sx}, ${u.sy}) translate(-50%, -50%)`}onDocumentMouseUp(e){if(this.editor&&e.target!==this.editor){const n=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(n!==""?n:null),this.removeElement()}}onCellDblClick({e}){this.editor||(e.stopPropagation(),this.removeElement(),this.event=e,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents))}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor&&(this.editor.focus(),this.selectText())})}selectText(){if(window.getSelection&&this.editor){const e=document.createRange(),n=window.getSelection();e.selectNodeContents(this.editor),n.removeAllRanges(),n.addRange(e)}}getCellText(){const{getText:e}=this.options;if(typeof e=="function")return ht(e,this.cellView,{cell:this.cell,index:this.labelIndex});if(typeof e=="string"){if(this.cell.isNode())return this.cell.attr(e);if(this.cell.isEdge()&&this.labelIndex!==-1)return this.cell.prop(`labels/${this.labelIndex}/attrs/${e}`)}}setCellText(e){const n=this.options.setText;if(typeof n=="function"){ht(n,this.cellView,{cell:this.cell,value:e,index:this.labelIndex,distance:this.distance});return}if(typeof n=="string"){if(this.cell.isNode()){e!==null&&this.cell.attr(n,e);return}if(this.cell.isEdge()){const s=this.cell;if(this.labelIndex===-1){if(e){const o={position:{distance:this.distance},attrs:{}};nu(o,`attrs/${n}`,e),s.appendLabel(o)}}else e!==null?s.prop(`labels/${this.labelIndex}/attrs/${n}`,e):typeof this.labelIndex=="number"&&s.removeLabelAt(this.labelIndex)}}}onRemove(){const e=this.cellView;e&&e.off("cell:dblclick",this.dblClick),this.removeElement()}}(function(r){r.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mouseup:"onDocumentMouseUp",touchend:"onDocumentMouseUp",touchcancel:"onDocumentMouseUp"}})})(Rc||(Rc={}));(function(r){r.NodeEditor=r.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:"text/text",setText:"text/text"}),r.EdgeEditor=r.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:"label/text",setText:"label/text"})})(Rc||(Rc={}));var IP=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},$c;(function(r){r.presets={boundary:up,button:Ji,"button-remove":Ji.Remove,"node-editor":Rc.NodeEditor},r.registry=gn.create({type:"node tool",process(e,n){if(typeof n=="function")return n;let s=wn.ToolItem;const{inherit:o}=n,i=IP(n,["inherit"]);if(o){const l=this.get(o);l==null?this.onNotFound(o,"inherited"):s=l}return i.name==null&&(i.name=e),s.define.call(s,i)}}),r.registry.register(r.presets,!0)})($c||($c={}));var Dc;(function(r){r.presets={boundary:up,vertices:Pd,segments:Nd,button:Ji,"button-remove":Ji.Remove,"source-anchor":hle,"target-anchor":ple,"source-arrowhead":mle,"target-arrowhead":ble,"edge-editor":Rc.EdgeEditor},r.registry=gn.create({type:"edge tool",process(e,n){if(typeof n=="function")return n;let s=wn.ToolItem;const{inherit:o}=n,i=IP(n,["inherit"]);if(o){const l=this.get(o);l==null?this.onNotFound(o,"inherited"):s=l}return i.name==null&&(i.name=e),s.define.call(s,i)}}),r.registry.register(r.presets,!0)})(Dc||(Dc={}));const vle=ni("center"),yle=ni("topCenter"),wle=ni("bottomCenter"),Cle=ni("leftMiddle"),Sle=ni("rightMiddle"),xle=ni("topLeft"),Ele=ni("topRight"),Tle=ni("bottomLeft"),_le=ni("bottomRight");function ni(r){return function(e,n,s,o={}){const i=o.rotate?e.getUnrotatedBBoxOfElement(n):e.getBBoxOfElement(n),l=i[r];l.x+=Ns(o.dx,i.width),l.y+=Ns(o.dy,i.height);const a=e.cell;return o.rotate?l.rotate(-a.getAngle(),a.getBBox().getCenter()):l}}function Eg(r){return function(e,n,s,o){if(s instanceof Element){const i=this.graph.findViewByElem(s);let l;if(i)if(i.isEdgeElement(s)){const a=o.fixedAt!=null?o.fixedAt:"50%";l=LP(i,a)}else l=i.getBBoxOfElement(s).getCenter();else l=new K;return r.call(this,e,n,l,o)}return r.apply(this,arguments)}}function LP(r,e){const n=jo(e),s=typeof e=="string"?parseFloat(e):e;return n?r.getPointAtRatio(s/100):r.getPointAtLength(s)}const Ole=function(r,e,n,s){const o=Ht.normalize(r.cell.getAngle()),i=r.getBBoxOfElement(e),l=i.getCenter(),a=i.getTopLeft(),c=i.getBottomRight();let u=s.padding;if(Number.isFinite(u)||(u=0),a.y+u<=n.y&&n.y<=c.y-u){const d=n.y-l.y;l.x+=o===0||o===180?0:d*1/Math.tan(Ht.toRad(o)),l.y+=d}else if(a.x+u<=n.x&&n.x<=c.x-u){const d=n.x-l.x;l.y+=o===90||o===270?0:d*Math.tan(Ht.toRad(o)),l.x+=d}return l},Ale=Eg(Ole),Mle=function(r,e,n,s,o){const i=r.cell.getConnectionPoint(this.cell,o);return(s.dx||s.dy)&&i.translate(s.dx||0,s.dy||0),i},kle=function(r,e,n,s){let o,i=0,l;const a=r.cell;s.rotate?(o=r.getUnrotatedBBoxOfElement(e),l=a.getBBox().getCenter(),i=a.getAngle()):o=r.getBBoxOfElement(e);const c=s.padding;c!=null&&Number.isFinite(c)&&o.inflate(c),s.rotate&&n.rotate(i,l);const u=o.getNearestSideToPoint(n);let d;switch(u){case"left":d=o.getLeftMiddle();break;case"right":d=o.getRightMiddle();break;case"top":d=o.getTopCenter();break;case"bottom":d=o.getBottomCenter();break}const f=s.direction;return f==="H"?(u==="top"||u==="bottom")&&(n.x<=o.x+o.width?d=o.getLeftMiddle():d=o.getRightMiddle()):f==="V"&&(n.y<=o.y+o.height?d=o.getTopCenter():d=o.getBottomCenter()),s.rotate?d.rotate(-i,l):d},Ple=Eg(kle),Nle=Object.freeze(Object.defineProperty({__proto__:null,bottom:wle,bottomLeft:Tle,bottomRight:_le,center:vle,left:Cle,midSide:Ple,nodeCenter:Mle,orth:Ale,right:Sle,top:yle,topLeft:xle,topRight:Ele},Symbol.toStringTag,{value:"Module"}));var Vc;(function(r){r.presets=Nle,r.registry=gn.create({type:"node endpoint"}),r.registry.register(r.presets,!0)})(Vc||(Vc={}));const Ile=function(r,e,n,s){let o=s.ratio!=null?s.ratio:.5;return o>1&&(o/=100),r.getPointAtRatio(o)},Lle=function(r,e,n,s){const o=s.length!=null?s.length:20;return r.getPointAtLength(o)},RP=function(r,e,n,s){const o=r.getClosestPoint(n);return o??new K},Rle=Eg(RP),$le=function(r,e,n,s){const i=r.getConnection(),l=r.getConnectionSubdivisions(),a=new We(n.clone().translate(0,1e6),n.clone().translate(0,-1e6)),c=new We(n.clone().translate(1e6,0),n.clone().translate(-1e6,0)),u=a.intersect(i,{segmentSubdivisions:l}),d=c.intersect(i,{segmentSubdivisions:l}),f=[];return u&&f.push(...u),d&&f.push(...d),f.length>0?n.closest(f):s.fallbackAt!=null?LP(r,s.fallbackAt):ht(RP,this,r,e,n,s)},Dle=Eg($le),Vle=Object.freeze(Object.defineProperty({__proto__:null,closest:Rle,length:Lle,orth:Dle,ratio:Ile},Symbol.toStringTag,{value:"Module"}));var Fc;(function(r){r.presets=Vle,r.registry=gn.create({type:"edge endpoint"}),r.registry.register(r.presets,!0)})(Fc||(Fc={}));function Tg(r,e,n){let s;if(typeof n=="object"){if(Number.isFinite(n.y)){const i=new We(e,r),{start:l,end:a}=i.parallel(n.y);e=l,r=a}s=n.x}else s=n;if(s==null||!Number.isFinite(s))return r;const o=r.distance(e);return s===0&&o>0?r:r.move(e,-Math.min(s,o-1))}function hp(r){const e=r.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function Fle(r){if(r==null)return null;let e=r;do{let n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}const $P=function(r,e,n,s){const o=e.getBBoxOfElement(n);s.stroked&&o.inflate(hp(n)/2);const i=r.intersect(o),l=i&&i.length?r.start.closest(i):r.end;return Tg(l,r.start,s.offset)},Ble=function(r,e,n,s,o){const i=e.cell,l=i.isNode()?i.getAngle():0;if(l===0)return ht($P,this,r,e,n,s,o);const a=e.getUnrotatedBBoxOfElement(n);s.stroked&&a.inflate(hp(n)/2);const c=a.getCenter(),u=r.clone().rotate(l,c),d=u.setLength(1e6).intersect(a),f=d&&d.length?u.start.closest(d).rotate(-l,c):r.end;return Tg(f,r.start,s.offset)},zle=function(r,e,n,s){let o,i;const l=r.end,a=s.selector;if(typeof a=="string"?o=e.findOne(a):Array.isArray(a)?o=p0(n,a):o=Fle(n),!Gi(o)){if(o===n||!Gi(n))return l;o=n}const c=e.getShapeOfElement(o),u=e.getMatrixOfElement(o),d=e.getRootTranslatedMatrix(),f=e.getRootRotatedMatrix(),h=d.multiply(f).multiply(u),p=h.inverse(),g=Vt.transformLine(r,p),m=g.start.clone(),v=e.getDataOfElement(o);if(s.insideout===!1){v.shapeBBox==null&&(v.shapeBBox=c.bbox());const w=v.shapeBBox;if(w!=null&&w.containsPoint(m))return l}s.extrapolate===!0&&g.setLength(1e6);let b;if(Ze.isPath(c)){const w=s.precision||2;v.segmentSubdivisions==null&&(v.segmentSubdivisions=c.getSegmentSubdivisions({precision:w})),b={precision:w,segmentSubdivisions:v.segmentSubdivisions},i=g.intersect(c,b)}else i=g.intersect(c);i?Array.isArray(i)&&(i=m.closest(i)):s.sticky===!0&&(Ne.isRectangle(c)?i=c.getNearestPointToPoint(m):Vs.isEllipse(c)?i=c.intersectsWithLineFromCenterToPoint(m):i=c.closestPoint(m,b));const C=i?Vt.transformPoint(i,h):l;let y=s.offset||0;return s.stroked!==!1&&(typeof y=="object"?(y=Object.assign({},y),y.x==null&&(y.x=0),y.x+=hp(o)/2):y+=hp(o)/2),Tg(C,r.start,y)};function jle(r,e,n=0){const{start:s,end:o}=r;let i,l,a,c;switch(e){case"left":c="x",i=o,l=s,a=-1;break;case"right":c="x",i=s,l=o,a=1;break;case"top":c="y",i=o,l=s,a=-1;break;case"bottom":c="y",i=s,l=o,a=1;break;default:return}s[c]<o[c]?i[c]=l[c]:l[c]=i[c],Number.isFinite(n)&&(i[c]+=a*n,l[c]+=a*n)}const Hle=function(r,e,n,s){const{alignOffset:o,align:i}=s;return i&&jle(r,i,o),Tg(r.end,r.start,s.offset)},Ule=Object.freeze(Object.defineProperty({__proto__:null,anchor:Hle,bbox:$P,boundary:zle,rect:Ble},Symbol.toStringTag,{value:"Module"}));var Bc;(function(r){r.presets=Ule,r.registry=gn.create({type:"connection point"}),r.registry.register(r.presets,!0)})(Bc||(Bc={}));const Wle=function(r){return[...r]},qle=function(r,e,n){const s=e.side||"bottom",o=la(e.padding||40),i=n.sourceBBox,l=n.targetBBox,a=i.getCenter(),c=l.getCenter();let u,d,f;switch(s){case"top":f=-1,u="y",d="height";break;case"left":f=-1,u="x",d="width";break;case"right":f=1,u="x",d="width";break;case"bottom":default:f=1,u="y",d="height";break}return a[u]+=f*(i[d]/2+o[s]),c[u]+=f*(l[d]/2+o[s]),f*(a[u]-c[u])>0?c[u]=a[u]:a[u]=c[u],[a.toJSON(),...r,c.toJSON()]};function Xf(r){return new Ne(r.x,r.y,0,0)}function pp(r={}){const e=la(r.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function DP(r,e={}){return r.sourceBBox.clone().moveAndExpand(pp(e))}function VP(r,e={}){return r.targetBBox.clone().moveAndExpand(pp(e))}function Gle(r,e={}){return r.sourceAnchor?r.sourceAnchor:DP(r,e).getCenter()}function Kle(r,e={}){return r.targetAnchor?r.targetAnchor:VP(r,e).getCenter()}const FP=function(r,e,n){let s=DP(n,e),o=VP(n,e);const i=Gle(n,e),l=Kle(n,e);s=s.union(Xf(i)),o=o.union(Xf(l));const a=r.map(d=>K.create(d));a.unshift(i),a.push(l);let c=null;const u=[];for(let d=0,f=a.length-1;d<f;d+=1){let h=null;const p=a[d],g=a[d+1],m=Wr.getBearing(p,g)!=null;if(d===0)d+1===f?s.intersectsWithRect(o.clone().inflate(1))?h=Wr.insideNode(p,g,s,o):m||(h=Wr.nodeToNode(p,g,s,o)):s.containsPoint(g)?h=Wr.insideNode(p,g,s,Xf(g).moveAndExpand(pp(e))):m||(h=Wr.nodeToVertex(p,g,s));else if(d+1===f){const v=m&&Wr.getBearing(g,p)===c;o.containsPoint(p)||v?h=Wr.insideNode(p,g,Xf(p).moveAndExpand(pp(e)),o,c):m||(h=Wr.vertexToNode(p,g,o,c))}else m||(h=Wr.vertexToVertex(p,g,c));h?(u.push(...h.points),c=h.direction):c=Wr.getBearing(p,g),d+1<f&&u.push(g)}return u};var Wr;(function(r){const e={N:"S",S:"N",E:"W",W:"E"},n={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function s(f,h,p){let g=new K(f.x,h.y);return p.containsPoint(g)&&(g=new K(h.x,f.y)),g}function o(f,h){return f[h==="W"||h==="E"?"width":"height"]}r.getBBoxSize=o;function i(f,h){return f.x===h.x?f.y>h.y?"N":"S":f.y===h.y?f.x>h.x?"W":"E":null}r.getBearing=i;function l(f,h,p){const g=new K(f.x,h.y),m=new K(h.x,f.y),v=i(f,g),b=i(f,m),C=p?e[p]:null,y=v===p||v!==C&&(b===C||b!==p)?g:m;return{points:[y],direction:i(y,h)}}r.vertexToVertex=l;function a(f,h,p){const g=s(f,h,p);return{points:[g],direction:i(g,h)}}r.nodeToVertex=a;function c(f,h,p,g){const m=[new K(f.x,h.y),new K(h.x,f.y)],v=m.filter(y=>!p.containsPoint(y)),b=v.filter(y=>i(y,f)!==g);let C;if(b.length>0)return C=b.filter(y=>i(f,y)===g).pop(),C=C||b[0],{points:[C],direction:i(C,h)};{C=e5(m,v)[0];const y=K.create(h).move(C,-o(p,g)/2);return{points:[s(y,f,p),y],direction:i(y,h)}}}r.vertexToNode=c;function u(f,h,p,g){let m=a(h,f,g);const v=m.points[0];if(p.containsPoint(v)){m=a(f,h,p);const b=m.points[0];if(g.containsPoint(b)){const C=K.create(f).move(b,-o(p,i(f,b))/2),y=K.create(h).move(v,-o(g,i(h,v))/2),w=new We(C,y).getCenter(),x=a(f,w,p),E=l(w,h,x.direction);m.points=[x.points[0],E.points[0]],m.direction=E.direction}}return m}r.nodeToNode=u;function d(f,h,p,g,m){const v=p.union(g).inflate(1),b=v.getCenter(),C=b.distance(h)>b.distance(f),y=C?h:f,w=C?f:h;let x,E,_;m?(x=K.fromPolar(v.width+v.height,n[m],y),x=v.getNearestPointToPoint(x).move(x,-1)):x=v.getNearestPointToPoint(y).move(y,1),E=s(x,w,v);let M;x.round().equals(E.round())?(E=K.fromPolar(v.width+v.height,Ht.toRad(x.theta(y))+Math.PI/2,w),E=v.getNearestPointToPoint(E).move(w,1).round(),_=s(x,E,v),M=C?[E,_,x]:[x,_,E]):M=C?[E,x]:[x,E];const A=i(C?x:E,h);return{points:M,direction:A}}r.insideNode=d})(Wr||(Wr={}));const Yle={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Ai(this.step,this)},directions(){const r=Ai(this.step,this),e=Ai(this.cost,this);return[{cost:e,offsetX:r,offsetY:0},{cost:e,offsetX:-r,offsetY:0},{cost:e,offsetX:0,offsetY:r},{cost:e,offsetX:0,offsetY:-r}]},penalties(){const r=Ai(this.step,this);return{0:0,45:r/2,90:r/2}},paddingBox(){const r=Ai(this.step,this);return{x:-r,y:-r,width:2*r,height:2*r}},fallbackRouter:FP,draggingRouter:null,snapToGrid:!0};function Ai(r,e){return typeof r=="function"?r.call(e):r}function Jle(r){const e=Object.keys(r).reduce((n,s)=>{const o=n;return s==="fallbackRouter"||s==="draggingRouter"||s==="fallbackRoute"?o[s]=r[s]:o[s]=Ai(r[s],r),n},{});if(e.padding){const n=la(e.padding);e.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}return e.directions.forEach(n=>{const s=new K(0,0),o=new K(n.offsetX,n.offsetY);n.angle=Ht.normalize(s.theta(o))}),e}const lE=1,aE=2;class Xle{constructor(){this.items=[],this.hash={},this.values={}}add(e,n){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=lE,this.values[e]=n;const s=$5(this.items,e,o=>this.values[o]);this.items.splice(s,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=aE),e}isOpen(e){return this.hash[e]===lE}isClose(e){return this.hash[e]===aE}isEmpty(){return this.items.length===0}}class Zle{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,n){const s=this.options,o=s.excludeTerminals.reduce((u,d)=>{const f=n[d];if(f){const h=e.getCell(f.cell);h&&u.push(h)}return u},[]);let i=[];const l=e.getCell(n.getSourceCellId());l&&(i=bC(i,l.getAncestors().map(u=>u.id)));const a=e.getCell(n.getTargetCellId());a&&(i=bC(i,a.getAncestors().map(u=>u.id)));const c=this.mapGridSize;return e.getNodes().reduce((u,d)=>{const f=o.some(v=>v.id===d.id),h=d.shape?s.excludeShapes.includes(d.shape):!1,p=s.excludeNodes.some(v=>typeof v=="string"?d.id===v:v===d),g=i.includes(d.id),m=h||f||p||g;if(d.isVisible()&&!m){const v=d.getBBox().moveAndExpand(s.paddingBox),b=v.getOrigin().snapToGrid(c),C=v.getCorner().snapToGrid(c);for(let y=b.x;y<=C.x;y+=c)for(let w=b.y;w<=C.y;w+=c){const x=new K(y,w).toString();u[x]==null&&(u[x]=[]),u[x].push(v)}}return u},this.map),this}isAccessible(e){const n=e.clone().snapToGrid(this.mapGridSize).toString(),s=this.map[n];return s?s.every(o=>!o.containsPoint(e)):!0}}function BP(r,e){const n=r.sourceBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function zP(r,e){const n=r.targetBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function jP(r,e){return r.sourceAnchor?r.sourceAnchor:BP(r,e).getCenter()}function Qle(r,e){return r.targetAnchor?r.targetAnchor:zP(r,e).getCenter()}function Vm(r,e,n,s,o){const i=360/n,l=r.theta(eae(r,e,s,o)),a=Ht.normalize(l+i/2);return i*Math.floor(a/i)}function eae(r,e,n,s){const o=s.step,i=e.x-r.x,l=e.y-r.y,a=i/n.x,c=l/n.y,u=a*o,d=c*o;return new K(r.x+u,r.y+d)}function cE(r,e){const n=Math.abs(r-e);return n>180?360-n:n}function tae(r,e){const n=e.step;return e.directions.forEach(s=>{s.gridOffsetX=s.offsetX/n*r.x,s.gridOffsetY=s.offsetY/n*r.y}),e.directions}function nae(r,e,n){return{source:e.clone(),x:uE(n.x-e.x,r),y:uE(n.y-e.y,r)}}function uE(r,e){if(!r)return e;const n=Math.abs(r),s=Math.round(n/e);if(!s)return n;const o=s*e,l=(n-o)/s;return e+l}function rae(r,e){const n=e.source,s=zt.snapToGrid(r.x-n.x,e.x)+n.x,o=zt.snapToGrid(r.y-n.y,e.y)+n.y;return new K(s,o)}function Cu(r,e){return r.round(e)}function yh(r,e,n){return Cu(rae(r.clone(),e),n)}function Ju(r){return r.toString()}function Fm(r){return new K(r.x===0?0:Math.abs(r.x)/r.x,r.y===0?0:Math.abs(r.y)/r.y)}function dE(r,e){let n=1/0;for(let s=0,o=e.length;s<o;s+=1){const i=r.manhattanDistance(e[s]);i<n&&(n=i)}return n}function fE(r,e,n,s,o){const i=o.precision,l=o.directionMap,a=r.diff(e.getCenter()),c=Object.keys(l).reduce((u,d)=>{if(n.includes(d)){const f=l[d],h=new K(r.x+f.x*(Math.abs(a.x)+e.width),r.y+f.y*(Math.abs(a.y)+e.height)),g=new We(r,h).intersect(e)||[];let m,v=null;for(let b=0;b<g.length;b+=1){const C=g[b],y=r.squaredDistance(C);(m==null||y>m)&&(m=y,v=C)}if(v){let b=yh(v,s,i);e.containsPoint(b)&&(b=yh(b.translate(f.x*s.x,f.y*s.y),s,i)),u.push(b)}}return u},[]);return e.containsPoint(r)||c.push(yh(r,s,i)),c}function sae(r,e,n,s,o){const i=[];let l=Fm(o.diff(n)),a=Ju(n),c=r[a],u;for(;c;){u=e[a];const h=Fm(u.diff(c));h.equals(l)||(i.unshift(u),l=h),a=Ju(c),c=r[a]}const d=e[a];return Fm(d.diff(s)).equals(l)||i.unshift(d),i}function oae(r,e,n,s,o){const i=o.precision;let l,a;Ne.isRectangle(e)?l=Cu(jP(r,o).clone(),i):l=Cu(e.clone(),i),Ne.isRectangle(n)?a=Cu(Qle(r,o).clone(),i):a=Cu(n.clone(),i);const c=nae(o.step,l,a),u=l,d=a;let f,h;if(Ne.isRectangle(e)?f=fE(u,e,o.startDirections,c,o):f=[u],Ne.isRectangle(n)?h=fE(a,n,o.endDirections,c,o):h=[d],f=f.filter(p=>s.isAccessible(p)),h=h.filter(p=>s.isAccessible(p)),f.length>0&&h.length>0){const p=new Xle,g={},m={},v={};for(let k=0,P=f.length;k<P;k+=1){const $=f[k],B=Ju($);p.add(B,dE($,h)),g[B]=$,v[B]=0}const b=o.previousDirectionAngle,C=b===void 0;let y,w;const x=tae(c,o),E=x.length,_=h.reduce((k,P)=>{const $=Ju(P);return k.push($),k},[]),M=K.equalPoints(f,h);let A=o.maxLoopCount;for(;!p.isEmpty()&&A>0;){const k=p.pop(),P=g[k],$=m[k],B=v[k],W=P.equals(u),I=$==null;let R;if(I?C?W?R=null:R=Vm(u,P,E,c,o):R=b:R=Vm($,P,E,c,o),!(I&&M)&&_.indexOf(k)>=0)return o.previousDirectionAngle=R,sae(m,g,P,u,d);for(let Q=0;Q<E;Q+=1){y=x[Q];const q=y.angle;if(w=cE(R,q),!(C&&W)&&w>o.maxDirectionChange)continue;const ee=yh(P.clone().translate(y.gridOffsetX||0,y.gridOffsetY||0),c,i),de=Ju(ee);if(p.isClose(de)||!s.isAccessible(ee))continue;if(_.indexOf(de)>=0&&!ee.equals(d)){const Ee=Vm(ee,d,E,c,o);if(cE(q,Ee)>o.maxDirectionChange)continue}const ce=y.cost,Te=W?0:o.penalties[w],fe=B+ce+Te;(!p.isOpen(de)||fe<v[de])&&(g[de]=ee,m[de]=P,v[de]=fe,p.add(de,fe+dE(ee,h)))}A-=1}}return o.fallbackRoute?ht(o.fallbackRoute,this,u,d,o):null}function iae(r,e=10){if(r.length<=1)return r;for(let n=0,s=r.length;n<s-1;n+=1){const o=r[n],i=r[n+1];if(o.x===i.x){const l=e*Math.round(o.x/e);o.x!==l&&(o.x=l,i.x=l)}else if(o.y===i.y){const l=e*Math.round(o.y/e);o.y!==l&&(o.y=l,i.y=l)}}return r}const lae=function(r,e,n){const s=Jle(e),o=BP(n,s),i=zP(n,s),l=jP(n,s),a=new Zle(s).build(n.graph.model,n.cell),c=r.map(p=>K.create(p)),u=[];let d=l,f,h;for(let p=0,g=c.length;p<=g;p+=1){let m=null;if(f=h||o,h=c[p],h==null){h=i;const b=n.cell;if((b.getSourceCellId()==null||b.getTargetCellId()==null)&&typeof s.draggingRouter=="function"){const y=f===o?l:f,w=h.getOrigin();m=ht(s.draggingRouter,n,y,w,s)}}if(m==null&&(m=oae(n,f,h,a,s)),m===null)return ht(s.fallbackRouter,this,r,s,n);const v=m[0];v&&v.equals(d)&&m.shift(),d=m[m.length-1]||d,u.push(...m)}return s.snapToGrid?iae(u,n.graph.grid.getGridSize()):u},HP=function(r,e,n){return ht(lae,this,r,Object.assign(Object.assign({},Yle),e),n)},aae={maxDirectionChange:45,directions(){const r=Ai(this.step,this),e=Ai(this.cost,this),n=Math.ceil(Math.sqrt(r*r<<1));return[{cost:e,offsetX:r,offsetY:0},{cost:n,offsetX:r,offsetY:r},{cost:e,offsetX:0,offsetY:r},{cost:n,offsetX:-r,offsetY:r},{cost:e,offsetX:-r,offsetY:0},{cost:n,offsetX:-r,offsetY:-r},{cost:e,offsetX:0,offsetY:-r},{cost:n,offsetX:r,offsetY:-r}]},fallbackRoute(r,e,n){const s=r.theta(e),o=[];let i={x:e.x,y:r.y},l={x:r.x,y:e.y};if(s%180>90){const y=i;i=l,l=y}const a=s%90<45?i:l,c=new We(r,a),u=90*Math.ceil(s/90),d=K.fromPolar(c.squaredLength(),Ht.toRad(u+135),a),f=new We(e,d),h=c.intersectsWithLine(f),p=h||e,g=h?p:r,m=360/n.directions.length,v=g.theta(e),b=Ht.normalize(v+m/2),C=m*Math.floor(b/m);return n.previousDirectionAngle=C,p&&o.push(p.round()),o.push(e),o}},cae=function(r,e,n){return ht(HP,this,r,Object.assign(Object.assign({},aae),e),n)},uae=function(r,e,n){const s=e.offset||32,o=e.min==null?16:e.min;let i=0,l=e.direction;const a=n.sourceBBox,c=n.targetBBox,u=a.getCenter(),d=c.getCenter();if(typeof s=="number"&&(i=s),l==null){let b=c.left-a.right,C=c.top-a.bottom;b>=0&&C>=0?l=b>=C?"L":"T":b<=0&&C>=0?(b=a.left-c.right,b>=0?l=b>=C?"R":"T":l="T"):b>=0&&C<=0?(C=a.top-c.bottom,C>=0?l=b>=C?"L":"B":l="L"):(b=a.left-c.right,C=a.top-c.bottom,b>=0&&C>=0?l=b>=C?"R":"B":b<=0&&C>=0?l="B":b>=0&&C<=0?l="R":l=Math.abs(b)>Math.abs(C)?"R":"B")}l==="H"?l=d.x-u.x>=0?"L":"R":l==="V"&&(l=d.y-u.y>=0?"T":"B"),s==="center"&&(l==="L"?i=(c.left-a.right)/2:l==="R"?i=(a.left-c.right)/2:l==="T"?i=(c.top-a.bottom)/2:l==="B"&&(i=(a.top-c.bottom)/2));let f,h,p;const g=l==="L"||l==="R";if(g){if(d.y===u.y)return[...r];p=l==="L"?1:-1,f="x",h="width"}else{if(d.x===u.x)return[...r];p=l==="T"?1:-1,f="y",h="height"}const m=u.clone(),v=d.clone();if(m[f]+=p*(a[h]/2+i),v[f]-=p*(c[h]/2+i),g){const b=m.x,C=v.x,y=a.width/2+o,w=c.width/2+o;d.x>u.x?C<=b&&(m.x=Math.max(C,u.x+y),v.x=Math.min(b,d.x-w)):C>=b&&(m.x=Math.min(C,u.x-y),v.x=Math.max(b,d.x+w))}else{const b=m.y,C=v.y,y=a.height/2+o,w=c.height/2+o;d.y>u.y?C<=b&&(m.y=Math.max(C,u.y+y),v.y=Math.min(b,d.y-w)):C>=b&&(m.y=Math.min(C,u.y-y),v.y=Math.max(b,d.y+w))}return[m.toJSON(),...r,v.toJSON()]};function Oa(r,e){if(e!=null&&e!==!1){const n=typeof e=="boolean"?0:e;if(n>0){const s=K.create(r[1]).move(r[2],n),o=K.create(r[1]).move(r[0],n);return[s.toJSON(),...r,o.toJSON()]}{const s=r[1];return[Object.assign({},s),...r,Object.assign({},s)]}}return r}const dae=function(r,e,n){const s=e.width||50,i=(e.height||80)/2,l=e.angle||"auto",a=n.sourceAnchor,c=n.targetAnchor,u=n.sourceBBox,d=n.targetBBox;if(a.equals(c)){const f=b=>{const C=Ht.toRad(b),y=Math.sin(C),w=Math.cos(C),x=new K(a.x+w*s,a.y+y*s),E=new K(x.x-w*i,x.y-y*i),_=E.clone().rotate(-90,x),M=E.clone().rotate(90,x);return[_.toJSON(),x.toJSON(),M.toJSON()]},h=b=>{const C=a.clone().move(b,-1),y=new We(C,b);return!u.containsPoint(b)&&!u.intersectsWithLine(y)},p=[0,90,180,270,45,135,225,315];if(typeof l=="number")return Oa(f(l),e.merge);const g=u.getCenter();if(g.equals(a))return Oa(f(0),e.merge);const m=g.angleBetween(a,g.clone().translate(1,0));let v=f(m);if(h(v[1]))return Oa(v,e.merge);for(let b=1,C=p.length;b<C;b+=1)if(v=f(m+p[b]),h(v[1]))return Oa(v,e.merge);return Oa(v,e.merge)}{const f=new We(a,c);let h=f.parallel(-s),p=h.getCenter(),g=h.start.clone().move(h.end,i),m=h.end.clone().move(h.start,i);const v=f.parallel(-1),b=new We(v.start,p),C=new We(v.end,p);if((u.containsPoint(p)||d.containsPoint(p)||u.intersectsWithLine(b)||u.intersectsWithLine(C)||d.intersectsWithLine(b)||d.intersectsWithLine(C))&&(h=f.parallel(s),p=h.getCenter(),g=h.start.clone().move(h.end,i),m=h.end.clone().move(h.start,i)),e.merge){const y=new We(a,c),w=new We(p,y.center).setLength(Number.MAX_SAFE_INTEGER),x=u.intersectsWithLine(w),E=d.intersectsWithLine(w),_=x?Array.isArray(x)?x:[x]:[];E&&(Array.isArray(E)?_.push(...E):_.push(E));const M=y.center.closest(_);M?(n.sourceAnchor=M.clone(),n.targetAnchor=M.clone()):(n.sourceAnchor=y.center.clone(),n.targetAnchor=y.center.clone())}return Oa([g.toJSON(),p.toJSON(),m.toJSON()],e.merge)}},fae=Object.freeze(Object.defineProperty({__proto__:null,er:uae,loop:dae,manhattan:HP,metro:cae,normal:Wle,oneSide:qle,orth:FP},Symbol.toStringTag,{value:"Module"}));var Li;(function(r){r.presets=fae,r.registry=gn.create({type:"router"}),r.registry.register(r.presets,!0)})(Li||(Li={}));const hae=function(r,e,n,s={}){const o=[r,...n,e],i=new dn(o),l=new Ze(i);return s.raw?l:l.serialize()},pae=function(r,e,n,s={}){const o=n.length===3?0:1,i=K.create(n[0+o]),l=K.create(n[2+o]),a=K.create(n[1+o]);if(!K.equals(r,e)){const u=new K((r.x+e.x)/2,(r.y+e.y)/2),d=u.angleBetween(K.create(r).rotate(90,u),a);d>1&&(i.rotate(180-d,u),l.rotate(180-d,u),a.rotate(180-d,u))}const c=`
     M ${r.x} ${r.y}
     Q ${i.x} ${i.y} ${a.x} ${a.y}
     Q ${l.x} ${l.y} ${e.x} ${e.y}
  `;return s.raw?Ze.parse(c):c},gae=function(r,e,n,s={}){const o=new Ze;o.appendSegment(Ze.createSegment("M",r));const i=1/3,l=2/3,a=s.radius||10;let c,u;for(let d=0,f=n.length;d<f;d+=1){const h=K.create(n[d]),p=n[d-1]||r,g=n[d+1]||e;c=u||h.distance(p)/2,u=h.distance(g)/2;const m=-Math.min(a,c),v=-Math.min(a,u),b=h.clone().move(p,m).round(),C=h.clone().move(g,v).round(),y=new K(i*b.x+l*h.x,l*h.y+i*b.y),w=new K(i*C.x+l*h.x,l*h.y+i*C.y);o.appendSegment(Ze.createSegment("L",b)),o.appendSegment(Ze.createSegment("C",y,w,C))}return o.appendSegment(Ze.createSegment("L",e)),s.raw?o:o.serialize()},mae=function(r,e,n,s={}){let o,i=s.direction;if(n&&n.length!==0){const l=[r,...n,e],a=nn.throughPoints(l);o=new Ze(a)}else if(o=new Ze,o.appendSegment(Ze.createSegment("M",r)),i||(i=Math.abs(r.x-e.x)>=Math.abs(r.y-e.y)?"H":"V"),i==="H"){const l=(r.x+e.x)/2;o.appendSegment(Ze.createSegment("C",l,r.y,l,e.y,e.x,e.y))}else{const l=(r.y+e.y)/2;o.appendSegment(Ze.createSegment("C",r.x,l,e.x,l,e.x,e.y))}return s.raw?o:o.serialize()},hE=1,Zf=1/3,Qf=2/3;function bae(r){let e=r.graph._jumpOverUpdateList;if(e==null&&(e=r.graph._jumpOverUpdateList=[],r.graph.on("cell:mouseup",()=>{const n=r.graph._jumpOverUpdateList;setTimeout(()=>{for(let s=0;s<n.length;s+=1)n[s].update()})}),r.graph.on("model:reseted",()=>{e=r.graph._jumpOverUpdateList=[]})),e.indexOf(r)<0){e.push(r);const n=()=>e.splice(e.indexOf(r),1);r.cell.once("change:connector",n),r.cell.once("removed",n)}}function Bm(r,e,n=[]){const s=[r,...n,e],o=[];return s.forEach((i,l)=>{const a=s[l+1];a!=null&&o.push(new We(i,a))}),o}function vae(r,e){const n=[];return e.forEach(s=>{const o=r.intersectsWithLine(s);o&&n.push(o)}),n}function pE(r,e){return new We(r,e).squaredLength()}function yae(r,e,n){return e.reduce((s,o,i)=>{if(gp.includes(o))return s;const l=s.pop()||r,a=K.create(o).move(l.start,-n);let c=K.create(o).move(l.start,+n);const u=e[i+1];if(u!=null){const h=c.distance(u);h<=n&&(c=u.move(l.start,h),gp.push(u))}else if(a.distance(l.end)<n*2+hE)return s.push(l),s;if(c.distance(l.start)<n*2+hE)return s.push(l),s;const f=new We(a,c);return Id.push(f),s.push(new We(l.start,a),f,new We(c,l.end)),s},[])}function gE(r,e,n,s){const o=new Ze;let i;return i=Ze.createSegment("M",r[0].start),o.appendSegment(i),r.forEach((l,a)=>{if(Id.includes(l)){let c,u,d,f;if(n==="arc"){c=-90,u=l.start.diff(l.end),(u.x<0||u.x===0&&u.y<0)&&(c+=180);const p=l.getCenter(),g=new We(p,l.end).rotate(c,p);let m;m=new We(l.start,p),d=m.pointAt(2/3).rotate(c,l.start),f=g.pointAt(1/3).rotate(-c,g.end),i=Ze.createSegment("C",d,f,g.end),o.appendSegment(i),m=new We(p,l.end),d=g.pointAt(1/3).rotate(c,g.end),f=m.pointAt(1/3).rotate(-c,l.end),i=Ze.createSegment("C",d,f,l.end),o.appendSegment(i)}else if(n==="gap")i=Ze.createSegment("M",l.end),o.appendSegment(i);else if(n==="cubic"){c=l.start.theta(l.end);const h=e*.6;let p=e*1.35;u=l.start.diff(l.end),(u.x<0||u.x===0&&u.y<0)&&(p*=-1),d=new K(l.start.x+h,l.start.y+p).rotate(c,l.start),f=new K(l.end.x-h,l.end.y+p).rotate(c,l.end),i=Ze.createSegment("C",d,f,l.end),o.appendSegment(i)}}else{const c=r[a+1];s===0||!c||Id.includes(c)?(i=Ze.createSegment("L",l.end),o.appendSegment(i)):wae(s,o,l.end,l.start,c.end)}}),o}function wae(r,e,n,s,o){const i=n.distance(s)/2,l=n.distance(o)/2,a=-Math.min(r,i),c=-Math.min(r,l),u=n.clone().move(s,a).round(),d=n.clone().move(o,c).round(),f=new K(Zf*u.x+Qf*n.x,Qf*n.y+Zf*u.y),h=new K(Zf*d.x+Qf*n.x,Qf*n.y+Zf*d.y);let p;p=Ze.createSegment("L",u),e.appendSegment(p),p=Ze.createSegment("C",f,h,d),e.appendSegment(p)}let Id,gp;const Cae=function(r,e,n,s={}){Id=[],gp=[],bae(this);const o=s.size||5,i=s.type||"arc",l=s.radius||0,a=s.ignoreConnectors||["smooth"],c=this.graph,d=c.model.getEdges();if(d.length===1)return gE(Bm(r,e,n),o,i,l);const f=this.cell,h=d.indexOf(f),p=c.options.connecting.connector||{},g=d.filter((w,x)=>{const E=w.getConnector()||p;return a.includes(E.name)?!1:x>h?E.name!=="jumpover":!0}),m=g.map(w=>c.findViewByCell(w)),v=Bm(r,e,n),b=m.map(w=>w==null?[]:w===this?v:Bm(w.sourcePoint,w.targetPoint,w.routePoints)),C=[];v.forEach(w=>{const x=g.reduce((E,_,M)=>{if(_!==f){const A=vae(w,b[M]);E.push(...A)}return E},[]).sort((E,_)=>pE(w.start,E)-pE(w.start,_));x.length>0?C.push(...yae(w,x,o)):C.push(w)});const y=gE(C,o,i,l);return Id=[],gp=[],s.raw?y:y.serialize()},Sae=Object.freeze(Object.defineProperty({__proto__:null,jumpover:Cae,loop:pae,normal:hae,rounded:gae,smooth:mae},Symbol.toStringTag,{value:"Module"}));var Zl;(function(r){r.presets=Sae,r.registry=gn.create({type:"connector"}),r.registry.register(r.presets,!0)})(Zl||(Zl={}));var xae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class UP extends Fr{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(rn(e)),this.changed={}}mutate(e,n={}){const s=n.unset===!0,o=n.silent===!0,i=[],l=this.changing;this.changing=!0,l||(this.previous=rn(this.data),this.changed={});const a=this.data,c=this.previous,u=this.changed;if(Object.keys(e).forEach(d=>{const f=d,h=e[f];Sr(a[f],h)||i.push(f),Sr(c[f],h)?delete u[f]:u[f]=h,s?delete a[f]:a[f]=h}),!o&&i.length>0&&(this.pending=!0,this.pendingOptions=n,i.forEach(d=>{this.emit("change:*",{key:d,options:n,store:this,current:a[d],previous:c[d]})})),l)return this;if(!o)for(;this.pending;)this.pending=!1,this.emit("changed",{current:a,previous:c,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,n){if(e==null)return this.data;const s=this.data[e];return s??n}getPrevious(e){if(this.previous){const n=this.previous[e];return n??void 0}}set(e,n,s){return e!=null&&(typeof e=="object"?this.mutate(e,n):this.mutate({[e]:n},s)),this}remove(e,n){const o={};let i;if(typeof e=="string")o[e]=void 0,i=n;else if(Array.isArray(e))e.forEach(l=>o[l]=void 0),i=n;else{for(const l in this.data)o[l]=void 0;i=e}return this.mutate(o,Object.assign(Object.assign({},i),{unset:!0})),this}getByPath(e){return p0(this.data,e,"/")}setByPath(e,n,s={}){const o="/",i=Array.isArray(e)?[...e]:e.split(o),l=Array.isArray(e)?e.join(o):e,a=i[0],c=i.length;if(s.propertyPath=l,s.propertyValue=n,s.propertyPathArray=i,c===1)this.set(a,n,s);else{const u={};let d=u,f=a;for(let g=1;g<c;g+=1){const m=i[g],v=Number.isFinite(Number(m));d=d[f]=v?[]:{},f=m}nu(u,i,n,o);const h=rn(this.data);s.rewrite&&Wx(h,e,o);const p=on(h,u);this.set(a,p[a],s)}return this}removeByPath(e,n){const s=Array.isArray(e)?e:e.split("/"),o=s[0];if(s.length===1)this.remove(o,n);else{const i=s.slice(1),l=rn(this.get(o));l&&Wx(l,i),this.set(o,l,n)}return this}hasChanged(e){return e==null?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(e==null)return this.hasChanged()?rn(this.changed):null;const n=this.changing?this.previous:this.data,s={};let o;for(const i in e){const l=e[i];Sr(n[i],l)||(s[i]=l,o=!0)}return o?rn(s):null}toJSON(){return rn(this.data)}clone(){const e=this.constructor;return new e(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}xae([Fr.dispose()],UP.prototype,"dispose",null);class Ld{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,n,s={},o="/"){const i=this.cell.getPropByPath(e),l=G6(s,Ld.defaultOptions),a=this.getTiming(l.timing),c=this.getInterp(l.interp,i,n);let u=0;const d=Array.isArray(e)?e.join(o):e,f=Array.isArray(e)?e:e.split(o),h=()=>{const p=new Date().getTime();u===0&&(u=p);let m=(p-u)/l.duration;m<1?this.ids[d]=requestAnimationFrame(h):m=1;const v=c(a(m));this.cell.setPropByPath(f,v),s.progress&&s.progress(Object.assign({progress:m,currentValue:v},this.getArgs(d))),m===1&&(this.cell.notify("transition:complete",this.getArgs(d)),s.complete&&s.complete(this.getArgs(d)),this.cell.notify("transition:finish",this.getArgs(d)),s.finish&&s.finish(this.getArgs(d)),this.clean(d))};return setTimeout(()=>{this.stop(e,void 0,o),this.cache[d]={startValue:i,targetValue:n,options:l},this.ids[d]=requestAnimationFrame(h),this.cell.notify("transition:start",this.getArgs(d)),s.start&&s.start(this.getArgs(d))},s.delay),this.stop.bind(this,e,o,s)}stop(e,n={},s="/"){const o=Array.isArray(e)?e:e.split(s);return Object.keys(this.ids).filter(i=>Sr(o,i.split(s).slice(0,o.length))).forEach(i=>{cancelAnimationFrame(this.ids[i]);const l=this.cache[i],a=this.getArgs(i),c=Object.assign(Object.assign({},l.options),n),u=c.jumpedToEnd;u&&l.targetValue!=null&&(this.cell.setPropByPath(i,l.targetValue),this.cell.notify("transition:end",Object.assign({},a)),this.cell.notify("transition:complete",Object.assign({},a)),c.complete&&c.complete(Object.assign({},a)));const d=Object.assign({jumpedToEnd:u},a);this.cell.notify("transition:stop",Object.assign({},d)),c.stop&&c.stop(Object.assign({},d)),this.cell.notify("transition:finish",Object.assign({},a)),c.finish&&c.finish(Object.assign({},a)),this.clean(i)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return typeof e=="string"?ca[e]:e}getInterp(e,n,s){return e?e(n,s):typeof s=="number"?Bl.number(n,s):typeof s=="string"?s[0]==="#"?Bl.color(n,s):Bl.unit(n,s):Bl.object(n,s)}getArgs(e){const n=this.cache[e];return{path:e,startValue:n.startValue,targetValue:n.targetValue,cell:this.cell}}}(function(r){r.defaultOptions={delay:10,duration:100,timing:"linear"}})(Ld||(Ld={}));var Eae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},WP=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class At extends Fr{static config(e){const{markup:n,propHooks:s,attrHooks:o}=e,i=WP(e,["markup","propHooks","attrHooks"]);n!=null&&(this.markup=n),s&&(this.propHooks=this.propHooks.slice(),Array.isArray(s)?this.propHooks.push(...s):typeof s=="function"?this.propHooks.push(s):Object.values(s).forEach(l=>{typeof l=="function"&&this.propHooks.push(l)})),o&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),o)),this.defaults=on({},this.defaults,i)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:rn(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,n){return this.propHooks.reduce((s,o)=>o?ht(o,e,s):s,n)}get[Symbol.toStringTag](){return At.toStringTag}constructor(e={}){super();const s=this.constructor.getDefaults(!0),o=on({},this.preprocess(s),this.preprocess(e));this.id=o.id||sp(),this.store=new UP(o),this.animation=new Ld(this),this.setup(),this.init(),this.postprocess(e)}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,n){const s=e.id,i=this.constructor.applyPropHooks(this,e);return s==null&&n!==!0&&(i.id=sp()),i}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:n,current:s,previous:o,options:i}=e;this.notify("change:*",{key:n,options:i,current:s,previous:o,cell:this}),this.notify(`change:${n}`,{options:i,current:s,previous:o,cell:this});const l=n;(l==="source"||l==="target")&&this.notify("change:terminal",{type:l,current:s,previous:o,options:i,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,n){this.trigger(e,n);const s=this.model;return s&&(s.notify(`cell:${e}`,n),this.isNode()?s.notify(`node:${e}`,Object.assign(Object.assign({},n),{node:this})):this.isEdge()&&s.notify(`edge:${e}`,Object.assign(Object.assign({},n),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,n){return e==null?this.store.get():this.store.get(e,n)}setProp(e,n,s){if(typeof e=="string")this.store.set(e,n,s);else{const o=this.preprocess(e,!0);this.store.set(on({},this.getProp(),o),n),this.postprocess(e)}return this}removeProp(e,n){return typeof e=="string"||Array.isArray(e)?this.store.removeByPath(e,n):this.store.remove(n),this}hasChanged(e){return e==null?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,n,s={}){return this.model&&(e==="children"?this._children=n?n.map(o=>this.model.getCell(o)).filter(o=>o!=null):null:e==="parent"&&(this._parent=n?this.model.getCell(n):null)),this.store.setByPath(e,n,s),this}removePropByPath(e,n={}){const s=Array.isArray(e)?e:e.split("/");return s[0]==="attrs"&&(n.dirty=!0),this.store.removeByPath(s,n),this}prop(e,n,s){return e==null?this.getProp():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getPropByPath(e):n==null?this.removePropByPath(e,s||{}):this.setPropByPath(e,n,s||{}):this.setProp(e,n||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){e==null?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,n={}){return this.store.set("zIndex",e,n),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const n=this.model;if(n){let s=n.getMaxZIndex(),o;e.deep?(o=this.getDescendants({deep:!0,breadthFirst:!0}),o.unshift(this)):o=[this],s=s-o.length+1;const i=n.total();let l=n.indexOf(this)!==i-o.length;l||(l=o.some((a,c)=>a.getZIndex()!==s+c)),l&&this.batchUpdate("to-front",()=>{s+=o.length,o.forEach((a,c)=>{a.setZIndex(s+c,e)})})}return this}toBack(e={}){const n=this.model;if(n){let s=n.getMinZIndex(),o;e.deep?(o=this.getDescendants({deep:!0,breadthFirst:!0}),o.unshift(this)):o=[this];let i=n.indexOf(this)!==0;i||(i=o.some((l,a)=>l.getZIndex()!==s+a)),i&&this.batchUpdate("to-back",()=>{s-=o.length,o.forEach((l,a)=>{l.setZIndex(s+a,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){e==null?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return e==null&&(e=this.constructor.getMarkup()),e}setMarkup(e,n={}){return this.store.set("markup",e,n),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){e==null?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,n={}){if(e==null)this.removeAttrs(n);else{const s=o=>this.store.set("attrs",o,n);if(n.overwrite===!0)s(e);else{const o=this.getAttrs();n.deep===!1?s(Object.assign(Object.assign({},o),e)):s(on({},o,e))}}return this}replaceAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const s=this.constructor.getAttrHooks()||{};let o=s[e]||fo.registry.get(e);if(!o){const i=Up(e);o=s[i]||fo.registry.get(i)}return o||null}getAttrByPath(e){return e==null||e===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,n,s={}){return this.setPropByPath(this.prefixAttrPath(e),n,s),this}removeAttrByPath(e,n={}){return this.removePropByPath(this.prefixAttrPath(e),n),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,n,s){return e==null?this.getAttrByPath():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getAttrByPath(e):n==null?this.removeAttrByPath(e,s||{}):this.setAttrByPath(e,n,s||{}):this.setAttrs(e,n||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,n={}){return this.store.set("visible",e,n),this}isVisible(){return this.store.get("visible")!==!1}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,n={}){const s=typeof e=="boolean"?e:!this.isVisible(),o=typeof e=="boolean"?n:e;return s?this.show(o):this.hide(o),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,n={}){if(e==null)this.removeData(n);else{const s=o=>this.store.set("data",o,n);if(n.overwrite===!0)s(e);else{const o=this.getData();n.deep===!1?s(typeof e=="object"?Object.assign(Object.assign({},o),e):e):s(on({},o,e))}}return this}replaceData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const n=this.model.getCell(e);return this._parent=n,n}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const n=e.map(s=>{var o;return(o=this.model)===null||o===void 0?void 0:o.getCell(s)}).filter(s=>s!=null);return this._children=n,[...n]}return null}hasParent(){return this.parent!=null}isParentOf(e){return e!=null&&e.getParent()===this}isChildOf(e){return e!=null&&this.getParent()===e}eachChild(e,n){return this.children&&this.children.forEach(e,n),this}filterChild(e,n){return this.children?this.children.filter(e,n):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(e){return this.children==null?-1:this.children.indexOf(e)}getChildAt(e){return this.children!=null&&e>=0?this.children[e]:null}getAncestors(e={}){const n=[];let s=this.getParent();for(;s;)n.push(s),s=e.deep!==!1?s.getParent():null;return n}getDescendants(e={}){if(e.deep!==!1){if(e.breadthFirst){const n=[],s=this.getChildren()||[];for(;s.length>0;){const o=s.shift(),i=o.getChildren();n.push(o),i&&s.push(...i)}return n}{const n=this.getChildren()||[];return n.forEach(s=>{n.push(...s.getDescendants(e))}),n}}return this.getChildren()||[]}isDescendantOf(e,n={}){if(e==null)return!1;if(n.deep!==!1){let s=this.getParent();for(;s;){if(s===e)return!0;s=s.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,n={}){return e==null?!1:e.isDescendantOf(this,n)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return At.getCommonAncestor(this,...e)}setParent(e,n={}){return this._parent=e,e?this.store.set("parent",e.id,n):this.store.remove("parent",n),this}setChildren(e,n={}){return this._children=e,e!=null?this.store.set("children",e.map(s=>s.id),n):this.store.remove("children",n),this}unembed(e,n={}){const s=this.children;if(s!=null&&e!=null){const o=this.getChildIndex(e);o!==-1&&(s.splice(o,1),e.setParent(null,n),this.setChildren(s,n))}return this}embed(e,n={}){return e.addTo(this,n),this}addTo(e,n={}){return At.isCell(e)?e.addChild(this,n):e.addCell(this,n),this}insertTo(e,n,s={}){return e.insertChild(this,n,s),this}addChild(e,n={}){return this.insertChild(e,void 0,n)}insertChild(e,n,s={}){if(e!=null&&e!==this){const o=e.getParent(),i=this!==o;let l=n;if(l==null&&(l=this.getChildCount(),i||(l-=1)),o){const c=o.getChildren();if(c){const u=c.indexOf(e);u>=0&&(e.setParent(null,s),c.splice(u,1),o.setChildren(c,s))}}let a=this.children;if(a==null?(a=[],a.push(e)):a.splice(l,0,e),e.setParent(this,s),this.setChildren(a,s),i&&this.model){const c=this.model.getIncomingEdges(this),u=this.model.getOutgoingEdges(this);c&&c.forEach(d=>d.updateParent(s)),u&&u.forEach(d=>d.updateParent(s))}this.model&&this.model.addCell(e,s)}return this}removeFromParent(e={}){const n=this.getParent();if(n!=null){const s=n.getChildIndex(this);n.removeChildAt(s,e)}return this}removeChild(e,n={}){const s=this.getChildIndex(e);return this.removeChildAt(s,n)}removeChildAt(e,n={}){const s=this.getChildAt(e);return this.children!=null&&s!=null&&(this.unembed(s,n),s.remove(n)),s}remove(e={}){return this.batchUpdate("remove",()=>{const n=this.getParent();n&&n.removeChild(this,e),e.deep!==!1&&this.eachChild(s=>s.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,n,s={},o="/"){return this.animation.start(e,n,s,o)}stopTransition(e,n,s="/"){return this.animation.stop(e,n,s),this}getTransitions(){return this.animation.get()}translate(e,n,s){return this}scale(e,n,s,o){return this}addTools(e,n,s){const o=Array.isArray(e)?e:[e],i=typeof n=="string"?n:null,l=typeof n=="object"?n:typeof s=="object"?s:{};if(l.reset)return this.setTools({name:i,items:o,local:l.local},l);let a=rn(this.getTools());if(a==null||i==null||a.name===i)return a==null&&(a={}),a.items||(a.items=[]),a.name=i,a.items=[...a.items,...o],this.setTools(Object.assign({},a),l)}setTools(e,n={}){return e==null?this.removeTools():this.store.set("tools",At.normalizeTools(e),n),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const n=this.getTools();return n==null?!1:e==null?!0:n.name===e}hasTool(e){const n=this.getTools();return n==null?!1:n.items.some(s=>typeof s=="string"?s===e:s.name===e)}removeTool(e,n={}){const s=rn(this.getTools());if(s){let o=!1;const i=s.items.slice(),l=a=>{i.splice(a,1),o=!0};if(typeof e=="number")l(e);else for(let a=i.length-1;a>=0;a-=1){const c=i[a];(typeof c=="string"?c===e:c.name===e)&&l(a)}o&&(s.items=i,this.setTools(s,n))}return this}getBBox(e){return new Ne}getConnectionPoint(e,n){return new K}toJSON(e={}){const n=Object.assign({},this.store.get()),s=Object.prototype.toString,o=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!n.shape){const g=this.constructor;throw new Error(`Unable to serialize ${o} missing "shape" prop, check the ${o} "${g.name||s.call(g)}"`)}const i=this.constructor,l=e.diff===!0,a=n.attrs||{},c=i.getDefaults(!0),u=l?this.preprocess(c,!0):c,d=u.attrs||{},f={};Object.entries(n).forEach(([g,m])=>{if(m!=null&&!Array.isArray(m)&&typeof m=="object"&&!po(m))throw new Error(`Can only serialize ${o} with plain-object props, but got a "${s.call(m)}" type of key "${g}" on ${o} "${this.id}"`);if(g!=="attrs"&&g!=="shape"&&l){const v=u[g];Sr(m,v)&&delete n[g]}}),Object.keys(a).forEach(g=>{const m=a[g],v=d[g];Object.keys(m).forEach(b=>{const C=m[b],y=v?v[b]:null;C!=null&&typeof C=="object"&&!Array.isArray(C)?Object.keys(C).forEach(w=>{const x=C[w];if(v==null||y==null||!ln(y)||!Sr(y[w],x)){f[g]==null&&(f[g]={}),f[g][b]==null&&(f[g][b]={});const E=f[g][b];E[w]=x}}):(v==null||!Sr(y,C))&&(f[g]==null&&(f[g]={}),f[g][b]=C)})});const h=Object.assign(Object.assign({},n),{attrs:N_(f)?void 0:f});h.attrs==null&&delete h.attrs;const p=h;return p.angle===0&&delete p.angle,rn(p)}clone(e={}){if(!e.deep){const s=Object.assign({},this.store.get());e.keepId||delete s.id,delete s.parent,delete s.children;const o=this.constructor;return new o(s)}return At.deepClone(this)[this.id]}findView(e){return e.findViewByCell(this)}startBatch(e,n={},s=this.model){return this.notify("batch:start",{name:e,data:n,cell:this}),s&&s.startBatch(e,Object.assign(Object.assign({},n),{cell:this})),this}stopBatch(e,n={},s=this.model){return s&&s.stopBatch(e,Object.assign(Object.assign({},n),{cell:this})),this.notify("batch:stop",{name:e,data:n,cell:this}),this}batchUpdate(e,n,s){const o=this.model;this.startBatch(e,s,o);const i=n();return this.stopBatch(e,s,o),i}dispose(){this.removeFromParent(),this.store.dispose()}}At.defaults={};At.attrHooks={};At.propHooks=[];Eae([Fr.dispose()],At.prototype,"dispose",null);(function(r){function e(n){return typeof n=="string"?{items:[n]}:Array.isArray(n)?{items:n}:n.items?n:{items:[n]}}r.normalizeTools=e})(At||(At={}));(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag],o=n;return(s==null||s===r.toStringTag)&&typeof o.isNode=="function"&&typeof o.isEdge=="function"&&typeof o.prop=="function"&&typeof o.attr=="function"}r.isCell=e})(At||(At={}));(function(r){function e(...i){const l=i.filter(c=>c!=null).map(c=>c.getAncestors()).sort((c,u)=>c.length-u.length);return l.shift().find(c=>l.every(u=>u.includes(c)))||null}r.getCommonAncestor=e;function n(i,l={}){let a=null;for(let c=0,u=i.length;c<u;c+=1){const d=i[c];let f=d.getBBox(l);if(f){if(d.isNode()){const h=d.getAngle();h!=null&&h!==0&&(f=f.bbox(h))}a=a==null?f:a.union(f)}}return a}r.getCellsBBox=n;function s(i){const l=[i,...i.getDescendants({deep:!0})];return r.cloneCells(l)}r.deepClone=s;function o(i){const l=V_(i),a=l.reduce((c,u)=>(c[u.id]=u.clone(),c),{});return l.forEach(c=>{const u=a[c.id];if(u.isEdge()){const h=u.getSourceCellId(),p=u.getTargetCellId();h&&a[h]&&u.setSource(Object.assign(Object.assign({},u.getSource()),{cell:a[h].id})),p&&a[p]&&u.setTarget(Object.assign(Object.assign({},u.getTarget()),{cell:a[p].id}))}const d=c.getParent();d&&a[d.id]&&u.setParent(a[d.id]);const f=c.getChildren();if(f&&f.length){const h=f.reduce((p,g)=>(a[g.id]&&p.push(a[g.id]),p),[]);h.length>0&&u.setChildren(h)}}),a}r.cloneCells=o})(At||(At={}));(function(r){r.config({propHooks(e){var{tools:n}=e,s=WP(e,["tools"]);return n&&(s.tools=r.normalizeTools(n)),s}})})(At||(At={}));var zc;(function(r){let e,n;function s(l,a){return a?e!=null&&e.exist(l):n!=null&&n.exist(l)}r.exist=s;function o(l){e=l}r.setEdgeRegistry=o;function i(l){n=l}r.setNodeRegistry=i})(zc||(zc={}));class Tae{constructor(e){this.ports=[],this.groups={},this.init(rn(e))}getPorts(){return this.ports}getGroup(e){return e!=null?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(n=>n.group===e||n.group==null&&e==null)}getPortsLayoutByGroup(e,n){const s=this.getPortsByGroup(e),o=e?this.getGroup(e):null,i=o?o.position:null,l=i?i.name:null;let a;if(l!=null){const f=Xl.registry.get(l);if(f==null)return Xl.registry.onNotFound(l);a=f}else a=Xl.presets.left;const c=s.map(f=>f&&f.position&&f.position.args||{}),u=i&&i.args||{};return a(c,n,u).map((f,h)=>{const p=s[h];return{portLayout:f,portId:p.id,portSize:p.size,portAttrs:p.attrs,labelSize:p.label.size,labelLayout:this.getPortLabelLayout(p,K.create(f.position),n)}})}init(e){const{groups:n,items:s}=e;n!=null&&Object.keys(n).forEach(o=>{this.groups[o]=this.parseGroup(n[o])}),Array.isArray(s)&&s.forEach(o=>{this.ports.push(this.parsePort(o))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const n=Object.assign({},e),s=this.getGroup(e.group)||{};return n.markup=n.markup||s.markup,n.attrs=on({},s.attrs,n.attrs),n.position=this.createPosition(s,n),n.label=on({},s.label,this.getLabel(n)),n.zIndex=this.getZIndex(s,n),n.size=Object.assign(Object.assign({},s.size),n.size),n}getZIndex(e,n){return typeof n.zIndex=="number"?n.zIndex:typeof e.zIndex=="number"||e.zIndex==="auto"?e.zIndex:"auto"}createPosition(e,n){return on({name:"left",args:{}},e.position,{args:n.args})}getPortPosition(e,n=!1){if(e==null){if(n)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if(typeof e=="object")return e}return{args:{}}}getPortLabelPosition(e,n=!1){if(e==null){if(n)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(typeof e=="object")return e}return{args:{}}}getLabel(e,n=!1){const s=e.label||{};return s.position=this.getPortLabelPosition(s.position,n),s}getPortLabelLayout(e,n,s){const o=e.label.position.name||"left",i=e.label.position.args||{},l=Lc.registry.get(o)||Lc.presets.left;return l?l(n,s,i):null}}var _g=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};let mn=class qP extends At{get[Symbol.toStringTag](){return qP.toStringTag}constructor(e={}){super(e),this.initPorts()}preprocess(e,n){const{x:s,y:o,width:i,height:l}=e,a=_g(e,["x","y","width","height"]);if(s!=null||o!=null){const c=a.position;a.position=Object.assign(Object.assign({},c),{x:s??(c?c.x:0),y:o??(c?c.y:0)})}if(i!=null||l!=null){const c=a.size;a.size=Object.assign(Object.assign({},c),{width:i??(c?c.width:0),height:l??(c?c.height:0)})}return super.preprocess(a,n)}isNode(){return!0}size(e,n,s){return e===void 0?this.getSize():typeof e=="number"?this.setSize(e,n,s):this.setSize(e,n)}getSize(){const e=this.store.get("size");return e?Object.assign({},e):{width:1,height:1}}setSize(e,n,s){return typeof e=="object"?this.resize(e.width,e.height,n):this.resize(e,n,s),this}resize(e,n,s={}){this.startBatch("resize",s);const o=s.direction;if(o){const i=this.getSize();switch(o){case"left":case"right":n=i.height;break;case"top":case"bottom":e=i.width;break}let a={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[o];const c=Ht.normalize(this.getAngle()||0);s.absolute&&(a+=Math.floor((c+45)/90),a%=4);const u=this.getBBox();let d;a===0?d=u.getBottomLeft():a===1?d=u.getCorner():a===2?d=u.getTopRight():d=u.getOrigin();const f=d.clone().rotate(-c,u.getCenter()),h=Math.sqrt(e*e+n*n)/2;let p=a*Math.PI/2;p+=Math.atan(a%2===0?n/e:e/n),p-=Ht.toRad(c);const m=K.fromPolar(h,p,f).clone().translate(e/-2,n/-2);this.store.set("size",{width:e,height:n},s),this.setPosition(m.x,m.y,s)}else this.store.set("size",{width:e,height:n},s);return this.stopBatch("resize",s),this}scale(e,n,s,o={}){const i=this.getBBox().scale(e,n,s??void 0);return this.startBatch("scale",o),this.setPosition(i.x,i.y,o),this.resize(i.width,i.height,o),this.stopBatch("scale"),this}position(e,n,s){return typeof e=="number"?this.setPosition(e,n,s):this.getPosition(e)}getPosition(e={}){if(e.relative){const s=this.getParent();if(s!=null&&s.isNode()){const o=this.getPosition(),i=s.getPosition();return{x:o.x-i.x,y:o.y-i.y}}}const n=this.store.get("position");return n?Object.assign({},n):{x:0,y:0}}setPosition(e,n,s={}){let o,i,l;if(typeof e=="object"?(o=e.x,i=e.y,l=n||{}):(o=e,i=n,l=s||{}),l.relative){const a=this.getParent();if(a!=null&&a.isNode()){const c=a.getPosition();o+=c.x,i+=c.y}}if(l.deep){const a=this.getPosition();this.translate(o-a.x,i-a.y,l)}else this.store.set("position",{x:o,y:i},l);return this}translate(e=0,n=0,s={}){if(e===0&&n===0)return this;s.translateBy=s.translateBy||this.id;const o=this.getPosition();if(s.restrict!=null&&s.translateBy===this.id){const l=this.getBBox({deep:!0}),a=s.restrict,c=o.x-l.x,u=o.y-l.y,d=Math.max(a.x+c,Math.min(a.x+a.width+c-l.width,o.x+e)),f=Math.max(a.y+u,Math.min(a.y+a.height+u-l.height,o.y+n));e=d-o.x,n=f-o.y}const i={x:o.x+e,y:o.y+n};return s.tx=e,s.ty=n,s.transition?(typeof s.transition!="object"&&(s.transition={}),this.transition("position",i,Object.assign(Object.assign({},s.transition),{interp:Bl.object})),this.eachChild(l=>{var a;((a=s.exclude)===null||a===void 0?void 0:a.includes(l))||l.translate(e,n,s)})):(this.startBatch("translate",s),this.store.set("position",i,s),this.eachChild(l=>{var a;((a=s.exclude)===null||a===void 0?void 0:a.includes(l))||l.translate(e,n,s)}),this.stopBatch("translate",s)),this}angle(e,n){return e==null?this.getAngle():this.rotate(e,n)}getAngle(){return this.store.get("angle",0)}rotate(e,n={}){const s=this.getAngle();if(n.center){const o=this.getSize(),i=this.getPosition(),l=this.getBBox().getCenter();l.rotate(s-e,n.center);const a=l.x-o.width/2-i.x,c=l.y-o.height/2-i.y;this.startBatch("rotate",{angle:e,options:n}),this.setPosition(i.x+a,i.y+c,n),this.rotate(e,Object.assign(Object.assign({},n),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",n.absolute?e:(s+e)%360,n);return this}getBBox(e={}){if(e.deep){const n=this.getDescendants({deep:!0,breadthFirst:!0});return n.push(this),At.getCellsBBox(n)}return Ne.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(e,n){const s=this.getBBox(),o=s.getCenter(),i=e.getTerminal(n);if(i==null)return o;const l=i.port;if(!l||!this.hasPort(l))return o;const a=this.getPort(l);if(!a||!a.group)return o;const u=this.getPortsPosition(a.group)[l].position,d=K.create(u).translate(s.getOrigin()),f=this.getAngle();return f&&d.rotate(-f,o),d}fit(e={}){const s=(this.getChildren()||[]).filter(u=>u.isNode());if(s.length===0)return this;this.startBatch("fit-embeds",e),e.deep&&s.forEach(u=>u.fit(e));let{x:o,y:i,width:l,height:a}=At.getCellsBBox(s);const c=la(e.padding);return o-=c.left,i-=c.top,l+=c.left+c.right,a+=c.bottom+c.top,this.store.set({position:{x:o,y:i},size:{width:l,height:a}},e),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(e){this.setPortContainerMarkup(e)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Yt.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(e,n={}){return this.store.set("portContainerMarkup",Yt.clone(e),n),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(e){this.setPortMarkup(e)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Yt.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(e,n={}){return this.store.set("portMarkup",Yt.clone(e),n),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(e){this.setPortLabelMarkup(e)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Yt.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(e,n={}){return this.store.set("portLabelMarkup",Yt.clone(e),n),this}get ports(){const e=this.store.get("ports",{items:[]});return e.items==null&&(e.items=[]),e}getPorts(){return rn(this.ports.items)}getPortsByGroup(e){return this.getPorts().filter(n=>n.group===e)}getPort(e){return rn(this.ports.items.find(n=>n.id&&n.id===e))}getPortAt(e){return this.ports.items[e]||null}hasPorts(){return this.ports.items.length>0}hasPort(e){return this.getPortIndex(e)!==-1}getPortIndex(e){const n=typeof e=="string"?e:e.id;return n!=null?this.ports.items.findIndex(s=>s.id===n):-1}getPortsPosition(e){const n=this.getSize();return this.port.getPortsLayoutByGroup(e,new Ne(0,0,n.width,n.height)).reduce((o,i)=>{const l=i.portLayout;return o[i.portId]={position:Object.assign({},l.position),angle:l.angle||0},o},{})}getPortProp(e,n){return this.getPropByPath(this.prefixPortPath(e,n))}setPortProp(e,n,s,o){if(typeof n=="string"||Array.isArray(n)){const a=this.prefixPortPath(e,n),c=s;return this.setPropByPath(a,c,o)}const i=this.prefixPortPath(e),l=n;return this.setPropByPath(i,l,s)}removePortProp(e,n,s){return typeof n=="string"||Array.isArray(n)?this.removePropByPath(this.prefixPortPath(e,n),s):this.removePropByPath(this.prefixPortPath(e),n)}portProp(e,n,s,o){return n==null?this.getPortProp(e):typeof n=="string"||Array.isArray(n)?arguments.length===2?this.getPortProp(e,n):s==null?this.removePortProp(e,n,o):this.setPortProp(e,n,s,o):this.setPortProp(e,n,s)}prefixPortPath(e,n){const s=this.getPortIndex(e);if(s===-1)throw new Error(`Unable to find port with id: "${e}"`);return n==null||n===""?["ports","items",`${s}`]:Array.isArray(n)?["ports","items",`${s}`,...n]:`ports/items/${s}/${n}`}addPort(e,n){const s=[...this.ports.items];return s.push(e),this.setPropByPath("ports/items",s,n),this}addPorts(e,n){return this.setPropByPath("ports/items",[...this.ports.items,...e],n),this}insertPort(e,n,s){const o=[...this.ports.items];return o.splice(e,0,n),this.setPropByPath("ports/items",o,s),this}removePort(e,n={}){return this.removePortAt(this.getPortIndex(e),n)}removePortAt(e,n={}){if(e>=0){const s=[...this.ports.items];s.splice(e,1),n.rewrite=!0,this.setPropByPath("ports/items",s,n)}return this}removePorts(e,n){let s;if(Array.isArray(e)){if(s=n||{},e.length){s.rewrite=!0;const i=[...this.ports.items].filter(l=>!e.some(a=>{const c=typeof a=="string"?a:a.id;return l.id===c}));this.setPropByPath("ports/items",i,s)}}else s=e||{},s.rewrite=!0,this.setPropByPath("ports/items",[],s);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(e,n){return this.port.getPortsLayoutByGroup(e,n)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const e=this.ports,n={};e.items.forEach(l=>{l.id&&(n[l.id]=!0)});const s={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(l=>{l.id&&!n[l.id]&&(s[l.id]=!0)});const i=this.model;i&&!N_(s)&&(i.getConnectedEdges(this,{incoming:!0}).forEach(c=>{const u=c.getTargetPortId();u&&s[u]&&c.remove()}),i.getConnectedEdges(this,{outgoing:!0}).forEach(c=>{const u=c.getSourcePortId();u&&s[u]&&c.remove()}))}validatePorts(){const e={},n=[];return this.ports.items.forEach(s=>{typeof s!="object"&&n.push(`Invalid port ${s}.`),s.id==null&&(s.id=this.generatePortId()),e[s.id]&&n.push("Duplicitied port id."),e[s.id]=!0}),n}generatePortId(){return sp()}updatePortData(){const e=this.validatePorts();if(e.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(e.join(" "));const n=this.port?this.port.getPorts():null;this.port=new Tae(this.ports);const s=this.port.getPorts(),o=n?s.filter(l=>n.find(a=>a.id===l.id)?null:l):[...s],i=n?n.filter(l=>s.find(a=>a.id===l.id)?null:l):[];o.length>0&&this.notify("ports:added",{added:o,cell:this,node:this}),i.length>0&&this.notify("ports:removed",{removed:i,cell:this,node:this})}};mn.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}};(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag],o=n;return(s==null||s===r.toStringTag)&&typeof o.isNode=="function"&&typeof o.isEdge=="function"&&typeof o.prop=="function"&&typeof o.attr=="function"&&typeof o.size=="function"&&typeof o.position=="function"}r.isNode=e})(mn||(mn={}));(function(r){r.config({propHooks(e){var{ports:n}=e,s=_g(e,["ports"]);return n&&(s.ports=Array.isArray(n)?{items:n}:n),s}})})(mn||(mn={}));(function(r){r.registry=gn.create({type:"node",process(e,n){if(zc.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if(typeof n=="function")return n.config({shape:e}),n;let s=r;const{inherit:o}=n,i=_g(n,["inherit"]);if(o)if(typeof o=="string"){const a=this.get(o);a==null?this.onNotFound(o,"inherited"):s=a}else s=o;i.constructorName==null&&(i.constructorName=e);const l=s.define.call(s,i);return l.config({shape:e}),l}}),zc.setNodeRegistry(r.registry)})(mn||(mn={}));(function(r){let e=0;function n(i){return i?g0(i):(e+=1,`CustomNode${e}`)}function s(i){const{constructorName:l,overwrite:a}=i,c=_g(i,["constructorName","overwrite"]),u=h0(n(l||c.shape),this);return u.config(c),c.shape&&r.registry.register(c.shape,u,a),u}r.define=s;function o(i){const l=i.shape||"rect",a=r.registry.get(l);return a?new a(i):r.registry.onNotFound(l)}r.create=o})(mn||(mn={}));var Og=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};let an=class GP extends At{get[Symbol.toStringTag](){return GP.toStringTag}constructor(e={}){super(e)}preprocess(e,n){const{source:s,sourceCell:o,sourcePort:i,sourcePoint:l,target:a,targetCell:c,targetPort:u,targetPoint:d}=e,h=Og(e,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),p=g=>typeof g=="string"||typeof g=="number";if(s!=null)if(At.isCell(s))h.source={cell:s.id};else if(p(s))h.source={cell:s};else if(K.isPoint(s))h.source=s.toJSON();else if(Array.isArray(s))h.source={x:s[0],y:s[1]};else{const g=s.cell;At.isCell(g)?h.source=Object.assign(Object.assign({},s),{cell:g.id}):h.source=s}if(o!=null||i!=null){let g=h.source;if(o!=null){const m=p(o)?o:o.id;g?g.cell=m:g=h.source={cell:m}}i!=null&&g&&(g.port=i)}else l!=null&&(h.source=K.create(l).toJSON());if(a!=null)if(At.isCell(a))h.target={cell:a.id};else if(p(a))h.target={cell:a};else if(K.isPoint(a))h.target=a.toJSON();else if(Array.isArray(a))h.target={x:a[0],y:a[1]};else{const g=a.cell;At.isCell(g)?h.target=Object.assign(Object.assign({},a),{cell:g.id}):h.target=a}if(c!=null||u!=null){let g=h.target;if(c!=null){const m=p(c)?c:c.id;g?g.cell=m:g=h.target={cell:m}}u!=null&&g&&(g.port=u)}else d!=null&&(h.target=K.create(d).toJSON());return super.preprocess(h,n)}setup(){super.setup(),this.on("change:labels",e=>this.onLabelsChanged(e)),this.on("change:vertices",e=>this.onVertexsChanged(e))}isEdge(){return!0}disconnect(e={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},e),this}get source(){return this.getSource()}set source(e){this.setSource(e)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(e,n,s={}){return this.setTerminal("source",e,n,s)}get target(){return this.getTarget()}set target(e){this.setTarget(e)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(e,n,s={}){return this.setTerminal("target",e,n,s)}getTerminal(e){return Object.assign({},this.store.get(e))}setTerminal(e,n,s,o={}){if(At.isCell(n))return this.store.set(e,on({},s,{cell:n.id}),o),this;const i=n;return K.isPoint(n)||i.x!=null&&i.y!=null?(this.store.set(e,on({},s,{x:i.x,y:i.y}),o),this):(this.store.set(e,rn(n),o),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(e){const n=this[e];if(K.isPointLike(n))return K.create(n);const s=this.getTerminalCell(e);return s?s.getConnectionPoint(this,e):new K}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(e){if(this.model){const n=e==="source"?this.getSourceCellId():this.getTargetCellId();if(n)return this.model.getCell(n)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(e){let n=this;const s={};for(;n&&n.isEdge();){if(s[n.id])return null;s[n.id]=!0,n=n.getTerminalCell(e)}return n&&n.isNode()?n:null}get router(){return this.getRouter()}set router(e){e==null?this.removeRouter():this.setRouter(e)}getRouter(){return this.store.get("router")}setRouter(e,n,s){return typeof e=="object"?this.store.set("router",e,n):this.store.set("router",{name:e,args:n},s),this}removeRouter(e={}){return this.store.remove("router",e),this}get connector(){return this.getConnector()}set connector(e){e==null?this.removeConnector():this.setConnector(e)}getConnector(){return this.store.get("connector")}setConnector(e,n,s){return typeof e=="object"?this.store.set("connector",e,n):this.store.set("connector",{name:e,args:n},s),this}removeConnector(e={}){return this.store.remove("connector",e)}getDefaultLabel(){const e=this.constructor,n=this.store.get("defaultLabel")||e.defaultLabel||{};return rn(n)}get labels(){return this.getLabels()}set labels(e){this.setLabels(e)}getLabels(){return[...this.store.get("labels",[])].map(e=>this.parseLabel(e))}setLabels(e,n={}){return this.store.set("labels",Array.isArray(e)?e:[e],n),this}insertLabel(e,n,s={}){const o=this.getLabels(),i=o.length;let l=n!=null&&Number.isFinite(n)?n:i;return l<0&&(l=i+l+1),o.splice(l,0,this.parseLabel(e)),this.setLabels(o,s)}appendLabel(e,n={}){return this.insertLabel(e,-1,n)}getLabelAt(e){const n=this.getLabels();return e!=null&&Number.isFinite(e)?this.parseLabel(n[e]):null}setLabelAt(e,n,s={}){if(e!=null&&Number.isFinite(e)){const o=this.getLabels();o[e]=this.parseLabel(n),this.setLabels(o,s)}return this}removeLabelAt(e,n={}){const s=this.getLabels(),o=e!=null&&Number.isFinite(e)?e:-1,i=s.splice(o,1);return this.setLabels(s,n),i.length?i[0]:null}parseLabel(e){return typeof e=="string"?this.constructor.parseStringLabel(e):e}onLabelsChanged({previous:e,current:n}){const s=e&&n?n.filter(i=>e.find(l=>i===l||Sr(i,l))?null:i):n?[...n]:[],o=e&&n?e.filter(i=>n.find(l=>i===l||Sr(i,l))?null:i):e?[...e]:[];s.length>0&&this.notify("labels:added",{added:s,cell:this,edge:this}),o.length>0&&this.notify("labels:removed",{removed:o,cell:this,edge:this})}get vertices(){return this.getVertices()}set vertices(e){this.setVertices(e)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(e,n={}){const s=Array.isArray(e)?e:[e];return this.store.set("vertices",s.map(o=>K.toJSON(o)),n),this}insertVertex(e,n,s={}){const o=this.getVertices(),i=o.length;let l=n!=null&&Number.isFinite(n)?n:i;return l<0&&(l=i+l+1),o.splice(l,0,K.toJSON(e)),this.setVertices(o,s)}appendVertex(e,n={}){return this.insertVertex(e,-1,n)}getVertexAt(e){return e!=null&&Number.isFinite(e)?this.getVertices()[e]:null}setVertexAt(e,n,s={}){if(e!=null&&Number.isFinite(e)){const o=this.getVertices();o[e]=n,this.setVertices(o,s)}return this}removeVertexAt(e,n={}){const s=this.getVertices(),o=e!=null&&Number.isFinite(e)?e:-1;return s.splice(o,1),this.setVertices(s,n)}onVertexsChanged({previous:e,current:n}){const s=e&&n?n.filter(i=>e.find(l=>K.equals(i,l))?null:i):n?[...n]:[],o=e&&n?e.filter(i=>n.find(l=>K.equals(i,l))?null:i):e?[...e]:[];s.length>0&&this.notify("vertexs:added",{added:s,cell:this,edge:this}),o.length>0&&this.notify("vertexs:removed",{removed:o,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Yt.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}translate(e,n,s={}){return s.translateBy=s.translateBy||this.id,s.tx=e,s.ty=n,this.applyToPoints(o=>({x:(o.x||0)+e,y:(o.y||0)+n}),s)}scale(e,n,s,o={}){return this.applyToPoints(i=>K.create(i).scale(e,n,s).toJSON(),o)}applyToPoints(e,n={}){const s={},o=this.getSource(),i=this.getTarget();K.isPointLike(o)&&(s.source=e(o)),K.isPointLike(i)&&(s.target=e(i));const l=this.getVertices();return l.length>0&&(s.vertices=l.map(e)),this.store.set(s,n),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const e=[this.getSourcePoint(),...this.getVertices().map(n=>K.create(n)),this.getTargetPoint()];return new dn(e)}updateParent(e){let n=null;const s=this.getSourceCell(),o=this.getTargetCell(),i=this.getParent();return s&&o&&(s===o||s.isDescendantOf(o)?n=o:o.isDescendantOf(s)?n=s:n=At.getCommonAncestor(s,o)),i&&n&&n.id!==i.id&&i.unembed(this,e),n&&(!i||i.id!==n.id)&&n.embed(this,e),n}hasLoop(e={}){const n=this.getSource(),s=this.getTarget(),o=n.cell,i=s.cell;if(!o||!i)return!1;let l=o===i;if(!l&&e.deep&&this._model){const a=this.getSourceCell(),c=this.getTargetCell();a&&c&&(l=a.isAncestorOf(c,e)||c.isAncestorOf(a,e))}return l}getFragmentAncestor(){const e=[this,this.getSourceNode(),this.getTargetNode()].filter(n=>n!=null);return this.getCommonAncestor(...e)}isFragmentDescendantOf(e){const n=this.getFragmentAncestor();return!!n&&(n.id===e.id||n.isDescendantOf(e))}};an.defaults={};(function(r){function e(n,s){const o=n,i=s;return o.cell===i.cell?o.port===i.port||o.port==null&&i.port==null:!1}r.equalTerminals=e})(an||(an={}));(function(r){r.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function e(n){return{attrs:{label:{text:n}}}}r.parseStringLabel=e})(an||(an={}));(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag],o=n;return(s==null||s===r.toStringTag)&&typeof o.isNode=="function"&&typeof o.isEdge=="function"&&typeof o.prop=="function"&&typeof o.attr=="function"&&typeof o.disconnect=="function"&&typeof o.getSource=="function"&&typeof o.getTarget=="function"}r.isEdge=e})(an||(an={}));(function(r){r.registry=gn.create({type:"edge",process(e,n){if(zc.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if(typeof n=="function")return n.config({shape:e}),n;let s=r;const{inherit:o="edge"}=n,i=Og(n,["inherit"]);if(typeof o=="string"){const a=this.get(o||"edge");a==null&&o?this.onNotFound(o,"inherited"):s=a}else s=o;i.constructorName==null&&(i.constructorName=e);const l=s.define.call(s,i);return l.config({shape:e}),l}}),zc.setEdgeRegistry(r.registry)})(an||(an={}));(function(r){let e=0;function n(i){return i?g0(i):(e+=1,`CustomEdge${e}`)}function s(i){const{constructorName:l,overwrite:a}=i,c=Og(i,["constructorName","overwrite"]),u=h0(n(l||c.shape),this);return u.config(c),c.shape&&r.registry.register(c.shape,u,a),u}r.define=s;function o(i){const l=i.shape||"edge",a=r.registry.get(l);return a?new a(i):r.registry.onNotFound(l)}r.create=o})(an||(an={}));(function(r){const e="basic.edge";r.config({shape:e,propHooks(n){const{label:s,vertices:o}=n,i=Og(n,["label","vertices"]);if(s){i.labels==null&&(i.labels=[]);const l=typeof s=="string"?r.parseStringLabel(s):s;i.labels.push(l)}return o&&Array.isArray(o)&&(i.vertices=o.map(l=>K.create(l).toJSON())),i}}),r.registry.register(e,r)})(an||(an={}));var _ae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class wv extends Fr{constructor(e,n={}){super(),this.length=0,this.comparator=n.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,n,s){let o,i;typeof n=="number"?(o=n,i=Object.assign({merge:!1},s)):(o=this.length,i=Object.assign({merge:!1},n)),o>this.length&&(o=this.length),o<0&&(o+=this.length+1);const l=Array.isArray(e)?e:[e],a=this.comparator&&typeof n!="number"&&i.sort!==!1,c=this.comparator||null;let u=!1;const d=[],f=[];return l.forEach(h=>{const p=this.get(h);p?i.merge&&!h.isSameStore(p)&&(p.setProp(h.getProp(),s),f.push(p),a&&!u&&(c==null||typeof c=="function"?u=p.hasChanged():typeof c=="string"?u=p.hasChanged(c):u=c.some(g=>p.hasChanged(g)))):(d.push(h),this.reference(h))}),d.length&&(a&&(u=!0),this.cells.splice(o,0,...d),this.length=this.cells.length),u&&this.sort({silent:!0}),i.silent||(d.forEach((h,p)=>{const g={cell:h,index:o+p,options:i};this.trigger("added",g),i.dryrun||h.notify("added",Object.assign({},g))}),u&&this.trigger("sorted"),(d.length||f.length)&&this.trigger("updated",{added:d,merged:f,removed:[],options:i})),this}remove(e,n={}){const s=Array.isArray(e)?e:[e],o=this.removeCells(s,n);return!n.silent&&o.length>0&&this.trigger("updated",{options:n,removed:o,added:[],merged:[]}),Array.isArray(e)?o:o[0]}removeCells(e,n){const s=[];for(let o=0;o<e.length;o+=1){const i=this.get(e[o]);if(i==null)continue;const l=this.cells.indexOf(i);this.cells.splice(l,1),this.length-=1,delete this.map[i.id],s.push(i),this.unreference(i),n.dryrun||i.remove(),n.silent||(this.trigger("removed",{cell:i,index:l,options:n}),n.dryrun||i.notify("removed",{cell:i,index:l,options:n}))}return s}reset(e,n={}){const s=this.cells.slice();if(s.forEach(o=>this.unreference(o)),this.clean(),this.add(e,Object.assign({silent:!0},n)),!n.silent){const o=this.cells.slice();this.trigger("reseted",{options:n,previous:s,current:o});const i=[],l=[];o.forEach(a=>{s.some(u=>u.id===a.id)||i.push(a)}),s.forEach(a=>{o.some(u=>u.id===a.id)||l.push(a)}),this.trigger("updated",{options:n,added:i,removed:l,merged:[]})}return this}push(e,n){return this.add(e,this.length,n)}pop(e){const n=this.at(this.length-1);return this.remove(n,e)}unshift(e,n){return this.add(e,0,n)}shift(e){const n=this.at(0);return this.remove(n,e)}get(e){if(e==null)return null;const n=typeof e=="string"||typeof e=="number"?e:e.id;return this.map[n]||null}has(e){return this.get(e)!=null}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return this.comparator!=null&&(this.cells=O5(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){const e=this.constructor;return new e(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,n){const s=n.cell;this.trigger(`cell:${e}`,n),s&&(s.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},n),{node:s})):s.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},n),{edge:s})))}clean(){this.length=0,this.cells=[],this.map={}}dispose(){this.reset([])}}_ae([wv.dispose()],wv.prototype,"dispose",null);var Oae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class Is extends Fr{get[Symbol.toStringTag](){return Is.toStringTag}constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new wv(e),this.setup()}notify(e,n){this.trigger(e,n);const s=this.graph;return s&&(e==="sorted"||e==="reseted"||e==="updated"?s.trigger(`model:${e}`,n):s.trigger(e,n)),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",n=>this.notify("updated",n)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:n})=>{this.onCellAdded(n)}),e.on("removed",n=>{const s=n.cell;this.onCellRemoved(s,n.options),this.notify("cell:removed",n),s.isNode()?this.notify("node:removed",Object.assign(Object.assign({},n),{node:s})):s.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},n),{edge:s}))}),e.on("reseted",n=>{this.onReset(n.current),this.notify("reseted",n)}),e.on("edge:change:source",({edge:n})=>this.onEdgeTerminalChanged(n,"source")),e.on("edge:change:target",({edge:n})=>{this.onEdgeTerminalChanged(n,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const n=e.id;e.isEdge()?(e.updateParent(),this.edges[n]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[n]=!0}onCellRemoved(e,n){const s=e.id;if(e.isEdge()){delete this.edges[s];const o=e.getSource(),i=e.getTarget();if(o&&o.cell){const l=this.outgoings[o.cell],a=l?l.indexOf(s):-1;a>=0&&(l.splice(a,1),l.length===0&&delete this.outgoings[o.cell])}if(i&&i.cell){const l=this.incomings[i.cell],a=l?l.indexOf(s):-1;a>=0&&(l.splice(a,1),l.length===0&&delete this.incomings[i.cell])}}else delete this.nodes[s];n.clear||(n.disconnectEdges?this.disconnectConnectedEdges(e,n):this.removeConnectedEdges(e,n)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(n=>this.onCellAdded(n))}onEdgeTerminalChanged(e,n){const s=n==="source"?this.outgoings:this.incomings,o=e.previous(n);if(o&&o.cell){const l=At.isCell(o.cell)?o.cell.id:o.cell,a=s[l],c=a?a.indexOf(e.id):-1;c>=0&&(a.splice(c,1),a.length===0&&delete s[l])}const i=e.getTerminal(n);if(i&&i.cell){const l=At.isCell(i.cell)?i.cell.id:i.cell,a=s[l]||[];a.indexOf(e.id)===-1&&a.push(e.id),s[l]=a}}prepareCell(e,n){return!e.model&&(!n||!n.dryrun)&&(e.model=this),e.zIndex==null&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,n={}){return e.map(s=>this.prepareCell(s,Object.assign(Object.assign({},n),{dryrun:!0}))),this.collection.reset(e,n),e.map(s=>this.prepareCell(s,{options:n})),this}clear(e={}){const n=this.getCells();if(n.length===0)return this;const s=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const o=n.sort((i,l)=>{const a=i.isEdge()?1:2,c=l.isEdge()?1:2;return a-c});for(;o.length>0;){const i=o.shift();i&&i.remove(s)}},s),this}addNode(e,n={}){const s=mn.isNode(e)?e:this.createNode(e);return this.addCell(s,n),s}updateNode(e,n={}){const s=this.createNode(e),o=s.getProp();return s.dispose(),this.updateCell(o,n)}createNode(e){return mn.create(e)}addEdge(e,n={}){const s=an.isEdge(e)?e:this.createEdge(e);return this.addCell(s,n),s}createEdge(e){return an.create(e)}updateEdge(e,n={}){const s=this.createEdge(e),o=s.getProp();return s.dispose(),this.updateCell(o,n)}addCell(e,n={}){return Array.isArray(e)?this.addCells(e,n):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,n),n),e.eachChild(s=>this.addCell(s,n)),this.addings.delete(e)),this)}addCells(e,n={}){const s=e.length;if(s===0)return this;const o=Object.assign(Object.assign({},n),{position:s-1,maxPosition:s-1});return this.startBatch("add",Object.assign(Object.assign({},o),{cells:e})),e.forEach(i=>{this.addCell(i,o),o.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},o),{cells:e})),this}updateCell(e,n={}){const s=e.id&&this.getCell(e.id);return s?this.batchUpdate("update",()=>(Object.entries(e).forEach(([o,i])=>s.setProp(o,i,n)),!0),e):!1}removeCell(e,n={}){const s=typeof e=="string"?this.getCell(e):e;return s&&this.has(s)?this.collection.remove(s,n):null}updateCellId(e,n){if(e.id===n)return;this.startBatch("update",{id:n}),e.prop("id",n);const s=e.clone({keepId:!0});return this.addCell(s),this.getConnectedEdges(e).forEach(i=>{const l=i.getSourceCell(),a=i.getTargetCell();l===e&&i.setSource(Object.assign(Object.assign({},i.getSource()),{cell:n})),a===e&&i.setTarget(Object.assign(Object.assign({},i.getTarget()),{cell:n}))}),this.removeCell(e),this.stopBatch("update",{id:n}),s}removeCells(e,n={}){return e.length?this.batchUpdate("remove",()=>e.map(s=>this.removeCell(s,n))):[]}removeConnectedEdges(e,n={}){const s=this.getConnectedEdges(e);return s.forEach(o=>{o.remove(n)}),s}disconnectConnectedEdges(e,n={}){const s=typeof e=="string"?e:e.id;this.getConnectedEdges(e).forEach(o=>{const i=o.getSourceCellId(),l=o.getTargetCellId();i===s&&o.setSource({x:0,y:0},n),l===s&&o.setTarget({x:0,y:0},n)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(n=>this.getCell(n)).filter(n=>n!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const n=typeof e=="string"?e:e.id,s=this.outgoings[n];return s?s.map(o=>this.getCell(o)).filter(o=>o&&o.isEdge()):null}getIncomingEdges(e){const n=typeof e=="string"?e:e.id,s=this.incomings[n];return s?s.map(o=>this.getCell(o)).filter(o=>o&&o.isEdge()):null}getConnectedEdges(e,n={}){const s=[],o=typeof e=="string"?this.getCell(e):e;if(o==null)return s;const i={},l=n.indirect;let a=n.incoming,c=n.outgoing;a==null&&c==null&&(a=c=!0);const u=(d,f)=>{const h=f?this.getOutgoingEdges(d):this.getIncomingEdges(d);if(h!=null&&h.forEach(p=>{i[p.id]||(s.push(p),i[p.id]=!0,l&&(a&&u(p,!1),c&&u(p,!0)))}),l&&d.isEdge()){const p=f?d.getTargetCell():d.getSourceCell();p&&p.isEdge()&&(i[p.id]||(s.push(p),u(p,f)))}};if(c&&u(o,!0),a&&u(o,!1),n.deep){const d=o.getDescendants({deep:!0}),f={};d.forEach(p=>{p.isNode()&&(f[p.id]=!0)});const h=(p,g)=>{const m=g?this.getOutgoingEdges(p.id):this.getIncomingEdges(p.id);m!=null&&m.forEach(v=>{if(!i[v.id]){const b=v.getSourceCell(),C=v.getTargetCell();if(!n.enclosed&&b&&f[b.id]&&C&&f[C.id])return;s.push(v),i[v.id]=!0}})};d.forEach(p=>{p.isEdge()||(c&&h(p,!0),a&&h(p,!1))})}return s}isBoundary(e,n){const s=typeof e=="string"?this.getCell(e):e,o=n?this.getIncomingEdges(s):this.getOutgoingEdges(s);return o==null||o.length===0}getBoundaryNodes(e){const n=[];return Object.keys(this.nodes).forEach(s=>{if(this.isBoundary(s,e)){const o=this.getCell(s);o&&n.push(o)}}),n}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,n={}){let s=n.incoming,o=n.outgoing;s==null&&o==null&&(s=o=!0);const l=this.getConnectedEdges(e,n).reduce((a,c)=>{const u=c.hasLoop(n),d=c.getSourceCell(),f=c.getTargetCell();return s&&d&&d.isNode()&&!a[d.id]&&(u||d!==e&&(!n.deep||!d.isDescendantOf(e)))&&(a[d.id]=d),o&&f&&f.isNode()&&!a[f.id]&&(u||f!==e&&(!n.deep||!f.isDescendantOf(e)))&&(a[f.id]=f),a},{});if(e.isEdge()){if(s){const a=e.getSourceCell();a&&a.isNode()&&!l[a.id]&&(l[a.id]=a)}if(o){const a=e.getTargetCell();a&&a.isNode()&&!l[a.id]&&(l[a.id]=a)}}return Object.keys(l).map(a=>l[a])}isNeighbor(e,n,s={}){let o=s.incoming,i=s.outgoing;return o==null&&i==null&&(o=i=!0),this.getConnectedEdges(e,s).some(l=>{const a=l.getSourceCell(),c=l.getTargetCell();return!!(o&&a&&a.id===n.id||i&&c&&c.id===n.id)})}getSuccessors(e,n={}){const s=[];return this.search(e,(o,i)=>{o!==e&&this.matchDistance(i,n.distance)&&s.push(o)},Object.assign(Object.assign({},n),{outgoing:!0})),s}isSuccessor(e,n,s={}){let o=!1;return this.search(e,(i,l)=>{if(i===n&&i!==e&&this.matchDistance(l,s.distance))return o=!0,!1},Object.assign(Object.assign({},s),{outgoing:!0})),o}getPredecessors(e,n={}){const s=[];return this.search(e,(o,i)=>{o!==e&&this.matchDistance(i,n.distance)&&s.push(o)},Object.assign(Object.assign({},n),{incoming:!0})),s}isPredecessor(e,n,s={}){let o=!1;return this.search(e,(i,l)=>{if(i===n&&i!==e&&this.matchDistance(l,s.distance))return o=!0,!1},Object.assign(Object.assign({},s),{incoming:!0})),o}matchDistance(e,n){return n==null?!0:typeof n=="function"?n(e):Array.isArray(n)&&n.includes(e)?!0:e===n}getCommonAncestor(...e){const n=[];return e.forEach(s=>{s&&(Array.isArray(s)?n.push(...s):n.push(s))}),At.getCommonAncestor(...n)}getSubGraph(e,n={}){const s=[],o={},i=[],l=[],a=c=>{o[c.id]||(s.push(c),o[c.id]=c,c.isEdge()&&l.push(c),c.isNode()&&i.push(c))};return e.forEach(c=>{a(c),n.deep&&c.getDescendants({deep:!0}).forEach(d=>a(d))}),l.forEach(c=>{const u=c.getSourceCell(),d=c.getTargetCell();u&&!o[u.id]&&(s.push(u),o[u.id]=u,u.isNode()&&i.push(u)),d&&!o[d.id]&&(s.push(d),o[d.id]=d,d.isNode()&&i.push(d))}),i.forEach(c=>{this.getConnectedEdges(c,n).forEach(d=>{const f=d.getSourceCell(),h=d.getTargetCell();!o[d.id]&&f&&o[f.id]&&h&&o[h.id]&&(s.push(d),o[d.id]=d)})}),s}cloneSubGraph(e,n={}){const s=this.getSubGraph(e,n);return this.cloneCells(s)}cloneCells(e){return At.cloneCells(e)}getNodesFromPoint(e,n){const s=typeof e=="number"?{x:e,y:n||0}:e;return this.getNodes().filter(o=>o.getBBox().containsPoint(s))}getNodesInArea(e,n,s,o,i){const l=typeof e=="number"?new Ne(e,n,s,o):Ne.create(e),a=typeof e=="number"?i:n,c=a&&a.strict;return this.getNodes().filter(u=>{const d=u.getBBox();return c?l.containsRect(d):l.isIntersectWithRect(d)})}getEdgesInArea(e,n,s,o,i){const l=typeof e=="number"?new Ne(e,n,s,o):Ne.create(e),a=typeof e=="number"?i:n,c=a&&a.strict;return this.getEdges().filter(u=>{const d=u.getBBox();return d.width===0?d.inflate(1,0):d.height===0&&d.inflate(0,1),c?l.containsRect(d):l.isIntersectWithRect(d)})}getNodesUnderNode(e,n={}){const s=e.getBBox();return(n.by==null||n.by==="bbox"?this.getNodesInArea(s):this.getNodesFromPoint(s[n.by])).filter(i=>e.id!==i.id&&!i.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,n={}){return At.getCellsBBox(e,n)}search(e,n,s={}){s.breadthFirst?this.breadthFirstSearch(e,n,s):this.depthFirstSearch(e,n,s)}breadthFirstSearch(e,n,s={}){const o=[],i={},l={};for(o.push(e),l[e.id]=0;o.length>0;){const a=o.shift();if(a==null||i[a.id]||(i[a.id]=!0,ht(n,this,a,l[a.id])===!1))continue;this.getNeighbors(a,s).forEach(u=>{l[u.id]=l[a.id]+1,o.push(u)})}}depthFirstSearch(e,n,s={}){const o=[],i={},l={};for(o.push(e),l[e.id]=0;o.length>0;){const a=o.pop();if(a==null||i[a.id]||(i[a.id]=!0,ht(n,this,a,l[a.id])===!1))continue;const c=this.getNeighbors(a,s),u=o.length;c.forEach(d=>{l[d.id]=l[a.id]+1,o.splice(u,0,d)})}}getShortestPath(e,n,s={}){const o={};this.getEdges().forEach(u=>{const d=u.getSourceCellId(),f=u.getTargetCellId();d&&f&&(o[d]||(o[d]=[]),o[f]||(o[f]=[]),o[d].push(f),s.directed||o[f].push(d))});const i=typeof e=="string"?e:e.id,l=gv.run(o,i,s.weight),a=[];let c=typeof n=="string"?n:n.id;for(l[c]&&a.push(c);c=l[c];)a.unshift(c);return a}translate(e,n,s){return this.getCells().filter(o=>!o.hasParent()).forEach(o=>o.translate(e,n,s)),this}resize(e,n,s){return this.resizeCells(e,n,this.getCells(),s)}resizeCells(e,n,s,o={}){const i=this.getCellsBBox(s);if(i){const l=Math.max(e/i.width,0),a=Math.max(n/i.height,0),c=i.getOrigin();s.forEach(u=>u.scale(l,a,c,o))}return this}toJSON(e={}){return Is.toJSON(this.getCells(),e)}parseJSON(e){return Is.fromJSON(e)}fromJSON(e,n={}){const s=this.parseJSON(e);return this.resetCells(s,n),this}startBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:n}),this}stopBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:n}),this}batchUpdate(e,n,s={}){this.startBatch(e,s);const o=n();return this.stopBatch(e,s),o}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(s=>this.batches[s]>0)}dispose(){this.collection.dispose()}}Oae([Is.dispose()],Is.prototype,"dispose",null);(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag],o=n;return(s==null||s===r.toStringTag)&&typeof o.addNode=="function"&&typeof o.addEdge=="function"&&o.collection!=null}r.isModel=e})(Is||(Is={}));(function(r){function e(s,o={}){return{cells:s.map(i=>i.toJSON(o))}}r.toJSON=e;function n(s){const o=[];return Array.isArray(s)?o.push(...s):(s.cells&&o.push(...s.cells),s.nodes&&s.nodes.forEach(i=>{i.shape==null&&(i.shape="rect"),o.push(i)}),s.edges&&s.edges.forEach(i=>{i.shape==null&&(i.shape="edge"),o.push(i)})),o.map(i=>{const l=i.shape;if(l){if(mn.registry.exist(l))return mn.create(i);if(an.registry.exist(l))return an.create(i)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}r.fromJSON=n})(Is||(Is={}));var Aae=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};let Xi=class extends mn{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,n){return e==null?this.removeLabel():this.setAttrByPath("text/text",e,n),this}removeLabel(){return this.removeAttrByPath("text/text"),this}};(function(r){r.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},r.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},r.config({attrs:{text:Object.assign({},r.labelAttr)},propHooks(e){const{label:n}=e,s=Aae(e,["label"]);return n&&nu(s,"attrs/text/text",n),s},visible:!0})})(Xi||(Xi={}));var Mae=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};function kae(r,e="body"){return[{tagName:r,selector:e},{tagName:"text",selector:"label"}]}function Pae(r="xlink:href"){return n=>{const{imageUrl:s,imageWidth:o,imageHeight:i}=n,l=Mae(n,["imageUrl","imageWidth","imageHeight"]);if(s!=null||o!=null||i!=null){const a=()=>{if(l.attrs){const c=l.attrs.image;s!=null&&(c[r]=s),o!=null&&(c.width=o),i!=null&&(c.height=i),l.attrs.image=c}};l.attrs?(l.attrs.image==null&&(l.attrs.image={}),a()):(l.attrs={image:{}},a())}return l}}function ou(r,e,n={}){const s={constructorName:r,markup:kae(r,n.selector),attrs:{[r]:Object.assign({},Xi.bodyAttr)}};return(n.parent||Xi).define(on(s,e,{shape:r}))}ou("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});const Nae=an.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});ou("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var Iae=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class jc extends Xi{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,n){return e==null?this.removePoints():this.setAttrByPath("body/refPoints",jc.pointsToString(e),n),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(r){function e(n){return typeof n=="string"?n:n.map(s=>Array.isArray(s)?s.join(","):K.isPointLike(s)?`${s.x}, ${s.y}`:"").join(" ")}r.pointsToString=e,r.config({propHooks(n){const{points:s}=n,o=Iae(n,["points"]);if(s){const i=e(s);i&&nu(o,"attrs/body/refPoints",i)}return o}})})(jc||(jc={}));ou("polygon",{},{parent:jc});ou("polyline",{},{parent:jc});var Lae=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};Xi.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(r){const{path:e}=r,n=Lae(r,["path"]);return e&&nu(n,"attrs/body/refD",e),n}});var Rae=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};Xi.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},qi.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:In.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Xi.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(r){const{text:e}=r,n=Rae(r,["text"]);return e&&nu(n,"attrs/label/text",e),n},attrHooks:{text:{set(r,{cell:e,view:n,refBBox:s,elem:o,attrs:i}){if(o instanceof HTMLElement)o.textContent=r;else{const l=i.style||{},a={text:r,width:-5,height:"100%"},c=Object.assign({textVerticalAnchor:"middle"},l),u=fo.presets.textWrap;return ht(u.set,this,a,{cell:e,view:n,elem:o,refBBox:s,attrs:c}),{fill:l.color||null}}},position(r,{refBBox:e,elem:n}){if(n instanceof SVGElement)return e.getCenter()}}}});ou("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:Pae()},{selector:"image"});ou("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});class Br extends fn{constructor(){super(...arguments),this.portsCache={}}get[Symbol.toStringTag](){return Br.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const n=e.target;if(n.hasAttribute("magnet")){const s=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?es(n,s):Nt(n,s)}else{const s=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(s):this.addClass(s)}}isNodeView(){return!0}confirmUpdate(e,n={}){let s=e;return this.hasAction(s,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(s,"render")?(this.render(),s=this.removeAction(s,["render","update","resize","translate","rotate","ports","tools"])):(s=this.handleAction(s,"resize",()=>this.resize(),"update"),s=this.handleAction(s,"update",()=>this.update(),"ports"),s=this.handleAction(s,"translate",()=>this.translate()),s=this.handleAction(s,"rotate",()=>this.rotate()),s=this.handleAction(s,"ports",()=>this.renderPorts()),s=this.handleAction(s,"tools",()=>{this.getFlag("tools")===e?this.renderTools():this.updateTools(n)})),s}update(e){this.cleanCache(),this.removePorts();const n=this.cell,s=n.getSize(),o=n.getAttrs();this.updateAttrs(this.container,o,{attrs:e===o?null:e,rootBBox:new Ne(0,0,s.width,s.height),selectors:this.selectors}),this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e){if(typeof e=="string")throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.appendChild(n.fragment)}render(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),this.renderTools(),this}resize(){this.cell.getAngle()&&this.rotate(),this.update()}translate(){this.updateTransform()}rotate(){this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const n=this.cell.getSize();return`rotate(${e},${n.width/2},${n.height/2})`}}updateTransform(){let e=this.getTranslationString();const n=this.getRotationString();n&&(e+=` ${n}`),this.container.setAttribute("transform",e)}findPortElem(e,n){const s=e?this.portsCache[e]:null;if(!s)return null;const o=s.portContentElement,i=s.portContentSelectors||{};return this.findOne(n,o,i)}cleanPortsCache(){this.portsCache={}}removePorts(){Object.values(this.portsCache).forEach(e=>{Ac(e.portElement)})}renderPorts(){const e=this.container,n=[];e.childNodes.forEach(l=>{n.push(l)});const s=this.cell.getParsedPorts(),o=gC(s,"zIndex"),i="auto";o[i]&&o[i].forEach(l=>{const a=this.getPortElement(l);e.append(a),n.push(a)}),Object.keys(o).forEach(l=>{if(l!==i){const a=parseInt(l,10);this.appendPorts(o[l],a,n)}}),this.updatePorts()}appendPorts(e,n,s){const o=e.map(i=>this.getPortElement(i));s[n]||n<0?S0(s[Math.max(n,0)],o):hf(this.container,o)}getPortElement(e){const n=this.portsCache[e.id];return n?n.portElement:this.createPortElement(e)}createPortElement(e){let n=Yt.renderMarkup(this.cell.getPortContainerMarkup());const s=n.elem;if(s==null)throw new Error("Invalid port container markup.");n=Yt.renderMarkup(this.getPortMarkup(e));const o=n.elem,i=n.selectors;if(o==null)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},o);let l="x6-port";e.group&&(l+=` x6-port-${e.group}`),Nt(s,l),Nt(s,"x6-port"),Nt(o,"x6-port-body"),s.appendChild(o);let a=i,c,u;if(this.existPortLabel(e)){if(n=Yt.renderMarkup(this.getPortLabelMarkup(e.label)),c=n.elem,u=n.selectors,c==null)throw new Error("Invalid port label markup.");if(i&&u){for(const f in u)if(i[f]&&f!==this.rootSelector)throw new Error("Selectors within port must be unique.");a=Object.assign(Object.assign({},i),u)}Nt(c,"x6-port-label"),s.appendChild(c)}return this.portsCache[e.id]={portElement:s,portSelectors:a,portLabelElement:c,portLabelSelectors:u,portContentElement:o,portContentSelectors:i},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:e,node:this.cell,container:s,selectors:a,labelContainer:c,labelSelectors:u,contentContainer:o,contentSelectors:i}),s}updatePorts(){const e=this.cell.getParsedGroups(),n=Object.keys(e);n.length===0?this.updatePortGroup():n.forEach(s=>this.updatePortGroup(s))}updatePortGroup(e){const n=Ne.fromSize(this.cell.getSize()),s=this.cell.getPortsLayoutByGroup(e,n);for(let o=0,i=s.length;o<i;o+=1){const l=s[o],a=l.portId,c=this.portsCache[a]||{},u=l.portLayout;if(this.applyPortTransform(c.portElement,u),l.portAttrs!=null){const f={selectors:c.portSelectors||{}};l.portSize&&(f.rootBBox=Ne.fromSize(l.portSize)),this.updateAttrs(c.portElement,l.portAttrs,f)}const d=l.labelLayout;if(d&&c.portLabelElement&&(this.applyPortTransform(c.portLabelElement,d,-(u.angle||0)),d.attrs)){const f={selectors:c.portLabelSelectors||{}};l.labelSize&&(f.rootBBox=Ne.fromSize(l.labelSize)),this.updateAttrs(c.portLabelElement,d.attrs,f)}}}applyPortTransform(e,n,s=0){const o=n.angle,i=n.position,l=Bn().rotate(s).translate(i.x||0,i.y||0).rotate(o||0);Mc(e,l,{absolute:!0})}getPortMarkup(e){return e.markup||this.cell.portMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup}existPortLabel(e){return e.attrs&&e.attrs.text}getEventArgs(e,n,s){const o=this,i=o.cell,l=i;return n==null||s==null?{e,view:o,node:i,cell:l}:{e,x:n,y:s,view:o,node:i,cell:l}}getPortEventArgs(e,n,s){const o=this,i=o.cell,l=i;return s?{e,x:s.x,y:s.y,view:o,node:i,cell:l,port:n}:{e,view:o,node:i,cell:l,port:n}}notifyMouseDown(e,n,s){super.onMouseDown(e,n,s),this.notify("node:mousedown",this.getEventArgs(e,n,s))}notifyMouseMove(e,n,s){super.onMouseMove(e,n,s),this.notify("node:mousemove",this.getEventArgs(e,n,s))}notifyMouseUp(e,n,s){super.onMouseUp(e,n,s),this.notify("node:mouseup",this.getEventArgs(e,n,s))}notifyPortEvent(e,n,s){const o=this.findAttr("port",n.target);if(o){const i=n.type;e==="node:port:mouseenter"?n.type="mouseenter":e==="node:port:mouseleave"&&(n.type="mouseleave"),this.notify(e,this.getPortEventArgs(n,o,s)),n.type=i}}onClick(e,n,s){super.onClick(e,n,s),this.notify("node:click",this.getEventArgs(e,n,s)),this.notifyPortEvent("node:port:click",e,{x:n,y:s})}onDblClick(e,n,s){super.onDblClick(e,n,s),this.notify("node:dblclick",this.getEventArgs(e,n,s)),this.notifyPortEvent("node:port:dblclick",e,{x:n,y:s})}onContextMenu(e,n,s){super.onContextMenu(e,n,s),this.notify("node:contextmenu",this.getEventArgs(e,n,s)),this.notifyPortEvent("node:port:contextmenu",e,{x:n,y:s})}onMouseDown(e,n,s){this.isPropagationStopped(e)||(this.notifyMouseDown(e,n,s),this.notifyPortEvent("node:port:mousedown",e,{x:n,y:s}),this.startNodeDragging(e,n,s))}onMouseMove(e,n,s){const o=this.getEventData(e),i=o.action;if(i==="magnet")this.dragMagnet(e,n,s);else{if(i==="move"){const a=o.targetView||this;a.dragNode(e,n,s),a.notify("node:moving",{e,x:n,y:s,view:a,cell:a.cell,node:a.cell})}this.notifyMouseMove(e,n,s),this.notifyPortEvent("node:port:mousemove",e,{x:n,y:s})}this.setEventData(e,o)}onMouseUp(e,n,s){const o=this.getEventData(e),i=o.action;i==="magnet"?this.stopMagnetDragging(e,n,s):(this.notifyMouseUp(e,n,s),this.notifyPortEvent("node:port:mouseup",e,{x:n,y:s}),i==="move"&&(o.targetView||this).stopNodeDragging(e,n,s));const l=o.targetMagnet;l&&this.onMagnetClick(e,l,n,s),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseenter",e),this.notifyPortEvent("node:port:mouseover",e)}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseleave",e),this.notifyPortEvent("node:port:mouseout",e)}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,s,o){super.onMouseWheel(e,n,s,o),this.notify("node:mousewheel",Object.assign({delta:o},this.getEventArgs(e,n,s)))}onMagnetClick(e,n,s,o){const i=this.graph;i.view.getMouseMovedCount(e)>i.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:n},this.getEventArgs(e,s,o)))}onMagnetDblClick(e,n,s,o){this.notify("node:magnet:dblclick",Object.assign({magnet:n},this.getEventArgs(e,s,o)))}onMagnetContextMenu(e,n,s,o){this.notify("node:magnet:contextmenu",Object.assign({magnet:n},this.getEventArgs(e,s,o)))}onMagnetMouseDown(e,n,s,o){this.startMagnetDragging(e,s,o)}onCustomEvent(e,n,s,o){this.notify("node:customevent",Object.assign({name:n},this.getEventArgs(e,s,o))),super.onCustomEvent(e,n,s,o)}prepareEmbedding(e){const n=this.graph,o=this.getEventData(e).cell||this.cell,i=n.findViewByCell(o),l=n.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:o,view:i,cell:o,x:l.x,y:l.y,currentParent:o.getParent()})}processEmbedding(e,n){const s=n.cell||this.cell,o=n.graph||this.graph,i=o.options.embedding,l=i.findParent;let a=typeof l=="function"?ht(l,o,{view:this,node:this.cell}).filter(h=>At.isCell(h)&&this.cell.id!==h.id&&!h.isDescendantOf(this.cell)):o.model.getNodesUnderNode(s,{by:l});if(i.frontOnly&&a.length>0){const h=gC(a,"zIndex"),p=y5(Object.keys(h).map(g=>parseInt(g,10)));p&&(a=h[p])}a=a.filter(h=>h.visible);let c=null;const u=n.candidateEmbedView,d=i.validate;for(let h=a.length-1;h>=0;h-=1){const p=a[h];if(u&&u.cell.id===p.id){c=u;break}else{const g=p.findView(o);if(d&&ht(d,o,{child:this.cell,parent:g.cell,childView:this,parentView:g})){c=g;break}}}this.clearEmbedding(n),c&&c.highlight(null,{type:"embedding"}),n.candidateEmbedView=c;const f=o.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:s,node:s,view:o.findViewByCell(s),x:f.x,y:f.y,currentParent:s.getParent(),candidateParent:c?c.cell:null})}clearEmbedding(e){const n=e.candidateEmbedView;n&&(n.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,n){this.graph.startBatch("embedding");const s=n.cell||this.cell,o=n.graph||this.graph,i=o.findViewByCell(s),l=s.getParent(),a=n.candidateEmbedView;if(a?(a.unhighlight(null,{type:"embedding"}),n.candidateEmbedView=null,(l==null||l.id!==a.cell.id)&&a.cell.insertChild(s,void 0,{ui:!0})):l&&l.unembed(s,{ui:!0}),o.model.getConnectedEdges(s,{deep:!0}).forEach(c=>{c.updateParent({ui:!0})}),i&&a){const c=o.snapToGrid(e.clientX,e.clientY);i.notify("node:embedded",{e,cell:s,x:c.x,y:c.y,node:s,view:o.findViewByCell(s),previousParent:l,currentParent:s.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let e=this.cell,n=this;for(;n&&!e.isEdge();){if(!e.hasParent()||n.can("stopDelegateOnDragging"))return n;e=e.getParent(),n=this.graph.findViewByCell(e)}return null}validateMagnet(e,n,s){if(n.getAttribute("magnet")!=="passive"){const o=this.graph.options.connecting.validateMagnet;return o?ht(o,this.graph,{e:s,magnet:n,view:e,cell:e.cell}):!0}return!1}startMagnetDragging(e,n,s){if(!this.can("magnetConnectable"))return;e.stopPropagation();const o=e.currentTarget,i=this.graph;this.setEventData(e,{targetMagnet:o}),this.validateMagnet(this,o,e)?(i.options.magnetThreshold<=0&&this.startConnectting(e,o,n,s),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):this.onMouseDown(e,n,s),i.view.delegateDragEvents(e,this)}startConnectting(e,n,s,o){this.graph.model.startBatch("add-edge");const i=this.createEdgeFromMagnet(n,s,o);i.setEventData(e,i.prepareArrowheadDragging("target",{x:s,y:o,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:i}),i.notifyMouseDown(e,s,o)}getDefaultEdge(e,n){let s;const o=this.graph.options.connecting.createEdge;return o&&(s=ht(o,this.graph,{sourceMagnet:n,sourceView:e,sourceCell:e.cell})),s}createEdgeFromMagnet(e,n,s){const o=this.graph,i=o.model,l=this.getDefaultEdge(this,e);return l.setSource(Object.assign(Object.assign({},l.getSource()),this.getEdgeTerminal(e,n,s,l,"source"))),l.setTarget(Object.assign(Object.assign({},l.getTarget()),{x:n,y:s})),l.addTo(i,{async:!1,ui:!0}),l.findView(o)}dragMagnet(e,n,s){const o=this.getEventData(e),i=o.edgeView;if(i)i.onMouseMove(e,n,s),this.autoScrollGraph(e.clientX,e.clientY);else{const l=this.graph,a=l.options.magnetThreshold,c=this.getEventTarget(e),u=o.targetMagnet;if(a==="onleave"){if(u===c||u.contains(c))return}else if(l.view.getMouseMovedCount(e)<=a)return;this.startConnectting(e,u,n,s)}}stopMagnetDragging(e,n,s){const i=this.eventData(e).edgeView;i&&(i.onMouseUp(e,n,s),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,n,s){this.notify("node:unhandled:mousedown",{e,x:n,y:s,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,n,s,o,i){let l=[i];const a=this.graph.getPlugin("selection");if(a&&a.isSelectionMovable()){const c=a.getSelectedCells();c.includes(i)&&(l=c.filter(u=>u.isNode()))}l.forEach(c=>{this.notify(e,{e:n,x:s,y:o,cell:c,node:c,view:c.findView(this.graph)})})}getRestrictArea(e){const n=this.graph.options.translating.restrict,s=typeof n=="function"?ht(n,this.graph,e):n;return typeof s=="number"?this.graph.transform.getGraphArea().inflate(s):s===!0?this.graph.transform.getGraphArea():s||null}startNodeDragging(e,n,s){const o=this.getDelegatedView();if(o==null||!o.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,n,s);this.setEventData(e,{targetView:o,action:"move"});const i=K.create(o.cell.getPosition());o.setEventData(e,{moving:!1,offset:i.diff(n,s),restrict:this.getRestrictArea(o)})}dragNode(e,n,s){const o=this.cell,i=this.graph,l=i.getGridSize(),a=this.getEventData(e),c=a.offset,u=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,n,s,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const d=zt.snapToGrid(n+c.x,l),f=zt.snapToGrid(s+c.y,l);o.setPosition(d,f,{restrict:u,deep:!0,ui:!0}),i.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(e),a.embedding=!0),this.processEmbedding(e,a))}stopNodeDragging(e,n,s){const o=this.getEventData(e);o.embedding&&this.finalizeEmbedding(e,o),o.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,n,s,this.cell)),o.moving=!1,o.embedding=!1}autoScrollGraph(e,n){const s=this.graph.getPlugin("scroller");s&&s.autoScroll(e,n)}}(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag],o=n;return(s==null||s===r.toStringTag)&&typeof o.isNodeView=="function"&&typeof o.isEdgeView=="function"&&typeof o.confirmUpdate=="function"&&typeof o.update=="function"&&typeof o.findPortElem=="function"&&typeof o.resize=="function"&&typeof o.rotate=="function"&&typeof o.translate=="function"}r.isNodeView=e})(Br||(Br={}));Br.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}});Br.registry.register("node",Br,!0);var $ae=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class Ho extends fn{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.labelDestroyFn={}}get[Symbol.toStringTag](){return Ho.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const s=this.cell.getSource();return new Ne(s.x,s.y)}const n=this.sourceMagnet;return e.isEdgeElement(n)?new Ne(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(n||e.container)}get targetBBox(){const e=this.targetView;if(!e){const s=this.cell.getTarget();return new Ne(s.x,s.y)}const n=this.targetMagnet;return e.isEdgeElement(n)?new Ne(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(n||e.container)}isEdgeView(){return!0}confirmUpdate(e,n={}){let s=e;if(this.hasAction(s,"source")){if(!this.updateTerminalProperties("source"))return s;s=this.removeAction(s,"source")}if(this.hasAction(s,"target")){if(!this.updateTerminalProperties("target"))return s;s=this.removeAction(s,"target")}return this.hasAction(s,"render")?(this.render(),s=this.removeAction(s,["render","update","labels","tools"]),s):(s=this.handleAction(s,"update",()=>this.update(n)),s=this.handleAction(s,"labels",()=>this.onLabelsChange(n)),s=this.handleAction(s,"tools",()=>this.renderTools()),s)}render(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}renderMarkup(){const e=this.cell.markup;if(e){if(typeof e=="string")throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.append(n.fragment)}customizeLabels(){if(this.labelContainer){const e=this.cell,n=e.labels;for(let s=0,o=n.length;s<o;s+=1){const i=n[s],l=this.labelCache[s],a=this.labelSelectors[s],c=this.graph.options.onEdgeLabelRendered;if(c){const u=c({edge:e,label:i,container:l,selectors:a});u&&(this.labelDestroyFn[s]=u)}}}}destroyCustomizeLabels(){const e=this.cell.labels;if(this.labelCache&&this.labelSelectors&&this.labelDestroyFn)for(let n=0,s=e.length;n<s;n+=1){const o=this.labelDestroyFn[n],i=this.labelCache[n],l=this.labelSelectors[n];o&&i&&l&&o({edge:this.cell,label:e[n],container:i,selectors:l})}this.labelDestroyFn={}}renderLabels(){const e=this.cell,n=e.getLabels(),s=n.length;let o=this.labelContainer;if(this.labelCache={},this.labelSelectors={},s<=0)return o&&o.parentNode&&o.parentNode.removeChild(o),this;o?this.empty(o):(o=Us("g"),this.addClass(this.prefixClassName("edge-labels"),o),this.labelContainer=o);for(let i=0,l=n.length;i<l;i+=1){const a=n[i],c=this.normalizeLabelMarkup(this.parseLabelMarkup(a.markup));let u,d;if(c)u=c.node,d=c.selectors;else{const h=e.getDefaultLabel(),p=this.normalizeLabelMarkup(this.parseLabelMarkup(h.markup));u=p.node,d=p.selectors}u.setAttribute("data-index",`${i}`),o.appendChild(u);const f=this.rootSelector;if(d[f])throw new Error("Ambiguous label root selector.");d[f]=u,this.labelCache[i]=u,this.labelSelectors[i]=d}return o.parentNode==null&&this.container.appendChild(o),this.updateLabels(),this.customizeLabels(),this}onLabelsChange(e={}){this.destroyCustomizeLabels(),this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const n=this.cell.previous("labels");if(n==null)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const s=e.propertyPathArray||[],o=s.length;if(o>1){const i=s[1];if(n[i]){if(o===2)return typeof e.propertyValue=="object"&&Af(e.propertyValue,"markup");if(s[2]!=="markup")return!1}}}return!0}parseLabelMarkup(e){return e?typeof e=="string"?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const n=ut.createVectors(e),s=document.createDocumentFragment();for(let o=0,i=n.length;o<i;o+=1){const l=n[o].node;s.appendChild(l)}return{fragment:s,selectors:{}}}normalizeLabelMarkup(e){if(e==null)return;const n=e.fragment;if(!(n instanceof DocumentFragment)||!n.hasChildNodes())throw new Error("Invalid label markup.");let s;const o=n.childNodes;return o.length>1||o[0].nodeName.toUpperCase()!=="G"?s=ut.create("g").append(n):s=ut.create(o[0]),s.addClass(this.prefixClassName("edge-label")),{node:s.node,selectors:e.selectors}}updateLabels(){if(this.labelContainer){const e=this.cell,n=e.labels,s=this.can("edgeLabelMovable"),o=e.getDefaultLabel();for(let i=0,l=n.length;i<l;i+=1){const a=this.labelCache[i],c=this.labelSelectors[i];a.setAttribute("cursor",s?"move":"default");const u=n[i],d=on({},o.attrs,u.attrs);this.updateAttrs(a,d,{selectors:c,rootBBox:u.size?Ne.fromSize(u.size):void 0})}}}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}update(e={}){this.cleanCache(),this.updateConnection(e);const n=this.cell.getAttrs(),s=$ae(n,["text"]);return s!=null&&this.updateAttrs(this.container,s,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(e),this}removeRedundantLinearVertices(e={}){const n=this.cell,s=n.getVertices(),o=[this.sourceAnchor,...s,this.targetAnchor],i=o.length,l=new dn(o);l.simplify({threshold:.01});const a=l.points.map(u=>u.toJSON()),c=a.length;return i===c?0:(n.setVertices(a.slice(1,c-1),e),i-c)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return K.create(this.sourceAnchor);case"target":return K.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return K.create(this.sourcePoint);case"target":return K.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,n={}){switch(e){case"source":{if(n.raw)return this.sourceMagnet;const s=this.sourceView;return s?this.sourceMagnet||s.container:null}case"target":{if(n.raw)return this.targetMagnet;const s=this.targetView;return s?this.targetMagnet||s.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const n=this.cell;if(e.translateBy&&n.isFragmentDescendantOf(e.translateBy)){const s=e.tx||0,o=e.ty||0;this.routePoints=new dn(this.routePoints).translate(s,o).points,this.translateConnectionPoints(s,o),this.path.translate(s,o)}else{const s=n.getVertices(),o=this.findAnchors(s);this.sourceAnchor=o.source,this.targetAnchor=o.target,this.routePoints=this.findRoutePoints(s);const i=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=i.source,this.targetPoint=i.target;const l=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,l.source||this.sourcePoint,l.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const n=this.cell,s=n.source,o=n.target,i=e[0],l=e[e.length-1];return o.priority&&!s.priority?this.findAnchorsOrdered("target",l,"source",i):this.findAnchorsOrdered("source",i,"target",l)}findAnchorsOrdered(e,n,s,o){let i,l;const a=this.cell,c=a[e],u=a[s],d=this.getTerminalView(e),f=this.getTerminalView(s),h=this.getTerminalMagnet(e),p=this.getTerminalMagnet(s);if(d){let g;n?g=K.create(n):f?g=p:g=K.create(u),i=this.getAnchor(c.anchor,d,h,g,e)}else i=K.create(c);if(f){const g=K.create(o||i);l=this.getAnchor(u.anchor,f,p,g,s)}else l=K.isPointLike(u)?K.create(u):new K;return{[e]:i,[s]:l}}getAnchor(e,n,s,o,i){const l=n.isEdgeElement(s),a=this.graph.options.connecting;let c=typeof e=="string"?{name:e}:e;if(!c){const f=l?(i==="source"?a.sourceEdgeAnchor:a.targetEdgeAnchor)||a.edgeAnchor:(i==="source"?a.sourceAnchor:a.targetAnchor)||a.anchor;c=typeof f=="string"?{name:f}:f}if(!c)throw new Error("Anchor should be specified.");let u;const d=c.name;if(l){const f=Fc.registry.get(d);if(typeof f!="function")return Fc.registry.onNotFound(d);u=ht(f,this,n,s,o,c.args||{},i)}else{const f=Vc.registry.get(d);if(typeof f!="function")return Vc.registry.onNotFound(d);u=ht(f,this,n,s,o,c.args||{},i)}return u?u.round(this.POINT_ROUNDING):new K}findRoutePoints(e=[]){const n=this.graph.options.connecting.router||Li.presets.normal,s=this.cell.getRouter()||n;let o;if(typeof s=="function")o=ht(s,this,e,{},this);else{const i=typeof s=="string"?s:s.name,l=typeof s=="string"?{}:s.args||{},a=i?Li.registry.get(i):Li.presets.normal;if(typeof a!="function")return Li.registry.onNotFound(i);o=ht(a,this,e,l,this)}return o==null?e.map(i=>K.create(i)):o.map(i=>K.create(i))}findConnectionPoints(e,n,s){const o=this.cell,i=this.graph.options.connecting,l=o.getSource(),a=o.getTarget(),c=this.sourceView,u=this.targetView,d=e[0],f=e[e.length-1];let h;if(c&&!c.isEdgeElement(this.sourceMagnet)){const g=this.sourceMagnet||c.container,m=d||s,v=new We(m,n),b=l.connectionPoint||i.sourceConnectionPoint||i.connectionPoint;h=this.getConnectionPoint(b,c,g,v,"source")}else h=n;let p;if(u&&!u.isEdgeElement(this.targetMagnet)){const g=this.targetMagnet||u.container,m=a.connectionPoint||i.targetConnectionPoint||i.connectionPoint,v=f||n,b=new We(v,s);p=this.getConnectionPoint(m,u,g,b,"target")}else p=s;return{source:h,target:p}}getConnectionPoint(e,n,s,o,i){const l=o.end;if(e==null)return l;const a=typeof e=="string"?e:e.name,c=typeof e=="string"?{}:e.args,u=Bc.registry.get(a);if(typeof u!="function")return Bc.registry.onNotFound(a);const d=ht(u,this,o,n,s,c||{},i);return d?d.round(this.POINT_ROUNDING):l}findMarkerPoints(e,n,s){const o=f=>{const h=this.cell.getAttrs(),p=Object.keys(h);for(let g=0,m=p.length;g<m;g+=1){const v=h[p[g]];if(v[`${f}Marker`]||v[`${f}-marker`]){const b=v.strokeWidth||v["stroke-width"];if(b)return parseFloat(b);break}}return null},i=e[0],l=e[e.length-1];let a,c;const u=o("source");u&&(a=n.clone().move(i||s,-u));const d=o("target");return d&&(c=s.clone().move(l||n,-d)),this.sourceMarkerPoint=a||n.clone(),this.targetMarkerPoint=c||s.clone(),{source:a,target:c}}findPath(e,n,s){const o=this.cell.getConnector()||this.graph.options.connecting.connector;let i,l,a;if(typeof o=="string"?i=o:(i=o.name,l=o.args),i){const u=Zl.registry.get(i);if(typeof u!="function")return Zl.registry.onNotFound(i);a=u}else a=Zl.presets.normal;const c=ht(a,this,n,s,e,Object.assign(Object.assign({},l),{raw:!0}),this);return typeof c=="string"?Ze.parse(c):c}translateConnectionPoints(e,n){this.sourcePoint.translate(e,n),this.targetPoint.translate(e,n),this.sourceAnchor.translate(e,n),this.targetAnchor.translate(e,n),this.sourceMarkerPoint.translate(e,n),this.targetMarkerPoint.translate(e,n)}updateLabelPositions(){if(this.labelContainer==null)return this;if(!this.path)return this;const n=this.cell,s=n.getLabels();if(s.length===0)return this;const o=n.getDefaultLabel(),i=this.normalizeLabelPosition(o.position);for(let l=0,a=s.length;l<a;l+=1){const c=s[l],u=this.labelCache[l];if(!u)continue;const d=this.normalizeLabelPosition(c.position),f=on({},i,d),h=this.getLabelTransformationMatrix(f);u.setAttribute("transform",ru(h))}return this}updateTerminalProperties(e){const n=this.cell,s=this.graph,o=n[e],i=o&&o.cell,l=`${e}View`;if(!i)return this[l]=null,this.updateTerminalMagnet(e),!0;const a=s.getCellById(i);if(!a)throw new Error(`Edge's ${e} node with id "${i}" not exists`);const c=a.findView(s);return c?(this[l]=c,this.updateTerminalMagnet(e),!0):!1}updateTerminalMagnet(e){const n=`${e}Magnet`,s=this.getTerminalView(e);if(s){let o=s.getMagnetFromEdgeTerminal(this.cell[e]);o===s.container&&(o=null),this[n]=o}else this[n]=null}getLabelPositionAngle(e){const n=this.cell.getLabelAt(e);return n&&n.position&&typeof n.position=="object"&&n.position.angle||0}getLabelPositionArgs(e){const n=this.cell.getLabelAt(e);if(n&&n.position&&typeof n.position=="object")return n.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&typeof e.position=="object")return e.position.options}mergeLabelPositionArgs(e,n){return e===null?null:e===void 0?n===null?null:n:on({},n,e)}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const e=this.cache.pathCache;return Af(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const e=this.cache.pathCache;return Af(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const e=this.cache.pathCache;return Af(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return this.path==null?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return this.path==null?null:(jo(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return this.path==null?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return this.path==null?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return this.path==null?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return this.path==null?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return this.path==null?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,n,s,o){const i={distance:0};let l=0,a;typeof s=="number"?(l=s,a=o):a=s,a!=null&&(i.options=a);const c=a&&a.absoluteOffset,u=!(a&&a.absoluteDistance),d=a&&a.absoluteDistance&&a.reverseDistance,f=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},p=new K(e,n),g=f.closestPointT(p,h),m=this.getConnectionLength()||0;let v=f.lengthAtT(g,h);u&&(v=m>0?v/m:0),d&&(v=-1*(m-v)||1),i.distance=v;let b;c||(b=f.tangentAtT(g));let C;if(b)C=b.pointOffset(p);else{const y=f.pointAtT(g),w=p.diff(y);C={x:w.x,y:w.y}}return i.offset=C,i.angle=l,i}normalizeLabelPosition(e){return typeof e=="number"?{distance:e}:e}getLabelTransformationMatrix(e){const n=this.normalizeLabelPosition(e),s=n.options||{},o=n.angle||0,i=n.distance,l=i>0&&i<=1;let a=0;const c={x:0,y:0},u=n.offset;u&&(typeof u=="number"?a=u:(u.x!=null&&(c.x=u.x),u.y!=null&&(c.y=u.y)));const d=c.x!==0||c.y!==0||a===0,f=s.keepGradient,h=s.ensureLegibility,p=this.path,g={segmentSubdivisions:this.getConnectionSubdivisions()},m=l?i*this.getConnectionLength():i,v=p.tangentAtLength(m,g);let b,C=o;if(v){if(d)b=v.start,b.translate(c);else{const y=v.clone();y.rotate(-90,v.start),y.setLength(a),b=y.end}f&&(C=v.angle()+o,h&&(C=Ht.normalize((C+90)%180-90)))}else b=p.start,d&&b.translate(c);return Bn().translate(b.x,b.y).rotate(C)}getVertexIndex(e,n){const o=this.cell.getVertices(),i=this.getClosestPointLength(new K(e,n));let l=0;if(i!=null)for(const a=o.length;l<a;l+=1){const c=o[l],u=this.getClosestPointLength(c);if(u!=null&&i<u)break}return l}getEventArgs(e,n,s){const o=this,i=o.cell,l=i;return n==null||s==null?{e,view:o,edge:i,cell:l}:{e,x:n,y:s,view:o,edge:i,cell:l}}notifyUnhandledMouseDown(e,n,s){this.notify("edge:unhandled:mousedown",{e,x:n,y:s,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,n,s){super.onMouseDown(e,n,s),this.notify("edge:mousedown",this.getEventArgs(e,n,s))}notifyMouseMove(e,n,s){super.onMouseMove(e,n,s),this.notify("edge:mousemove",this.getEventArgs(e,n,s))}notifyMouseUp(e,n,s){super.onMouseUp(e,n,s),this.notify("edge:mouseup",this.getEventArgs(e,n,s))}onClick(e,n,s){super.onClick(e,n,s),this.notify("edge:click",this.getEventArgs(e,n,s))}onDblClick(e,n,s){super.onDblClick(e,n,s),this.notify("edge:dblclick",this.getEventArgs(e,n,s))}onContextMenu(e,n,s){super.onContextMenu(e,n,s),this.notify("edge:contextmenu",this.getEventArgs(e,n,s))}onMouseDown(e,n,s){this.notifyMouseDown(e,n,s),this.startEdgeDragging(e,n,s)}onMouseMove(e,n,s){const o=this.getEventData(e);switch(o.action){case"drag-label":{this.dragLabel(e,n,s);break}case"drag-arrowhead":{this.dragArrowhead(e,n,s);break}case"drag-edge":{this.dragEdge(e,n,s);break}}return this.notifyMouseMove(e,n,s),o}onMouseUp(e,n,s){const o=this.getEventData(e);switch(o.action){case"drag-label":{this.stopLabelDragging(e,n,s);break}case"drag-arrowhead":{this.stopArrowheadDragging(e,n,s);break}case"drag-edge":{this.stopEdgeDragging(e,n,s);break}}return this.notifyMouseUp(e,n,s),this.checkMouseleave(e),o}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,s,o){super.onMouseWheel(e,n,s,o),this.notify("edge:mousewheel",Object.assign({delta:o},this.getEventArgs(e,n,s)))}onCustomEvent(e,n,s,o){if(Vk(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if(n==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,s,o)))}this.notifyMouseDown(e,s,o)}else this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,s,o))),super.onCustomEvent(e,n,s,o)}onLabelMouseDown(e,n,s){this.notifyMouseDown(e,n,s),this.startLabelDragging(e,n,s),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,n,s){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(e,n,s);return}this.setEventData(e,{x:n,y:s,moving:!1,action:"drag-edge"})}dragEdge(e,n,s){const o=this.getEventData(e);o.moving||(o.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:n,y:s,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(n-o.x,s-o.y,{ui:!0}),this.setEventData(e,{x:n,y:s}),this.notify("edge:moving",{e,x:n,y:s,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,n,s){const o=this.getEventData(e);o.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:n,y:s,view:this,cell:this.cell,edge:this.cell})),o.moving=!1}prepareArrowheadDragging(e,n){const s=this.getTerminalMagnet(e),o={action:"drag-arrowhead",x:n.x,y:n.y,isNewEdge:n.isNewEdge===!0,terminalType:e,initialMagnet:s,initialTerminal:dd(this.cell[e]),fallbackAction:n.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:n.options};return this.beforeArrowheadDragging(o),o}createValidateConnectionArgs(e){const n=[];n[4]=e,n[5]=this;let s,o=0,i=0;e==="source"?(o=2,s="target"):(i=2,s="source");const l=this.cell[s],a=l.cell;if(a){let c;const u=n[o]=this.graph.findViewByCell(a);u&&(c=u.getMagnetFromEdgeTerminal(l),c===u.container&&(c=void 0)),n[o+1]=c}return(c,u)=>(n[i]=c,n[i+1]=c.container===u?void 0:u,n)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const n=this.container.style;e.pointerEvents=n.pointerEvents,n.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){e.zIndex!=null&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null);const n=this.container;n.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}validateConnection(e,n,s,o,i,l,a){const c=this.graph.options.connecting,u=c.allowLoop,d=c.allowNode,f=c.allowEdge,h=c.allowPort,p=c.allowMulti,g=c.validateConnection,m=l?l.cell:null,v=i==="target"?s:e,b=i==="target"?o:n;let C=!0;const y=w=>{const x=i==="source"?a?a.port:null:m?m.getSourcePortId():null,E=i==="target"?a?a.port:null:m?m.getTargetPortId():null;return ht(w,this.graph,{edge:m,edgeView:l,sourceView:e,targetView:s,sourcePort:x,targetPort:E,sourceMagnet:n,targetMagnet:o,sourceCell:e?e.cell:null,targetCell:s?s.cell:null,type:i})};if(u!=null&&(typeof u=="boolean"?!u&&e===s&&(C=!1):C=y(u)),C&&h!=null&&(typeof h=="boolean"?!h&&b&&(C=!1):C=y(h)),C&&f!=null&&(typeof f=="boolean"?!f&&Ho.isEdgeView(v)&&(C=!1):C=y(f)),C&&d!=null&&b==null&&(typeof d=="boolean"?!d&&Br.isNodeView(v)&&(C=!1):C=y(d)),C&&p!=null&&l){const w=l.cell,x=i==="source"?a:w.getSource(),E=i==="target"?a:w.getTarget(),_=a?this.graph.getCellById(a.cell):null;if(x&&E&&x.cell&&E.cell&&_)if(typeof p=="function")C=y(p);else{const M=this.graph.model.getConnectedEdges(_,{outgoing:i==="source",incoming:i==="target"});M.length&&(p==="withPort"?M.some(k=>{const P=k.getSource(),$=k.getTarget();return P&&$&&P.cell===x.cell&&$.cell===E.cell&&P.port!=null&&P.port===x.port&&$.port!=null&&$.port===E.port})&&(C=!1):p||M.some(k=>{const P=k.getSource(),$=k.getTarget();return P&&$&&P.cell===x.cell&&$.cell===E.cell})&&(C=!1))}}return C&&g!=null&&(C=y(g)),C}allowConnectToBlank(e){const n=this.graph,o=n.options.connecting.allowBlank;if(typeof o!="function")return!!o;const i=n.findViewByCell(e),l=e.getSourceCell(),a=e.getTargetCell(),c=n.findViewByCell(l),u=n.findViewByCell(a);return ht(o,n,{edge:e,edgeView:i,sourceCell:l,targetCell:a,sourceView:c,targetView:u,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:i.sourceMagnet,targetMagnet:i.targetMagnet})}validateEdge(e,n,s){const o=this.graph;if(!this.allowConnectToBlank(e)){const l=e.getSourceCellId(),a=e.getTargetCellId();if(!(l&&a))return!1}const i=o.options.connecting.validateEdge;return i?ht(i,o,{edge:e,type:n,previous:s}):!0}arrowheadDragging(e,n,s,o){o.x=n,o.y=s,o.currentTarget!==e&&(o.currentMagnet&&o.currentView&&o.currentView.unhighlight(o.currentMagnet,{type:"magnetAdsorbed"}),o.currentView=this.graph.findViewByElem(e),o.currentView?(o.currentMagnet=o.currentView.findMagnet(e),o.currentMagnet&&this.validateConnection(...o.getValidateConnectionArgs(o.currentView,o.currentMagnet),o.currentView.getEdgeTerminal(o.currentMagnet,n,s,this.cell,o.terminalType))?o.currentView.highlight(o.currentMagnet,{type:"magnetAdsorbed"}):o.currentMagnet=null):o.currentMagnet=null),o.currentTarget=e,this.cell.prop(o.terminalType,{x:n,y:s},Object.assign(Object.assign({},o.options),{ui:!0}))}arrowheadDragged(e,n,s){const o=e.currentView,i=e.currentMagnet;if(!i||!o)return;o.unhighlight(i,{type:"magnetAdsorbed"});const l=e.terminalType,a=o.getEdgeTerminal(i,n,s,this.cell,l);this.cell.setTerminal(l,a,{ui:!0})}snapArrowhead(e,n,s){const o=this.graph,{snap:i,allowEdge:l}=o.options.connecting,a=typeof i=="object"&&i.radius||50,c=typeof i=="object"&&i.anchor||"center",u=o.renderer.findViewsInArea({x:e-a,y:n-a,width:2*a,height:2*a},{nodeOnly:!0});if(l){const w=o.renderer.findEdgeViewsFromPoint({x:e,y:n},a).filter(x=>x!==this);u.push(...w)}const d=s.closestView||null,f=s.closestMagnet||null;s.closestView=null,s.closestMagnet=null;let h,p=Number.MAX_SAFE_INTEGER;const g=new K(e,n);u.forEach(w=>{if(w.container.getAttribute("magnet")!=="false"){if(w.isNodeView())h=c==="center"?w.cell.getBBox().getCenter().distance(g):w.cell.getBBox().getNearestPointToPoint(g).distance(g);else if(w.isEdgeView()){const x=w.getClosestPoint(g);x?h=x.distance(g):h=Number.MAX_SAFE_INTEGER}h<a&&h<p&&(f===w.container||this.validateConnection(...s.getValidateConnectionArgs(w,null),w.getEdgeTerminal(w.container,e,n,this.cell,s.terminalType)))&&(p=h,s.closestView=w,s.closestMagnet=w.container)}w.container.querySelectorAll("[magnet]").forEach(x=>{if(x.getAttribute("magnet")!=="false"){const E=w.getBBoxOfElement(x);h=g.distance(E.getCenter()),h<a&&h<p&&(f===x||this.validateConnection(...s.getValidateConnectionArgs(w,x),w.getEdgeTerminal(x,e,n,this.cell,s.terminalType)))&&(p=h,s.closestView=w,s.closestMagnet=x)}})});let m;const v=s.terminalType,b=s.closestView,C=s.closestMagnet,y=f!==C;if(d&&y&&d.unhighlight(f,{type:"magnetAdsorbed"}),b){if(!y)return;b.highlight(C,{type:"magnetAdsorbed"}),m=b.getEdgeTerminal(C,e,n,this.cell,v)}else m={x:e,y:n};this.cell.setTerminal(v,m,{},Object.assign(Object.assign({},s.options),{ui:!0}))}snapArrowheadEnd(e){const n=e.closestView,s=e.closestMagnet;n&&s&&(n.unhighlight(s,{type:"magnetAdsorbed"}),e.currentMagnet=n.findMagnet(s)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){switch(e.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0});break}}notifyConnectionEvent(e,n){const s=e.terminalType,o=e.initialTerminal,i=this.cell[s];if(i&&!an.equalTerminals(o,i)){const a=this.graph,c=o,u=c.cell?a.getCellById(c.cell):null,d=c.port,f=u?a.findViewByCell(u):null,h=u||e.isNewEdge?null:K.create(o).toJSON(),p=i,g=p.cell?a.getCellById(p.cell):null,m=p.port,v=g?a.findViewByCell(g):null,b=g?null:K.create(i).toJSON();this.notify("edge:connected",{e:n,previousCell:u,previousPort:d,previousView:f,previousPoint:h,currentCell:g,currentView:v,currentPort:m,currentPoint:b,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:s,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const n=this.graph,s=n.model.getCells();e.marked={};for(let o=0,i=s.length;o<i;o+=1){const l=n.findViewByCell(s[o]);if(!l||l.cell.id===this.cell.id)continue;const a=Array.prototype.slice.call(l.container.querySelectorAll("[magnet]"));l.container.getAttribute("magnet")!=="false"&&a.push(l.container);const c=a.filter(u=>this.validateConnection(...e.getValidateConnectionArgs(l,u),l.getEdgeTerminal(u,e.x,e.y,this.cell,e.terminalType)));if(c.length>0){for(let u=0,d=c.length;u<d;u+=1)l.highlight(c[u],{type:"magnetAvailable"});l.highlight(null,{type:"nodeAvailable"}),e.marked[l.cell.id]=c}}}unhighlightAvailableMagnets(e){const n=e.marked||{};Object.keys(n).forEach(s=>{const o=this.graph.findViewByCell(s);o&&(n[s].forEach(l=>{o.unhighlight(l,{type:"magnetAvailable"})}),o.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,n,s){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(e,n,s);return}const i=e.target.getAttribute("data-terminal"),l=this.prepareArrowheadDragging(i,{x:n,y:s});this.setEventData(e,l)}dragArrowhead(e,n,s){const o=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(n,s,o):this.arrowheadDragging(this.getEventTarget(e),n,s,o)}stopArrowheadDragging(e,n,s){const o=this.graph,i=this.getEventData(e);o.options.connecting.snap?this.snapArrowheadEnd(i):this.arrowheadDragged(i,n,s),this.validateEdge(this.cell,i.terminalType,i.initialTerminal)?(this.finishEmbedding(i),this.notifyConnectionEvent(i,e)):this.fallbackConnection(i),this.afterArrowheadDragging(i)}startLabelDragging(e,n,s){if(this.can("edgeLabelMovable")){const o=e.currentTarget,i=parseInt(o.getAttribute("data-index"),10),l=this.getLabelPositionAngle(i),a=this.getLabelPositionArgs(i),c=this.getDefaultLabelPositionArgs(),u=this.mergeLabelPositionArgs(a,c);this.setEventData(e,{index:i,positionAngle:l,positionArgs:u,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,n,s){const o=this.getEventData(e),i=this.cell.getLabelAt(o.index),l=on({},i,{position:this.getLabelPosition(n,s,o.positionAngle,o.positionArgs)});this.cell.setLabelAt(o.index,l)}stopLabelDragging(e,n,s){}}(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag],o=n;return(s==null||s===r.toStringTag)&&typeof o.isNodeView=="function"&&typeof o.isEdgeView=="function"&&typeof o.confirmUpdate=="function"&&typeof o.update=="function"&&typeof o.getConnection=="function"}r.isEdgeView=e})(Ho||(Ho={}));Ho.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}});Ho.registry.register("edge",Ho,!0);var Dae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class ho extends Qt{get disposeContainer(){return!1}get options(){return this.graph.options}constructor(e){super(),this.graph=e;const{selectors:n,fragment:s}=Yt.parseJSONMarkup(ho.markup);this.background=n.background,this.grid=n.grid,this.svg=n.svg,this.defs=n.defs,this.viewport=n.viewport,this.primer=n.primer,this.stage=n.stage,this.decorator=n.decorator,this.overlay=n.overlay,this.container=this.options.container,this.restore=ho.snapshoot(this.container),Nt(this.container,this.prefixClassName("graph")),hf(this.container,s),this.delegateEvents()}delegateEvents(){const e=this.constructor;return super.delegateEvents(e.events),this}guard(e,n){return e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,n)?!0:e.data&&e.data.guarded!==void 0?e.data.guarded:!(n&&n.cell&&At.isCell(n.cell)||this.svg===e.target||this.container===e.target||this.svg.contains(e.target))}findView(e){return this.graph.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const n=this.normalizeEvent(e),s=this.findView(n.target);if(this.guard(n,s))return;const o=this.graph.snapToGrid(n.clientX,n.clientY);s?s.onDblClick(n,o.x,o.y):this.graph.trigger("blank:dblclick",{e:n,x:o.x,y:o.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const n=this.normalizeEvent(e),s=this.findView(n.target);if(this.guard(n,s))return;const o=this.graph.snapToGrid(n.clientX,n.clientY);s?s.onClick(n,o.x,o.y):this.graph.trigger("blank:click",{e:n,x:o.x,y:o.y})}}isPreventDefaultContextMenu(e){let n=this.options.preventDefaultContextMenu;return typeof n=="function"&&(n=ht(n,this.graph,{view:e})),n}onContextMenu(e){const n=this.normalizeEvent(e),s=this.findView(n.target);if(this.isPreventDefaultContextMenu(s)&&e.preventDefault(),this.guard(n,s))return;const o=this.graph.snapToGrid(n.clientX,n.clientY);s?s.onContextMenu(n,o.x,o.y):this.graph.trigger("blank:contextmenu",{e:n,x:o.x,y:o.y})}delegateDragEvents(e,n){e.data==null&&(e.data={}),this.setEventData(e,{currentView:n||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}});const s=this.constructor;this.delegateDocumentEvents(s.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const n=this.normalizeEvent(e),s=this.findView(n.target);if(this.guard(n,s))return;this.options.preventDefaultMouseDown&&e.preventDefault();const o=this.graph.snapToGrid(n.clientX,n.clientY);s?s.onMouseDown(n,o.x,o.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(n.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:n,x:o.x,y:o.y})),this.delegateDragEvents(n,s)}onMouseMove(e){const n=this.getEventData(e),s=n.startPosition;if(s&&s.x===e.clientX&&s.y===e.clientY||(n.mouseMovedCount==null&&(n.mouseMovedCount=0),n.mouseMovedCount+=1,n.mouseMovedCount<=this.options.moveThreshold))return;const i=this.normalizeEvent(e),l=this.graph.snapToGrid(i.clientX,i.clientY),a=n.currentView;a?a.onMouseMove(i,l.x,l.y):this.graph.trigger("blank:mousemove",{e:i,x:l.x,y:l.y}),this.setEventData(i,n)}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),s=this.graph.snapToGrid(n.clientX,n.clientY),i=this.getEventData(e).currentView;if(i?i.onMouseUp(n,s.x,s.y):this.graph.trigger("blank:mouseup",{e:n,x:s.x,y:s.y}),!e.isPropagationStopped()){const l=new so(e,{type:"click",data:e.data});this.onClick(l)}e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const n=this.normalizeEvent(e),s=this.findView(n.target);if(!this.guard(n,s))if(s)s.onMouseOver(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseover",{e:n})}}onMouseOut(e){const n=this.normalizeEvent(e),s=this.findView(n.target);if(!this.guard(n,s))if(s)s.onMouseOut(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseout",{e:n})}}onMouseEnter(e){const n=this.normalizeEvent(e),s=this.findView(n.target);if(this.guard(n,s))return;const o=this.graph.findViewByElem(n.relatedTarget);if(s){if(o===s)return;s.onMouseEnter(n)}else{if(o)return;this.graph.trigger("graph:mouseenter",{e:n})}}onMouseLeave(e){const n=this.normalizeEvent(e),s=this.findView(n.target);if(this.guard(n,s))return;const o=this.graph.findViewByElem(n.relatedTarget);if(s){if(o===s)return;s.onMouseLeave(n)}else{if(o)return;this.graph.trigger("graph:mouseleave",{e:n})}}onMouseWheel(e){const n=this.normalizeEvent(e),s=this.findView(n.target);if(this.guard(n,s))return;const o=n.originalEvent,i=this.graph.snapToGrid(o.clientX,o.clientY),l=Math.max(-1,Math.min(1,o.wheelDelta||-o.detail));s?s.onMouseWheel(n,i.x,i.y,l):this.graph.trigger("blank:mousewheel",{e:n,delta:l,x:i.x,y:i.y})}onCustomEvent(e){const n=e.currentTarget,s=n.getAttribute("event")||n.getAttribute("data-event");if(s){const o=this.findView(n);if(o){const i=this.normalizeEvent(e);if(this.guard(i,o))return;const l=this.graph.snapToGrid(i.clientX,i.clientY);o.onCustomEvent(i,s,l.x,l.y)}}}handleMagnetEvent(e,n){const s=e.currentTarget,o=s.getAttribute("magnet");if(o&&o.toLowerCase()!=="false"){const i=this.findView(s);if(i){const l=this.normalizeEvent(e);if(this.guard(l,i))return;const a=this.graph.snapToGrid(l.clientX,l.clientY);ht(n,this.graph,i,l,s,a.x,a.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(n,s,o,i,l)=>{n.onMagnetMouseDown(s,o,i,l)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(n,s,o,i,l)=>{n.onMagnetDblClick(s,o,i,l)})}onMagnetContextMenu(e){const n=this.findView(e.target);this.isPreventDefaultContextMenu(n)&&e.preventDefault(),this.handleMagnetEvent(e,(s,o,i,l,a)=>{s.onMagnetContextMenu(o,i,l,a)})}onLabelMouseDown(e){const n=e.currentTarget,s=this.findView(n);if(s){const o=this.normalizeEvent(e);if(this.guard(o,s))return;const i=this.graph.snapToGrid(o.clientX,o.clientY);s.onLabelMouseDown(o,i.x,i.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}Dae([Qt.dispose()],ho.prototype,"dispose",null);(function(r){const e=`${Fs.prefixCls}-graph`;r.markup=[{ns:In.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:In.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:In.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":In.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}];function n(s){const o=s.cloneNode();return s.childNodes.forEach(i=>o.appendChild(i)),()=>{for(ff(s);s.attributes.length>0;)s.removeAttribute(s.attributes[0].name);for(let i=0,l=o.attributes.length;i<l;i+=1){const a=o.attributes[i];s.setAttribute(a.name,a.value)}o.childNodes.forEach(i=>s.appendChild(i))}}r.snapshoot=n})(ho||(ho={}));(function(r){const e=Fs.prefixCls;r.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},r.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})(ho||(ho={}));const Vae=`.x6-graph {
  position: relative;
  overflow: hidden;
  outline: none;
  touch-action: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;class zn extends zo{get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}constructor(e){super(),this.graph=e,this.init()}init(){}}var Fae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class Cv extends zn{init(){Gse("core",Vae)}dispose(){Kse("core")}}Fae([Cv.dispose()],Cv.prototype,"dispose",null);var Bae=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},Rd;(function(r){function e(n){const{grid:s,panning:o,mousewheel:i,embedding:l}=n,a=Bae(n,["grid","panning","mousewheel","embedding"]),c=n.container;if(c!=null)a.width==null&&(a.width=c.clientWidth),a.height==null&&(a.height=c.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const u=on({},r.defaults,a),d={size:10,visible:!1};return typeof s=="number"?u.grid={size:s,visible:!1}:typeof s=="boolean"?u.grid=Object.assign(Object.assign({},d),{visible:s}):u.grid=Object.assign(Object.assign({},d),s),["panning","mousewheel","embedding"].forEach(h=>{const p=n[h];typeof p=="boolean"?u[h].enabled=p:u[h]=Object.assign(Object.assign({},u[h]),p)}),u}r.get=e})(Rd||(Rd={}));(function(r){r.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Fs.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Fs.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection({type:e,sourceView:n,targetView:s}){return(e==="target"?s:n)!=null},createEdge(){return new Nae}},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:()=>!1}})(Rd||(Rd={}));var zae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},jae=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class A0 extends zn{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const n=this.grid.size;if(n<=1||!this.grid.visible)return this.clear();const s=this.graph.matrix(),o=this.getInstance(),i=Array.isArray(e)?e:[e];this.patterns.forEach((c,u)=>{const d=`pattern_${u}`,f=s.a||1,h=s.d||1,{update:p,markup:g}=c,m=jae(c,["update","markup"]),v=Object.assign(Object.assign(Object.assign({},m),i[u]),{sx:f,sy:h,ox:s.e||0,oy:s.f||0,width:n*f,height:n*h});o.has(d)||o.add(d,ut.create("pattern",{id:d,patternUnits:"userSpaceOnUse"},ut.createVectors(g)).node);const b=o.get(d);typeof p=="function"&&p(b.childNodes[0],v);let C=v.ox%v.width;C<0&&(C+=v.width);let y=v.oy%v.height;y<0&&(y+=v.height),Ut(b,{x:C,y,width:v.width,height:v.height})});const l=new XMLSerializer().serializeToString(o.root),a=`url(data:image/svg+xml;base64,${btoa(l)})`;this.elem.style.backgroundImage=a}getInstance(){return this.instance||(this.instance=new Ii),this.instance}resolveGrid(e){if(!e)return[];const n=e.type;if(n==null)return[Object.assign(Object.assign({},Ii.presets.dot),e.args)];const s=Ii.registry.get(n);if(s){let o=e.args||[];return Array.isArray(o)||(o=[o]),Array.isArray(s)?s.map((i,l)=>Object.assign(Object.assign({},i),o[l])):[Object.assign(Object.assign({},s),o[0])]}return Ii.registry.onNotFound(n)}dispose(){this.stopListening(),this.clear()}}zae([zn.dispose()],A0.prototype,"dispose",null);class KP extends zn{get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get stage(){return this.graph.view.stage}init(){this.resize()}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),Bn(this.viewportMatrix)}setMatrix(e){const n=Bn(e),s=ru(n);this.viewport.setAttribute("transform",s),this.viewportMatrix=n,this.viewportTransformString=s}resize(e,n){let s=e===void 0?this.options.width:e,o=n===void 0?this.options.height:n;this.options.width=s,this.options.height=o,typeof s=="number"&&(s=Math.round(s)),typeof o=="number"&&(o=Math.round(o)),this.container.style.width=s==null?"":`${s}px`,this.container.style.height=o==null?"":`${o}px`;const i=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},i)),this}getComputedSize(){let e=this.options.width,n=this.options.height;return mC(e)||(e=this.container.clientWidth),mC(n)||(n=this.container.clientHeight),{width:e,height:n}}getScale(){return Vse(this.getMatrix())}scale(e,n=e,s=0,o=0){if(e=this.clampScale(e),n=this.clampScale(n),s||o){const l=this.getTranslation(),a=l.tx-s*(e-1),c=l.ty-o*(n-1);(a!==l.tx||c!==l.ty)&&this.translate(a,c)}const i=this.getMatrix();return i.a=e,i.d=n,this.setMatrix(i),this.graph.trigger("scale",{sx:e,sy:n,ox:s,oy:o}),this}clampScale(e){const n=this.graph.options.scaling;return Zr(e,n.min||.01,n.max||16)}getZoom(){return this.getScale().sx}zoom(e,n){n=n||{};let s=e,o=e;const i=this.getScale(),l=this.getComputedSize();let a=l.width/2,c=l.height/2;if(n.absolute||(s+=i.sx,o+=i.sy),n.scaleGrid&&(s=Math.round(s/n.scaleGrid)*n.scaleGrid,o=Math.round(o/n.scaleGrid)*n.scaleGrid),n.maxScale&&(s=Math.min(n.maxScale,s),o=Math.min(n.maxScale,o)),n.minScale&&(s=Math.max(n.minScale,s),o=Math.max(n.minScale,o)),n.center&&(a=n.center.x,c=n.center.y),s=this.clampScale(s),o=this.clampScale(o),a||c){const u=this.getTranslation(),d=a-(a-u.tx)*(s/i.sx),f=c-(c-u.ty)*(o/i.sy);(d!==u.tx||f!==u.ty)&&this.translate(d,f)}return this.scale(s,o),this}getRotation(){return Fse(this.getMatrix())}rotate(e,n,s){if(n==null||s==null){const i=Vt.getBBox(this.stage);n=i.width/2,s=i.height/2}const o=this.getMatrix().translate(n,s).rotate(e).translate(-n,-s);return this.setMatrix(o),this}getTranslation(){return Bse(this.getMatrix())}translate(e,n){const s=this.getMatrix();s.e=e||0,s.f=n||0,this.setMatrix(s);const o=this.getTranslation();return this.options.x=o.tx,this.options.y=o.ty,this.graph.trigger("translate",Object.assign({},o)),this}setOrigin(e,n){return this.translate(e||0,n||0)}fitToContent(e,n,s,o){if(typeof e=="object"){const y=e;e=y.gridWidth||1,n=y.gridHeight||1,s=y.padding||0,o=y}else e=e||1,n=n||1,s=s||0,o==null&&(o={});const i=la(s),l=o.border||0,a=o.contentArea?Ne.create(o.contentArea):this.getContentArea(o);l>0&&a.inflate(l);const c=this.getScale(),u=this.getTranslation(),d=c.sx,f=c.sy;a.x*=d,a.y*=f,a.width*=d,a.height*=f;let h=Math.max(Math.ceil((a.width+a.x)/e),1)*e,p=Math.max(Math.ceil((a.height+a.y)/n),1)*n,g=0,m=0;(o.allowNewOrigin==="negative"&&a.x<0||o.allowNewOrigin==="positive"&&a.x>=0||o.allowNewOrigin==="any")&&(g=Math.ceil(-a.x/e)*e,g+=i.left,h+=g),(o.allowNewOrigin==="negative"&&a.y<0||o.allowNewOrigin==="positive"&&a.y>=0||o.allowNewOrigin==="any")&&(m=Math.ceil(-a.y/n)*n,m+=i.top,p+=m),h+=i.right,p+=i.bottom,h=Math.max(h,o.minWidth||0),p=Math.max(p,o.minHeight||0),h=Math.min(h,o.maxWidth||Number.MAX_SAFE_INTEGER),p=Math.min(p,o.maxHeight||Number.MAX_SAFE_INTEGER);const v=this.getComputedSize(),b=h!==v.width||p!==v.height;return(g!==u.tx||m!==u.ty)&&this.translate(g,m),b&&this.resize(h,p),new Ne(-g/d,-m/f,h/d,p/f)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},n=!0){let s,o;if(e.contentArea){const b=e.contentArea;s=this.graph.localToGraph(b),o=K.create(b)}else s=this.getContentBBox(e),o=this.graph.graphToLocal(s);if(!s.width||!s.height)return;const i=la(e.padding),l=e.minScale||0,a=e.maxScale||Number.MAX_SAFE_INTEGER,c=e.minScaleX||l,u=e.maxScaleX||a,d=e.minScaleY||l,f=e.maxScaleY||a;let h;if(e.viewportArea)h=e.viewportArea;else{const b=this.getComputedSize(),C=this.getTranslation();h={x:C.tx,y:C.ty,width:b.width,height:b.height}}h=Ne.create(h).moveAndExpand({x:i.left,y:i.top,width:-i.left-i.right,height:-i.top-i.bottom});const p=this.getScale();let g=h.width/s.width*p.sx,m=h.height/s.height*p.sy;e.preserveAspectRatio!==!1&&(g=m=Math.min(g,m));const v=e.scaleGrid;if(v&&(g=v*Math.floor(g/v),m=v*Math.floor(m/v)),g=Zr(g,c,u),m=Zr(m,d,f),this.scale(g,m),n){const b=this.options,C=h.x-o.x*g-b.x,y=h.y-o.y*m-b.y;this.translate(C,y)}}getContentArea(e={}){return e.useCellGeometry!==!1?this.model.getAllCellsBBox()||new Ne:Vt.getBBox(this.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=Ne.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,n={}){const s=Ne.create(e),o=this.graph;n.contentArea=s,n.viewportArea==null&&(n.viewportArea={x:o.options.x,y:o.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(n,!1);const i=s.getCenter();return this.centerPoint(i.x,i.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,n){const s=this.getComputedSize(),o=this.getScale(),i=this.getTranslation(),l=s.width/2,a=s.height/2;e=typeof e=="number"?e:l,n=typeof n=="number"?n:a,e=l-e*o.sx,n=a-n*o.sy,(i.tx!==e||i.ty!==n)&&this.translate(e,n)}centerContent(e){const s=this.graph.getContentArea(e).getCenter();this.centerPoint(s.x,s.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,n,s){const o=this.getComputedSize();n=Ns(n,Math.max(0,o.width)),n<0&&(n=o.width+n),s=Ns(s,Math.max(0,o.height)),s<0&&(s=o.height+s);const i=this.getTranslation(),l=this.getScale(),a=n-e.x*l.sx,c=s-e.y*l.sy;(i.tx!==a||i.ty!==c)&&this.translate(a,c)}positionRect(e,n){const s=Ne.create(e);switch(n){case"center":return this.positionPoint(s.getCenter(),"50%","50%");case"top":return this.positionPoint(s.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(s.getTopRight(),"100%",0);case"right":return this.positionPoint(s.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(s.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(s.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(s.getBottomLeft(),0,"100%");case"left":return this.positionPoint(s.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(s.getTopLeft(),0,0);default:return this}}positionCell(e,n){const s=e.getBBox();return this.positionRect(s,n)}positionContent(e,n){const s=this.graph.getContentArea(n);return this.positionRect(s,e)}}var Hae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class M0 extends zn{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let n=e.size||"auto auto",s=e.position||"center";const o=this.graph.transform.getScale(),i=this.graph.translate();if(typeof s=="object"){const l=i.tx+o.sx*(s.x||0),a=i.ty+o.sy*(s.y||0);s=`${l}px ${a}px`}typeof n=="object"&&(n=Ne.fromSize(n).scale(o.sx,o.sy),n=`${n.width}px ${n.height}px`),this.elem.style.backgroundSize=n,this.elem.style.backgroundPosition=s}drawBackgroundImage(e,n={}){if(!(e instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const s=this.optionsCache;if(s&&s.image!==n.image)return;let o;const i=n.opacity,l=n.size;let a=n.repeat||"no-repeat";const c=kd.registry.get(a);if(typeof c=="function"){const d=n.quality||1;e.width*=d,e.height*=d;const f=c(e,n);if(!(f instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");o=f.toDataURL("image/png"),n.repeat&&a!==n.repeat?a=n.repeat:a="repeat",typeof l=="object"?(l.width*=f.width/e.width,l.height*=f.height/e.height):l===void 0&&(n.size={width:f.width/d,height:f.height/d})}else o=e.src,l===void 0&&(n.size={width:e.width,height:e.height});s!=null&&typeof n.size=="object"&&n.image===s.image&&n.repeat===s.repeat&&n.quality===s.quality&&(s.size=dd(n.size));const u=this.elem.style;u.backgroundImage=`url(${o})`,u.backgroundRepeat=a,u.opacity=i==null||i>=1?"":`${i}`,this.updateBackgroundImage(n)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const n=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(n.color),n.image){this.optionsCache=dd(n);const s=document.createElement("img");s.onload=()=>this.drawBackgroundImage(s,e),s.setAttribute("crossorigin","anonymous"),s.src=n.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}Hae([zn.dispose()],M0.prototype,"dispose",null);var Uae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class k0 extends zn{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.onRightMouseDown=this.onRightMouseDown.bind(this),this.onSpaceKeyDown=this.onSpaceKeyDown.bind(this),this.onSpaceKeyUp=this.onSpaceKeyUp.bind(this),this.startListening(),this.updateClassName()}startListening(){this.graph.on("blank:mousedown",this.onMouseDown,this),this.graph.on("node:unhandled:mousedown",this.onMouseDown,this),this.graph.on("edge:unhandled:mousedown",this.onMouseDown,this),Hn.on(this.graph.container,"mousedown",this.onRightMouseDown),Hn.on(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle=new Zk(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()}stopListening(){this.graph.off("blank:mousedown",this.onMouseDown,this),this.graph.off("node:unhandled:mousedown",this.onMouseDown,this),this.graph.off("edge:unhandled:mousedown",this.onMouseDown,this),Hn.off(this.graph.container,"mousedown",this.onRightMouseDown),Hn.off(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle&&this.mousewheelHandle.disable()}allowPanning(e,n){return e.spaceKey=this.isSpaceKeyPressed,this.pannable&&kc.isMatch(e,this.widgetOptions.modifiers,n)}startPanning(e){const n=this.view.normalizeEvent(e);this.clientX=n.clientX,this.clientY=n.clientY,this.panning=!0,this.updateClassName(),Hn.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),Hn.on(window,"mouseup.panning",this.stopPanning.bind(this))}pan(e){const n=this.view.normalizeEvent(e),s=n.clientX-this.clientX,o=n.clientY-this.clientY;this.clientX=n.clientX,this.clientY=n.clientY,this.graph.translateBy(s,o)}stopPanning(e){this.panning=!1,this.updateClassName(),Hn.off(document.body,".panning"),Hn.off(window,".panning")}updateClassName(){const e=this.view.container,n=this.view.prefixClassName("graph-panning"),s=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(Nt(e,n),es(e,s)):(es(e,n),Nt(e,s)):(es(e,n),es(e,s))}onMouseDown({e}){if(!this.allowBlankMouseDown(e))return;const n=this.graph.getPlugin("selection"),s=n&&n.allowRubberband(e,!0);(this.allowPanning(e,!0)||this.allowPanning(e)&&!s)&&this.startPanning(e)}onRightMouseDown(e){const n=this.widgetOptions.eventTypes;n!=null&&n.includes("rightMouseDown")&&e.button===2&&this.allowPanning(e,!0)&&this.startPanning(e)}onMouseWheel(e,n,s){this.graph.translateBy(-n,-s)}onSpaceKeyDown(e){e.which===32&&(this.isSpaceKeyPressed=!0)}onSpaceKeyUp(e){e.which===32&&(this.isSpaceKeyPressed=!1)}allowBlankMouseDown(e){const n=this.widgetOptions.eventTypes;return(n==null?void 0:n.includes("leftMouseDown"))&&e.button===0||(n==null?void 0:n.includes("mouseWheelDown"))&&e.button===1}allowMouseWheel(e){var n;return this.pannable&&!e.ctrlKey&&((n=this.widgetOptions.eventTypes)===null||n===void 0?void 0:n.includes("mouseWheel"))}autoPanning(e,n){const o=this.graph.getGraphArea();let i=0,l=0;e<=o.left+10&&(i=-10),n<=o.top+10&&(l=-10),e>=o.right-10&&(i=10),n>=o.bottom-10&&(l=10),(i!==0||l!==0)&&this.graph.translateBy(-i,-l)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}Uae([zn.dispose()],k0.prototype,"dispose",null);var Wae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class P0 extends zn{constructor(){super(...arguments),this.cumulatedFactor=1}get widgetOptions(){return this.options.mousewheel}init(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new Zk(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}get disabled(){return this.widgetOptions.enabled!==!0}enable(e){(this.disabled||e)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const n=this.widgetOptions.guard;return(n==null||n(e))&&kc.isMatch(e,this.widgetOptions.modifiers)}onMouseWheel(e){const n=this.widgetOptions.guard;if((n==null||n(e))&&kc.isMatch(e,this.widgetOptions.modifiers)){const s=this.widgetOptions.factor||1.2;this.currentScale==null&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*s*20)/20/this.currentScale,this.cumulatedFactor===1&&(this.cumulatedFactor=1.05)):this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*(1/s)*20)/20/this.currentScale,this.cumulatedFactor===1&&(this.cumulatedFactor=.95)),this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const i=this.currentScale;let l=this.graph.transform.clampScale(i*this.cumulatedFactor);const a=this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,c=this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER;if(l=Zr(l,a,c),l!==i)if(this.widgetOptions.zoomAtMousePosition){const d=!!this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(l,{absolute:!0,center:d.clone()})}else this.graph.zoom(l,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}Wae([zo.dispose()],P0.prototype,"dispose",null);var qae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class YP extends zn{init(){this.resetRenderArea=oh(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}startListening(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}stopListening(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}enableVirtualRender(){this.options.virtual=!0,this.resetRenderArea()}disableVirtualRender(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}resetRenderArea(){if(this.options.virtual){const e=this.graph.getGraphArea();this.graph.renderer.setRenderArea(e)}}dispose(){this.stopListening()}}qae([zn.dispose()],YP.prototype,"dispose",null);class Gae{constructor(){this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}queueJob(e){if(e.priority&Mo.PRIOR)e.cb();else{const n=this.findInsertionIndex(e);n>=0&&this.queue.splice(n,0,e)}}queueFlush(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.scheduleJob())}queueFlushSync(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.flushJobsSync())}clearJobs(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}flushJobs(){this.isFlushPending=!1,this.isFlushing=!0;const e=this.getCurrentTime();let n;for(;(n=this.queue.shift())&&(n.cb(),!(this.getCurrentTime()-e>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}flushJobsSync(){this.isFlushPending=!1,this.isFlushing=!0;let e;for(;e=this.queue.shift();)try{e.cb()}catch{}this.isFlushing=!1}findInsertionIndex(e){let n=0,s=this.queue.length,o=s-1;const i=e.priority;for(;n<=o;){const l=(o-n>>1)+n;i<=this.queue[l].priority?n=l+1:(s=l,o=l-1)}return s}scheduleJob(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}cancelScheduleJob(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}getCurrentTime(){return typeof performance=="object"&&typeof performance.now=="function"?performance.now():Date.now()-this.initialTime}}var Mo;(function(r){r[r.Update=2]="Update",r[r.RenderEdge=4]="RenderEdge",r[r.RenderNode=8]="RenderNode",r[r.PRIOR=1048576]="PRIOR"})(Mo||(Mo={}));var Kae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class En extends zo{get model(){return this.graph.model}get container(){return this.graph.view.stage}constructor(e){super(),this.views={},this.willRemoveViews={},this.queue=new Gae,this.graph=e,this.init()}init(){this.startListening(),this.renderViews(this.model.getCells())}startListening(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}onModelReseted({options:e}){this.queue.clearJobs(),this.removeZPivots(),this.resetViews();const n=this.model.getCells();this.renderViews(n,Object.assign(Object.assign({},e),{queue:n.map(s=>s.id)}))}onCellAdded({cell:e,options:n}){this.renderViews([e],n)}onCellRemoved({cell:e}){this.removeViews([e])}onCellZIndexChanged({cell:e,options:n}){const s=this.views[e.id];s&&this.requestViewUpdate(s.view,En.FLAG_INSERT,n,Mo.Update,!0)}onCellVisibleChanged({cell:e,current:n}){this.toggleVisible(e,!!n)}requestViewUpdate(e,n,s={},o=Mo.Update,i=!0){const l=e.cell.id,a=this.views[l];if(!a)return;a.flag=n,a.options=s,(e.hasAction(n,["translate","resize","rotate"])||s.async===!1)&&(o=Mo.PRIOR,i=!1),this.queue.queueJob({id:l,priority:o,cb:()=>{this.renderViewInArea(e,n,s);const d=s.queue;if(d){const f=d.indexOf(e.cell.id);f>=0&&d.splice(f,1),d.length===0&&this.graph.trigger("render:done")}}}),this.getEffectedEdges(e).forEach(d=>{this.requestViewUpdate(d.view,d.flag,s,o,!1)}),i&&this.flush()}setRenderArea(e){this.renderArea=e,this.flushWaitingViews()}isViewMounted(e){if(e==null)return!1;const n=this.views[e.cell.id];return n?n.state===En.ViewState.MOUNTED:!1}renderViews(e,n={}){e.sort((s,o)=>s.isNode()&&o.isEdge()?-1:0),e.forEach(s=>{const o=s.id,i=this.views;let l=0,a=i[o];if(a)l=En.FLAG_INSERT;else{const c=this.createCellView(s);c&&(c.graph=this.graph,l=En.FLAG_INSERT|c.getBootstrapFlag(),a={view:c,flag:l,options:n,state:En.ViewState.CREATED},this.views[o]=a)}a&&this.requestViewUpdate(a.view,l,n,this.getRenderPriority(a.view),!1)}),this.flush()}renderViewInArea(e,n,s={}){const o=e.cell,i=o.id,l=this.views[i];if(!l)return;let a=0;this.isUpdatable(e)?(a=this.updateView(e,n,s),l.flag=a):l.state===En.ViewState.MOUNTED?(a=this.updateView(e,n,s),l.flag=a):l.state=En.ViewState.WAITING,a&&o.isEdge()&&!(a&e.getFlag(["source","target"]))&&this.queue.queueJob({id:i,priority:Mo.RenderEdge,cb:()=>{this.updateView(e,n,s)}})}removeViews(e){e.forEach(n=>{const s=n.id,o=this.views[s];o&&(this.willRemoveViews[s]=o,delete this.views[s],this.queue.queueJob({id:s,priority:this.getRenderPriority(o.view),cb:()=>{this.removeView(o.view)}}))}),this.flush()}flush(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}flushWaitingViews(){Object.values(this.views).forEach(e=>{if(e&&e.state===En.ViewState.WAITING){const{view:n,flag:s,options:o}=e;this.requestViewUpdate(n,s,o,this.getRenderPriority(n),!1)}}),this.flush()}updateView(e,n,s={}){if(e==null)return 0;if(fn.isCellView(e)){if(n&En.FLAG_REMOVE)return this.removeView(e.cell),0;n&En.FLAG_INSERT&&(this.insertView(e),n^=En.FLAG_INSERT)}return n?e.confirmUpdate(n,s):0}insertView(e){const n=this.views[e.cell.id];if(n){const s=e.cell.getZIndex(),o=this.addZPivot(s);this.container.insertBefore(e.container,o),e.cell.isVisible()||this.toggleVisible(e.cell,!1),n.state=En.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:e})}}resetViews(){this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(e=>{e&&this.removeView(e.view)}),this.views={},this.willRemoveViews={}}removeView(e){const n=e.cell,s=this.willRemoveViews[n.id];s&&e&&(s.view.remove(),delete this.willRemoveViews[n.id],this.graph.trigger("view:unmounted",{view:e}))}toggleVisible(e,n){const s=this.model.getConnectedEdges(e);for(let i=0,l=s.length;i<l;i+=1){const a=s[i];if(n){const c=a.getSourceCell(),u=a.getTargetCell();if(c&&!c.isVisible()||u&&!u.isVisible())continue;this.toggleVisible(a,!0)}else this.toggleVisible(a,!1)}const o=this.views[e.id];o&&pf(o.view.container,{display:n?"unset":"none"})}addZPivot(e=0){this.zPivots==null&&(this.zPivots={});const n=this.zPivots;let s=n[e];if(s)return s;s=n[e]=document.createComment(`z-index:${e+1}`);let o=-1/0;for(const l in n){const a=+l;a<e&&a>o&&(o=a,e-1)}const i=this.container;if(o!==-1/0){const l=n[o];i.insertBefore(s,l.nextSibling)}else i.insertBefore(s,i.firstChild);return s}removeZPivots(){this.zPivots&&Object.values(this.zPivots).forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}createCellView(e){const n={graph:this.graph},s=this.graph.options.createCellView;if(s){const i=ht(s,this.graph,e);if(i)return new i(e,n);if(i===null)return null}const o=e.view;if(o!=null&&typeof o=="string"){const i=fn.registry.get(o);return i?new i(e,n):fn.registry.onNotFound(o)}return e.isNode()?new Br(e,n):e.isEdge()?new Ho(e,n):null}getEffectedEdges(e){const n=[],s=e.cell,o=this.model.getConnectedEdges(s);for(let i=0,l=o.length;i<l;i+=1){const a=o[i],c=this.views[a.id];if(!c)continue;const u=c.view;if(!this.isViewMounted(u))continue;const d=["update"];a.getTargetCell()===s&&d.push("target"),a.getSourceCell()===s&&d.push("source"),n.push({id:a.id,view:u,flag:u.getFlag(d)})}return n}isUpdatable(e){if(e.isNodeView())return this.renderArea?this.renderArea.isIntersectWithRect(e.cell.getBBox()):!0;if(e.isEdgeView()){const n=e.cell,s=n.getSourceCell(),o=n.getTargetCell();if(this.renderArea&&s&&o)return this.renderArea.isIntersectWithRect(s.getBBox())||this.renderArea.isIntersectWithRect(o.getBBox())}return!0}getRenderPriority(e){return e.cell.isNode()?Mo.RenderNode:Mo.RenderEdge}dispose(){this.stopListening(),Object.keys(this.views).forEach(e=>{this.views[e].view.dispose()}),this.views={}}}Kae([zo.dispose()],En.prototype,"dispose",null);(function(r){r.FLAG_INSERT=1<<30,r.FLAG_REMOVE=1<<29,r.FLAG_RENDER=(1<<26)-1})(En||(En={}));(function(r){(function(e){e[e.CREATED=0]="CREATED",e[e.MOUNTED=1]="MOUNTED",e[e.WAITING=2]="WAITING"})(r.ViewState||(r.ViewState={}))})(En||(En={}));var Yae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class N0 extends zn{constructor(){super(...arguments),this.schedule=new En(this.graph)}requestViewUpdate(e,n,s={}){this.schedule.requestViewUpdate(e,n,s)}isViewMounted(e){return this.schedule.isViewMounted(e)}setRenderArea(e){this.schedule.setRenderArea(e)}findViewByElem(e){if(e==null)return null;const n=this.options.container,s=typeof e=="string"?n.querySelector(e):e instanceof Element?e:e[0];if(s){const o=this.graph.view.findAttr("data-cell-id",s);if(o){const i=this.schedule.views;if(i[o])return i[o].view}}return null}findViewByCell(e){if(e==null)return null;const n=At.isCell(e)?e.id:e,s=this.schedule.views;return s[n]?s[n].view:null}findViewsFromPoint(e){const n={x:e.x,y:e.y};return this.model.getCells().map(s=>this.findViewByCell(s)).filter(s=>s!=null?Vt.getBBox(s.container,{target:this.view.stage}).containsPoint(n):!1)}findEdgeViewsFromPoint(e,n=5){return this.model.getEdges().map(s=>this.findViewByCell(s)).filter(s=>{if(s!=null){const o=s.getClosestPoint(e);if(o)return o.distance(e)<=n}return!1})}findViewsInArea(e,n={}){const s=Ne.create(e);return this.model.getCells().map(o=>this.findViewByCell(o)).filter(o=>{if(o){if(n.nodeOnly&&!o.isNodeView())return!1;const i=Vt.getBBox(o.container,{target:this.view.stage});return i.width===0?i.inflate(1,0):i.height===0&&i.inflate(0,1),n.strict?s.containsRect(i):s.isIntersectWithRect(i)}return!1})}dispose(){this.schedule.dispose()}}Yae([zn.dispose()],N0.prototype,"dispose",null);var mE=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class JP extends zn{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return this.svg.getElementById(e)!=null}filter(e){let n=e.id;const s=e.name;if(n||(n=`filter-${s}-${this.cid}-${Rm(JSON.stringify(e))}`),!this.isDefined(n)){const o=Ic.registry.get(s);if(o==null)return Ic.registry.onNotFound(s);const i=o(e.args||{}),l=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:n});ut.create(Yt.sanitize(i),l).appendTo(this.defs)}return n}gradient(e){let n=e.id;const s=e.type;if(n||(n=`gradient-${s}-${this.cid}-${Rm(JSON.stringify(e))}`),!this.isDefined(n)){const i=e.stops.map(c=>{const u=c.opacity!=null&&Number.isFinite(c.opacity)?c.opacity:1;return`<stop offset="${c.offset}" stop-color="${c.color}" stop-opacity="${u}"/>`}),l=`<${s}>${i.join("")}</${s}>`,a=Object.assign({id:n},e.attrs);ut.create(l,a).appendTo(this.defs)}return n}marker(e){const{id:n,refX:s,refY:o,markerUnits:i,markerOrient:l,tagName:a,children:c}=e,u=mE(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let d=n;if(d||(d=`marker-${this.cid}-${Rm(JSON.stringify(e))}`),!this.isDefined(d)){a!=="path"&&delete u.d;const f=ut.create("marker",{refX:s,refY:o,id:d,overflow:"visible",orient:l??"auto",markerUnits:i||"userSpaceOnUse"},c?c.map(h=>{var{tagName:p}=h,g=mE(h,["tagName"]);return ut.create(`${p}`||"path",_d(Object.assign(Object.assign({},u),g)))}):[ut.create(a||"path",_d(u))]);this.defs.appendChild(f.node)}return d}remove(e){const n=this.svg.getElementById(e);n&&n.parentNode&&n.parentNode.removeChild(n)}}class XP extends zn{getClientMatrix(){return Bn(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new K(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,n){return(typeof e=="number"?this.clientToLocalPoint(e,n):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,n){const s=K.create(e,n);return Vt.transformPoint(s,this.graph.matrix())}localToClientPoint(e,n){const s=K.create(e,n);return Vt.transformPoint(s,this.getClientMatrix())}localToPagePoint(e,n){return(typeof e=="number"?this.localToGraphPoint(e,n):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,n,s,o){const i=Ne.create(e,n,s,o);return Vt.transformRectangle(i,this.graph.matrix())}localToClientRect(e,n,s,o){const i=Ne.create(e,n,s,o);return Vt.transformRectangle(i,this.getClientMatrix())}localToPageRect(e,n,s,o){return(typeof e=="number"?this.localToGraphRect(e,n,s,o):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,n){const s=K.create(e,n);return Vt.transformPoint(s,this.graph.matrix().inverse())}clientToLocalPoint(e,n){const s=K.create(e,n);return Vt.transformPoint(s,this.getClientMatrix().inverse())}clientToGraphPoint(e,n){const s=K.create(e,n);return Vt.transformPoint(s,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,n){const o=K.create(e,n).diff(this.getPageOffset());return this.graphToLocalPoint(o)}graphToLocalRect(e,n,s,o){const i=Ne.create(e,n,s,o);return Vt.transformRectangle(i,this.graph.matrix().inverse())}clientToLocalRect(e,n,s,o){const i=Ne.create(e,n,s,o);return Vt.transformRectangle(i,this.getClientMatrix().inverse())}clientToGraphRect(e,n,s,o){const i=Ne.create(e,n,s,o);return Vt.transformRectangle(i,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,n,s,o){const i=Ne.create(e,n,s,o),l=this.getPageOffset();return i.x-=l.x,i.y-=l.y,this.graphToLocalRect(i)}}var Jae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class mp extends zn{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:n,options:s={}}){const o=this.resolveHighlighter(s);if(!o)return;const i=this.getHighlighterId(n,o);if(!this.highlights[i]){const l=o.highlighter;l.highlight(e,n,Object.assign({},o.args)),this.highlights[i]={cellView:e,magnet:n,highlighter:l,args:o.args}}}onCellUnhighlight({magnet:e,options:n={}}){const s=this.resolveHighlighter(n);if(!s)return;const o=this.getHighlighterId(e,s);this.unhighlight(o)}resolveHighlighter(e){const n=this.options;let s=e.highlighter;if(s==null){const a=e.type;s=a&&n.highlighting[a]||n.highlighting.default}if(s==null)return null;const o=typeof s=="string"?{name:s}:s,i=o.name,l=Do.registry.get(i);return l==null?Do.registry.onNotFound(i):(Do.check(i,l),{name:i,highlighter:l,args:o.args||{}})}getHighlighterId(e,n){return y0(e),n.name+e.id+JSON.stringify(n.args)}unhighlight(e){const n=this.highlights[e];n&&(n.highlighter.unhighlight(n.cellView,n.magnet,n.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}Jae([mp.dispose()],mp.prototype,"dispose",null);var Xae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class ZP extends zn{getScroller(){const e=this.graph.getPlugin("scroller");return e&&e.options.enabled?e:null}getContainer(){const e=this.getScroller();return e?e.container.parentElement:this.graph.container.parentElement}getSensorTarget(){const e=this.options.autoResize;if(e)return typeof e=="boolean"?this.getContainer():e}init(){if(this.options.autoResize){const n=this.getSensorTarget();n&&ap.bind(n,()=>{const s=n.offsetWidth,o=n.offsetHeight;this.resize(s,o)})}}resize(e,n){const s=this.getScroller();s?s.resize(e,n):this.graph.transform.resize(e,n)}dispose(){ap.clear(this.graph.container)}}Xae([zn.dispose()],ZP.prototype,"dispose",null);var Zae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};class or extends Fr{get container(){return this.options.container}get[Symbol.toStringTag](){return or.toStringTag}constructor(e){super(),this.installedPlugins=new Set,this.options=Rd.get(e),this.css=new Cv(this),this.view=new ho(this),this.defs=new JP(this),this.coord=new XP(this),this.transform=new KP(this),this.highlight=new mp(this),this.grid=new A0(this),this.background=new M0(this),this.options.model?this.model=this.options.model:(this.model=new Is,this.model.graph=this),this.renderer=new N0(this),this.panning=new k0(this),this.mousewheel=new P0(this),this.virtualRender=new YP(this),this.size=new ZP(this)}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,n={}){return this.model.resetCells(e,n),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,n={}){return this.model.fromJSON(e,n),this}getCellById(e){return this.model.getCell(e)}addNode(e,n={}){return this.model.addNode(e,n)}addNodes(e,n={}){return this.addCell(e.map(s=>mn.isNode(s)?s:this.createNode(s)),n)}createNode(e){return this.model.createNode(e)}removeNode(e,n={}){return this.model.removeCell(e,n)}addEdge(e,n={}){return this.model.addEdge(e,n)}addEdges(e,n={}){return this.addCell(e.map(s=>an.isEdge(s)?s:this.createEdge(s)),n)}removeEdge(e,n={}){return this.model.removeCell(e,n)}createEdge(e){return this.model.createEdge(e)}addCell(e,n={}){return this.model.addCell(e,n),this}removeCell(e,n={}){return this.model.removeCell(e,n)}removeCells(e,n={}){return this.model.removeCells(e,n)}removeConnectedEdges(e,n={}){return this.model.removeConnectedEdges(e,n)}disconnectConnectedEdges(e,n={}){return this.model.disconnectConnectedEdges(e,n),this}hasCell(e){return this.model.has(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,n={}){return this.model.getConnectedEdges(e,n)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,n={}){return this.model.getNeighbors(e,n)}isNeighbor(e,n,s={}){return this.model.isNeighbor(e,n,s)}getSuccessors(e,n={}){return this.model.getSuccessors(e,n)}isSuccessor(e,n,s={}){return this.model.isSuccessor(e,n,s)}getPredecessors(e,n={}){return this.model.getPredecessors(e,n)}isPredecessor(e,n,s={}){return this.model.isPredecessor(e,n,s)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,n={}){return this.model.getSubGraph(e,n)}cloneSubGraph(e,n={}){return this.model.cloneSubGraph(e,n)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,n){return this.model.getNodesFromPoint(e,n)}getNodesInArea(e,n,s,o,i){return this.model.getNodesInArea(e,n,s,o,i)}getNodesUnderNode(e,n={}){return this.model.getNodesUnderNode(e,n)}searchCell(e,n,s={}){return this.model.search(e,n,s),this}getShortestPath(e,n,s={}){return this.model.getShortestPath(e,n,s)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,n={}){return this.model.getCellsBBox(e,n)}startBatch(e,n={}){this.model.startBatch(e,n)}stopBatch(e,n={}){this.model.stopBatch(e,n)}batchUpdate(e,n,s){const o=typeof e=="string"?e:"update",i=typeof e=="string"?n:e,l=typeof n=="function"?s:n;this.startBatch(o,l);const a=i();return this.stopBatch(o,l),a}updateCellId(e,n){return this.model.updateCellId(e,n)}findView(e){return At.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return Ne.isRectangleLike(e)?this.findViewsInArea(e):K.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,n){const s=typeof e=="number"?{x:e,y:n}:e;return this.renderer.findViewsFromPoint(s)}findViewsInArea(e,n,s,o,i){const l=typeof e=="number"?{x:e,y:n,width:s,height:o}:e,a=typeof e=="number"?i:n;return this.renderer.findViewsInArea(l,a)}matrix(e){return typeof e>"u"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,n){const s=this.getPlugin("scroller");return s?s.resize(e,n):this.transform.resize(e,n),this}scale(e,n=e,s=0,o=0){return typeof e>"u"?this.transform.getScale():(this.transform.scale(e,n,s,o),this)}zoom(e,n){const s=this.getPlugin("scroller");if(s){if(typeof e>"u")return s.zoom();s.zoom(e,n)}else{if(typeof e>"u")return this.transform.getZoom();this.transform.zoom(e,n)}return this}zoomTo(e,n={}){const s=this.getPlugin("scroller");return s?s.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})),this}zoomToRect(e,n={}){const s=this.getPlugin("scroller");return s?s.zoomToRect(e,n):this.transform.zoomToRect(e,n),this}zoomToFit(e={}){const n=this.getPlugin("scroller");return n?n.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,n,s){return typeof e>"u"?this.transform.getRotation():(this.transform.rotate(e,n,s),this)}translate(e,n){return typeof e>"u"?this.transform.getTranslation():(this.transform.translate(e,n),this)}translateBy(e,n){const s=this.translate(),o=s.tx+e,i=s.ty+n;return this.translate(o,i)}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,n,s,o){return this.transform.fitToContent(e,n,s,o)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,n,s){const o=this.getPlugin("scroller");return o?o.centerPoint(e,n,s):this.transform.centerPoint(e,n),this}centerContent(e){const n=this.getPlugin("scroller");return n?n.centerContent(e):this.transform.centerContent(e),this}centerCell(e,n){const s=this.getPlugin("scroller");return s?s.centerCell(e,n):this.transform.centerCell(e),this}positionPoint(e,n,s,o={}){const i=this.getPlugin("scroller");return i?i.positionPoint(e,n,s,o):this.transform.positionPoint(e,n,s),this}positionRect(e,n,s){const o=this.getPlugin("scroller");return o?o.positionRect(e,n,s):this.transform.positionRect(e,n),this}positionCell(e,n,s){const o=this.getPlugin("scroller");return o?o.positionCell(e,n,s):this.transform.positionCell(e,n),this}positionContent(e,n){const s=this.getPlugin("scroller");return s?s.positionContent(e,n):this.transform.positionContent(e,n),this}snapToGrid(e,n){return this.coord.snapToGrid(e,n)}pageToLocal(e,n,s,o){return Ne.isRectangleLike(e)?this.coord.pageToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof s=="number"&&typeof o=="number"?this.coord.pageToLocalRect(e,n,s,o):this.coord.pageToLocalPoint(e,n)}localToPage(e,n,s,o){return Ne.isRectangleLike(e)?this.coord.localToPageRect(e):typeof e=="number"&&typeof n=="number"&&typeof s=="number"&&typeof o=="number"?this.coord.localToPageRect(e,n,s,o):this.coord.localToPagePoint(e,n)}clientToLocal(e,n,s,o){return Ne.isRectangleLike(e)?this.coord.clientToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof s=="number"&&typeof o=="number"?this.coord.clientToLocalRect(e,n,s,o):this.coord.clientToLocalPoint(e,n)}localToClient(e,n,s,o){return Ne.isRectangleLike(e)?this.coord.localToClientRect(e):typeof e=="number"&&typeof n=="number"&&typeof s=="number"&&typeof o=="number"?this.coord.localToClientRect(e,n,s,o):this.coord.localToClientPoint(e,n)}localToGraph(e,n,s,o){return Ne.isRectangleLike(e)?this.coord.localToGraphRect(e):typeof e=="number"&&typeof n=="number"&&typeof s=="number"&&typeof o=="number"?this.coord.localToGraphRect(e,n,s,o):this.coord.localToGraphPoint(e,n)}graphToLocal(e,n,s,o){return Ne.isRectangleLike(e)?this.coord.graphToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof s=="number"&&typeof o=="number"?this.coord.graphToLocalRect(e,n,s,o):this.coord.graphToLocalPoint(e,n)}clientToGraph(e,n,s,o){return Ne.isRectangleLike(e)?this.coord.clientToGraphRect(e):typeof e=="number"&&typeof n=="number"&&typeof s=="number"&&typeof o=="number"?this.coord.clientToGraphRect(e,n,s,o):this.coord.clientToGraphPoint(e,n)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,n){const s=this.getPlugin("scroller");return s!=null&&(this.options.background==null||!n)?s.drawBackground(e,n):this.background.draw(e),this}clearBackground(e){const n=this.getPlugin("scroller");return n!=null&&(this.options.background==null||!e)?n.clearBackground(e):this.background.clear(),this}enableVirtualRender(){return this.virtualRender.enableVirtualRender(),this}disableVirtualRender(){return this.virtualRender.disableVirtualRender(),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return e==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){const e=this.getPlugin("scroller");return e?e.isPannable():this.panning.pannable}enablePanning(){const e=this.getPlugin("scroller");return e?e.enablePanning():this.panning.enablePanning(),this}disablePanning(){const e=this.getPlugin("scroller");return e?e.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return e==null?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}use(e,...n){return this.installedPlugins.has(e)||(this.installedPlugins.add(e),e.init(this,...n)),this}getPlugin(e){return Array.from(this.installedPlugins).find(n=>n.name===e)}getPlugins(e){return Array.from(this.installedPlugins).filter(n=>e.includes(n.name))}enablePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const s=this.getPlugins(n);return s==null||s.forEach(o=>{var i;(i=o==null?void 0:o.enable)===null||i===void 0||i.call(o)}),this}disablePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const s=this.getPlugins(n);return s==null||s.forEach(o=>{var i;(i=o==null?void 0:o.disable)===null||i===void 0||i.call(o)}),this}isPluginEnabled(e){var n;const s=this.getPlugin(e);return(n=s==null?void 0:s.isEnabled)===null||n===void 0?void 0:n.call(s)}disposePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const s=this.getPlugins(n);return s==null||s.forEach(o=>{o.dispose(),this.installedPlugins.delete(o)}),this}dispose(e=!0){e&&this.model.dispose(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(n=>{n.dispose()})}}Zae([Fr.dispose()],or.prototype,"dispose",null);(function(r){r.View=ho,r.Renderer=N0,r.MouseWheel=P0,r.DefsManager=JP,r.GridManager=A0,r.CoordManager=XP,r.TransformManager=KP,r.HighlightManager=mp,r.BackgroundManager=M0,r.PanningManager=k0})(or||(or={}));(function(r){r.toStringTag=`X6.${r.name}`;function e(n){if(n==null)return!1;if(n instanceof r)return!0;const s=n[Symbol.toStringTag];return s==null||s===r.toStringTag}r.isGraph=e})(or||(or={}));(function(r){function e(n,s){const o=n instanceof HTMLElement?new r({container:n}):new r(n);return s!=null&&o.fromJSON(s),o}r.render=e})(or||(or={}));(function(r){r.registerNode=mn.registry.register,r.registerEdge=an.registry.register,r.registerView=fn.registry.register,r.registerAttr=fo.registry.register,r.registerGrid=Ii.registry.register,r.registerFilter=Ic.registry.register,r.registerNodeTool=$c.registry.register,r.registerEdgeTool=Dc.registry.register,r.registerBackground=kd.registry.register,r.registerHighlighter=Do.registry.register,r.registerPortLayout=Xl.registry.register,r.registerPortLabelLayout=Lc.registry.register,r.registerMarker=Yi.registry.register,r.registerRouter=Li.registry.register,r.registerConnector=Zl.registry.register,r.registerAnchor=Vc.registry.register,r.registerEdgeAnchor=Fc.registry.register,r.registerConnectionPoint=Bc.registry.register})(or||(or={}));(function(r){r.unregisterNode=mn.registry.unregister,r.unregisterEdge=an.registry.unregister,r.unregisterView=fn.registry.unregister,r.unregisterAttr=fo.registry.unregister,r.unregisterGrid=Ii.registry.unregister,r.unregisterFilter=Ic.registry.unregister,r.unregisterNodeTool=$c.registry.unregister,r.unregisterEdgeTool=Dc.registry.unregister,r.unregisterBackground=kd.registry.unregister,r.unregisterHighlighter=Do.registry.unregister,r.unregisterPortLayout=Xl.registry.unregister,r.unregisterPortLabelLayout=Lc.registry.unregister,r.unregisterMarker=Yi.registry.unregister,r.unregisterRouter=Li.registry.unregister,r.unregisterConnector=Zl.registry.unregister,r.unregisterAnchor=Vc.registry.unregister,r.unregisterEdgeAnchor=Fc.registry.unregister,r.unregisterConnectionPoint=Bc.registry.unregister})(or||(or={}));var Qae=function(r,e,n,s){var o=arguments.length,i=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var a=r.length-1;a>=0;a--)(l=r[a])&&(i=(o<3?l(i):o>3?l(e,n,i):l(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},ece=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};class Hc extends mn{}(function(r){class e extends Br{init(){super.init(),this.cell.on("change:*",this.onCellChangeAny,this)}onCellChangeAny({key:s}){const o=r.shapeMaps[this.cell.shape];if(o){const{effect:i}=o;(!i||i.includes(s))&&this.renderHTMLComponent()}}confirmUpdate(s){const o=super.confirmUpdate(s);return this.handleAction(o,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const s=this.selectors&&this.selectors.foContent;if(s){ff(s);const o=r.shapeMaps[this.cell.shape];if(!o)return;let{html:i}=o;typeof i=="function"&&(i=i(this.cell)),i&&(typeof i=="string"?s.innerHTML=i:hf(s,i))}}dispose(){this.cell.off("change:*",this.onCellChangeAny,this)}}Qae([e.dispose()],e.prototype,"dispose",null),r.View=e,function(n){n.action="html",n.config({bootstrap:[n.action],actions:{html:n.action}}),Br.registry.register("html-view",n,!0)}(e=r.View||(r.View={}))})(Hc||(Hc={}));(function(r){r.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Yt.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),mn.registry.register("html",r,!0)})(Hc||(Hc={}));(function(r){r.shapeMaps={};function e(n){const{shape:s,html:o,effect:i,inherit:l}=n,a=ece(n,["shape","html","effect","inherit"]);if(!s)throw new Error("should specify shape in config");r.shapeMaps[s]={html:o,effect:i},or.registerNode(s,Object.assign({inherit:l||"html"},a),!0)}r.register=e})(Hc||(Hc={}));class bE extends mn{}(function(r){function e(n){const s=[],o=Yt.getForeignObjectMarkup();return n?s.push({tagName:n,selector:"body"},o):s.push(o),s}r.config({view:"vue-shape-view",markup:e(),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}},propHooks(n){if(n.markup==null){const s=n.primer;if(s){n.markup=e(s);let o={};switch(s){case"circle":o={refCx:"50%",refCy:"50%",refR:"50%"};break;case"ellipse":o={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"};break}n.attrs=on({},{body:Object.assign({refWidth:null,refHeight:null},o)},n.attrs||{})}}return n}}),mn.registry.register("vue-shape",r,!0)})(bE||(bE={}));var tce=function(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n};const QP={};function Sl(r){const{shape:e,component:n,inherit:s}=r,o=tce(r,["shape","component","inherit"]);if(!e)throw new Error("should specify shape in config");QP[e]={component:n},or.registerNode(e,Object.assign({inherit:s||"vue-shape"},o),!0)}let Ag=!1;const bp=St({});function nce(r,e,n,s,o){Ag&&(bp[r]=Zu(pe({render:()=>Ye(Uc,{to:n},[Ye(e,{node:s,graph:o})]),provide:()=>({getNode:()=>s,getGraph:()=>o})})))}function rce(r){Ag&&delete bp[r]}function vE(){return Ag}function sce(){return Ag=!0,pe({setup(){return()=>Ye(De,{},Object.keys(bp).map(r=>Ye(bp[r])))}})}class vp extends Br{getComponentContainer(){return this.selectors&&this.selectors.foContent}confirmUpdate(e){const n=super.confirmUpdate(e);return this.handleAction(n,vp.action,()=>{this.renderVueComponent()})}targetId(){return`${this.graph.view.cid}:${this.cell.id}`}renderVueComponent(){this.unmountVueComponent();const e=this.getComponentContainer(),n=this.cell,s=this.graph;if(e){const{component:o}=QP[n.shape];o&&(vE()?nce(this.targetId(),o,e,n,s):(this.vm=Gv({render(){return Ye(o,{node:n,graph:s})},provide(){return{getNode:()=>n,getGraph:()=>s}}}),this.vm.mount(e)))}}unmountVueComponent(){const e=this.getComponentContainer();return this.vm&&(this.vm.unmount(),this.vm=null),e&&(e.innerHTML=""),e}onMouseDown(e,n,s){const o=e.target;if(o.tagName.toLowerCase()==="input"){const l=o.getAttribute("type");if(l==null||["text","password","number","email","search","tel","url"].includes(l))return}super.onMouseDown(e,n,s)}unmount(){return vE()&&rce(this.targetId()),this.unmountVueComponent(),super.unmount(),this}}(function(r){r.action="vue",r.config({bootstrap:[r.action],actions:{component:r.action}}),Br.registry.register("vue-shape-view",r,!0)})(vp||(vp={}));const oce={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ice=H("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"},null,-1),lce=[ice];function ace(r,e){return N(),X("svg",oce,[...lce])}const cce={name:"ep-delete",render:ace},uce={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},dce=H("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"},null,-1),fce=H("path",{fill:"currentColor",d:"m469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),hce=[dce,fce];function pce(r,e){return N(),X("svg",uce,[...hce])}const gce={name:"ep-edit",render:pce},mce={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},bce=H("path",{fill:"currentColor",d:"M280.768 753.728L691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64z"},null,-1),vce=[bce];function yce(r,e){return N(),X("svg",mce,[...vce])}const wce={name:"ep-finished",render:yce},Cce={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Sce=H("path",{fill:"currentColor",d:"m64 448l832-320l-128 704l-446.08-243.328L832 192L242.816 545.472zm256 512V657.024L512 768z"},null,-1),xce=[Sce];function Ece(r,e){return N(),X("svg",Cce,[...xce])}const Tce={name:"ep-promotion",render:Ece},_ce={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Oce=H("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0a30.592 30.592 0 0 1 0-42.752L764.736 512L452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0a30.592 30.592 0 0 1 0-42.752L508.736 512L196.864 192a30.592 30.592 0 0 1 0-42.688"},null,-1),Ace=[Oce];function Mce(r,e){return N(),X("svg",_ce,[...Ace])}const yE={name:"ep-d-arrow-right",render:Mce},kce={class:"text-large font-600 mr-3"},Pce={class:"flex items-center"},Nce=["id","onClick"],Ice=["onClick"],Lce={class:"nodesBox"},Rce=["onDragend"],$ce={class:"dialog-footer"},Dce={style:{flex:"auto"}},Vce={__name:"SubFlow",setup(r){const{t:e,tm:n,rt:s}=cn(),o=Go(),i=ps(),l=o.params.robotId,a=sce(),c=j([]),u=j([]);function d(){const Se=new Array;for(let D=0;D<c.value.length;D++)Se.push({id:c.value[D].id,name:c.value[D].name});return Se}Wt("subFlowNamesFn",{subflowNames:u,updateSubFlowNames:d}),Wt("robotId",{robotId:l}),Sl({shape:"CollectNode",width:270,height:120,component:EJ,ports:{groups:{absolute:{position:{name:"absolute"},attrs:{circle:{r:5,magnet:!0,stroke:"black",strokeWidth:1,fill:"#fff",style:{visibility:"show"}}},label:{position:"left"}}}}}),Sl({shape:"ConditionNode",width:270,height:100,component:VJ,ports:{groups:{absolute:{position:{name:"absolute"},attrs:{circle:{r:5,magnet:!0,stroke:"black",strokeWidth:1,fill:"#fff",style:{visibility:"show"}}},label:{position:"left"}}}}}),Sl({shape:"DialogNode",width:270,height:100,component:Ere,ports:{groups:{absolute:{position:{name:"absolute"},attrs:{circle:{r:5,magnet:!0,stroke:"black",strokeWidth:1,fill:"#fff",style:{visibility:"show"}}},label:{position:"left"}}}}}),Sl({shape:"GotoNode",width:270,height:100,component:Nre,ports:{groups:{absolute:{position:{name:"absolute"},attrs:{circle:{r:5,magnet:!0,stroke:"black",strokeWidth:1,fill:"#fff",style:{visibility:"show"}}},label:{position:"left"}}}}}),Sl({shape:"ExternalHttpNode",width:270,height:100,component:Fre,ports:{groups:{absolute:{position:{name:"absolute"},attrs:{circle:{r:5,magnet:!0,stroke:"black",strokeWidth:1,fill:"#fff",style:{visibility:"show"}}},label:{position:"left"}}}}}),Sl({shape:"SendEmailNode",width:270,height:100,component:qre,ports:{groups:{absolute:{position:{name:"absolute"},attrs:{circle:{r:5,magnet:!0,stroke:"black",strokeWidth:1,fill:"#fff",style:{visibility:"show"}}},label:{position:"left"}}}}}),Sl({shape:"EndNode",width:270,height:100,component:Are,ports:{groups:{absolute:{position:{name:"absolute"},attrs:{circle:{r:5,magnet:!0,stroke:"black",strokeWidth:1,fill:"#fff",style:{visibility:"show"}}},label:{position:"left"}}}}});const f=[{name:n("lang.flow.nodes")[0],type:"DialogNode",desc:n("lang.flow.nodesDesc")[0],cnt:1},{name:n("lang.flow.nodes")[1],type:"ConditionNode",desc:n("lang.flow.nodesDesc")[1],cnt:1},{name:n("lang.flow.nodes")[2],type:"CollectNode",desc:n("lang.flow.nodesDesc")[2],cnt:1},{name:"ExternalHttpNode",type:"ExternalHttpNode",desc:"Request and send data to external HTTP API with variables",cnt:1},{name:"SendEmailNode",type:"SendEmailNode",desc:"Sending an email an many recipients",cnt:1},{name:n("lang.flow.nodes")[3],type:"GotoNode",desc:n("lang.flow.nodesDesc")[3],cnt:1},{name:"EndNode",type:"EndNode",desc:"Ending node",cnt:1}];let h=-1,p=null,g=!1;const m=o.params.id,v=QY(o.params.name),b=m.indexOf("demo")>-1;nt(async()=>{const Se=document.getElementById("canvas");p=new or({container:Se,width:Se.offsetWidth-10,height:Se.offsetHeight,background:{color:"#F2F7FA"},autoResize:!1,connecting:{allowBlank:!1,allowLoop:!1,allowNode:!0,allowMulti:!0,createEdge(){return this.createEdge({shape:"edge",attrs:{line:{stroke:"#8f8f8f",strokeWidth:1,targetMarker:{name:"block",width:12,height:8}}}})}},highlighting:{magnetAvailable:{name:"stroke",args:{padding:4,attrs:{"stroke-width":2,stroke:"black"}}}},panning:!0}),p.on("node:click",({e:L,x:te,y:he,node:ge,view:Ce})=>{ge.setTools([{name:"button-remove",args:{x:0,y:0}}])}),p.on("node:mouseleave",({e:L,x:te,y:he,node:ge,view:Ce})=>{ge.hasTool("button-remove")&&ge.removeTool("button-remove")}),p.on("node:dblclick",({e:L,x:te,y:he,node:ge,view:Ce})=>{ge.setData({currentTime:Date.now()}),g=!0}),p.on("edge:click",({e:L,x:te,y:he,edge:ge,view:Ce})=>{ge.setTools(["button-remove"])});const D=await rt("GET","subflow",{robotId:l,mainFlowId:m,data:""},null,null);x(b?{status:200,data:D}:D),tt(()=>{k(0)})}),qo(()=>{p!=null&&p.dispose()});function C(Se,D,L){const te=p.addNode({shape:L.type,x:Se,y:D});L.cnt++,te.setData({nodeType:L.type,nodeCnt:L.cnt}),g=!0}function y(Se,D){const L=p.pageToLocal(Se.pageX,Se.pageY);C(L.x,L.y,D)}function w(Se){Se.preventDefault()}function x(Se){Se&&Se.status==200&&Se.data&&(c.value=Se.data)}const E=j(!1),_=j("");async function M(){await $();const Se=await rt("POST","subflow/new",{robotId:l,mainFlowId:m,data:_.value},null,null);if(Se.status==200){const D=c.value.length;x(Se),tt(()=>{k(D),_.value=""})}}function A(Se){c.value.length<2?tn.error(e("lang.flow.needOne")):Vr.confirm(e("lang.flow.delConfirm"),"Warning",{confirmButtonText:e("lang.common.del"),cancelButtonText:e("lang.common.cancel"),type:"warning"}).then(async()=>{(await rt("DELETE","subflow",{robotId:l,mainFlowId:m,data:h},null,null)).status==200&&(h=-1,c.value.splice(Se,1),k(0)),tn({type:"success",message:e("lang.common.deleted")})}).catch(()=>{})}async function k(Se){Se!=h&&(g?Vr.confirm(e("lang.flow.changeSaveTip"),"Warning",{confirmButtonText:e("lang.common.save"),cancelButtonText:e("lang.common.cancel"),type:"warning"}).then(async()=>{await $(),P(Se),g=!1}).catch(()=>{}):P(Se))}function P(Se){const D=document.getElementById(B(h));D&&(D.style.backgroundColor="white",D.style.color="black"),h=Se;const L=document.getElementById(B(h));if(L.style.backgroundColor="rgb(245,246,249)",L.style.color="rgb(131,88,179)",c.value[h].canvas){const he=JSON.parse(c.value[h].canvas).cells;p.fromJSON(he)}else p.clearCells()}async function $(){R.value=!0,U.value=!0;const Se=p.toJSON();Se.cells.forEach(function(Ce,xe,V){Ce.shape!="edge"&&(Ce.data.nodeId=Ce.id)},f);const L=c.value[h],te=[];for(let Ce=0;Ce<f.length;Ce++)te.push(f[Ce].cnt);const he={valid:!1,id:L.id,name:L.name,canvas:JSON.stringify(Se),nodesStat:te},ge=await rt("POST","subflow",{robotId:l,mainFlowId:m,data:h},null,he);x(ge),Bf({title:e("lang.common.successTip"),message:Ye("b",{style:"color: teal"},e("lang.common.saved")),type:"success"}),U.value=!1,R.value=!1,g=!1}function B(Se){return"subFlow"+Se.toString()}function W(){b?i.push({name:"robotDetail",params:{robotId:l}}):i.push({name:"mainflows",params:{robotId:l}})}async function I(){R.value=!0,Q.value=!0,b||await $();const Se=await rt("GET","mainflow/release",{robotId:l,mainFlowId:m,data:""},null,null);Se.status==200?Bf({title:e("lang.common.successTip"),message:Ye("b",{style:"color: teal"},e("lang.flow.subFlowReleased")),type:"success"}):Bf({title:e("lang.common.errTip"),message:Ye("b",{style:"color: teal"},Se.err.message),type:"error"}),Q.value=!1,R.value=!1}const R=j(!1),U=j(!1),Q=j(!1),q=j(!1),ee=j(),de=j(),ce=j(!1),Te=j(""),fe=j([]);let we="";function Ee(){return Date.now().toString()+Math.random().toString(16)}function G(Se,D){fe.value.push({id:"chat-"+Math.random().toString(16),text:Se,cssClass:D})}async function ne(){if(fe.value.length>0&&!Te.value)return;Te.value&&G(Te.value,"userText"),we||(we=Ee());const Se={robotId:l,mainFlowId:m,sessionId:we,userInputResult:fe.value.length==0||Te.value?"Successful":"Timeout",userInput:Te.value,importVariables:[]},D=await rt("POST","flow/answer",null,null,Se);if(D.status==200){const L=D.data,te=L.answers;for(let he=0;he<te.length;he++)G(te[he].text,"responseText");Te.value="",L.nextAction=="Terminate"&&(G(e("lang.flow.guideReset"),"terminateText"),q.value=!0),tt(()=>{ee.value.setScrollTop(de.value.clientHeight)})}else Bf({title:e("lang.common.errTip"),message:Ye("b",{style:"color: teal"},D.err.message),type:"error"});me.value.focus()}async function se(){fe.value.splice(0,fe.value.length),Te.value="",we="",q.value=!1,await ne()}const me=j(),Pe=async()=>{ce.value=!0,await ne()};return(Se,D)=>{const L=dt,te=Uy,he=Pn,ge=mo,Ce=LW,xe=IW,V=gs,F=RW,J=NW,ie=Sn,Ae=lr,re=ir,Z=ll,ae=Qp,je=RO,Qe=Zo,Me=fY;return N(),X("div",null,[T(J,null,{default:O(()=>[T(Ce,{height:"40px"},{default:O(()=>[T(ge,{title:S(e)("lang.common.back"),onBack:W},{content:O(()=>[H("span",kce,oe(S(v)),1)]),extra:O(()=>[H("div",Pce,[Ue(T(te,null,{default:O(()=>[le(oe(Se.$tm("lang.flow.steps")[0])+" ",1),T(L,{size:20},{default:O(()=>[T(S(yE))]),_:1})]),_:1},512),[[st,b]]),Ue(T(he,{type:"primary",class:"ml-2",onClick:$,loading:U.value,size:"large"},{default:O(()=>[T(L,{size:20},{default:O(()=>[T(S(gce))]),_:1}),le(oe(Se.$t("lang.flow.save")),1)]),_:1},8,["loading"]),[[st,!b]]),T(he,{type:"success",onClick:I,loading:Q.value,size:"large"},{default:O(()=>[T(L,{size:20},{default:O(()=>[T(S(wce))]),_:1}),le(oe(Se.$t("lang.flow.pub")),1)]),_:1},8,["loading"]),Ue(T(te,null,{default:O(()=>[le(oe(Se.$tm("lang.flow.steps")[1])+" ",1),T(L,null,{default:O(()=>[T(S(yE))]),_:1})]),_:1},512),[[st,b]]),T(he,{color:"#626aef",class:"ml-2",onClick:Pe,size:"large"},{default:O(()=>[T(L,{size:20},{default:O(()=>[T(S(Tce))]),_:1}),le(" "+oe(Se.$t("lang.flow.test")),1)]),_:1})])]),_:1},8,["title"])]),_:1}),T(J,null,{default:O(()=>[T(xe,{width:"150px"},{default:O(()=>[H("div",{class:"newSubFlowBtn",onClick:D[0]||(D[0]=ke=>E.value=!0)},[T(L,{size:"16px"},{default:O(()=>[T(S(Bu))]),_:1}),le(" "+oe(Se.$t("lang.flow.addSubFlow")),1)]),(N(!0),X(De,null,Ot(c.value,(ke,Je)=>(N(),X("div",{id:B(Je),key:ke.label,onClick:it=>k(Je),class:"subFlowBtn"},[le(oe(ke.name)+" ",1),H("span",{onClick:it=>A(Je)},[T(L,null,{default:O(()=>[T(S(cce))]),_:1})],8,Ice)],8,Nce))),128))]),_:1}),Ue((N(),ye(F,null,{default:O(()=>[H("div",Lce,[(N(),X(De,null,Ot(f,ke=>H("div",{key:ke.type,class:Y(["node-btn",ke.type]),draggable:"true",onDragend:Je=>y(Je,ke)},[T(V,{class:"box-item",effect:"dark",content:ke.desc,placement:"right-start"},{default:O(()=>[H("span",null,oe(ke.name),1)]),_:2},1032,["content"])],42,Rce)),64))]),H("div",{id:"canvas",onDragover:w,style:{border:"1px #000 solid"}},null,32),T(S(a))]),_:1})),[[Me,R.value]])]),_:1})]),_:1}),T(Z,{modelValue:E.value,"onUpdate:modelValue":D[4]||(D[4]=ke=>E.value=ke),title:Se.$t("lang.flow.addSubFlow")},{footer:O(()=>[H("span",$ce,[T(he,{type:"primary",onClick:D[2]||(D[2]=ke=>{E.value=!1,M()})},{default:O(()=>[le(oe(Se.$t("lang.common.add")),1)]),_:1}),T(he,{onClick:D[3]||(D[3]=ke=>E.value=!1)},{default:O(()=>[le(oe(Se.$t("lang.common.cancel")),1)]),_:1})])]),default:O(()=>[T(re,{model:Se.form},{default:O(()=>[T(Ae,{label:S(e)("lang.flow.form.name"),"label-width":"110px"},{default:O(()=>[T(ie,{modelValue:_.value,"onUpdate:modelValue":D[1]||(D[1]=ke=>_.value=ke),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),T(Qe,{modelValue:ce.value,"onUpdate:modelValue":D[7]||(D[7]=ke=>ce.value=ke),direction:"rtl"},{header:O(()=>[H("b",null,oe(Se.$t("lang.flow.test")),1)]),default:O(()=>[T(ae,{ref_key:"chatScrollbarRef",ref:ee,height:"100%",always:""},{default:O(()=>[H("div",{ref_key:"dryrunChatRecords",ref:de},[(N(!0),X(De,null,Ot(fe.value,ke=>(N(),X("div",{key:ke.id,class:Y(ke.cssClass)},[T(te,null,{default:O(()=>[le(oe(ke.text),1)]),_:2},1024)],2))),128))],512)]),_:1},512)]),footer:O(()=>[H("div",Dce,[T(ie,{ref_key:"dryrunInput",ref:me,disabled:q.value,modelValue:Te.value,"onUpdate:modelValue":D[5]||(D[5]=ke=>Te.value=ke),placeholder:"",style:{width:"200px"},onKeypress:D[6]||(D[6]=ke=>{ke.keyCode==13&&ne()})},null,8,["disabled","modelValue"]),T(je,null,{default:O(()=>[T(he,{type:"primary",disabled:q.value,onClick:ne},{default:O(()=>[le(oe(Se.$t("lang.flow.send")),1)]),_:1},8,["disabled"]),T(he,{onClick:se},{default:O(()=>[le(oe(Se.$t("lang.flow.reset")),1)]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}},wE=Hs(Vce,[["__scopeId","data-v-3d106c8d"]]),Fce={class:"text-large font-600 mr-3"},Bce={class:"flex items-center"},zce={class:"dialog-footer"},jce="70px",Hce={__name:"IntentList",setup(r){const{t:e,tm:n,rt:s}=cn(),o=Go(),i=ps(),l=j([]),a=j(!1),c=j(""),u=o.params.robotId;nt(async()=>{await f()});const d=()=>{i.push({name:"robotDetail",params:{robotId:u}})};async function f(){const C=await rt("GET","intent",{robotId:u},null,null);C.status==200&&(l.value=C.data)}async function h(){const C={robotId:u,id:"",data:c.value};(await rt("POST","intent",null,null,C)).status==200&&await f()}function p(C,y){i.push({path:"/intent/detail",query:{robotId:u,id:l.value[C].id,idx:C,name:y.name}})}async function g(C,y){Vr.confirm(e("lang.intent.delConfirm"),"Warning",{confirmButtonText:e("lang.common.del"),cancelButtonText:e("lang.common.cancel"),type:"warning"}).then(async()=>{const w={robotId:u,id:l.value[C].id,data:C.toString()},x=await rt("DELETE","intent",null,null,w);x.status==200?(await f(),tn({type:"success",message:x("lang.common.deleted")})):tn({type:"error",message:x.err.message})}).catch(()=>{})}const m=j(""),v=j("");async function b(){const C={robotId:u,id:"",data:m.value},y=await rt("POST","intent/detect",null,null,C);y.status==200&&(y.data==null?v.value="No intention detected.":v.value="The detected intention is: "+y.data)}return(C,y)=>{const w=Pn,x=mo,E=sf,_=rf,M=Vy,A=Sn,k=lr,P=ir,$=ll;return N(),X(De,null,[T(x,{title:S(e)("lang.common.back"),onBack:d},{content:O(()=>[H("span",Fce,oe(C.$t("lang.intent.title")),1)]),extra:O(()=>[H("div",Bce,[T(w,{type:"primary",class:"ml-2",onClick:y[0]||(y[0]=B=>a.value=!0)},{default:O(()=>[le(oe(C.$t("lang.intent.add")),1)]),_:1})])]),_:1},8,["title"]),T(_,{data:l.value,stripe:"",style:{width:"100%"}},{default:O(()=>[T(E,{prop:"name",label:S(n)("lang.intent.table")[0],width:"180"},null,8,["label"]),T(E,{prop:"keyword_num",label:S(n)("lang.intent.table")[1],width:"180"},null,8,["label"]),T(E,{prop:"regex_num",label:S(n)("lang.intent.table")[2],width:"180"},null,8,["label"]),T(E,{prop:"phrase_num",label:S(n)("lang.intent.table")[3],width:"230"},null,8,["label"]),T(E,{fixed:"right",label:S(n)("lang.intent.table")[4],width:"120"},{default:O(B=>[T(w,{link:"",type:"primary",size:"small",onClick:W=>p(B.$index,B.row)},{default:O(()=>[le(oe(C.$t("lang.common.edit")),1)]),_:2},1032,["onClick"]),T(w,{link:"",type:"primary",size:"small",onClick:W=>g(B.$index,B.row)},{default:O(()=>[le(oe(C.$t("lang.common.del")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),T(M),T(A,{modelValue:m.value,"onUpdate:modelValue":y[1]||(y[1]=B=>m.value=B),style:{width:"240px"},placeholder:"Please input some texts",onChange:b},null,8,["modelValue"]),T(w,{type:"primary",onClick:b},{default:O(()=>[le("Test intent detection")]),_:1}),H("div",null,oe(v.value),1),T($,{modelValue:a.value,"onUpdate:modelValue":y[5]||(y[5]=B=>a.value=B),title:S(e)("lang.intent.form.title")},{footer:O(()=>[H("span",zce,[T(w,{type:"primary",onClick:y[3]||(y[3]=B=>{a.value=!1,h()})},{default:O(()=>[le(oe(C.$t("lang.common.add")),1)]),_:1}),T(w,{onClick:y[4]||(y[4]=B=>a.value=!1)},{default:O(()=>[le(oe(C.$t("lang.common.cancel")),1)]),_:1})])]),default:O(()=>[T(P,{model:C.form},{default:O(()=>[T(k,{label:S(e)("lang.intent.form.name"),"label-width":jce},{default:O(()=>[T(A,{modelValue:c.value,"onUpdate:modelValue":y[2]||(y[2]=B=>c.value=B),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}},Uce={class:"text-large font-600 mr-3"},Wce={__name:"IntentDetail",setup(r){const{t:e,tm:n,rt:s}=cn(),o=Go(),i=ps(),l=o.query.robotId,a=St({keywords:[],regexes:[],phrases:[]}),c={robotId:"",id:"",data:""};nt(async()=>{c.robotId=l,c.id=o.query.id;let B=await rt("GET","intent/detail",c,null,null);B.status==200&&B.data&&(a.keywords=B.data.keywords,a.regexes=B.data.regexes,a.phrases=B.data.phrases.map((W,I,R)=>W.phrase)),B=await rt("GET","management/settings/model/check",{robotId:l},null,null),E.value=B==null||B.status==null||B.status!=200});const u=j(""),d=j(!1),f=j(),h=()=>{d.value=!0,tt(()=>{f.value.focus()})};async function p(){u.value&&(c.id=o.query.id,c.data=u.value,(await rt("POST","intent/keyword",{id:c.id,data:o.query.idx},null,c)).status==200&&a.keywords.push(u.value)),d.value=!1,u.value=""}async function g(B){Vr.confirm(B+" will be deleted permanently. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const W=a.keywords.indexOf(B);c.id=o.query.id,c.data=W.toString(),(await rt("DELETE","intent/keyword",null,null,c)).status==200&&(a.keywords.splice(W,1),tn({type:"success",message:"Delete completed"}))}).catch(()=>{})}const m=j(""),v=j(!1),b=j(),C=()=>{v.value=!0,tt(()=>{b.value.focus()})};async function y(){m.value&&(c.id=o.query.id,c.data=m.value,(await rt("POST","intent/regex",{id:c.id,data:o.query.idx},null,c)).status==200&&a.regexes.push(m.value)),v.value=!1,m.value=""}async function w(B){Vr.confirm(B+" will be deleted permanently. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const W=a.regexes.indexOf(B);c.id=o.query.id,c.data=W.toString(),(await rt("DELETE","intent/regex",null,null,c)).status==200&&(a.regexes.splice(W,1),tn({type:"success",message:"Delete completed"}))}).catch(()=>{})}const x=j(""),E=j(!0),_=j(!1),M=j(),A=()=>{_.value=!0,tt(()=>{M.value.focus()})};async function k(){x.value&&(c.id=o.query.id,c.data=x.value,(await rt("POST","intent/phrase",{robotId:l,id:c.id,data:o.query.idx},null,c)).status==200&&a.phrases.push(x.value)),_.value=!1,x.value=""}async function P(B){Vr.confirm(B+" will be deleted permanently. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const W=a.phrases.indexOf(B);c.id=o.query.id,c.data=W.toString(),(await rt("DELETE","intent/phrase",null,null,c)).status==200&&(a.phrases.splice(W,1),tn({type:"success",message:"Delete completed"}))}).catch(()=>{})}const $=()=>{i.push({name:"intents",params:{robotId:l}})};return(B,W)=>{const I=mo,R=rA,U=Sn,Q=Pn,q=Pt("router-link");return N(),X(De,null,[T(I,{title:S(e)("lang.common.back"),onBack:$},{content:O(()=>[H("span",Uce,oe(B.$t("lang.intent.detail.edit"))+": "+oe(S(o).query.name),1)]),_:1},8,["title"]),H("h3",null,oe(B.$t("lang.intent.detail.kw")),1),(N(!0),X(De,null,Ot(a.keywords,ee=>(N(),ye(R,{type:"info",key:ee,class:"mx-1",closable:"","disable-transitions":!1,onClose:de=>g(ee)},{default:O(()=>[le(oe(ee),1)]),_:2},1032,["onClose"]))),128)),d.value?(N(),ye(U,{key:0,ref_key:"keywordInputRef",ref:f,modelValue:u.value,"onUpdate:modelValue":W[0]||(W[0]=ee=>u.value=ee),class:"ml-1 w-20",size:"small",onKeyup:tr(p,["enter"]),onBlur:p},null,8,["modelValue"])):(N(),ye(Q,{key:1,class:"button-new-tag ml-1",size:"small",onClick:h},{default:O(()=>[le(" + "+oe(B.$t("lang.intent.detail.addKw")),1)]),_:1})),H("h3",null,oe(B.$t("lang.intent.detail.re")),1),(N(!0),X(De,null,Ot(a.regexes,ee=>(N(),ye(R,{type:"info",key:ee,class:"mx-1",closable:"","disable-transitions":!1,onClose:de=>w(ee)},{default:O(()=>[le(oe(ee),1)]),_:2},1032,["onClose"]))),128)),v.value?(N(),ye(U,{key:2,ref_key:"regexInputRef",ref:b,modelValue:m.value,"onUpdate:modelValue":W[1]||(W[1]=ee=>m.value=ee),class:"ml-1 w-20",size:"small",onKeyup:tr(y,["enter"]),onBlur:y},null,8,["modelValue"])):(N(),ye(Q,{key:3,class:"button-new-tag ml-1",size:"small",onClick:C},{default:O(()=>[le(" + "+oe(B.$t("lang.intent.detail.addRe")),1)]),_:1})),H("h3",null,oe(B.$t("lang.intent.detail.sp")),1),(N(!0),X(De,null,Ot(a.phrases,ee=>(N(),ye(R,{type:"info",key:ee,class:"mx-1",closable:"","disable-transitions":!1,onClose:de=>P(ee)},{default:O(()=>[le(oe(ee),1)]),_:2},1032,["onClose"]))),128)),_.value?(N(),ye(U,{key:4,ref_key:"phraseInputRef",ref:M,modelValue:x.value,"onUpdate:modelValue":W[2]||(W[2]=ee=>x.value=ee),class:"ml-1 w-20",size:"small",onKeyup:tr(k,["enter"]),onBlur:k},null,8,["modelValue"])):(N(),ye(Q,{key:5,class:"button-new-tag ml-1",size:"small",onClick:A,disabled:E.value},{default:O(()=>[le(" + "+oe(B.$t("lang.intent.detail.addSp")),1)]),_:1},8,["disabled"])),Ue(H("div",null,[le(" This feature was disabled since model files were missing, please goto "),T(q,{to:"/settings"},{default:O(()=>[le("settings")]),_:1}),le(" and select one model first. ")],512),[[st,E.value]])],64)}}},qce={class:"text-large font-600 mr-3"},Gce={class:"flex items-center"},Kce=H("br",null,null,-1),Yce=["checked"],Jce=H("label",{for:"_cacheEnabled_"},"Enable",-1),Xce={key:0},Zce={key:1},Qce={class:"demo-drawer__footer"},To="160px",eue={__name:"Variable",setup(r){const{t:e,tm:n,rt:s}=cn(),o=Go(),i=ps(),l=o.params.robotId,a=St({varName:"",varType:"",varValueSource:"",varConstantValue:"",varAssociateData:"",obtainValueExpressionType:"None",obtainValueExpression:"",cacheEnabled:!0}),c=[{label:n("lang.var.types")[0],value:"Str"},{label:n("lang.var.types")[1],value:"Num"}],u=new Map;c.forEach(function(A,k,P){this.set(A.value,A.label)},u);const d=[{label:n("lang.var.sources")[0],value:"Import",disabled:!1},{label:n("lang.var.sources")[1],value:"Collect",disabled:!1},{label:"User input",value:"UserInput",disabled:!1},{label:"Constant value",value:"Constant",disabled:!1},{label:n("lang.var.sources")[2],value:"ExternalHttp",disabled:!1}],f=new Map;d.forEach(function(A,k,P){this.set(A.value,A.label)},f);const h=[{label:"JSON Pointer",value:"JsonPointer",disabled:!1},{label:"Html Scrape",value:"HtmlScrape",disabled:!1}],p=j(!1),g=j([]),m=j([]);async function v(){const A=await rt("GET","variable",{robotId:l},null,null);b(A)}nt(async()=>{const A=await rt("GET","external/http",{robotId:l},null,null);A&&A.status==200&&(m.value=A.data==null?[]:A.data),await v()});const b=A=>{A&&A.status==200&&(g.value=A.data==null?[]:A.data,g.value.forEach(function(k,P,$){k.varTypeT=u.get(k.varType),k.varValueSourceT=f.get(k.varValueSource)}))},C=()=>{i.push({name:"robotDetail",params:{robotId:l}})},y=()=>{a.varName="",a.varType="",a.varValueSource="",a.constantValue="",a.externalAssociateId="",a.obtainValueExpressionType="None",a.obtainValueExpression="",a.cacheEnabled=!1,E()},w=(A,k)=>{sr(k,a),E()},x=async(A,k)=>{Vr.confirm(k.varName+" will be deleted permanently. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{sr(k,a),(await rt("DELETE","variable",{robotId:l},null,a)).status==200&&(await v(),tn({type:"success",message:"Delete completed"}))}).catch(()=>{})};function E(){p.value=!0}function _(){p.value=!1}async function M(){const A=await rt("POST","variable",{robotId:l},null,a);await v(),_()}return(A,k)=>{const P=Pn,$=mo,B=sf,W=rf,I=Sn,R=lr,U=ei,Q=Qo,q=Pt("router-link"),ee=ir,de=Zo;return N(),X(De,null,[T($,{title:S(e)("lang.common.back"),onBack:C},{content:O(()=>[H("span",qce,oe(A.$t("lang.var.title")),1)]),extra:O(()=>[H("div",Gce,[T(P,{type:"primary",class:"ml-2",onClick:k[0]||(k[0]=ce=>y())},{default:O(()=>[le(oe(A.$t("lang.var.add")),1)]),_:1})])]),_:1},8,["title"]),T(W,{data:g.value,stripe:"",style:{width:"100%"}},{default:O(()=>[T(B,{prop:"varName",label:S(n)("lang.var.table")[0],width:"300"},null,8,["label"]),T(B,{prop:"varTypeT",label:S(n)("lang.var.table")[1],width:"180"},null,8,["label"]),T(B,{prop:"varValueSourceT",label:S(n)("lang.var.table")[2],width:"200"},null,8,["label"]),T(B,{fixed:"right",label:S(n)("lang.var.table")[3],width:"120"},{default:O(ce=>[T(P,{link:"",type:"primary",size:"small",onClick:Te=>w(ce.$index,ce.row)},{default:O(()=>[le(oe(A.$t("lang.common.edit")),1)]),_:2},1032,["onClick"]),T(P,{link:"",type:"primary",size:"small",onClick:Te=>x(ce.$index,ce.row)},{default:O(()=>[le(oe(A.$t("lang.common.del")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),T(de,{modelValue:p.value,"onUpdate:modelValue":k[11]||(k[11]=ce=>p.value=ce),title:A.$t("lang.var.form.title"),direction:"rtl",size:"50%"},{default:O(()=>[T(ee,{model:A.nodeData},{default:O(()=>[T(R,{label:A.$t("lang.var.form.name"),"label-width":To},{default:O(()=>[T(I,{modelValue:a.varName,"onUpdate:modelValue":k[1]||(k[1]=ce=>a.varName=ce),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label"]),T(R,{label:A.$t("lang.var.form.type"),"label-width":To},{default:O(()=>[T(Q,{modelValue:a.varType,"onUpdate:modelValue":k[2]||(k[2]=ce=>a.varType=ce),placeholder:A.$t("lang.var.form.choose1")},{default:O(()=>[(N(),X(De,null,Ot(c,ce=>T(U,{key:ce.label,label:ce.label,value:ce.value,disabled:ce.disabled},null,8,["label","value","disabled"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),T(R,{label:A.$t("lang.var.form.source"),"label-width":To},{default:O(()=>[T(Q,{modelValue:a.varValueSource,"onUpdate:modelValue":k[3]||(k[3]=ce=>a.varValueSource=ce),placeholder:A.$t("lang.var.form.choose2")},{default:O(()=>[(N(),X(De,null,Ot(d,ce=>T(U,{key:ce.label,label:ce.label,value:ce.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a.varValueSource=="Constant"?(N(),ye(R,{key:0,label:"Constant value","label-width":To},{default:O(()=>[T(I,{modelValue:a.varConstantValue,"onUpdate:modelValue":k[4]||(k[4]=ce=>a.varConstantValue=ce),autocomplete:"on"},null,8,["modelValue"])]),_:1})):ve("",!0),a.varValueSource=="ExternalHttp"?(N(),ye(R,{key:1,label:"HTTP API","label-width":To},{default:O(()=>[T(Q,{modelValue:a.varAssociateData,"onUpdate:modelValue":k[5]||(k[5]=ce=>a.varAssociateData=ce),placeholder:"Choose a HTTP API"},{default:O(()=>[(N(!0),X(De,null,Ot(m.value,ce=>(N(),ye(U,{key:ce.id,label:ce.name,value:ce.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),Kce,T(q,{to:{name:"externalHttpApiDetail",params:{robotId:S(l),id:"new"}}},{default:O(()=>[le("Add new HTTP API")]),_:1},8,["to"])]),_:1})):ve("",!0),a.varValueSource=="ExternalHttp"?(N(),ye(R,{key:2,label:"Value expression type","label-width":To},{default:O(()=>[T(Q,{modelValue:a.obtainValueExpressionType,"onUpdate:modelValue":k[6]||(k[6]=ce=>a.obtainValueExpressionType=ce),placeholder:"Value expression type"},{default:O(()=>[(N(),X(De,null,Ot(h,ce=>T(U,{key:ce.label,label:ce.label,value:ce.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):ve("",!0),a.varValueSource=="ExternalHttp"?(N(),ye(R,{key:3,label:"Obtain value expression","label-width":To},{default:O(()=>[T(I,{modelValue:a.obtainValueExpression,"onUpdate:modelValue":k[7]||(k[7]=ce=>a.obtainValueExpression=ce),autocomplete:"on",placeholder:a.obtainValueExpressionType=="JsonPointer"?"/data/book/name":"CSS selector syntax like: h1.foo div#bar"},null,8,["modelValue","placeholder"])]),_:1})):ve("",!0),a.varValueSource=="ExternalHttp"?(N(),ye(R,{key:4,label:"Cache value","label-width":To},{default:O(()=>[Ue(H("input",{type:"checkbox",id:"_cacheEnabled_","onUpdate:modelValue":k[8]||(k[8]=ce=>a.cacheEnabled=ce),checked:a.cacheEnabled},null,8,Yce),[[zi,a.cacheEnabled]]),Jce]),_:1})):ve("",!0),a.varValueSource=="ExternalHttp"?(N(),ye(R,{key:5,label:"","label-width":To},{default:O(()=>[a.cacheEnabled?(N(),X("span",Xce,"After requesting once, the variable value will be stored in the cache and subsequently read from the cache.")):ve("",!0),a.cacheEnabled?ve("",!0):(N(),X("span",Zce,"HTTP API will be requested every time"))]),_:1})):ve("",!0)]),_:1},8,["model"]),H("div",Qce,[T(P,{type:"primary",loading:A.loading,onClick:k[9]||(k[9]=ce=>M())},{default:O(()=>[le(oe(A.$t("lang.common.save")),1)]),_:1},8,["loading"]),T(P,{onClick:k[10]||(k[10]=ce=>_())},{default:O(()=>[le(oe(A.$t("lang.common.cancel")),1)]),_:1})])]),_:1},8,["modelValue","title"])],64)}}},tue={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},nue=H("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8l-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0"},null,-1),rue=[nue];function sue(r,e){return N(),X("svg",tue,[...rue])}const Ei={name:"ep-arrow-right-bold",render:sue},oue={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},iue=H("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1),lue=[iue];function aue(r,e){return N(),X("svg",oue,[...lue])}const Sv={name:"ep-setting",render:aue},cue={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},uue=H("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[H("path",{d:"M3 10c0-3.771 0-5.657 1.172-6.828C5.343 2 7.229 2 11 2h2c3.771 0 5.657 0 6.828 1.172C21 4.343 21 6.229 21 10v4c0 3.771 0 5.657-1.172 6.828C18.657 22 16.771 22 13 22h-2c-3.771 0-5.657 0-6.828-1.172C3 19.657 3 17.771 3 14z"}),H("path",{"stroke-linecap":"round",d:"M8 12h8M8 8h8m-8 8h5"})],-1),due=[uue];function fue(r,e){return N(),X("svg",cue,[...due])}const eN={name:"solar-document-text-linear",render:fue},hue={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"},pue=H("g",{fill:"currentColor","fill-rule":"evenodd"},[H("path",{d:"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5"}),H("path",{d:"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0z"})],-1),gue=[pue];function mue(r,e){return N(),X("svg",hue,[...gue])}const tN={name:"bi-box-arrow-up-right",render:mue},bue={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},vue=H("path",{fill:"currentColor",d:"M13.5 2c0 .444-.193.843-.5 1.118V5h5a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h5V3.118A1.5 1.5 0 1 1 13.5 2M6 7a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-7zm-4 3H0v6h2zm20 0h2v6h-2zM9 14.5a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3m6 0a1.5 1.5 0 1 0 0-3a1.5 1.5 0 0 0 0 3"},null,-1),yue=[vue];function wue(r,e){return N(),X("svg",bue,[...yue])}const Cue={name:"ri-robot-2-line",render:wue},Sue="/assets/outbound-bot-EmsLuWRN.png",xue="/assets/inbound-bot-PJJg_rST.png",Eue="/assets/text-bot-CWb_Poym.png",Mg=r=>(Fd("data-v-5f721b00"),r=r(),Bd(),r),Tue=Mg(()=>H("span",{class:"header"}," Workspace ",-1)),_ue=Mg(()=>H("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},[H("path",{d:"M256 504c137 0 248-111 248-248S393 8 256 8S8 119 8 256s111 248 248 248zm0-448c110.5 0 200 89.5 200 200s-89.5 200-200 200S56 366.5 56 256S145.5 56 256 56zm20 328h-40c-6.6 0-12-5.4-12-12V256h-67c-10.7 0-16-12.9-8.5-20.5l99-99c4.7-4.7 12.3-4.7 17 0l99 99c7.6 7.6 2.2 20.5-8.5 20.5h-67v116c0 6.6-5.4 12-12 12z",fill:"currentColor"})],-1)),Oue={style:{margin:"0",padding:"0"}},Aue=["id"],Mue=Mg(()=>H("a",{href:"https://github.com/dialogflowchatbot/dialogflow/releases"},"Go to download",-1)),kue={style:{"margin-left":"50px"}},Pue=Mg(()=>H("h1",null,null,-1)),Nue={class:"title"},Iue={class:"description"},Lue={class:"title"},Rue={href:"https://dialogflowchatbot.github.io/docs",target:"_blank"},$ue={class:"description"},CE="90px",Due={__name:"Home",setup(r){cn();const e=ps(),n=j(0),s=j(!1),o=j(""),i=St([]),l=j(!1),a=async()=>{s.value=!0;const b=await rt("GET","check-new-version.json",null,null,null);b.status==200?b.data!=null?(o.value=b.data.version,i.splice(0,i.length),sr(b.data.changelog,i),n.value=1):n.value=2:n.value=3,s.value=!1},c=()=>{e.push("/settings")},u=St([]),d=St({robotId:"",robotName:"",robotType:""});nt(async()=>{await f()});async function f(){const b=await rt("GET","robot",null,null,null);b.status==200&&u.splice(0,u.length,...b.data.reverse())}async function h(){(await rt("POST","robot",null,null,d)).status==200&&await f(),l.value=!1}function p(){d.robotId="",d.robotName="",d.robotType="",l.value=!0}function g(b,C){e.push({name:"robotDetail",params:{robotId:b,name:IA(C)}})}const m=b=>b=="OutboundBot"?Sue:b=="InboundBot"?xue:b=="TextBot"?Eue:"",v=b=>b=="OutboundBot"?"Telephone outbound bot":b=="InboundBot"?"Telephone incoming bot":b=="TextBot"?"Text chat bot":"";return(b,C)=>{const y=dt,w=Pn,x=rg,E=ng,_=AG,M=CO,A=Nq,k=IG,P=mA,$=Pt("router-link"),B=Sn,W=lr,I=ei,R=Qo,U=ir,Q=ll;return N(),X(De,null,[T(E,{class:"header-row"},{default:O(()=>[T(x,{span:8},{default:O(()=>[Tue,T(w,{size:"large",loading:s.value,onClick:a},{default:O(()=>[T(y,{size:"large"},{default:O(()=>[_ue]),_:1})]),_:1},8,["loading"]),T(w,{size:"large",onClick:c},{default:O(()=>[T(y,{size:"large"},{default:O(()=>[T(S(Sv))]),_:1})]),_:1})]),_:1})]),_:1}),T(_,{ref:"popover",placement:"right",title:"Changelog",width:300,trigger:"hover"},{reference:O(()=>[Ue(T(w,{class:"m-2",type:"warning",text:""},{default:O(()=>[le("Found new verion: "+oe(o.value),1)]),_:1},512),[[st,n.value==1]])]),default:O(()=>[H("ol",Oue,[(N(!0),X(De,null,Ot(i,(q,ee)=>(N(),X("li",{id:ee,key:ee},oe(q),9,Aue))),128))]),Mue]),_:1},512),Ue(T(M,{title:"You're using the latest verion.",type:"success",onClose:C[0]||(C[0]=q=>n.value=0)},null,512),[[st,n.value==2]]),Ue(T(M,{title:"Failed to query update information, please try again later.",type:"danger",onClose:C[1]||(C[1]=q=>n.value=0)},null,512),[[st,n.value==3]]),H("p",kue,[T(E,null,{default:O(()=>[T(x,{span:12},{default:O(()=>[H("h1",null,[T(y,{size:50},{default:O(()=>[T(S(Cue))]),_:1}),le(" Choose a robot to start "),T(w,{size:"large",onClick:p,type:"success"},{default:O(()=>[le(" Create a new robot ")]),_:1})])]),_:1}),T(x,{span:12},{default:O(()=>[Pue]),_:1})]),_:1}),T(P,{wrap:"",size:"large"},{default:O(()=>[(N(!0),X(De,null,Ot(u,q=>(N(),X("div",{class:"grid-content bg-color-light",key:q.robotId},[T(k,{title:q.robotName,"sub-title":v(q.robotType)},{icon:O(()=>[T(A,{src:m(q.robotType)},null,8,["src"])]),extra:O(()=>[T(w,{type:"primary",onClick:ee=>g(q.robotId,q.robotName)},{default:O(()=>[le("Detail")]),_:2},1032,["onClick"])]),_:2},1032,["title","sub-title"])]))),128))]),_:1}),H("div",Nue,[T(y,{size:30},{default:O(()=>[T(S(Sv))]),_:1}),le(" "+oe(b.$t("lang.guide.title4")),1)]),H("p",null,[T(y,{size:15},{default:O(()=>[T(S(Ei))]),_:1}),T($,{to:"/settings"},{default:O(()=>[le("Global settings")]),_:1}),H("div",Iue,oe(b.$t("lang.guide.desc4")),1)]),H("div",Lue,[T(y,{size:30},{default:O(()=>[T(S(eN))]),_:1}),le(" "+oe(b.$t("lang.guide.title5")),1)]),H("p",null,[T(y,{size:15},{default:O(()=>[T(S(Ei))]),_:1}),H("a",Rue,[le(oe(b.$t("lang.guide.nav5"))+" ",1),T(y,null,{default:O(()=>[T(S(tN))]),_:1})]),H("div",$ue,oe(b.$t("lang.guide.desc5")),1)])]),T(Q,{modelValue:l.value,"onUpdate:modelValue":C[6]||(C[6]=q=>l.value=q),title:"Create a new robot",width:"60%"},{footer:O(()=>[T(w,{type:"primary",loading:b.loading,onClick:C[4]||(C[4]=q=>h())},{default:O(()=>[le(oe(b.$t("lang.common.save")),1)]),_:1},8,["loading"]),T(w,{onClick:C[5]||(C[5]=q=>l.value=!1)},{default:O(()=>[le(oe(b.$t("lang.common.cancel")),1)]),_:1})]),default:O(()=>[T(U,{model:d},{default:O(()=>[T(W,{label:"Name","label-width":CE},{default:O(()=>[T(B,{modelValue:d.robotName,"onUpdate:modelValue":C[2]||(C[2]=q=>d.robotName=q),autocomplete:"off"},null,8,["modelValue"])]),_:1}),T(W,{label:"Type","label-width":CE},{default:O(()=>[T(R,{modelValue:d.robotType,"onUpdate:modelValue":C[3]||(C[3]=q=>d.robotType=q),placeholder:""},{default:O(()=>[T(I,{label:"Text bot",value:"TextBot"}),T(I,{label:"Inbound bot",value:"InboundBot"}),T(I,{label:"Outbound bot",value:"OutboundBot"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}},Vue=Hs(Due,[["__scopeId","data-v-5f721b00"]]),Fue=H("span",{class:"text-large font-600 mr-3"}," External HTTP API list ",-1),Bue={class:"flex items-center"},zue={style:{padding:"10px",border:"1px solid #E6A23C","background-color":"#fdf6ec",margin:"10px"}},jue={__name:"HttpApiList",setup(r){const{t:e,tm:n,rt:s}=cn(),o=Go(),i=ps(),l=o.params.robotId,a=j([]);nt(async()=>{const h=await rt("GET","external/http",{robotId:l},null,null);h&&h.status==200&&(a.value=h.data==null?[]:h.data)});const c=()=>{i.push({name:"robotDetail",params:{robotId:l}})},u=()=>{i.push({name:"externalHttpApiDetail",params:{id:"new"}})},d=(h,p)=>{i.push({name:"externalHttpApiDetail",params:{id:p.id}})},f=(h,p)=>{Vr.confirm("Confirm whether to permanently delete this record?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const g=await rt("DELETE","external/http/"+p.id,{robotId:l},null,null);g&&g.status==200?(tn({showClose:!0,message:"Successfully deleted.",type:"success"}),a.value.splice(h,1)):tn({showClose:!0,message:"Delete failed.",type:"error"})}).catch(()=>{})};return(h,p)=>{const g=Pn,m=mo,v=Pt("router-link"),b=sf,C=rf;return N(),X(De,null,[T(m,{title:S(e)("lang.common.back"),onBack:c},{content:O(()=>[Fue]),extra:O(()=>[H("div",Bue,[T(g,{type:"primary",class:"ml-2",onClick:p[0]||(p[0]=y=>u())},{default:O(()=>[le("Add new external API")]),_:1})])]),_:1},8,["title"]),H("div",zue,[le(" Now you can not only send data to the outside, but also get data from the outside and save it in variables by setting value source to a HTTP API. "),T(v,{to:{name:"variables",params:{robotId:S(l)}}},{default:O(()=>[le("Add new variable")]),_:1},8,["to"])]),T(C,{data:a.value,stripe:"",style:{width:"100%"}},{default:O(()=>[T(b,{prop:"name",label:"HTTP name",width:"450"}),T(b,{prop:"description",label:"Description",width:"500"}),T(b,{fixed:"right",label:S(n)("lang.mainflow.table")[2],width:"270"},{default:O(y=>[T(g,{link:"",type:"primary",size:"small",onClick:w=>d(y.$index,y.row)},{default:O(()=>[le(" Edit ")]),_:2},1032,["onClick"]),le(" | "),T(g,{link:"",type:"primary",size:"small",onClick:w=>f(y.$index,y.row)},{default:O(()=>[le(" Delete ")]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])],64)}}},I0=r=>(Fd("data-v-4fd34b5d"),r=r(),Bd(),r),Hue={class:"mainBody"},Uue=I0(()=>H("span",{class:"text-large font-600 mr-3"}," External HTTP API ",-1)),Wue=I0(()=>H("p",null,null,-1)),que=["checked"],Gue=I0(()=>H("label",{for:"_asyncReq_"},"Asynchronous",-1)),Kue={class:"my-header"},Yue=["id"],Jue={class:"dialog-footer"},Xue={__name:"HttpApiDetail",setup(r){const{t:e,tm:n,rt:s}=cn(),o=Go(),i=ps(),l=o.params.robotId,a=St({id:"",name:"",description:"",protocol:"http://",method:"GET",address:"",timeoutMilliseconds:"1500",postContentType:"UrlEncoded",headers:[],queryParams:[],formData:[],requestBody:"",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/123.0",asyncReq:!1}),c=St({name:"",value:"",valueSource:""}),u=j(!1),d=j(!1),f=j(""),h=j("h"),p=j(0),g=St([]),m=j(""),v=j(),b=o.params.id;nt(async()=>{if(b&&b!="new"){const $=await rt("GET","external/http/"+b,{robotId:l},null,null);$&&$.status==200&&sr($.data,a)}let k=await rt("GET","variable",{robotId:l},null,null);if(k&&k.status==200&&k.data)for(var P in k.data)k.data.hasOwnProperty(P)&&g.push(k.data[P])});const C=()=>{c.name="",c.value="",c.valueSource="Val",p.value=-1;const k=h.value;k=="h"?f.value="Add header parameter":k=="q"?f.value="Add query parameter":k=="f"&&(f.value="Add POST parameter"),u.value=!0},y=()=>{const k=pi(c),P=p.value;P>-1?h.value=="h"?a.headers[P]=k:h.value=="q"?a.queryParams[P]=k:h.value=="f"&&(a.formData[P]=k):h.value=="h"?a.headers.push(k):h.value=="q"?a.queryParams.push(k):h.value=="f"&&a.formData.push(k),u.value=!1},w=k=>{p.value=k,h.value=="h"?sr(a.headers[k],c):h.value=="q"?sr(a.queryParams[k],c):h.value=="f"&&sr(a.formData[k],c),u.value=!0},x=async()=>{a.protocol=a.protocol.replace("://","").toUpperCase();const k=await rt("POST","external/http/"+b,{robotId:l},null,a);k&&k.status==200?(tn({showClose:!0,message:"All data has been saved.",type:"success"}),_()):tn({showClose:!0,message:"Oops, this is something wrong.",type:"error"})},E=()=>{a.requestBody+="`"+m.value+"`",d.value=!1},_=()=>{i.push({name:"externalHttpApis",params:{robotId:l}})},M=(k,P)=>{},A=k=>{k!="POST"&&h.value=="f"&&(h.value="q")};return(k,P)=>{const $=mo,B=Sn,W=lr,I=ei,R=Qo,U=ir,Q=Uy,q=Fy,ee=sf,de=Pn,ce=rf,Te=nY,fe=tA,we=$y,Ee=tY,G=mA,ne=ll;return N(),X("div",Hue,[T($,{title:S(e)("lang.common.back"),onBack:_},{content:O(()=>[Uue]),_:1},8,["title"]),Wue,T(U,{model:a,"label-width":"90px"},{default:O(()=>[T(W,{label:"Api name"},{default:O(()=>[T(B,{modelValue:a.name,"onUpdate:modelValue":P[0]||(P[0]=se=>a.name=se)},null,8,["modelValue"])]),_:1}),T(W,{label:"Description"},{default:O(()=>[T(B,{modelValue:a.description,"onUpdate:modelValue":P[1]||(P[1]=se=>a.description=se),maxlength:"256",placeholder:"Some descriptions of this API","show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),_:1}),T(W,{label:"Method"},{default:O(()=>[T(R,{modelValue:a.method,"onUpdate:modelValue":P[2]||(P[2]=se=>a.method=se),placeholder:"",onChange:A},{default:O(()=>[T(I,{label:"GET",value:"GET"}),T(I,{label:"POST",value:"POST"})]),_:1},8,["modelValue"])]),_:1}),T(W,{label:"Protocol"},{default:O(()=>[T(R,{modelValue:a.protocol,"onUpdate:modelValue":P[3]||(P[3]=se=>a.protocol=se),placeholder:""},{default:O(()=>[T(I,{label:"HTTP",value:"http://"}),T(I,{label:"HTTPS",value:"https://"})]),_:1},8,["modelValue"])]),_:1}),T(W,{label:"Address"},{default:O(()=>[T(B,{modelValue:a.address,"onUpdate:modelValue":P[4]||(P[4]=se=>a.address=se)},{prepend:O(()=>[le(oe(a.method)+" "+oe(a.protocol),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),T(Q,{tag:"b",size:"large"},{default:O(()=>[le("Advanced")]),_:1}),T(U,{model:a,"label-width":"90px"},{default:O(()=>[T(W,{label:"Timed out"},{default:O(()=>[T(q,{modelValue:a.timeoutMilliseconds,"onUpdate:modelValue":P[5]||(P[5]=se=>a.timeoutMilliseconds=se),min:200,max:6e5},null,8,["modelValue"]),le(" milliseconds ")]),_:1}),T(W,{label:"Parameters"},{default:O(()=>[T(Ee,{modelValue:h.value,"onUpdate:modelValue":P[9]||(P[9]=se=>h.value=se),class:"demo-tabs",onTabClick:M},{default:O(()=>[T(Te,{label:"Header",name:"h"},{default:O(()=>[T(ce,{data:a.headers,stripe:"",style:{width:"100%"}},{default:O(()=>[T(ee,{prop:"name",label:"Parameter name",width:"300"}),T(ee,{prop:"value",label:"Parameter value",width:"200"}),T(ee,{fixed:"right",label:S(n)("lang.mainflow.table")[2],width:"270"},{default:O(se=>[T(de,{link:"",type:"primary",size:"small",onClick:me=>w(se.$index)},{default:O(()=>[le(" Edit ")]),_:2},1032,["onClick"]),le(" | "),T(de,{link:"",type:"primary",size:"small",onClick:me=>k.delApi(se.$index,se.row)},{default:O(()=>[le(" Delete ")]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),T(de,{type:"warning",onClick:C},{default:O(()=>[le("+Add header")]),_:1})]),_:1}),T(Te,{label:"Query parameters",name:"q"},{default:O(()=>[T(ce,{data:a.queryParams,stripe:"",style:{width:"100%"}},{default:O(()=>[T(ee,{prop:"name",label:"Parameter name",width:"300"}),T(ee,{prop:"value",label:"Parameter value",width:"200"}),T(ee,{fixed:"right",label:S(n)("lang.mainflow.table")[2],width:"270"},{default:O(se=>[T(de,{link:"",type:"primary",size:"small",onClick:me=>w(se.$index)},{default:O(()=>[le(" Edit ")]),_:2},1032,["onClick"]),le(" | "),T(de,{link:"",type:"primary",size:"small",onClick:me=>k.delApi(se.$index,se.row)},{default:O(()=>[le(" Delete ")]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"]),T(de,{type:"warning",onClick:C},{default:O(()=>[le("+Add query parameter")]),_:1})]),_:1}),a.method=="POST"?(N(),ye(Te,{key:0,label:"Request body",name:"f"},{default:O(()=>[le(" Request body type: "),T(we,{modelValue:a.postContentType,"onUpdate:modelValue":P[6]||(P[6]=se=>a.postContentType=se),class:"ml-4"},{default:O(()=>[T(fe,{label:"UrlEncoded",size:"large"},{default:O(()=>[le("application/x-www-form-urlencoded")]),_:1}),T(fe,{label:"JSON",size:"large"},{default:O(()=>[le("JSON")]),_:1})]),_:1},8,["modelValue"]),a.postContentType=="UrlEncoded"?(N(),ye(ce,{key:0,data:a.formData,stripe:"",style:{width:"100%"}},{default:O(()=>[T(ee,{prop:"name",label:"Parameter name",width:"300"}),T(ee,{prop:"value",label:"Parameter value",width:"200"}),T(ee,{fixed:"right",label:S(n)("lang.mainflow.table")[2],width:"270"},{default:O(se=>[T(de,{link:"",type:"primary",size:"small",onClick:me=>w(se.$index)},{default:O(()=>[le(" Edit ")]),_:2},1032,["onClick"]),le(" | "),T(de,{link:"",type:"primary",size:"small",onClick:me=>k.delApi(se.$index,se.row)},{default:O(()=>[le(" Delete ")]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])):ve("",!0),a.postContentType=="UrlEncoded"?(N(),ye(de,{key:1,type:"warning",onClick:C},{default:O(()=>[le("+Add form data")]),_:1})):ve("",!0),a.postContentType=="JSON"?(N(),ye(B,{key:2,ref_key:"requestBodyRef",ref:v,modelValue:a.requestBody,"onUpdate:modelValue":P[7]||(P[7]=se=>a.requestBody=se),maxlength:"10240",placeholder:"JSON","show-word-limit":"",type:"textarea"},null,8,["modelValue"])):ve("",!0),a.postContentType=="JSON"?(N(),ye(de,{key:3,type:"warning",onClick:P[8]||(P[8]=se=>d.value=!0)},{default:O(()=>[le("+Insert a variable")]),_:1})):ve("",!0)]),_:1})):ve("",!0)]),_:1},8,["modelValue"])]),_:1}),T(W,{label:"User agent"},{default:O(()=>[T(B,{modelValue:a.userAgent,"onUpdate:modelValue":P[10]||(P[10]=se=>a.userAgent=se)},null,8,["modelValue"])]),_:1}),T(W,{label:"Sync/Async","label-width":k.formLabelWidth},{default:O(()=>[Ue(H("input",{type:"checkbox",id:"_asyncReq_","onUpdate:modelValue":P[11]||(P[11]=se=>a.asyncReq=se),checked:a.asyncReq},null,8,que),[[zi,a.asyncReq]]),Gue]),_:1},8,["label-width"]),T(W,null,{default:O(()=>[T(de,{type:"primary",onClick:x},{default:O(()=>[le("Save")]),_:1}),T(de,{type:"info",disabled:""},{default:O(()=>[le("Test (WIP)")]),_:1}),T(de,{onClick:_},{default:O(()=>[le("Cancel")]),_:1})]),_:1})]),_:1},8,["model"]),T(ne,{modelValue:u.value,"onUpdate:modelValue":P[17]||(P[17]=se=>u.value=se),width:"60%"},{header:O(({close:se,titleId:me,titleClass:Pe})=>[H("div",Kue,[H("h4",{id:me,class:Y(Pe)},oe(f.value),11,Yue)])]),footer:O(()=>[T(de,{type:"primary",loading:k.loading,onClick:y},{default:O(()=>[le(oe(k.$t("lang.common.save")),1)]),_:1},8,["loading"]),T(de,{onClick:P[16]||(P[16]=se=>u.value=!1)},{default:O(()=>[le(oe(k.$t("lang.common.cancel")),1)]),_:1})]),default:O(()=>[T(U,{model:c},{default:O(()=>[T(W,{label:"Name","label-width":k.formLabelWidth},{default:O(()=>[T(B,{modelValue:c.name,"onUpdate:modelValue":P[12]||(P[12]=se=>c.name=se),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),T(W,{label:"Value","label-width":k.formLabelWidth},{default:O(()=>[T(G,{size:"10",spacer:"-"},{default:O(()=>[T(R,{modelValue:c.valueSource,"onUpdate:modelValue":P[13]||(P[13]=se=>c.valueSource=se),placeholder:"",style:{width:"150px"}},{default:O(()=>[T(I,{label:"Const value",value:"Val"}),T(I,{label:"From a variable",value:"Var"})]),_:1},8,["modelValue"]),c.valueSource=="Val"?(N(),ye(B,{key:0,modelValue:c.value,"onUpdate:modelValue":P[14]||(P[14]=se=>c.value=se),autocomplete:"off",style:{width:"400px"}},null,8,["modelValue"])):ve("",!0),c.valueSource=="Var"?(N(),ye(R,{key:1,modelValue:m.value,"onUpdate:modelValue":P[15]||(P[15]=se=>m.value=se),placeholder:"Select a varaible",style:{width:"400px"}},{default:O(()=>[(N(!0),X(De,null,Ot(g,se=>(N(),ye(I,{key:se.varName,label:se.varName,value:se.varName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):ve("",!0)]),_:1})]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"]),T(ne,{modelValue:d.value,"onUpdate:modelValue":P[20]||(P[20]=se=>d.value=se),title:"Insert a variable",width:"30%"},{footer:O(()=>[H("span",Jue,[T(de,{type:"primary",onClick:E},{default:O(()=>[le(oe(S(e)("lang.common.insert")),1)]),_:1}),T(de,{onClick:P[19]||(P[19]=se=>d.value=!1)},{default:O(()=>[le(oe(S(e)("lang.common.cancel")),1)]),_:1})])]),default:O(()=>[T(R,{modelValue:m.value,"onUpdate:modelValue":P[18]||(P[18]=se=>m.value=se),class:"m-2",placeholder:"Choose a variable",size:"large"},{default:O(()=>[(N(!0),X(De,null,Ot(g,se=>(N(),ye(I,{key:se.varName,label:se.varName,value:se.varName},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}},Zue=Hs(Xue,[["__scopeId","data-v-4fd34b5d"]]),Que={key:0},ede={__name:"Demos",props:{parentPage:{type:String,default:"home"}},setup(r){const e=r,{t:n,locale:s}=cn(),o=ps();function i(l,a){eJ()?Vr.alert(n("lang.home.demoUnvailableContent"),n("lang.home.demoUnvailableTitle"),{dangerouslyUseHTMLString:!0,confirmButtonText:"OK",callback:c=>{}}):o.push({name:"subflow",params:{id:l,name:a}})}return(l,a)=>{const c=qq;return N(),X("div",null,[le(oe(l.$t("lang.home.demo"))+": ",1),e.parentPage=="home"?(N(),X("ol",Que,[H("li",null,[T(c,{type:"success",onClick:a[0]||(a[0]=u=>i("demo-repay","UmVwYXkgRGVtbw=="))},{default:O(()=>[le(oe(l.$t("lang.home.demo1")),1)]),_:1})]),H("li",null,[T(c,{type:"success",onClick:a[1]||(a[1]=u=>i("demo-collect","SW5mb3JtYXRpb24gQ29sbGVjdGlvbiBEZW1v"))},{default:O(()=>[le(oe(l.$t("lang.home.demo2")),1)]),_:1})]),H("li",null,[T(c,{type:"success",onClick:a[2]||(a[2]=u=>i("demo-notify","T25lIFNlbnRlbmNlIE5vdGlmaWNhdGlvbiBEZW1v"))},{default:O(()=>[le(oe(l.$t("lang.home.demo3")),1)]),_:1})])])):(N(),X(De,{key:1},[T(c,{type:"success",onClick:a[3]||(a[3]=u=>i("demo-repay","UmVwYXkgRGVtbw=="))},{default:O(()=>[le(oe(l.$t("lang.home.demo1")),1)]),_:1}),le(" | "),T(c,{type:"success",onClick:a[4]||(a[4]=u=>i("demo-collect","SW5mb3JtYXRpb24gQ29sbGVjdGlvbiBEZW1v"))},{default:O(()=>[le(oe(l.$t("lang.home.demo2")),1)]),_:1}),le(" | "),T(c,{type:"success",onClick:a[5]||(a[5]=u=>i("demo-notify","T25lIFNlbnRlbmNlIE5vdGlmaWNhdGlvbiBEZW1v"))},{default:O(()=>[le(oe(l.$t("lang.home.demo3")),1)]),_:1})],64))])}}},tde={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"},nde=H("g",{fill:"currentColor"},[H("path",{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333L6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}),H("path",{d:"M5 6a1 1 0 1 1-2 0a1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0a1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0a1 1 0 0 1 2 0"})],-1),rde=[nde];function sde(r,e){return N(),X("svg",tde,[...rde])}const ode={name:"bi-chat-square-dots",render:sde},ide={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},lde=H("path",{fill:"currentColor",d:"M10.614 17.796a.946.946 0 0 1-1.744 0l-.877-2.01a7.742 7.742 0 0 0-3.94-3.992l-2.416-1.072c-.768-.341-.768-1.458 0-1.8l2.34-1.038a7.747 7.747 0 0 0 3.997-4.125l.89-2.142a.946.946 0 0 1 1.757 0l.89 2.142a7.747 7.747 0 0 0 3.997 4.125l2.34 1.039c.768.34.768 1.458 0 1.799l-2.415 1.072a7.742 7.742 0 0 0-3.941 3.991zM4.54 9.822c2.285 1.015 4.144 2.683 5.202 4.978c1.059-2.295 2.917-3.963 5.203-4.978c-2.313-1.026-4.177-2.776-5.203-5.111c-1.025 2.335-2.89 4.085-5.202 5.111M19.4 22.69l.247-.566a4.365 4.365 0 0 1 2.221-2.25l.76-.339a.53.53 0 0 0 0-.963l-.717-.319a4.368 4.368 0 0 1-2.253-2.326l-.254-.611a.507.507 0 0 0-.942 0l-.254.61a4.368 4.368 0 0 1-2.253 2.327l-.718.32a.53.53 0 0 0 0 .962l.76.338a4.365 4.365 0 0 1 2.222 2.251l.247.566c.18.414.754.414.934 0m-1.026-3.643l.562-.559l.55.559l-.55.543z"},null,-1),ade=[lde];function cde(r,e){return N(),X("svg",ide,[...ade])}const ude={name:"ri-bard-line",render:cde},dde={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fde=H("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 1.25a.75.75 0 0 1 .75.75v10.973l1.68-1.961a.75.75 0 1 1 1.14.976l-3 3.5a.75.75 0 0 1-1.14 0l-3-3.5a.75.75 0 1 1 1.14-.976l1.68 1.96V2a.75.75 0 0 1 .75-.75M6.996 8.252a.75.75 0 0 1 .008 1.5c-1.093.006-1.868.034-2.457.142c-.566.105-.895.272-1.138.515c-.277.277-.457.666-.556 1.4c-.101.755-.103 1.756-.103 3.191v1c0 1.436.002 2.437.103 3.192c.099.734.28 1.122.556 1.4c.277.276.665.456 1.4.555c.754.102 1.756.103 3.191.103h8c1.435 0 2.436-.001 3.192-.103c.734-.099 1.122-.279 1.399-.556c.277-.277.457-.665.556-1.399c.101-.755.103-1.756.103-3.192v-1c0-1.435-.002-2.436-.103-3.192c-.099-.733-.28-1.122-.556-1.399c-.244-.243-.572-.41-1.138-.515c-.589-.108-1.364-.136-2.457-.142a.75.75 0 1 1 .008-1.5c1.082.006 1.983.032 2.72.167c.758.14 1.403.405 1.928.93c.602.601.86 1.36.982 2.26c.116.866.116 1.969.116 3.336v1.11c0 1.368 0 2.47-.116 3.337c-.122.9-.38 1.658-.982 2.26c-.602.602-1.36.86-2.26.982c-.867.116-1.97.116-3.337.116h-8.11c-1.367 0-2.47 0-3.337-.116c-.9-.121-1.658-.38-2.26-.982c-.602-.602-.86-1.36-.981-2.26c-.117-.867-.117-1.97-.117-3.337v-1.11c0-1.367 0-2.47.117-3.337c.12-.9.38-1.658.981-2.26c.525-.524 1.17-.79 1.928-.929c.737-.135 1.638-.161 2.72-.167","clip-rule":"evenodd"},null,-1),hde=[fde];function pde(r,e){return N(),X("svg",dde,[...hde])}const gde={name:"solar-download-outline",render:pde},mde={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},bde=H("g",{fill:"none"},[H("path",{stroke:"currentColor","stroke-width":"1.5",d:"M2 5.257C2 3.458 3.567 2 5.5 2S9 3.458 9 5.257C9 7.042 7.883 9.125 6.14 9.87a1.638 1.638 0 0 1-1.28 0C3.117 9.125 2 7.042 2 5.257Zm13 12C15 15.458 16.567 14 18.5 14s3.5 1.458 3.5 3.257c0 1.785-1.117 3.868-2.86 4.613a1.638 1.638 0 0 1-1.28 0c-1.743-.745-2.86-2.828-2.86-4.613Z"}),H("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.5 17.5h.009M5.49 5.5h.01"}),H("path",{fill:"currentColor",d:"M12 4.25a.75.75 0 0 0 0 1.5zM12 19l.53.53a.75.75 0 0 0 0-1.06zm5.206-10.313l.402.633zM6.795 15.313l.402.632zm4.236 1.657a.75.75 0 1 0-1.061 1.06zm-1.061 3a.75.75 0 1 0 1.06 1.06zm6.162-15.72H12v1.5h4.132zM12 18.25H7.868v1.5H12zm4.803-10.195L6.392 14.68l.805 1.265L17.61 9.32zM12.53 18.47l-1.5-1.5l-1.06 1.06l1.5 1.5zm-1.06 0l-1.5 1.5l1.06 1.06l1.5-1.5zm-3.602-.22c-1.25 0-1.726-1.633-.67-2.305l-.806-1.265c-2.321 1.477-1.275 5.07 1.476 5.07zm8.264-12.5c1.25 0 1.726 1.633.671 2.305l.805 1.265c2.322-1.477 1.275-5.07-1.476-5.07z"})],-1),vde=[bde];function yde(r,e){return N(),X("svg",mde,[...vde])}const wde={name:"solar-routing-2-linear",render:yde},kg=r=>(Fd("data-v-0ba8fb96"),r=r(),Bd(),r),Cde=kg(()=>H("span",{class:"text-large font-600 mr-3"}," Robot detail ",-1)),Sde={class:"header"},xde={style:{"margin-left":"50px"}},Ede={class:"title"},Tde={class:"description"},_de={class:"title"},Ode={class:"description"},Ade=kg(()=>H("br",null,null,-1)),Mde={class:"title"},kde={class:"description"},Pde={class:"title"},Nde=kg(()=>H("div",{class:"description"},"By using this function, you can send data to external URLs and receive response.",-1)),Ide={class:"title"},Lde=kg(()=>H("div",{class:"description"},"Change maximum session idle time, Embedding provider and Email STMP information.",-1)),Rde={class:"title"},$de={href:"https://dialogflowchatbot.github.io/docs",target:"_blank"},Dde={class:"description"},Vde={class:"dialog-footer"},Fde="guide",Bde={__name:"RobotDetail",setup(r){cn();const e=Go(),n=ps(),s=e.params.robotId;let o="";const i=St({robotId:"",robotName:"",robotType:""}),l=j(!1),a=()=>{n.push("/")};nt(async()=>{const d=await rt("GET","robot/detail",{robotId:s},null,null);d.status==200&&d.data!=null?(sr(d.data,i),o=i.robotName,tJ(d.data.robotId,d.data.robotType)):tn.error("Can NOT find robot information by robotId.")});async function c(){const d=await rt("POST","robot",null,null,i);d.status==200?tn.success("Changed successfully."):tn.error(d.err.message)}async function u(){Vr.confirm("Do you confirm that delete this robot and its all data?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const d=await rt("DELETE","robot",{robotId:s},null,null);d.status==200?a():tn.error(d.err.message)}).catch(()=>{})}return(d,f)=>{const h=mo,p=Pn,g=rg,m=ng,v=dt,b=Pt("router-link"),C=Sn,y=lr,w=ir,x=ll;return N(),X(De,null,[T(h,{title:"Robots list",onBack:a},{content:O(()=>[Cde]),_:1}),T(m,{class:"header-row"},{default:O(()=>[T(g,{span:18},{default:O(()=>[H("span",Sde,oe(i.robotName),1),T(p,{type:"primary",text:"",onClick:f[0]||(f[0]=E=>{l.value=!0})},{default:O(()=>[le(" Change robot name ")]),_:1})]),_:1}),T(g,{span:3},{default:O(()=>[T(p,{type:"danger",onClick:u},{default:O(()=>[le(" Delete this robot ")]),_:1})]),_:1})]),_:1}),H("p",xde,[H("div",Ede,[T(v,{size:30},{default:O(()=>[T(S(ode))]),_:1}),le(oe(d.$t("lang.guide.title1")),1)]),H("p",null,[T(v,{size:15},{default:O(()=>[T(S(Ei))]),_:1}),T(b,{to:{name:"mainflows",params:{robotId:S(s)}}},{default:O(()=>[le(oe(d.$t("lang.guide.nav1")),1)]),_:1},8,["to"]),H("div",Tde,[T(ede,{parentPage:Fde})])]),H("div",_de,[T(v,{size:30},{default:O(()=>[T(S(ude))]),_:1}),le(" "+oe(d.$t("lang.guide.title2")),1)]),H("p",null,[T(v,{size:15},{default:O(()=>[T(S(Ei))]),_:1}),T(b,{to:{name:"intents",params:{robotId:S(s)}}},{default:O(()=>[le(oe(d.$t("lang.guide.nav2")),1)]),_:1},8,["to"]),H("div",Ode,[le(oe(d.$t("lang.guide.desc2")),1),Ade,le(` We have built-in "Positive" and "Negative" intentions. If that's not enough, you can add your own `)])]),H("div",Mde,[T(v,{size:30},{default:O(()=>[T(S(gde))]),_:1}),le(" "+oe(d.$t("lang.guide.title3")),1)]),H("p",null,[T(v,{size:15},{default:O(()=>[T(S(Ei))]),_:1}),T(b,{to:{name:"variables",params:{robotId:S(s)}}},{default:O(()=>[le(oe(d.$t("lang.guide.nav3")),1)]),_:1},8,["to"]),H("div",kde,oe(d.$t("lang.guide.desc3")),1)]),H("div",Pde,[T(v,{size:30},{default:O(()=>[T(S(wde))]),_:1}),le(" External APIs call ")]),H("p",null,[T(v,{size:15},{default:O(()=>[T(S(Ei))]),_:1}),T(b,{to:{name:"externalHttpApis",params:{robotId:S(s)}}},{default:O(()=>[le("External HTTP API list")]),_:1},8,["to"]),Nde]),H("div",Ide,[T(v,{size:30},{default:O(()=>[T(S(Sv))]),_:1}),le(" "+oe(d.$t("lang.guide.title4")),1)]),H("p",null,[T(v,{size:15},{default:O(()=>[T(S(Ei))]),_:1}),T(b,{to:{name:"settings",params:{robotId:S(s)}}},{default:O(()=>[le(oe(d.$t("lang.guide.nav4")),1)]),_:1},8,["to"]),Lde]),H("div",Rde,[T(v,{size:30},{default:O(()=>[T(S(eN))]),_:1}),le(" "+oe(d.$t("lang.guide.title5")),1)]),H("p",null,[T(v,{size:15},{default:O(()=>[T(S(Ei))]),_:1}),H("a",$de,[le(oe(d.$t("lang.guide.nav5"))+" ",1),T(v,null,{default:O(()=>[T(S(tN))]),_:1})]),H("div",Dde,oe(d.$t("lang.guide.desc5")),1)])]),T(x,{modelValue:l.value,"onUpdate:modelValue":f[4]||(f[4]=E=>l.value=E),title:"Change robot name"},{footer:O(()=>[H("span",Vde,[T(p,{type:"primary",onClick:f[2]||(f[2]=E=>{l.value=!1,c()})},{default:O(()=>[le(oe(d.$t("lang.common.save")),1)]),_:1}),T(p,{onClick:f[3]||(f[3]=E=>{i.robotName=S(o),l.value=!1})},{default:O(()=>[le(oe(d.$t("lang.common.cancel")),1)]),_:1})])]),default:O(()=>[T(w,{model:d.form},{default:O(()=>[T(y,{label:"Name","label-width":d.formLabelWidth},{default:O(()=>[T(C,{modelValue:i.robotName,"onUpdate:modelValue":f[1]||(f[1]=E=>i.robotName=E),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}},zde=Hs(Bde,[["__scopeId","data-v-0ba8fb96"]]),jde=[{path:"/",component:Vue},{path:"/demo/:demo",component:wE},{path:"/mainflows/:robotId",name:"mainflows",component:mJ},{path:"/subflow/:robotId/:id/:name",name:"subflow",component:wE,props:!0},{path:"/settings",component:lJ},{path:"/settings/:robotId",name:"settings",component:fJ},{path:"/robot/:robotId",name:"robotDetail",component:zde},{path:"/intents/:robotId",name:"intents",component:Hce},{path:"/intent/detail",component:Wce},{path:"/variables/:robotId",name:"variables",component:eue},{path:"/external/httpApis/:robotId",name:"externalHttpApis",component:jue},{path:"/external/httpApi/:robotId/:id",name:"externalHttpApiDetail",component:Zue}],Hde=DR({history:fR(),routes:jde,scrollBehavior(r,e,n){return{top:0}}}),L0=Gv(j3);L0.use(Hde);L0.use(z3);L0.mount("#app")});export default Ude();
